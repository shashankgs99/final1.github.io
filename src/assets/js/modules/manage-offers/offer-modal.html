<md-dialog flex-xs=100 flex="55">
        <form ng-cloak>
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h2>Create Offer</h2>
                    <span flex></span>
                    <md-button class="md-icon-button" ng-click="cancel()">
                        <md-icon aria-label="Close dialog">clear</md-icon>
                    </md-button>
                </div>
            </md-toolbar>
            <md-dialog-content>
                <div class="md-dialog-content" class="md-margin md-padding">
                    <div layout="row" class="ml-padding-t-16">
                        <div layout-margin flex>
                            <md-input-container class="md-block">
                                <label>Supplier Offer Number</label>
                                <input type="text" ng-model="offer.supplier_offer_number"/>
                            </md-input-container>
                        </div>
                        <div layout-margin flex>
                                <md-input-container class="md-block">
                                    <label>Validity</label>
                                    <md-datepicker type="date" layout="row" name="validity" id="validity" ng-model="offer.expiry_date"></md-datepicker>
                                </md-input-container>
                        </div>
                    </div>
                    <div layout="row" class="ml-padding-t-16">
                        <div layout-margin flex>
                            <label>Offer Details
                                <i class="fa fa-info-circle">
                                    <md-tooltip md-direction="right">This information will be seen in the body of the email sent to buyer.
                                    </md-tooltip>
                                </i>
                            </label><br><br>
                            <textarea ui-tinymce="tinymceOptions" ng-model="tinymceModel" ng-model="offer.description" id="mytextarea"></textarea>
                        </div>
                    </div>
                     <div layout="row" class="ml-padding-t-16" ng-if="mtoRecords.length">
                            <div layout-margin flex>
                                 <label>MTO List</label><br>
                                 <div id="mto-offer-grid" ui-grid="uiGridOptions" class="grid" ui-grid-edit></div>
                            </div>
                     </div>
                     <div layout="row" class="ml-padding-t-16">
                            <div layout-margin flex ng-if="offer.offer_state==='Offer Sent'" >
                                    <md-input-container class="md-block">
                                        <label>Revision Notes
                                            <i  class="fa fa-info-circle">
                                                <md-tooltip md-direction="right">Add notes for revising the offer. This info will help for traceability in
                                                    future</md-tooltip>
                                            </i>
                                        </label>
                                        <textarea id="revision-notes" ng-model="offer.revision_notes" rows="5">
                                            </textarea>
                                    </md-input-container>
                            </div>
                            <div layout-margin flex ng-if="offer.offer_state==='Offer Created'">
                                    <md-input-container class="md-block">
                                        <label>Edit Notes
                                            <i class="fa fa-info-circle">
                                                <md-tooltip md-direction="right">Add notes for editing the offer. This info will help for maintaining edit
                                                    history</md-tooltip>
                                            </i>
                                        </label>
                                        <textarea id="edit-notes" ng-model="offer.edit_notes" rows="5">
                                            </textarea>
                                    </md-input-container>
                            </div>
                     </div>
                     <div layout="row" class="ml-padding-t-16">
                            <div layout-margin flex>
                                <label>Remarks
                                    <i class="fa fa-info-circle">
                                        <md-tooltip md-direction="right">Eg. Technical offer only, Alternate offer, etc</md-tooltip>
                                    </i></label><br>
                                <md-input-container class="md-block">
                                    <textarea ng-model="offer.remarks" rows="5"></textarea>
                                </md-input-container>
                            </div>
                     </div>
                     <div layout="row" class="ml-padding-t-16">
                            <div layout-margin flex>
                                <label class="label-l">Attachments
                                    <i class="fa fa-plus-square-o fa-lg offer-dialog-att1" aria-hidden="true"
                                        title="Add Attachments" ng-click="AddAttachments()"></i>
                                </label>
                            </div>
                     </div>
                     <div ng-repeat="file in fileAttachments">
                            <div layout="row" class="ml-padding-t-16">
                                    <div layout-margin flex>
                                        <label class="label-l" for="addFile">Add File (PDF, JPEG, PNG, DOCS)</label><br>
                                        <input class="adjust-mto-fileupload" type="file" placeholder="Choose CSV file to import data" valid-file
                                            upload="uploadAttachments(file,$index)" />
                                    </div>
                                    <div layout-margin flex>
                                        <i class="fa fa-times-circle icon-cog remove-icon-css margin-8" aria-hidden="true"
                                            title="Remove" ng-model="remove"
                                            ng-click="removeAttachment(fileAttachments,$index)"></i>
                                    </div>
                                    <div layout-margin flex></div>
                             </div>
                     </div>
                    <div layout="row" class="ml-padding-t-16">
                        <p class="" ng-repeat="file in offerAttachments">
                            {[{file.fileName}]}
                            <i class="fa fa-times-circle icon-cog remove-icon-css margin-l-5"
                                ng-click="removeAttachments(offerAttachments, $index)" title="Delete file"></i>
                        </p>
                    </div>
                    <div layout="row" class="ml-padding-t-16"></div>
                    <div layout="row" class="ml-padding-t-16"></div>
                </div>
            </md-dialog-content>
            <md-dialog-actions layout="row">
                    <md-button ng-click="cancel()">
                        Cancel
                    </md-button>
                    <md-button  ng-if="offer.offer_state==='Offer Created'|| !offer.offer_state" ng-click="save(offer,customerForm.$valid)">
                        Save
                    </md-button>
                    <md-button class="button4" ng-if="offer.offer_state==='Offer Created'|| !offer.offer_state" ng-click="save(offer,'saveandSend')">
                        Save & Send
                    </md-button>
                    <md-button class="button4" ng-if="offer.offer_state==='Offer Sent'"  ng-click="saveNewVersion(offer,customerForm.$valid)">
                        Save as new version
                    </md-button>
                    <md-button class="button4" ng-if="offer.offer_state==='Offer Sent'"  ng-click="saveNewVersion(offer,'saveandSend')">
                        Save as new revision & Send
                    </md-button>
            </md-dialog-actions>
        </form>
    </md-dialog>
   