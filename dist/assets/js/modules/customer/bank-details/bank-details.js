"use strict";!function(){var app=angular.module("app");app.controller("BankController",["$scope","$window","$log","$state","$http","$mdDialog","$dialogScope","s3Service","Notification","dateService",function($scope,$log,$window,$state,$http,$mdDialog,$dialogScope,s3Service,Notification,dateService){$dialogScope.account&&($scope.bank=$dialogScope.account),$scope.SaveBank=function(data){return data.beneficiary_name?data.account_number?data.bank_name?($dialogScope.companyId?(data.company=$dialogScope.companyId,!data.customer&&data.customer||delete data.customer):(data.customer=$dialogScope.customerId,!data.company&&data.company||delete data.company),data.id&&(data.content="modified"),"Add"==$dialogScope.type&&$mdDialog.hide(data),data&&"Modification"==$dialogScope.type&&(data.type="Modification",$mdDialog.hide(data)),void(data&&"Edit"==$dialogScope.type&&(data.type="Edit",$mdDialog.hide(data)))):void Notification.error({message:"Please enter bank name",positionX:"right",positionY:"top"}):void Notification.error({message:"Please enter account number",positionX:"right",positionY:"top"}):void Notification.error({message:"please enter benificiary name",positionX:"right",positionY:"top"})},$scope.cancel=function(){$mdDialog.cancel()},$scope.uploadBankUrl=function(file,details){var id;id=$dialogScope.companyId?$dialogScope.companyId:$dialogScope.customerId;var path="company/"+id+"/bankDetails";s3Service.uploadFile(path,file,function(url){details.url=url,Notification.success({message:"Successfully uploaded file",positionX:"right",positionY:"top"})})}}])}();