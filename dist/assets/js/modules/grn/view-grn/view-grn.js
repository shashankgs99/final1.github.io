"use strict";!function(){angular.module("app").controller("layout.standard.grnController",["$scope","$window","$log","$state","Notification","$http","dateService","$stateParams","$mdDialog","$q","POService",function($scope,$window,$log,$state,Notification,$http,dateService,$stateParams,$mdDialog,$q,POService){$scope.showLoader=!0,POService.getOneGRN($stateParams.grnId).then(function(res){$scope.grnData=res.data}),POService.getGRNItems({grnId:$stateParams.grnId}).then(function(res){$scope.grnItems=res.data.results,$scope.grnGridOptions.data=res.data.results,$scope.showLoader=!1,$scope.grnGridOptions.data=$scope.grnGridOptions.data.map(function(item,$index){return item.displayId=item.po_item.item_number.split("-").pop().split("_").pop(),item})}),$scope.grnGridOptions={enableCellEditOnFocus:!0,enableColumnResizing:!0,enableFiltering:!0,enableGridMenu:!0,showGridFooter:!0,showColumnFooter:!0,fastWatch:!0,columnDefs:[{name:"displayId",displayName:"#",width:75,pinnedLeft:!0,enableCellEdit:!1,enableSorting:!1},{field:"po_item.title",displayName:"Title",width:150,pinnedLeft:!0,enableCellEdit:!1,enableSorting:!1},{field:"po_item.description",displayName:"Description",width:200,pinnedLeft:!0,enableCellEdit:!1,enableSorting:!1},{field:"po_item.selected_quantity",displayName:"Quantity",width:100,pinnedLeft:!0,enableSorting:!0,enableCellEdit:!1,visible:!$scope.reverseGrnData},{field:"quantity_received",displayName:"Received",width:100,pinnedLeft:!0,enableSorting:!0,enableCellEdit:!1},{field:"reversed_quantity",displayName:"Quantity Reversed",width:100,pinnedLeft:!0,enableSorting:!0,enableCellEdit:!1,visible:$scope.reverseGrnData},{field:"po_item.unit_measure",displayName:"Unit Of Measure",width:100,pinnedLeft:!0,enableCellEdit:!1},{field:"batch",displayName:"Batch",width:100,pinnedLeft:!0,enableCellEdit:!1},{field:"serial",displayName:"Serial",width:100,pinnedLeft:!0,enableCellEdit:!1},{field:"manufacturer",displayName:"Manufacturer",width:125,pinnedLeft:!0,enableCellEdit:!1},{field:"production_date",displayName:"Production Date",width:125,pinnedLeft:!0,enableCellEdit:!1},{field:"expiry_date",displayName:"Expiry Date",width:100,pinnedLeft:!0,enableCellEdit:!1},{field:"delivery_date",displayName:"Delivery Date",width:125,pinnedLeft:!0,enableCellEdit:!1},{field:"yard_receipt_date",displayName:"Yard Receipt Date",width:125,pinnedLeft:!0,enableCellEdit:!1}]},$scope.cancel=function(){$state.go("buyerDashboard.grn.list")}}])}();