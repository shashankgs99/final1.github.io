
<section class="inventory-summary-section s_font" >
  <div class="col-md-12 page-title">
    <div class="container">
      <div class="navigation-header">
        <div class="row align-center align-middle">
          <div class="column center">
            <a href="/companies/list" target="_self">
              <p>Directory</p>
            </a>
          </div>
          <div class="column center" ng-class='{active: (params=== undefined)}'>
            <a href="/inventory/list/category" target="_self">
              <p>Stock & Inventory</p>
            </a>
          </div>
          <div class="column center" ng-class='{active: (params== "true")}'>
            <a href="/rental/list/category" target="_self">
              <p>Rental</p>
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="clear-fix"></div>
  </div>
  <div class="clear-fix"></div>
  <div class="container">
      <div class="row align-center align-middle">
          <div class="column center"></div>
          <div class="column center"><div class="search position-relative full-width" align="center">
              <input type="text"
               class="algolia-search"
               placeholder="What are you looking for?">
              <button type="submit" 
                class="searchbar">
                <i class="fa fa-search"></i>
             </button>
           </div></div>
          <div class="column center"></div>

      </div>
    <div ng-if="categoryDataLoaded" ng-cloak class="row expanded small-up-3 ng-cloak">
      <!-- ng-href="/inventory/list/category/{[{c.id}]}" -->
      <a ng-click="openResults(c[0].parent_category)"
        target="_self" class="col-md-4 col-xs-12 col-sm-6 padding-15 no-padding-xs center margin-bottom-2" ng-repeat="c in categories">
        <div class="card-container parent-img">
          <!-- Parent Category Image Thumbanail -->
          <div class="thumbnail margin-top-dot5">
            <img ng-src="{[{c[0].image?c[0].image:'/assets/img/sample-pro.jpg'}]}" alt="{[{c[0].image?c[0].image.split('/').pop():'/assets/img/sample-pro.jpg'}]}">
          </div>
          <p class="large-font primary-color single-line" ng-bind="::c[0].parent_category"></p>
           <!-- Border Line -->
	        <div class="primary-line margin-top-dot5 margin-bottom-dot5 width-100p-xs opacity-0.2"></div>
          <!-- Sub Categories Section -->
          <!-- This depends on Parent Category c -->
          <p class="dark-color margin-bottom-dot5">Sub-Categories</p>
          <div class="m-h-80px">
            <div class="row medium-up-2">
              <div ng-click="openResults(c[0].parent_category,category.sub_category)" 
                class="column margin-bottom-dot5" 
                ng-repeat="category in c | limitTo:6 | orderBy:'-id'">
                <button ng-show="category.sub_category" ng-bind="category.sub_category" class="small-font single-line filter"></button>
              </div>              
            </div>
            <div ng-if="c.length>6">
              <p class="margin-top-dot5">and <span class="bold" ng-bind="c.length-6" ></span> more sub-categories</p>
            </div>
          </div>
          <div class="primary-line margin-top-dot5 margin-bottom-dot5 width-100p-xs opacity-0.2"></div>
          <p class="dark-color margin-bottom-dot5 " >Current Availability</p>
          <div ng-if="!c[0].inventories">
            <div class="callout alert">Calculating...</div>
          </div>
          <div ng-if="!c[0].inventories.length && c[0].inventoriesLoaded">
            None
          </div>
          <div ng-if="c[0].inventories">
            <div class="row align-center" ng-init="::filtered_inventories = (c[0].inventories | removeWith: {stock_or_inventory:''})">
            <div class="column small-12 margin-bottom-dot5" ng-repeat="(key,value) in filtered_inventories | groupBy: 'stock_or_inventory'" >
                <p class="small-font single-line sub-category">
                  <span>{[{key!='null'?key:'Others'}]}</span>
                  <span class="bold category-title" ng-bind="::value.length"></span>
                  titles
                </p>
              </div>
            </div>
          </div>
        </div>
      </a>
    </div>
  </div>
</section>