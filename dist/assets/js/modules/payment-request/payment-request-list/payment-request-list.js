"use strict";!function(){angular.module("app").controller("layout.standard.PRListController",["$scope","$window","$modal","$log","$state","Notification","POService","$http","s3Service","$stateParams","$mdDialog","$q",function($scope,$window,$modal,$log,$state,Notification,POService,$http,s3Service,$stateParams,$mdDialog,$q){function loadPaymentRequestList(data){$scope.current_user.data&&$scope.current_user.data.company&&(data.company=$scope.current_user.data.company.id,POService.getPaymentRequest(data).then(function(resp){$scope.paymentList=resp.data.results,$scope.showLoader=!1,$scope.paymentList=$scope.paymentList.map(function(item){var total=0;return item.payment_request.length&&item.payment_request.map(function(record){total=total?Number(record.invoice_value)+total:Number(record.invoice_value)}),item.total_price=total,item})}))}loadPaymentRequestList({page_size:10,page:1}),$scope.currentPage=1,$scope.maxSize=10,$scope.iminList=[],$scope.showLoader=!0,$scope.$on("PaymentRequestFilters",function(event,data){data&&loadPaymentRequestList(data)}),$scope.setPage=function(pageNo){$scope.showLoader=!0,$scope.currentPage=pageNo,loadPaymentRequestList({page_size:10,page:pageNo})},$scope.ViewPR=function(data){$state.go("buyerDashboard.paymentRequest.viewPR",{PRId:data.id})}}])}();