<script type="text/ng-template" id="viewProductDetailsPopup.html">
    <div class="col-md-12 modal-container">
        <div class="col-md-12 modal-box">
            <div class="col-md-12 modal-title">
                <h4 class="margin-0">{[{productItem.title}]} <br >
                    <sub class="font-size-14">{[{productItem.category_name}]} {[{productItem.sub_category?' > '+productItem.sub_category:''}]} {[{productItem.sub_sub_category?' > '+productItem.sub_sub_category:''}]} {[{productItem.sub_sub_sub_category?' > '+productItem.sub_sub_sub_category:''}]}</sub> </h4>
            </div>
            <div class="clear-fix"></div>
            <div class="modal-body" ng-click="viewDetails(productItem)">
                    <div class="modal-img">
                    <div class="modal-img-bg padding-15">
                        <div class="col-md-12">
                            <div class="col-md-5 col-xs-12">
                                <div class="popup-pic">
                                    <div class="col-md-12" ng-if="!productItem.product_images.length">
                                        <p class="color-red text-align-center"><i class="fa fa-info-circle"></i> There are no images to view</p>
                                    </div>
                                    <div class="orbit" ng-if="productItem.product_images.length">
                                        <div class="orbit-wrapper align-center">
                                            <div class="orbit-controls">
                                                <span class="orbit-previous"></span>
                                                <span class="orbit-next"></span>
                                            </div>
                                            <ul class="orbit-container h-auto">
                                                <li class="orbit-slide is-active" 
                                                    ng-click="openNested('large', productItem, 'gallery', $index)" 
                                                    ng-repeat="sliderImage in productItem.product_images track by $index">
                                                    <figure class="orbit-figure">
                                                        <img ng-src="{[{sliderImage.s3_url.includes('.pdf') || sliderImage.s3_url.includes('.csv')?'assets/img/sample-pro.jpg':sliderImage.s3_url}]}">
                                                        <figcaption class="orbit-caption">
                                                                {[{sliderImage.title}]}
                                                        </figcaption>
                                                    </figure>
                                                </li>
                                            </ul>
                                        </div>
                                        <!-- <nav class="orbit-bullets"></nav> -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-7 padding-l-r-15 col-xs-12 no-padding-xs">
                                <div class="modal-row">
                                    <div class="col-md-12">
                                        <label for="">Description </label>
                                    </div>
                                    <div class="col-md-12">
                                        <div description-content 
                                             class="description-content col-md-12" 
                                             ng-class="{descriptionMore: anchorSettings.readMoreText}">
                                                <p ng-bind="productItem.description?productItem.description:'NA'"></p>
                                        </div>
                                        <div ng-if="anchorSettings.showAnchor" class="col-md-12">
                                            <a ng-click="fullWidth()">{[{anchorSettings.readMoreText?'+ Read more':'- Read less'}]}</a>
                                        </div>
                                    </div>
                                    <div class="clear-fix"></div>
                                </div>
                                <div class="clear-fix"></div>
                            </div>
                            <div class="clear-fix"></div>
                        </div>
                        <div class="col-md-12">
                            <div class="modal-row">
                                <div class="col-md-6 col-xs-12">
                                    <div class="col-md-4">
                                        <label for="">Material / Grade</label>
                                    </div>
                                    <div class="col-md-8">
                                        <p>{[{productItem.material?productItem.material:'NA'}]} / {[{productItem.grade?productItem.grade:'NA'}]}</p>
                                    </div>
                                </div>
                                <div class="col-md-6 col-xs-12">
                                    <div class="col-md-4">
                                        <label for="">Standard</label>
                                    </div>
                                    <div class="col-md-8">
                                        <p ng-bind="productItem.standard?productItem.standard:'NA'">Standard name</p>
                                    </div>
                                    <div class="clear-fix"></div>
                                </div>
                                <div class="clear-fix"></div>
                            </div>

                            <div class="modal-row">
                                <div class="col-md-6">
                                    <div class="col-md-4">
                                        <label for="">Supplier</label>
                                    </div>
                                    <div class="col-md-8">
                                        <p ng-if="productItem.supplier_company.company_name">
                                            <a ng-click="toCompanyIntro(productItem)" id="company-intro"                      
                                               ng-bind="productItem.supplier_company? productItem.supplier_company.company_name:'NA'" 
                                               ng-class="{noAnchor: anchortag == 'disableAnchortag'}">
                                            </a>
                                        </p>
                                        <p ng-if="!productItem.supplier_company.company_name">
                                            <a ng-click="toCompanyPage(productItem)" id="company-intro"                      
                                                ng-bind="productItem.supplier_company? productItem.supplier_company:'NA'">
                                             </a>
                                        </p>
                                    </div>
                                    <div class="clear-fix"></div>
                                </div>
                                <div class="col-md-6">
                                    <div class="col-md-4">
                                        <label for="">Location</label>
                                    </div>
                                    <div class="col-md-8">
                                            <p>
                                                    <a ng-click="fullCity?searchLocation(productItem.city):''"                      
                                                       ng-bind="fullCity?fullCity:'NA'" id="search-location">
                                                    </a>
                                                </p>
                                    </div>
                                    <div class="clear-fix"></div>
                                </div>
                                <div class="clear-fix"></div>
                            </div>

                            <div class="modal-row">
                                <div class="col-md-6">
                                    <div class="col-md-4">
                                        <label for="">Manufacturer</label>
                                    </div>
                                    <div class="col-md-8">
                                            <div class="col-md-8">
                                                    <p>
                                                        <a ng-href="{[{toManufacturer(productItem)}]}" 
                                                        target="_blank"  
                                                        ng-bind="productItem.manufacturer_company?productItem.manufacturer_company.company_name:'NA'" 
                                                        ng-class="{noAnchor: anchortag == 'disableAnchortag'}">
                                                        </a>
                                                    </p>
                                                </div>
                                    </div>
                                    <div class="clear-fix"></div>
                                </div>
                                <div class="col-md-6">
                                    <div class="col-md-4">
                                        <label for="">Industry</label>
                                    </div>
                                    <div class="col-md-8">
                                       <p>
                                            {[{productItem.industryList}]}
                                       </p>
                                        <!-- <p ng-if="productItem.industry.length" ng-repeat="ind in productItem.industry">{[{ind}]}</p>
                                        <p ng-if="!productItem.industry.length">NA</p> -->
                                    </div>
                                    <div class="clear-fix"></div>
                                </div>
                                <div class="clear-fix"></div>
                            </div>
                            <div class="modal-row" ng-if="productItem.unit_price">
                                <div class="col-md-6">
                                    <div class="col-md-4">
                                        <label for="">Unit Price</label>
                                    </div>
                                    <div class="col-md-8" ng-init="lastChar = productItem.unit_of_measure.split('').pop().toLowerCase()">
                                        <p>
                                            {[{productItem.unit_price?productItem.unit_price:'Contact Supplier/Admin'}]} 
                                            {[{productItem.currency?productItem.currency:''}]} / 
                                            {[{productItem.unit_of_measure.length>1 && lastChar=='s'?productItem.unit_of_measure.split('').splice(0, (productItem.unit_of_measure.length-1)).join(''):productItem.unit_of_measure}]}
                                        </p>
                                    </div>
                                    <div class="clear-fix"></div>
                                </div>
                                <div class="col-md-6">
                                    <div class="col-md-4">
                                        <label for="">Available Quantity</label>
                                    </div>
                                    <div class="col-md-8">
                                        <p ng-if="productItem.available_quantity">
                                            {[{productItem.available_quantity?productItem.available_quantity:'NA'}]} 
                                            {[{productItem.unit_of_measure?productItem.unit_of_measure:'NA'}]}
                                        </p>
                                    </div>
                                    <div class="clear-fix"></div>
                                </div>
                                <div class="clear-fix"></div>
                            </div>
                            <div class="modal-row">
                                <div class="col-md-12">
                                    <div class="col-md-12">
                                        <label for="">Attachments</label>
                                    </div>
                                    <div class="col-md-12">
                                        <p class="m-l-0">
                                            <a class="dwd-attachments" 
                                               ng-repeat="attachment in productItem.attachments"
                                               ng-init="fileName = attachment.s3_url.split('/').pop()" 
                                               href="{[{attachment.s3_url}]}" 
                                               target="_blank" 
                                               download>
                                               {[{fileName}]}
                                            </a>
                                        </p>
                                    </div>
                                    <div class="clear-fix"></div>
                                </div>
                                <div class="clear-fix"></div>
                            </div>
                            <div class="clear-fix"></div>
                        </div>
                        <div class="clear-fix"></div>
                    </div>
                </div>
            </div>
            <div class="clear-fix"></div>
        </div>
        <div class="clear-fix"></div>
        <div class="col-md-12 modal-footerr">
            <div class="col-md-12 padding-15">
                <button class="button4" ng-click="cancel()">Cancel</button>
                <button class="button4" id="product-item-send-enquiry" ng-click="openNested('large', productItem, 'enquiry')">Send Enquiry</button>
                <div class="clear-fix"></div>
            </div>
            <div class="clear-fix"></div>
        </div>

        <button ng-click="cancel()" class="close-button" aria-label="Close reveal" type="button">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
</script>
<script type="text/ng-template" id="galleryModal.html">
    <div class="col-md-12 modal-container gallery-popup">
        <div class="col-md-12 modal-box">
            <div class="modal-body" ng-style="heightSettings.popupHeight">
                <div class="col-md-12">
                    <div class="col-md-12 gallery-container" ng-style="heightSettings.galleryContainerHeight">
                        <div class="col-md-12 view-pic" ng-style="heightSettings.viewPicHeight">
                            <img ng-if="viewLargePic.includes('.jpg') || 
                                        viewLargePic.includes('.jpeg') || 
                                        viewLargePic.includes('.png')"
                                 ng-src="{[{viewLargePic?viewLargePic:'assets/img/sample-pro.jpg'}]}">
                            <a ng-if="viewLargePic.includes('.pdf') ||
                                      viewLargePic.includes('.csv')"
                               href="{[{viewLargePic}]}" 
                               download 
                               target="_blank"
                               class="download">
                               Download {[{viewLargePic.includes('.pdf')?'(PDF) document':'document' || viewLargePic.includes('.csv')?'(CSV) document':'document'}]}
                            </a>
                        </div>
                        <div class="col-md-12 thumbnails">
                            <div class="col-md-1 gallery-thumbnail" ng-style="heightSettings.thumbnailHeight" ng-repeat="sliderImage in galleryPics track by $index" ng-click="viewGalleryPic(sliderImage)">
                                <img ng-src="{[{sliderImage.s3_url.includes('.pdf') || sliderImage.s3_url.includes('.csv')?'assets/img/sample-pro.jpg':sliderImage.s3_url}]}">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- <div class="col-md-12 modal-footerr">
            </div> -->
        </div>
    </div>
    <button ng-click="cancel()" class="close-button font-s-100" aria-label="Close reveal" type="button">
        <span aria-hidden="true">&times;</span>
    </button>
</script>