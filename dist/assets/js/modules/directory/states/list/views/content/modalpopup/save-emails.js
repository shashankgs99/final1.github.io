"use strict";!function(){var app=angular.module("app");app.controller("saveCustomerEmailController",["$scope","$window","$modal","$log","$state","Notification","$mdDialog","$http","s3Service","$dialogScope","CustomerService",function($scope,$window,$modal,$log,$state,Notification,$mdDialog,$http,s3Service,$dialogScope,CustomerService){$scope.emails=$dialogScope.emails,$scope.save=function(data){var error=!1,list=[];data.length&&(data.map(function(item){if(!error){if(!item.name)return Notification.error({message:"Please enter valid email",positionX:"right",positionY:"top"}),void(error=!0);if(!item.contact_name)return Notification.error({message:"Please enter valid email",positionX:"right",positionY:"top"}),void(error=!0);if(!error){var obj={};obj.name=item.name,obj.contacts=[{firstname:item.contact_name}],obj.emailid1=item.email,obj.addresses=[],obj.catalogs=[],$dialogScope.offer?obj.role_type=[1,9]:obj.role_type=[8],obj.categories=[],obj.attachments=[],list.push(obj)}}}),list.length&&!error&&CustomerService.post(list).then(function(res){$mdDialog.hide(res.data)},function(err){Notification.error({message:"Something went wrong",positionX:"right",positionY:"top"})}))},$scope.cancel=function(){$mdDialog.cancel()}}])}();