"use strict";!function(Handsontable){function imageRenderer(instance,td,row,col,prop,value,cellProperties){if(File.prototype.isPrototypeOf(value)){var p=document.createElement("P"),t=document.createTextNode(value.name);p.appendChild(t),Handsontable.dom.empty(td),td.appendChild(p)}else{var img,registerEvents=function(instance){function onMouseUp(event,instance){}function onClick(event,instance){cellProperties.readOnly&&event.preventDefault()}function onChange(event,instance){var row=parseInt(event.target.getAttribute("data-row"),10),col=parseInt(event.target.getAttribute("data-col"),10);instance.getCellMeta(row,col);event.target.files&&event.target.files.length&&instance.setDataAtCell(row,col,event.target.files[0])}var eventManager=isImageListenerAdded.get(instance);if(!eventManager){var eventManager=Handsontable.eventManager(this);eventManager.addEventListener(instance.rootElement,"click",function(event){return onClick(event,instance)}),eventManager.addEventListener(instance.rootElement,"mouseup",function(event){return onMouseUp(event,instance)}),eventManager.addEventListener(instance.rootElement,"change",function(event){return onChange(event,instance)}),isImageListenerAdded.set(instance,eventManager)}return eventManager};registerEvents(instance);if(0===Handsontable.helper.stringify(value).indexOf("http"))img=document.createElement("IMG"),img.src=value,Handsontable.dom.addEvent(img,"mousedown",function(e){e.preventDefault()}),Handsontable.dom.empty(td),td.appendChild(img);else{var div=document.createElement("DIV");document.body.appendChild(div);var input=document.createElement("input");input.setAttribute("type","file"),input.setAttribute("class","na"),input.setAttribute("data-row",row),input.setAttribute("data-col",col),div.appendChild(input),Handsontable.dom.addEvent(div,"mousedown",function(e){e.preventDefault()}),Handsontable.dom.empty(td),td.appendChild(div)}}return td}var isImageListenerAdded=new WeakMap,imageEditor=Handsontable.editors.CheckboxEditor.prototype.extend();imageEditor.prototype.beginEditing=function(initialValue,event){},Handsontable.editors.registerEditor("my.img.editor",imageEditor),Handsontable.renderers.registerRenderer("my.img.renderer",imageRenderer)}(Handsontable);