"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(f){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.Handsontable=f()}}(function(){var define,module,exports;return function outer(modules,cache,entry){function newRequire(name,jumped){if(!cache[name]){if(!modules[name]){var currentRequire="function"==typeof require&&require;if(!jumped&&currentRequire)return currentRequire(name,!0);if(previousRequire)return previousRequire(name,!0);if(globalNS[name]&&"undefined"!=typeof window[globalNS[name]])return window[globalNS[name]];var err=new Error("Cannot find module '"+name+"'");throw err.code="MODULE_NOT_FOUND",err}var m=cache[name]={exports:{}};modules[name][0].call(m.exports,function(x){var id=modules[name][1][x];return newRequire(id?id:x)},m,m.exports,outer,modules,cache,entry)}return cache[name].exports}for(var previousRequire="function"==typeof require&&require,globalNS=JSON.parse('{"zeroclipboard":"ZeroClipboard","moment":"moment","numbro":"numbro","pikaday":"Pikaday","hot-formula-parser":"formulaParser"}')||{},i=0;i<entry.length;i++)newRequire(entry[i]);return newRequire}({1:[function(_dereq_,module,exports){},{}],2:[function(_dereq_,module,exports){window.jQuery&&!function($){$.fn.handsontable=function(action){var i,ilen,args,output,userSettings,$this=this.first(),instance=$this.data("handsontable");if("string"!=typeof action)return userSettings=action||{},instance?instance.updateSettings(userSettings):(instance=new Handsontable.Core($this[0],userSettings),$this.data("handsontable",instance),instance.init()),$this;if(args=[],arguments.length>1)for(i=1,ilen=arguments.length;i<ilen;i++)args.push(arguments[i]);if(instance){if("undefined"==typeof instance[action])throw new Error("Handsontable do not provide action: "+action);output=instance[action].apply(instance,args),"destroy"===action&&$this.removeData()}return output}}(window.jQuery)},{}],3:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableBorder:{get:function(){return WalkontableBorder}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_event__,$___46__46__47__46__46__47__46__46__47_helpers_47_browser__,$___46__46__47__46__46__47__46__46__47_eventManager__,$__cell_47_coords__,$__overlay_47__95_base_46_js__,$__0=($___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}),getComputedStyle=$__0.getComputedStyle,getTrimmingContainer=$__0.getTrimmingContainer,innerWidth=$__0.innerWidth,innerHeight=$__0.innerHeight,offset=$__0.offset,outerHeight=$__0.outerHeight,outerWidth=$__0.outerWidth,stopImmediatePropagation=($___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_event__&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_event__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_event__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_event__}).stopImmediatePropagation,isMobileBrowser=($___46__46__47__46__46__47__46__46__47_helpers_47_browser__=_dereq_("helpers/browser"),$___46__46__47__46__46__47__46__46__47_helpers_47_browser__&&$___46__46__47__46__46__47__46__46__47_helpers_47_browser__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_browser__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_browser__}).isMobileBrowser,EventManager=($___46__46__47__46__46__47__46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47__46__46__47__46__46__47_eventManager__&&$___46__46__47__46__46__47__46__46__47_eventManager__.__esModule&&$___46__46__47__46__46__47__46__46__47_eventManager__||{"default":$___46__46__47__46__46__47__46__46__47_eventManager__}).EventManager,WalkontableCellCoords=($__cell_47_coords__=_dereq_("cell/coords"),$__cell_47_coords__&&$__cell_47_coords__.__esModule&&$__cell_47_coords__||{"default":$__cell_47_coords__}).WalkontableCellCoords,WalkontableBorder=(($__overlay_47__95_base_46_js__=_dereq_("overlay/_base.js"),$__overlay_47__95_base_46_js__&&$__overlay_47__95_base_46_js__.__esModule&&$__overlay_47__95_base_46_js__||{"default":$__overlay_47__95_base_46_js__}).WalkontableOverlay,function(wotInstance,settings){settings&&(this.eventManager=new EventManager(wotInstance),this.instance=wotInstance,this.wot=wotInstance,this.settings=settings,this.mouseDown=!1,this.main=null,this.top=null,this.left=null,this.bottom=null,this.right=null,this.topStyle=null,this.leftStyle=null,this.bottomStyle=null,this.rightStyle=null,this.cornerDefaultStyle={width:"5px",height:"5px",borderWidth:"2px",borderStyle:"solid",borderColor:"#FFF"},this.corner=null,this.cornerStyle=null,this.createBorders(settings),this.registerListeners())});$traceurRuntime.createClass(WalkontableBorder,{registerListeners:function(){var $__6=this;this.eventManager.addEventListener(document.body,"mousedown",function(){return $__6.onMouseDown()}),this.eventManager.addEventListener(document.body,"mouseup",function(){return $__6.onMouseUp()});for(var $__8=this,$__9=function(c,len){$__8.eventManager.addEventListener($__8.main.childNodes[c],"mouseenter",function(event){return $__6.onMouseEnter(event,$__6.main.childNodes[c])})},c=0,len=this.main.childNodes.length;c<len;c++)$__9(c,len)},onMouseDown:function(){this.mouseDown=!0},onMouseUp:function(){this.mouseDown=!1},onMouseEnter:function(event,parentElement){function isOutside(event){return event.clientY<Math.floor(bounds.top)||(event.clientY>Math.ceil(bounds.top+bounds.height)||(event.clientX<Math.floor(bounds.left)||(event.clientX>Math.ceil(bounds.left+bounds.width)||void 0)))}function handler(event){isOutside(event)&&(_this.eventManager.removeEventListener(document.body,"mousemove",handler),parentElement.style.display="block")}if(this.mouseDown&&this.wot.getSetting("hideBorderOnMouseDownOver")){event.preventDefault(),stopImmediatePropagation(event);var _this=this,bounds=parentElement.getBoundingClientRect();parentElement.style.display="none",this.eventManager.addEventListener(document.body,"mousemove",handler)}},createBorders:function(settings){this.main=document.createElement("div");var borderDivs=["top","left","bottom","right","corner"],style=this.main.style;style.position="absolute",style.top=0,style.left=0;for(var i=0;i<5;i++){var position=borderDivs[i],div=document.createElement("div");div.className="wtBorder "+(this.settings.className||""),this.settings[position]&&this.settings[position].hide&&(div.className+=" hidden"),style=div.style,style.backgroundColor=this.settings[position]&&this.settings[position].color?this.settings[position].color:settings.border.color,style.height=this.settings[position]&&this.settings[position].width?this.settings[position].width+"px":settings.border.width+"px",style.width=this.settings[position]&&this.settings[position].width?this.settings[position].width+"px":settings.border.width+"px",this.main.appendChild(div)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),isMobileBrowser()&&this.createMultipleSelectorHandles(),this.disappear(),this.wot.wtTable.bordersHolder||(this.wot.wtTable.bordersHolder=document.createElement("div"),this.wot.wtTable.bordersHolder.className="htBorders",this.wot.wtTable.spreader.appendChild(this.wot.wtTable.bordersHolder)),this.wot.wtTable.bordersHolder.insertBefore(this.main,this.wot.wtTable.bordersHolder.firstChild)},createMultipleSelectorHandles:function(){this.selectionHandles={topLeft:document.createElement("DIV"),topLeftHitArea:document.createElement("DIV"),bottomRight:document.createElement("DIV"),bottomRightHitArea:document.createElement("DIV")};var width=10,hitAreaWidth=40;this.selectionHandles.topLeft.className="topLeftSelectionHandle",this.selectionHandles.topLeftHitArea.className="topLeftSelectionHandle-HitArea",this.selectionHandles.bottomRight.className="bottomRightSelectionHandle",this.selectionHandles.bottomRightHitArea.className="bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={topLeft:this.selectionHandles.topLeft.style,topLeftHitArea:this.selectionHandles.topLeftHitArea.style,bottomRight:this.selectionHandles.bottomRight.style,bottomRightHitArea:this.selectionHandles.bottomRightHitArea.style};var hitAreaStyle={position:"absolute",height:hitAreaWidth+"px",width:hitAreaWidth+"px","border-radius":parseInt(hitAreaWidth/1.5,10)+"px"};for(var prop in hitAreaStyle)hitAreaStyle.hasOwnProperty(prop)&&(this.selectionHandles.styles.bottomRightHitArea[prop]=hitAreaStyle[prop],this.selectionHandles.styles.topLeftHitArea[prop]=hitAreaStyle[prop]);var handleStyle={position:"absolute",height:width+"px",width:width+"px","border-radius":parseInt(width/1.5,10)+"px",background:"#F5F5FF",border:"1px solid #4285c8"};for(var prop$__10 in handleStyle)handleStyle.hasOwnProperty(prop$__10)&&(this.selectionHandles.styles.bottomRight[prop$__10]=handleStyle[prop$__10],this.selectionHandles.styles.topLeft[prop$__10]=handleStyle[prop$__10]);this.main.appendChild(this.selectionHandles.topLeft),this.main.appendChild(this.selectionHandles.bottomRight),this.main.appendChild(this.selectionHandles.topLeftHitArea),this.main.appendChild(this.selectionHandles.bottomRightHitArea)},isPartRange:function(row,col){return!(!this.wot.selections.area.cellRange||row==this.wot.selections.area.cellRange.to.row&&col==this.wot.selections.area.cellRange.to.col)},updateMultipleSelectionHandlesPosition:function(row,col,top,left,width,height){var handleWidth=parseInt(this.selectionHandles.styles.topLeft.width,10),hitAreaWidth=parseInt(this.selectionHandles.styles.topLeftHitArea.width,10);this.selectionHandles.styles.topLeft.top=parseInt(top-handleWidth,10)+"px",this.selectionHandles.styles.topLeft.left=parseInt(left-handleWidth,10)+"px",this.selectionHandles.styles.topLeftHitArea.top=parseInt(top-hitAreaWidth/4*3,10)+"px",this.selectionHandles.styles.topLeftHitArea.left=parseInt(left-hitAreaWidth/4*3,10)+"px",this.selectionHandles.styles.bottomRight.top=parseInt(top+height,10)+"px",this.selectionHandles.styles.bottomRight.left=parseInt(left+width,10)+"px",this.selectionHandles.styles.bottomRightHitArea.top=parseInt(top+height-hitAreaWidth/4,10)+"px",this.selectionHandles.styles.bottomRightHitArea.left=parseInt(left+width-hitAreaWidth/4,10)+"px",this.settings.border.multipleSelectionHandlesVisible&&this.settings.border.multipleSelectionHandlesVisible()?(this.selectionHandles.styles.topLeft.display="block",this.selectionHandles.styles.topLeftHitArea.display="block",this.isPartRange(row,col)?(this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"):(this.selectionHandles.styles.bottomRight.display="block",this.selectionHandles.styles.bottomRightHitArea.display="block")):(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.topLeftHitArea.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"),row==this.wot.wtSettings.getSetting("fixedRowsTop")||col==this.wot.wtSettings.getSetting("fixedColumnsLeft")?(this.selectionHandles.styles.topLeft.zIndex="9999",this.selectionHandles.styles.topLeftHitArea.zIndex="9999"):(this.selectionHandles.styles.topLeft.zIndex="",this.selectionHandles.styles.topLeftHitArea.zIndex="")},appear:function(corners){if(!this.disabled){var isMultiple,fromTD,toTD,fromOffset,toOffset,containerOffset,top,minTop,left,minLeft,height,width,fromRow,fromColumn,toRow,toColumn,trimmingContainer,cornerOverlappingContainer,ilen;ilen=this.wot.wtTable.getRenderedRowsCount();for(var i=0;i<ilen;i++){var s=this.wot.wtTable.rowFilter.renderedToSource(i);if(s>=corners[0]&&s<=corners[2]){fromRow=s;break}}for(var i$__11=ilen-1;i$__11>=0;i$__11--){var s$__12=this.wot.wtTable.rowFilter.renderedToSource(i$__11);if(s$__12>=corners[0]&&s$__12<=corners[2]){toRow=s$__12;break}}ilen=this.wot.wtTable.getRenderedColumnsCount();for(var i$__13=0;i$__13<ilen;i$__13++){var s$__14=this.wot.wtTable.columnFilter.renderedToSource(i$__13);if(s$__14>=corners[1]&&s$__14<=corners[3]){fromColumn=s$__14;break}}for(var i$__15=ilen-1;i$__15>=0;i$__15--){var s$__16=this.wot.wtTable.columnFilter.renderedToSource(i$__15);if(s$__16>=corners[1]&&s$__16<=corners[3]){toColumn=s$__16;break}}if(void 0===fromRow||void 0===fromColumn)return void this.disappear();isMultiple=fromRow!==toRow||fromColumn!==toColumn,fromTD=this.wot.wtTable.getCell(new WalkontableCellCoords(fromRow,fromColumn)),toTD=isMultiple?this.wot.wtTable.getCell(new WalkontableCellCoords(toRow,toColumn)):fromTD,fromOffset=offset(fromTD),toOffset=isMultiple?offset(toTD):fromOffset,containerOffset=offset(this.wot.wtTable.TABLE),minTop=fromOffset.top,height=toOffset.top+outerHeight(toTD)-minTop,minLeft=fromOffset.left,width=toOffset.left+outerWidth(toTD)-minLeft,top=minTop-containerOffset.top-1,left=minLeft-containerOffset.left-1;var style=getComputedStyle(fromTD);parseInt(style.borderTopWidth,10)>0&&(top+=1,height=height>0?height-1:0),parseInt(style.borderLeftWidth,10)>0&&(left+=1,width=width>0?width-1:0),this.topStyle.top=top+"px",this.topStyle.left=left+"px",this.topStyle.width=width+"px",this.topStyle.display="block",this.leftStyle.top=top+"px",this.leftStyle.left=left+"px",this.leftStyle.height=height+"px",this.leftStyle.display="block";var delta=Math.floor(this.settings.border.width/2);this.bottomStyle.top=top+height-delta+"px",this.bottomStyle.left=left+"px",this.bottomStyle.width=width+"px",this.bottomStyle.display="block",this.rightStyle.top=top+"px",this.rightStyle.left=left+width-delta+"px",this.rightStyle.height=height+1+"px",this.rightStyle.display="block",isMobileBrowser()||!this.hasSetting(this.settings.border.cornerVisible)||this.isPartRange(toRow,toColumn)?this.cornerStyle.display="none":(this.cornerStyle.top=top+height-4+"px",this.cornerStyle.left=left+width-4+"px",this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none",trimmingContainer=getTrimmingContainer(this.wot.wtTable.TABLE),toColumn===this.wot.getSetting("totalColumns")-1&&(cornerOverlappingContainer=toTD.offsetLeft+outerWidth(toTD)+parseInt(this.cornerDefaultStyle.width)/2>=innerWidth(trimmingContainer),cornerOverlappingContainer&&(this.cornerStyle.left=Math.floor(left+width-3-parseInt(this.cornerDefaultStyle.width)/2)+"px",this.cornerStyle.borderRightWidth=0)),toRow===this.wot.getSetting("totalRows")-1&&(cornerOverlappingContainer=toTD.offsetTop+outerHeight(toTD)+parseInt(this.cornerDefaultStyle.height)/2>=innerHeight(trimmingContainer),cornerOverlappingContainer&&(this.cornerStyle.top=Math.floor(top+height-3-parseInt(this.cornerDefaultStyle.height)/2)+"px",this.cornerStyle.borderBottomWidth=0)),this.cornerStyle.display="block"),isMobileBrowser()&&this.updateMultipleSelectionHandlesPosition(fromRow,fromColumn,top,left,width,height)}},disappear:function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none",isMobileBrowser()&&(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none")},hasSetting:function(setting){return"function"==typeof setting?setting():!!setting}},{}),window.WalkontableBorder=WalkontableBorder},{"cell/coords":6,eventManager:42,"helpers/browser":44,"helpers/dom/element":47,"helpers/dom/event":48,"overlay/_base.js":12}],4:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableViewportColumnsCalculator:{get:function(){return WalkontableViewportColumnsCalculator}},__esModule:{value:!0}});var privatePool=new WeakMap,WalkontableViewportColumnsCalculator=function(viewportWidth,scrollOffset,totalColumns,columnWidthFn,overrideFn,onlyFullyVisible,stretchH){var stretchingColumnWidthFn=void 0!==arguments[7]?arguments[7]:function(width){return width};privatePool.set(this,{viewportWidth:viewportWidth,scrollOffset:scrollOffset,totalColumns:totalColumns,columnWidthFn:columnWidthFn,overrideFn:overrideFn,onlyFullyVisible:onlyFullyVisible,stretchingColumnWidthFn:stretchingColumnWidthFn}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=stretchH,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()},$WalkontableViewportColumnsCalculator=WalkontableViewportColumnsCalculator;$traceurRuntime.createClass(WalkontableViewportColumnsCalculator,{calculate:function(){for(var columnWidth,sum=0,needReverse=!0,startPositions=[],priv=privatePool.get(this),onlyFullyVisible=priv.onlyFullyVisible,overrideFn=priv.overrideFn,scrollOffset=priv.scrollOffset,totalColumns=priv.totalColumns,viewportWidth=priv.viewportWidth,i=0;i<totalColumns;i++){columnWidth=this._getColumnWidth(i),sum<=scrollOffset&&!onlyFullyVisible&&(this.startColumn=i);var compensatedViewportWidth=scrollOffset>0?viewportWidth+1:viewportWidth;if(sum>=scrollOffset&&sum+columnWidth<=scrollOffset+compensatedViewportWidth&&(null==this.startColumn&&(this.startColumn=i),this.endColumn=i),startPositions.push(sum),sum+=columnWidth,onlyFullyVisible||(this.endColumn=i),sum>=scrollOffset+viewportWidth){needReverse=!1;break}}if(this.endColumn===totalColumns-1&&needReverse)for(this.startColumn=this.endColumn;this.startColumn>0;){var viewportSum=startPositions[this.endColumn]+columnWidth-startPositions[this.startColumn-1];if((viewportSum<=viewportWidth||!onlyFullyVisible)&&this.startColumn--,viewportSum>viewportWidth)break}null!==this.startColumn&&overrideFn&&overrideFn(this),this.startPosition=startPositions[this.startColumn],void 0==this.startPosition&&(this.startPosition=null),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)},refreshStretching:function(totalWidth){if("none"!==this.stretch){this.totalTargetWidth=totalWidth;for(var priv=privatePool.get(this),totalColumns=priv.totalColumns,sumAll=0,i=0;i<totalColumns;i++){var columnWidth=this._getColumnWidth(i),permanentColumnWidth=priv.stretchingColumnWidthFn(void 0,i);"number"==typeof permanentColumnWidth?totalWidth-=permanentColumnWidth:sumAll+=columnWidth}var remainingSize=totalWidth-sumAll;if("all"===this.stretch&&remainingSize>0)this.stretchAllRatio=totalWidth/sumAll,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if("last"===this.stretch&&totalWidth!==1/0){var columnWidth$__1=this._getColumnWidth(totalColumns-1),lastColumnWidth=remainingSize+columnWidth$__1;this.stretchLastWidth=lastColumnWidth>=0?lastColumnWidth:columnWidth$__1}}},getStretchedColumnWidth:function(column,baseWidth){var result=null;return"all"===this.stretch&&0!==this.stretchAllRatio?result=this._getStretchedAllColumnWidth(column,baseWidth):"last"===this.stretch&&0!==this.stretchLastWidth&&(result=this._getStretchedLastColumnWidth(column)),result},_getStretchedAllColumnWidth:function(column,baseWidth){var sumRatioWidth=0,priv=privatePool.get(this),totalColumns=priv.totalColumns;if(!this.stretchAllColumnsWidth[column]){var stretchedWidth=Math.round(baseWidth*this.stretchAllRatio),newStretchedWidth=priv.stretchingColumnWidthFn(stretchedWidth,column);void 0===newStretchedWidth?this.stretchAllColumnsWidth[column]=stretchedWidth:this.stretchAllColumnsWidth[column]=isNaN(newStretchedWidth)?this._getColumnWidth(column):newStretchedWidth}if(this.stretchAllColumnsWidth.length===totalColumns&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var i=0;i<this.stretchAllColumnsWidth.length;i++)sumRatioWidth+=this.stretchAllColumnsWidth[i];sumRatioWidth!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-sumRatioWidth)}return this.stretchAllColumnsWidth[column]},_getStretchedLastColumnWidth:function(column){var priv=privatePool.get(this),totalColumns=priv.totalColumns;return column===totalColumns-1?this.stretchLastWidth:null},_getColumnWidth:function(column){var width=privatePool.get(this).columnWidthFn(column);return void 0===width&&(width=$WalkontableViewportColumnsCalculator.DEFAULT_WIDTH),width}},{get DEFAULT_WIDTH(){return 50}}),window.WalkontableViewportColumnsCalculator=WalkontableViewportColumnsCalculator},{}],5:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableViewportRowsCalculator:{get:function(){return WalkontableViewportRowsCalculator}},__esModule:{value:!0}});var privatePool=new WeakMap,WalkontableViewportRowsCalculator=function(viewportHeight,scrollOffset,totalRows,rowHeightFn,overrideFn,onlyFullyVisible,horizontalScrollbarHeight){privatePool.set(this,{viewportHeight:viewportHeight,scrollOffset:scrollOffset,totalRows:totalRows,rowHeightFn:rowHeightFn,overrideFn:overrideFn,onlyFullyVisible:onlyFullyVisible,horizontalScrollbarHeight:horizontalScrollbarHeight}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()},$WalkontableViewportRowsCalculator=WalkontableViewportRowsCalculator;$traceurRuntime.createClass(WalkontableViewportRowsCalculator,{calculate:function(){for(var sum=0,needReverse=!0,startPositions=[],priv=privatePool.get(this),onlyFullyVisible=priv.onlyFullyVisible,overrideFn=priv.overrideFn,rowHeightFn=priv.rowHeightFn,scrollOffset=priv.scrollOffset,totalRows=priv.totalRows,viewportHeight=priv.viewportHeight,horizontalScrollbarHeight=priv.horizontalScrollbarHeight||0,i=0;i<totalRows;i++){var rowHeight=rowHeightFn(i);if(void 0===rowHeight&&(rowHeight=$WalkontableViewportRowsCalculator.DEFAULT_HEIGHT),sum<=scrollOffset&&!onlyFullyVisible&&(this.startRow=i),sum>=scrollOffset&&sum+rowHeight<=scrollOffset+viewportHeight-horizontalScrollbarHeight&&(null===this.startRow&&(this.startRow=i),this.endRow=i),startPositions.push(sum),sum+=rowHeight,onlyFullyVisible||(this.endRow=i),sum>=scrollOffset+viewportHeight-horizontalScrollbarHeight){needReverse=!1;break}}if(this.endRow===totalRows-1&&needReverse)for(this.startRow=this.endRow;this.startRow>0;){var viewportSum=startPositions[this.endRow]+rowHeight-startPositions[this.startRow-1];if((viewportSum<=viewportHeight-horizontalScrollbarHeight||!onlyFullyVisible)&&this.startRow--,viewportSum>=viewportHeight-horizontalScrollbarHeight)break}null!==this.startRow&&overrideFn&&overrideFn(this),this.startPosition=startPositions[this.startRow],void 0==this.startPosition&&(this.startPosition=null),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}},{get DEFAULT_HEIGHT(){return 23}}),window.WalkontableViewportRowsCalculator=WalkontableViewportRowsCalculator},{}],6:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableCellCoords:{get:function(){return WalkontableCellCoords}},__esModule:{value:!0}});var WalkontableCellCoords=function(row,col){"undefined"!=typeof row&&"undefined"!=typeof col?(this.row=row,this.col=col):(this.row=null,this.col=null)};$traceurRuntime.createClass(WalkontableCellCoords,{isValid:function(wotInstance){return!(this.row<0||this.col<0)&&!(this.row>=wotInstance.getSetting("totalRows")||this.col>=wotInstance.getSetting("totalColumns"))},isEqual:function(cellCoords){return cellCoords===this||this.row===cellCoords.row&&this.col===cellCoords.col},isSouthEastOf:function(testedCoords){return this.row>=testedCoords.row&&this.col>=testedCoords.col},isNorthWestOf:function(testedCoords){return this.row<=testedCoords.row&&this.col<=testedCoords.col},isSouthWestOf:function(testedCoords){return this.row>=testedCoords.row&&this.col<=testedCoords.col},isNorthEastOf:function(testedCoords){return this.row<=testedCoords.row&&this.col>=testedCoords.col}},{}),window.WalkontableCellCoords=WalkontableCellCoords},{}],7:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableCellRange:{get:function(){return WalkontableCellRange}},__esModule:{value:!0}});var $___46__46__47_cell_47_coords__,WalkontableCellCoords=($___46__46__47_cell_47_coords__=_dereq_("cell/coords"),$___46__46__47_cell_47_coords__&&$___46__46__47_cell_47_coords__.__esModule&&$___46__46__47_cell_47_coords__||{"default":$___46__46__47_cell_47_coords__}).WalkontableCellCoords,WalkontableCellRange=function(highlight,from,to){this.highlight=highlight,this.from=from,this.to=to},$WalkontableCellRange=WalkontableCellRange;$traceurRuntime.createClass(WalkontableCellRange,{isValid:function(wotInstance){return this.from.isValid(wotInstance)&&this.to.isValid(wotInstance)},isSingle:function(){return this.from.row===this.to.row&&this.from.col===this.to.col},getHeight:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1},getWidth:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1},includes:function(cellCoords){var $__2=cellCoords,row=$__2.row,col=$__2.col,topLeft=this.getTopLeftCorner(),bottomRight=this.getBottomRightCorner();return topLeft.row<=row&&bottomRight.row>=row&&topLeft.col<=col&&bottomRight.col>=col},includesRange:function(testedRange){return this.includes(testedRange.getTopLeftCorner())&&this.includes(testedRange.getBottomRightCorner())},isEqual:function(testedRange){return Math.min(this.from.row,this.to.row)==Math.min(testedRange.from.row,testedRange.to.row)&&Math.max(this.from.row,this.to.row)==Math.max(testedRange.from.row,testedRange.to.row)&&Math.min(this.from.col,this.to.col)==Math.min(testedRange.from.col,testedRange.to.col)&&Math.max(this.from.col,this.to.col)==Math.max(testedRange.from.col,testedRange.to.col)},overlaps:function(testedRange){return testedRange.isSouthEastOf(this.getTopLeftCorner())&&testedRange.isNorthWestOf(this.getBottomRightCorner())},isSouthEastOf:function(testedCoords){return this.getTopLeftCorner().isSouthEastOf(testedCoords)||this.getBottomRightCorner().isSouthEastOf(testedCoords)},isNorthWestOf:function(testedCoords){return this.getTopLeftCorner().isNorthWestOf(testedCoords)||this.getBottomRightCorner().isNorthWestOf(testedCoords)},expand:function(cellCoords){var topLeft=this.getTopLeftCorner(),bottomRight=this.getBottomRightCorner();return(cellCoords.row<topLeft.row||cellCoords.col<topLeft.col||cellCoords.row>bottomRight.row||cellCoords.col>bottomRight.col)&&(this.from=new WalkontableCellCoords(Math.min(topLeft.row,cellCoords.row),Math.min(topLeft.col,cellCoords.col)),this.to=new WalkontableCellCoords(Math.max(bottomRight.row,cellCoords.row),Math.max(bottomRight.col,cellCoords.col)),!0)},expandByRange:function(expandingRange){if(this.includesRange(expandingRange)||!this.overlaps(expandingRange))return!1;var topLeft=this.getTopLeftCorner(),bottomRight=this.getBottomRightCorner(),expandingTopLeft=(this.getTopRightCorner(),this.getBottomLeftCorner(),expandingRange.getTopLeftCorner()),expandingBottomRight=expandingRange.getBottomRightCorner(),resultTopRow=Math.min(topLeft.row,expandingTopLeft.row),resultTopCol=Math.min(topLeft.col,expandingTopLeft.col),resultBottomRow=Math.max(bottomRight.row,expandingBottomRight.row),resultBottomCol=Math.max(bottomRight.col,expandingBottomRight.col),finalFrom=new WalkontableCellCoords(resultTopRow,resultTopCol),finalTo=new WalkontableCellCoords(resultBottomRow,resultBottomCol),isCorner=new $WalkontableCellRange(finalFrom,finalFrom,finalTo).isCorner(this.from,expandingRange),onlyMerge=expandingRange.isEqual(new $WalkontableCellRange(finalFrom,finalFrom,finalTo));return isCorner&&!onlyMerge&&(this.from.col>finalFrom.col&&(finalFrom.col=resultBottomCol,finalTo.col=resultTopCol),this.from.row>finalFrom.row&&(finalFrom.row=resultBottomRow,finalTo.row=resultTopRow)),this.from=finalFrom,this.to=finalTo,!0},getDirection:function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0},setDirection:function(direction){var $__2,$__3,$__4,$__5;switch(direction){case"NW-SE":$__2=[this.getTopLeftCorner(),this.getBottomRightCorner()],this.from=$__2[0],this.to=$__2[1],$__2;break;case"NE-SW":$__3=[this.getTopRightCorner(),this.getBottomLeftCorner()],this.from=$__3[0],this.to=$__3[1],$__3;break;case"SE-NW":$__4=[this.getBottomRightCorner(),this.getTopLeftCorner()],this.from=$__4[0],this.to=$__4[1],$__4;break;case"SW-NE":$__5=[this.getBottomLeftCorner(),this.getTopRightCorner()],this.from=$__5[0],this.to=$__5[1],$__5}},getTopLeftCorner:function(){return new WalkontableCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},getBottomRightCorner:function(){return new WalkontableCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},getTopRightCorner:function(){return new WalkontableCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},getBottomLeftCorner:function(){return new WalkontableCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},isCorner:function(coords,expandedRange){return!!(expandedRange&&expandedRange.includes(coords)&&(this.getTopLeftCorner().isEqual(new WalkontableCellCoords(expandedRange.from.row,expandedRange.from.col))||this.getTopRightCorner().isEqual(new WalkontableCellCoords(expandedRange.from.row,expandedRange.to.col))||this.getBottomLeftCorner().isEqual(new WalkontableCellCoords(expandedRange.to.row,expandedRange.from.col))||this.getBottomRightCorner().isEqual(new WalkontableCellCoords(expandedRange.to.row,expandedRange.to.col))))||(coords.isEqual(this.getTopLeftCorner())||coords.isEqual(this.getTopRightCorner())||coords.isEqual(this.getBottomLeftCorner())||coords.isEqual(this.getBottomRightCorner()))},getOppositeCorner:function(coords,expandedRange){if(!(coords instanceof WalkontableCellCoords))return!1;if(expandedRange&&expandedRange.includes(coords)){if(this.getTopLeftCorner().isEqual(new WalkontableCellCoords(expandedRange.from.row,expandedRange.from.col)))return this.getBottomRightCorner();if(this.getTopRightCorner().isEqual(new WalkontableCellCoords(expandedRange.from.row,expandedRange.to.col)))return this.getBottomLeftCorner();if(this.getBottomLeftCorner().isEqual(new WalkontableCellCoords(expandedRange.to.row,expandedRange.from.col)))return this.getTopRightCorner();if(this.getBottomRightCorner().isEqual(new WalkontableCellCoords(expandedRange.to.row,expandedRange.to.col)))return this.getTopLeftCorner()}return coords.isEqual(this.getBottomRightCorner())?this.getTopLeftCorner():coords.isEqual(this.getTopLeftCorner())?this.getBottomRightCorner():coords.isEqual(this.getTopRightCorner())?this.getBottomLeftCorner():coords.isEqual(this.getBottomLeftCorner())?this.getTopRightCorner():void 0},getBordersSharedWith:function(range){if(!this.includesRange(range))return[];var thisBorders={top:Math.min(this.from.row,this.to.row),
bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},rangeBorders={top:Math.min(range.from.row,range.to.row),bottom:Math.max(range.from.row,range.to.row),left:Math.min(range.from.col,range.to.col),right:Math.max(range.from.col,range.to.col)},result=[];return thisBorders.top==rangeBorders.top&&result.push("top"),thisBorders.right==rangeBorders.right&&result.push("right"),thisBorders.bottom==rangeBorders.bottom&&result.push("bottom"),thisBorders.left==rangeBorders.left&&result.push("left"),result},getInner:function(){for(var topLeft=this.getTopLeftCorner(),bottomRight=this.getBottomRightCorner(),out=[],r=topLeft.row;r<=bottomRight.row;r++)for(var c=topLeft.col;c<=bottomRight.col;c++)this.from.row===r&&this.from.col===c||this.to.row===r&&this.to.col===c||out.push(new WalkontableCellCoords(r,c));return out},getAll:function(){for(var topLeft=this.getTopLeftCorner(),bottomRight=this.getBottomRightCorner(),out=[],r=topLeft.row;r<=bottomRight.row;r++)for(var c=topLeft.col;c<=bottomRight.col;c++)topLeft.row===r&&topLeft.col===c?out.push(topLeft):bottomRight.row===r&&bottomRight.col===c?out.push(bottomRight):out.push(new WalkontableCellCoords(r,c));return out},forAll:function(callback){for(var topLeft=this.getTopLeftCorner(),bottomRight=this.getBottomRightCorner(),r=topLeft.row;r<=bottomRight.row;r++)for(var c=topLeft.col;c<=bottomRight.col;c++){var breakIteration=callback(r,c);if(breakIteration===!1)return}}},{}),window.WalkontableCellRange=WalkontableCellRange},{"cell/coords":6}],8:[function(_dereq_,module,exports){Object.defineProperties(exports,{Walkontable:{get:function(){return Walkontable}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47__46__46__47_helpers_47_object__,$___46__46__47__46__46__47__46__46__47_helpers_47_string__,$__event__,$__overlays__,$__scroll__,$__settings__,$__table__,$__viewport__,$__overlay_47__95_base_46_js__,$__overlay_47_top_46_js__,$__overlay_47_left_46_js__,$__overlay_47_debug_46_js__,$__overlay_47_topLeftCorner_46_js__,$__0=($___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}),addClass=$__0.addClass,fastInnerText=$__0.fastInnerText,isVisible=$__0.isVisible,removeClass=$__0.removeClass,objectEach=($___46__46__47__46__46__47__46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47__46__46__47__46__46__47_helpers_47_object__&&$___46__46__47__46__46__47__46__46__47_helpers_47_object__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_object__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_object__}).objectEach,$__2=($___46__46__47__46__46__47__46__46__47_helpers_47_string__=_dereq_("helpers/string"),$___46__46__47__46__46__47__46__46__47_helpers_47_string__&&$___46__46__47__46__46__47__46__46__47_helpers_47_string__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_string__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_string__}),toUpperCaseFirst=$__2.toUpperCaseFirst,randomString=$__2.randomString,WalkontableEvent=($__event__=_dereq_("event"),$__event__&&$__event__.__esModule&&$__event__||{"default":$__event__}).WalkontableEvent,WalkontableOverlays=($__overlays__=_dereq_("overlays"),$__overlays__&&$__overlays__.__esModule&&$__overlays__||{"default":$__overlays__}).WalkontableOverlays,WalkontableScroll=($__scroll__=_dereq_("scroll"),$__scroll__&&$__scroll__.__esModule&&$__scroll__||{"default":$__scroll__}).WalkontableScroll,WalkontableSettings=($__settings__=_dereq_("settings"),$__settings__&&$__settings__.__esModule&&$__settings__||{"default":$__settings__}).WalkontableSettings,WalkontableTable=($__table__=_dereq_("table"),$__table__&&$__table__.__esModule&&$__table__||{"default":$__table__}).WalkontableTable,WalkontableViewport=($__viewport__=_dereq_("viewport"),$__viewport__&&$__viewport__.__esModule&&$__viewport__||{"default":$__viewport__}).WalkontableViewport,Walkontable=(($__overlay_47__95_base_46_js__=_dereq_("overlay/_base.js"),$__overlay_47__95_base_46_js__&&$__overlay_47__95_base_46_js__.__esModule&&$__overlay_47__95_base_46_js__||{"default":$__overlay_47__95_base_46_js__}).WalkontableOverlay,($__overlay_47_top_46_js__=_dereq_("overlay/top.js"),$__overlay_47_top_46_js__&&$__overlay_47_top_46_js__.__esModule&&$__overlay_47_top_46_js__||{"default":$__overlay_47_top_46_js__}).WalkontableTopOverlay,($__overlay_47_left_46_js__=_dereq_("overlay/left.js"),$__overlay_47_left_46_js__&&$__overlay_47_left_46_js__.__esModule&&$__overlay_47_left_46_js__||{"default":$__overlay_47_left_46_js__}).WalkontableLeftOverlay,($__overlay_47_debug_46_js__=_dereq_("overlay/debug.js"),$__overlay_47_debug_46_js__&&$__overlay_47_debug_46_js__.__esModule&&$__overlay_47_debug_46_js__||{"default":$__overlay_47_debug_46_js__}).WalkontableDebugOverlay,($__overlay_47_topLeftCorner_46_js__=_dereq_("overlay/topLeftCorner.js"),$__overlay_47_topLeftCorner_46_js__&&$__overlay_47_topLeftCorner_46_js__.__esModule&&$__overlay_47_topLeftCorner_46_js__||{"default":$__overlay_47_topLeftCorner_46_js__}).WalkontableTopLeftCornerOverlay,function(settings){var originalHeaders=[];if(this.guid="wt_"+randomString(),settings.cloneSource?(this.cloneSource=settings.cloneSource,this.cloneOverlay=settings.cloneOverlay,this.wtSettings=settings.cloneSource.wtSettings,this.wtTable=new WalkontableTable(this,settings.table,settings.wtRootElement),this.wtScroll=new WalkontableScroll(this),this.wtViewport=settings.cloneSource.wtViewport,this.wtEvent=new WalkontableEvent(this),this.selections=this.cloneSource.selections):(this.wtSettings=new WalkontableSettings(this,settings),this.wtTable=new WalkontableTable(this,settings.table),this.wtScroll=new WalkontableScroll(this),this.wtViewport=new WalkontableViewport(this),this.wtEvent=new WalkontableEvent(this),this.selections=this.getSetting("selections"),this.wtOverlays=new WalkontableOverlays(this),this.exportSettingsAsClassNames()),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var c=0,clen=this.wtTable.THEAD.childNodes[0].childNodes.length;c<clen;c++)originalHeaders.push(this.wtTable.THEAD.childNodes[0].childNodes[c].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(column,TH){fastInnerText(TH,originalHeaders[column])}])}this.drawn=!1,this.drawInterrupted=!1});$traceurRuntime.createClass(Walkontable,{draw:function(){var fastDraw=void 0!==arguments[0]&&arguments[0];return this.drawInterrupted=!1,fastDraw||isVisible(this.wtTable.TABLE)?this.wtTable.draw(fastDraw):this.drawInterrupted=!0,this},getCell:function(coords){var topmost=void 0!==arguments[1]&&arguments[1];if(!topmost)return this.wtTable.getCell(coords);var totalRows=this.wtSettings.getSetting("totalRows"),fixedRowsTop=this.wtSettings.getSetting("fixedRowsTop"),fixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),fixedColumns=this.wtSettings.getSetting("fixedColumnsLeft");if(coords.row<fixedRowsTop&&coords.col<fixedColumns)return this.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell(coords);if(coords.row<fixedRowsTop)return this.wtOverlays.topOverlay.clone.wtTable.getCell(coords);if(coords.col<fixedColumns&&coords.row>=totalRows-fixedRowsBottom){if(this.wtOverlays.bottomLeftCornerOverlay&&this.wtOverlays.bottomLeftCornerOverlay.clone)return this.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell(coords)}else{if(coords.col<fixedColumns)return this.wtOverlays.leftOverlay.clone.wtTable.getCell(coords);if(coords.row<totalRows&&coords.row>totalRows-fixedRowsBottom&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(coords)}return this.wtTable.getCell(coords)},update:function(settings,value){return this.wtSettings.update(settings,value)},scrollVertical:function(row){return this.wtOverlays.topOverlay.scrollTo(row),this.getSetting("onScrollVertically"),this},scrollHorizontal:function(column){return this.wtOverlays.leftOverlay.scrollTo(column),this.getSetting("onScrollHorizontally"),this},scrollViewport:function(coords){return this.wtScroll.scrollViewport(coords),this},getViewport:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]},getOverlayName:function(){return this.cloneOverlay?this.cloneOverlay.type:"master"},isOverlayName:function(name){return!!this.cloneOverlay&&this.cloneOverlay.type===name},exportSettingsAsClassNames:function(){var $__14=this,toExport={rowHeaders:["array"],columnHeaders:["array"]},allClassNames=[],newClassNames=[];objectEach(toExport,function(optionType,key){optionType.indexOf("array")>-1&&$__14.getSetting(key).length&&newClassNames.push("ht"+toUpperCaseFirst(key)),allClassNames.push("ht"+toUpperCaseFirst(key))}),removeClass(this.wtTable.wtRootElement.parentNode,allClassNames),addClass(this.wtTable.wtRootElement.parentNode,newClassNames)},getSetting:function(key,param1,param2,param3,param4){return this.wtSettings.getSetting(key,param1,param2,param3,param4)},hasSetting:function(key){return this.wtSettings.has(key)},destroy:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}},{}),window.Walkontable=Walkontable},{event:9,"helpers/dom/element":47,"helpers/object":53,"helpers/string":55,"overlay/_base.js":12,"overlay/debug.js":13,"overlay/left.js":14,"overlay/top.js":15,"overlay/topLeftCorner.js":16,overlays:17,scroll:18,settings:20,table:21,viewport:23}],9:[function(_dereq_,module,exports){function WalkontableEvent(instance){var that=this,eventManager=eventManagerObject(instance);this.instance=instance;var dblClickOrigin=[null,null];this.dblClickTimeout=[null,null];var longTouchTimeout,onMouseDown=function(event){var activeElement=document.activeElement,getParentNode=partial(getParent,event.realTarget),realTarget=event.realTarget;if(realTarget!==activeElement&&getParentNode(0)!==activeElement&&getParentNode(1)!==activeElement){var cell=that.parentCell(realTarget);hasClass(realTarget,"corner")?that.instance.getSetting("onCellCornerMouseDown",event,realTarget):cell.TD&&that.instance.hasSetting("onCellMouseDown")&&that.instance.getSetting("onCellMouseDown",event,cell.coords,cell.TD,that.instance),2!==event.button&&cell.TD&&(dblClickOrigin[0]=cell.TD,clearTimeout(that.dblClickTimeout[0]),that.dblClickTimeout[0]=setTimeout(function(){dblClickOrigin[0]=null},1e3))}},onTouchMove=function(event){that.instance.touchMoving=!0},onTouchStart=function(event){eventManager.addEventListener(this,"touchmove",onTouchMove),that.checkIfTouchMove=setTimeout(function(){return that.instance.touchMoving===!0?(that.instance.touchMoving=void 0,void eventManager.removeEventListener("touchmove",onTouchMove,!1)):void onMouseDown(event)},30)},onMouseOver=function(event){var table,td,mainWOT;that.instance.hasSetting("onCellMouseOver")&&(table=that.instance.wtTable.TABLE,td=closestDown(event.realTarget,["TD","TH"],table),mainWOT=that.instance.cloneSource||that.instance,td&&td!==mainWOT.lastMouseOver&&isChildOf(td,table)&&(mainWOT.lastMouseOver=td,that.instance.getSetting("onCellMouseOver",event,that.instance.wtTable.getCoords(td),td,that.instance)))},onMouseUp=function(event){if(2!==event.button){var cell=that.parentCell(event.realTarget);cell.TD===dblClickOrigin[0]&&cell.TD===dblClickOrigin[1]?(hasClass(event.realTarget,"corner")?that.instance.getSetting("onCellCornerDblClick",event,cell.coords,cell.TD,that.instance):that.instance.getSetting("onCellDblClick",event,cell.coords,cell.TD,that.instance),dblClickOrigin[0]=null,dblClickOrigin[1]=null):cell.TD===dblClickOrigin[0]?(that.instance.getSetting("onCellMouseUp",event,cell.coords,cell.TD,that.instance),dblClickOrigin[1]=cell.TD,clearTimeout(that.dblClickTimeout[1]),that.dblClickTimeout[1]=setTimeout(function(){dblClickOrigin[1]=null},500)):cell.TD&&that.instance.hasSetting("onCellMouseUp")&&that.instance.getSetting("onCellMouseUp",event,cell.coords,cell.TD,that.instance)}},onTouchEnd=function(event){clearTimeout(longTouchTimeout),event.preventDefault(),onMouseUp(event)};if(eventManager.addEventListener(this.instance.wtTable.holder,"mousedown",onMouseDown),eventManager.addEventListener(this.instance.wtTable.TABLE,"mouseover",onMouseOver),eventManager.addEventListener(this.instance.wtTable.holder,"mouseup",onMouseUp),this.instance.wtTable.holder.parentNode.parentNode&&isMobileBrowser()&&!that.instance.wtTable.isWorkingOnClone()){var classSelector="."+this.instance.wtTable.holder.parentNode.className.split(" ").join(".");eventManager.addEventListener(this.instance.wtTable.holder,"touchstart",function(event){that.instance.touchApplied=!0,isChildOf(event.target,classSelector)&&onTouchStart.call(event.target,event)}),eventManager.addEventListener(this.instance.wtTable.holder,"touchend",function(event){that.instance.touchApplied=!1,isChildOf(event.target,classSelector)&&onTouchEnd.call(event.target,event)}),that.instance.momentumScrolling||(that.instance.momentumScrolling={}),eventManager.addEventListener(this.instance.wtTable.holder,"scroll",function(event){clearTimeout(that.instance.momentumScrolling._timeout),that.instance.momentumScrolling.ongoing||that.instance.getSetting("onBeforeTouchScroll"),that.instance.momentumScrolling.ongoing=!0,that.instance.momentumScrolling._timeout=setTimeout(function(){that.instance.touchApplied||(that.instance.momentumScrolling.ongoing=!1,that.instance.getSetting("onAfterMomentumScroll"))},200)})}eventManager.addEventListener(window,"resize",function(){"none"!==that.instance.getSetting("stretchH")&&that.instance.draw()}),this.destroy=function(){clearTimeout(this.dblClickTimeout[0]),clearTimeout(this.dblClickTimeout[1]),eventManager.destroy()}}Object.defineProperties(exports,{WalkontableEvent:{get:function(){return WalkontableEvent}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47__46__46__47_helpers_47_function__,$___46__46__47__46__46__47__46__46__47_helpers_47_browser__,$___46__46__47__46__46__47__46__46__47_eventManager__,$__0=($___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}),closestDown=$__0.closestDown,hasClass=$__0.hasClass,isChildOf=$__0.isChildOf,getParent=$__0.getParent,partial=($___46__46__47__46__46__47__46__46__47_helpers_47_function__=_dereq_("helpers/function"),$___46__46__47__46__46__47__46__46__47_helpers_47_function__&&$___46__46__47__46__46__47__46__46__47_helpers_47_function__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_function__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_function__}).partial,isMobileBrowser=($___46__46__47__46__46__47__46__46__47_helpers_47_browser__=_dereq_("helpers/browser"),$___46__46__47__46__46__47__46__46__47_helpers_47_browser__&&$___46__46__47__46__46__47__46__46__47_helpers_47_browser__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_browser__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_browser__}).isMobileBrowser,eventManagerObject=($___46__46__47__46__46__47__46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47__46__46__47__46__46__47_eventManager__&&$___46__46__47__46__46__47__46__46__47_eventManager__.__esModule&&$___46__46__47__46__46__47__46__46__47_eventManager__||{"default":$___46__46__47__46__46__47__46__46__47_eventManager__}).eventManager;WalkontableEvent.prototype.parentCell=function(elem){var cell={},TABLE=this.instance.wtTable.TABLE,TD=closestDown(elem,["TD","TH"],TABLE);return TD?(cell.coords=this.instance.wtTable.getCoords(TD),cell.TD=TD):hasClass(elem,"wtBorder")&&hasClass(elem,"current")?(cell.coords=this.instance.selections.current.cellRange.highlight,cell.TD=this.instance.wtTable.getCell(cell.coords)):hasClass(elem,"wtBorder")&&hasClass(elem,"area")&&this.instance.selections.area.cellRange&&(cell.coords=this.instance.selections.area.cellRange.to,cell.TD=this.instance.wtTable.getCell(cell.coords)),cell},window.WalkontableEvent=WalkontableEvent},{eventManager:42,"helpers/browser":44,"helpers/dom/element":47,"helpers/function":50}],10:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableColumnFilter:{get:function(){return WalkontableColumnFilter}},__esModule:{value:!0}});var WalkontableColumnFilter=function(offset,total,countTH){this.offset=offset,this.total=total,this.countTH=countTH};$traceurRuntime.createClass(WalkontableColumnFilter,{offsetted:function(index){return index+this.offset},unOffsetted:function(index){return index-this.offset},renderedToSource:function(index){return this.offsetted(index)},sourceToRendered:function(index){return this.unOffsetted(index)},offsettedTH:function(index){return index-this.countTH},unOffsettedTH:function(index){return index+this.countTH},visibleRowHeadedColumnToSourceColumn:function(index){return this.renderedToSource(this.offsettedTH(index))},sourceColumnToVisibleRowHeadedColumn:function(index){return this.unOffsettedTH(this.sourceToRendered(index))}},{}),window.WalkontableColumnFilter=WalkontableColumnFilter},{}],11:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableRowFilter:{get:function(){return WalkontableRowFilter}},__esModule:{value:!0}});var WalkontableRowFilter=function(offset,total,countTH){this.offset=offset,this.total=total,this.countTH=countTH};$traceurRuntime.createClass(WalkontableRowFilter,{offsetted:function(index){return index+this.offset},unOffsetted:function(index){return index-this.offset},renderedToSource:function(index){return this.offsetted(index)},sourceToRendered:function(index){return this.unOffsetted(index)},offsettedTH:function(index){return index-this.countTH},unOffsettedTH:function(index){return index+this.countTH},visibleColHeadedRowToSourceRow:function(index){return this.renderedToSource(this.offsettedTH(index))},sourceRowToVisibleColHeadedRow:function(index){return this.unOffsettedTH(this.sourceToRendered(index))}},{}),window.WalkontableRowFilter=WalkontableRowFilter},{}],12:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableOverlay:{get:function(){return WalkontableOverlay}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_object__,$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47__46__46__47__46__46__47_eventManager__,$__0=($___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}),getScrollableElement=$__0.getScrollableElement,getTrimmingContainer=$__0.getTrimmingContainer,defineGetter=($___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_object__&&$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_object__.__esModule&&$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_object__||{"default":$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_object__}).defineGetter,arrayEach=($___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_array__}).arrayEach,eventManagerObject=($___46__46__47__46__46__47__46__46__47__46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47__46__46__47__46__46__47__46__46__47_eventManager__&&$___46__46__47__46__46__47__46__46__47__46__46__47_eventManager__.__esModule&&$___46__46__47__46__46__47__46__46__47__46__46__47_eventManager__||{"default":$___46__46__47__46__46__47__46__46__47__46__46__47_eventManager__}).eventManager,registeredOverlays={},WalkontableOverlay=function(wotInstance){defineGetter(this,"wot",wotInstance,{writable:!1}),this.instance=this.wot,this.type="",this.mainTableScrollableElement=null,this.TABLE=this.wot.wtTable.TABLE,this.hider=this.wot.wtTable.hider,this.spreader=this.wot.wtTable.spreader,this.holder=this.wot.wtTable.holder,this.wtRootElement=this.wot.wtTable.wtRootElement,this.trimmingContainer=getTrimmingContainer(this.hider.parentNode.parentNode),this.areElementSizesAdjusted=!1,this.updateStateOfRendering()},$WalkontableOverlay=WalkontableOverlay;$traceurRuntime.createClass(WalkontableOverlay,{updateStateOfRendering:function(){var previousState=this.needFullRender;this.needFullRender=this.shouldBeRendered();var changed=previousState!==this.needFullRender;return changed&&!this.needFullRender&&this.reset(),changed},shouldBeRendered:function(){return!0},updateTrimmingContainer:function(){this.trimmingContainer=getTrimmingContainer(this.hider.parentNode.parentNode)},updateMainScrollableElement:function(){this.mainTableScrollableElement=getScrollableElement(this.wot.wtTable.TABLE)},makeClone:function(direction){if($WalkontableOverlay.CLONE_TYPES.indexOf(direction)===-1)throw new Error('Clone type "'+direction+'" is not supported.');var clone=document.createElement("DIV"),clonedTable=document.createElement("TABLE");clone.className="ht_clone_"+direction+" handsontable",clone.style.position="absolute",clone.style.top=0,clone.style.left=0,clone.style.overflow="hidden",clonedTable.className=this.wot.wtTable.TABLE.className,clone.appendChild(clonedTable),this.type=direction,this.wot.wtTable.wtRootElement.parentNode.appendChild(clone);var preventOverflow=this.wot.getSetting("preventOverflow");return preventOverflow===!0||"horizontal"===preventOverflow&&this.type===$WalkontableOverlay.CLONE_TOP||"vertical"===preventOverflow&&this.type===$WalkontableOverlay.CLONE_LEFT?this.mainTableScrollableElement=window:this.mainTableScrollableElement=getScrollableElement(this.wot.wtTable.TABLE),new Walkontable({cloneSource:this.wot,cloneOverlay:this,table:clonedTable})},refresh:function(){var fastDraw=void 0!==arguments[0]&&arguments[0],nextCycleRenderFlag=this.shouldBeRendered();this.clone&&(this.needFullRender||nextCycleRenderFlag)&&this.clone.draw(fastDraw),this.needFullRender=nextCycleRenderFlag},reset:function(){if(this.clone){var holder=this.clone.wtTable.holder,hider=this.clone.wtTable.hider,holderStyle=holder.style,hidderStyle=hider.style,rootStyle=holder.parentNode.style;arrayEach([holderStyle,hidderStyle,rootStyle],function(style){style.width="",style.height=""})}},destroy:function(){eventManagerObject(this.clone).destroy()}},{get CLONE_TOP(){return"top"},get CLONE_BOTTOM(){return"bottom"},get CLONE_LEFT(){return"left"},get CLONE_TOP_LEFT_CORNER(){return"top_left_corner"},get CLONE_BOTTOM_LEFT_CORNER(){return"bottom_left_corner"},get CLONE_DEBUG(){return"debug"},get CLONE_TYPES(){return[$WalkontableOverlay.CLONE_TOP,$WalkontableOverlay.CLONE_BOTTOM,$WalkontableOverlay.CLONE_LEFT,$WalkontableOverlay.CLONE_TOP_LEFT_CORNER,$WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER,$WalkontableOverlay.CLONE_DEBUG]},registerOverlay:function(type,overlayClass){if($WalkontableOverlay.CLONE_TYPES.indexOf(type)===-1)throw new Error("Unsupported overlay ("+type+").");registeredOverlays[type]=overlayClass},createOverlay:function(type,wot){return new registeredOverlays[type](wot)},isOverlayTypeOf:function(overlay,type){return!(!overlay||!registeredOverlays[type])&&overlay instanceof registeredOverlays[type]}}),window.WalkontableOverlay=WalkontableOverlay},{eventManager:42,"helpers/array":43,"helpers/dom/element":47,"helpers/object":53}],13:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableDebugOverlay:{get:function(){return WalkontableDebugOverlay}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,$___95_base__,addClass=($___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}).addClass,WalkontableOverlay=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).WalkontableOverlay,WalkontableDebugOverlay=function(wotInstance){$traceurRuntime.superConstructor($WalkontableDebugOverlay).call(this,wotInstance),this.clone=this.makeClone(WalkontableOverlay.CLONE_DEBUG),this.clone.wtTable.holder.style.opacity=.4,this.clone.wtTable.holder.style.textShadow="0 0 2px #ff0000",addClass(this.clone.wtTable.holder.parentNode,"wtDebugVisible")},$WalkontableDebugOverlay=WalkontableDebugOverlay;$traceurRuntime.createClass(WalkontableDebugOverlay,{},{},WalkontableOverlay),window.WalkontableDebugOverlay=WalkontableDebugOverlay,WalkontableOverlay.registerOverlay(WalkontableOverlay.CLONE_DEBUG,WalkontableDebugOverlay)},{_base:12,"helpers/dom/element":47}],14:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableLeftOverlay:{get:function(){return WalkontableLeftOverlay}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,$___95_base__,$__0=($___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}),addClass=$__0.addClass,getScrollbarWidth=$__0.getScrollbarWidth,getScrollLeft=$__0.getScrollLeft,getWindowScrollTop=$__0.getWindowScrollTop,hasClass=$__0.hasClass,outerWidth=$__0.outerWidth,innerHeight=$__0.innerHeight,removeClass=$__0.removeClass,setOverlayPosition=$__0.setOverlayPosition,resetCssTransform=$__0.resetCssTransform,WalkontableOverlay=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).WalkontableOverlay,WalkontableLeftOverlay=function(wotInstance){$traceurRuntime.superConstructor($WalkontableLeftOverlay).call(this,wotInstance),this.clone=this.makeClone(WalkontableOverlay.CLONE_LEFT)},$WalkontableLeftOverlay=WalkontableLeftOverlay;$traceurRuntime.createClass(WalkontableLeftOverlay,{shouldBeRendered:function(){return!(!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)},resetFixedPosition:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var overlayRoot=this.clone.wtTable.holder.parentNode,headerPosition=0,preventOverflow=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||preventOverflow&&"horizontal"===preventOverflow)headerPosition=this.getScrollPosition(),resetCssTransform(overlayRoot);else{var finalLeft,finalTop,box=this.wot.wtTable.hider.getBoundingClientRect(),left=Math.ceil(box.left),right=Math.ceil(box.right);finalTop=this.wot.wtTable.hider.style.top,finalTop=""===finalTop?0:finalTop,finalLeft=left<0&&right-overlayRoot.offsetWidth>0?-left:0,headerPosition=finalLeft,finalLeft+="px",setOverlayPosition(overlayRoot,finalLeft,finalTop)}this.adjustHeaderBordersPosition(headerPosition),this.adjustElementsSize()}},setScrollPosition:function(pos){this.mainTableScrollableElement===window?window.scrollTo(pos,getWindowScrollTop()):this.mainTableScrollableElement.scrollLeft=pos},onScroll:function(){this.wot.getSetting("onScrollVertically")},sumCellSizes:function(from,to){for(var sum=0,defaultColumnWidth=this.wot.wtSettings.defaultColumnWidth;from<to;)sum+=this.wot.wtTable.getStretchedColumnWidth(from)||defaultColumnWidth,from++;return sum},adjustElementsSize:function(){var force=void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||force)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),force||(this.areElementSizesAdjusted=!0))},adjustRootElementSize:function(){var tableWidth,masterHolder=this.wot.wtTable.holder,scrollbarHeight=masterHolder.clientHeight===masterHolder.offsetHeight?0:getScrollbarWidth(),overlayRoot=this.clone.wtTable.holder.parentNode,overlayRootStyle=overlayRoot.style,preventOverflow=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||"vertical"===preventOverflow){var height=this.wot.wtViewport.getWorkspaceHeight()-scrollbarHeight;height=Math.min(height,innerHeight(this.wot.wtTable.wtRootElement)),overlayRootStyle.height=height+"px"}else overlayRootStyle.height="";this.clone.wtTable.holder.style.height=overlayRootStyle.height,tableWidth=outerWidth(this.clone.wtTable.TABLE),overlayRootStyle.width=(0===tableWidth?tableWidth:tableWidth+4)+"px"},adjustRootChildrenSize:function(){var scrollbarWidth=getScrollbarWidth();this.clone.wtTable.hider.style.height=this.hider.style.height,this.clone.wtTable.holder.style.height=this.clone.wtTable.holder.parentNode.style.height,0===scrollbarWidth&&(scrollbarWidth=30),this.clone.wtTable.holder.style.width=parseInt(this.clone.wtTable.holder.parentNode.style.width,10)+scrollbarWidth+"px"},applyToDOM:function(){var total=this.wot.getSetting("totalColumns");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px";else{if(0!==total)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style.left="0"}this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()},syncOverlayOffset:function(){"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.top=""},scrollTo:function(sourceCol,beyondRendered){var newX=this.getTableParentOffset(),sourceInstance=this.wot.cloneSource?this.wot.cloneSource:this.wot,mainHolder=sourceInstance.wtTable.holder,scrollbarCompensation=0;beyondRendered&&mainHolder.offsetWidth!==mainHolder.clientWidth&&(scrollbarCompensation=getScrollbarWidth()),beyondRendered?(newX+=this.sumCellSizes(0,sourceCol+1),newX-=this.wot.wtViewport.getViewportWidth()):newX+=this.sumCellSizes(this.wot.getSetting("fixedColumnsLeft"),sourceCol),newX+=scrollbarCompensation,this.setScrollPosition(newX)},getTableParentOffset:function(){var preventOverflow=this.wot.getSetting("preventOverflow"),offset=0;return preventOverflow||this.trimmingContainer!==window||(offset=this.wot.wtTable.holderOffset.left),offset},getScrollPosition:function(){return getScrollLeft(this.mainTableScrollableElement)},adjustHeaderBordersPosition:function(position){
var masterParent=this.wot.wtTable.holder.parentNode,rowHeaders=this.wot.getSetting("rowHeaders"),fixedColumnsLeft=this.wot.getSetting("fixedColumnsLeft"),totalRows=this.wot.getSetting("totalRows");if(totalRows?removeClass(masterParent,"emptyRows"):addClass(masterParent,"emptyRows"),fixedColumnsLeft&&!rowHeaders.length)addClass(masterParent,"innerBorderLeft");else if(!fixedColumnsLeft&&rowHeaders.length){var previousState=hasClass(masterParent,"innerBorderLeft");position?addClass(masterParent,"innerBorderLeft"):removeClass(masterParent,"innerBorderLeft"),(!previousState&&position||previousState&&!position)&&this.wot.wtOverlays.adjustElementsSize()}}},{},WalkontableOverlay),window.WalkontableLeftOverlay=WalkontableLeftOverlay,WalkontableOverlay.registerOverlay(WalkontableOverlay.CLONE_LEFT,WalkontableLeftOverlay)},{_base:12,"helpers/dom/element":47}],15:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableTopOverlay:{get:function(){return WalkontableTopOverlay}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,$___95_base__,$__0=($___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}),addClass=$__0.addClass,getScrollbarWidth=$__0.getScrollbarWidth,getScrollTop=$__0.getScrollTop,getWindowScrollLeft=$__0.getWindowScrollLeft,hasClass=$__0.hasClass,outerHeight=$__0.outerHeight,innerWidth=$__0.innerWidth,removeClass=$__0.removeClass,setOverlayPosition=$__0.setOverlayPosition,resetCssTransform=$__0.resetCssTransform,WalkontableOverlay=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).WalkontableOverlay,WalkontableTopOverlay=function(wotInstance){$traceurRuntime.superConstructor($WalkontableTopOverlay).call(this,wotInstance),this.clone=this.makeClone(WalkontableOverlay.CLONE_TOP)},$WalkontableTopOverlay=WalkontableTopOverlay;$traceurRuntime.createClass(WalkontableTopOverlay,{shouldBeRendered:function(){return!(!this.wot.getSetting("fixedRowsTop")&&!this.wot.getSetting("columnHeaders").length)},resetFixedPosition:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var overlayRoot=this.clone.wtTable.holder.parentNode,headerPosition=0,preventOverflow=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||preventOverflow&&"vertical"===preventOverflow)headerPosition=this.getScrollPosition(),resetCssTransform(overlayRoot);else{var finalLeft,finalTop,box=this.wot.wtTable.hider.getBoundingClientRect(),top=Math.ceil(box.top),bottom=Math.ceil(box.bottom);finalLeft=this.wot.wtTable.hider.style.left,finalLeft=""===finalLeft?0:finalLeft,finalTop=top<0&&bottom-overlayRoot.offsetHeight>0?-top:0,headerPosition=finalTop,finalTop+="px",setOverlayPosition(overlayRoot,finalLeft,finalTop)}this.adjustHeaderBordersPosition(headerPosition),this.adjustElementsSize()}},setScrollPosition:function(pos){this.mainTableScrollableElement===window?window.scrollTo(getWindowScrollLeft(),pos):this.mainTableScrollableElement.scrollTop=pos},onScroll:function(){this.wot.getSetting("onScrollHorizontally")},sumCellSizes:function(from,to){for(var sum=0,defaultRowHeight=this.wot.wtSettings.settings.defaultRowHeight;from<to;){var height=this.wot.wtTable.getRowHeight(from);sum+=void 0===height?defaultRowHeight:height,from++}return sum},adjustElementsSize:function(){var force=void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||force)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),force||(this.areElementSizesAdjusted=!0))},adjustRootElementSize:function(){var tableHeight,masterHolder=this.wot.wtTable.holder,scrollbarWidth=masterHolder.clientWidth===masterHolder.offsetWidth?0:getScrollbarWidth(),overlayRoot=this.clone.wtTable.holder.parentNode,overlayRootStyle=overlayRoot.style,preventOverflow=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||"horizontal"===preventOverflow){var width=this.wot.wtViewport.getWorkspaceWidth()-scrollbarWidth;width=Math.min(width,innerWidth(this.wot.wtTable.wtRootElement)),overlayRootStyle.width=width+"px"}else overlayRootStyle.width="";this.clone.wtTable.holder.style.width=overlayRootStyle.width,tableHeight=outerHeight(this.clone.wtTable.TABLE),overlayRootStyle.height=(0===tableHeight?tableHeight:tableHeight+4)+"px"},adjustRootChildrenSize:function(){var scrollbarWidth=getScrollbarWidth();this.clone.wtTable.hider.style.width=this.hider.style.width,this.clone.wtTable.holder.style.width=this.clone.wtTable.holder.parentNode.style.width,0===scrollbarWidth&&(scrollbarWidth=30),this.clone.wtTable.holder.style.height=parseInt(this.clone.wtTable.holder.parentNode.style.height,10)+scrollbarWidth+"px"},applyToDOM:function(){var total=this.wot.getSetting("totalRows");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px";else{if(0!==total)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()},syncOverlayOffset:function(){"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.left=""},scrollTo:function(sourceRow,bottomEdge){var newY=this.getTableParentOffset(),sourceInstance=this.wot.cloneSource?this.wot.cloneSource:this.wot,mainHolder=sourceInstance.wtTable.holder,scrollbarCompensation=0;if(bottomEdge&&mainHolder.offsetHeight!==mainHolder.clientHeight&&(scrollbarCompensation=getScrollbarWidth()),bottomEdge){var fixedRowsBottom=this.wot.getSetting("fixedRowsBottom"),totalRows=(this.wot.getSetting("fixedRowsTop"),this.wot.getSetting("totalRows"));newY+=this.sumCellSizes(0,sourceRow+1),newY-=this.wot.wtViewport.getViewportHeight()-this.sumCellSizes(totalRows-fixedRowsBottom,totalRows),newY+=1}else newY+=this.sumCellSizes(this.wot.getSetting("fixedRowsTop"),sourceRow);newY+=scrollbarCompensation,this.setScrollPosition(newY)},getTableParentOffset:function(){return this.mainTableScrollableElement===window?this.wot.wtTable.holderOffset.top:0},getScrollPosition:function(){return getScrollTop(this.mainTableScrollableElement)},adjustHeaderBordersPosition:function(position){var masterParent=this.wot.wtTable.holder.parentNode,totalColumns=this.wot.getSetting("totalColumns");if(totalColumns?removeClass(masterParent,"emptyColumns"):addClass(masterParent,"emptyColumns"),0===this.wot.getSetting("fixedRowsTop")&&this.wot.getSetting("columnHeaders").length>0){var previousState=hasClass(masterParent,"innerBorderTop");position||0===this.wot.getSetting("totalRows")?addClass(masterParent,"innerBorderTop"):removeClass(masterParent,"innerBorderTop"),(!previousState&&position||previousState&&!position)&&this.wot.wtOverlays.adjustElementsSize()}if(0===this.wot.getSetting("rowHeaders").length){var secondHeaderCell=this.clone.wtTable.THEAD.querySelectorAll("th:nth-of-type(2)");if(secondHeaderCell)for(var i=0;i<secondHeaderCell.length;i++)secondHeaderCell[i].style["border-left-width"]=0}}},{},WalkontableOverlay),window.WalkontableTopOverlay=WalkontableTopOverlay,WalkontableOverlay.registerOverlay(WalkontableOverlay.CLONE_TOP,WalkontableTopOverlay)},{_base:12,"helpers/dom/element":47}],16:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableTopLeftCornerOverlay:{get:function(){return WalkontableTopLeftCornerOverlay}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,$___95_base__,$__0=($___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}),outerHeight=$__0.outerHeight,outerWidth=$__0.outerWidth,setOverlayPosition=$__0.setOverlayPosition,resetCssTransform=$__0.resetCssTransform,WalkontableOverlay=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).WalkontableOverlay,WalkontableTopLeftCornerOverlay=function(wotInstance){$traceurRuntime.superConstructor($WalkontableTopLeftCornerOverlay).call(this,wotInstance),this.clone=this.makeClone(WalkontableOverlay.CLONE_TOP_LEFT_CORNER)},$WalkontableTopLeftCornerOverlay=WalkontableTopLeftCornerOverlay;$traceurRuntime.createClass(WalkontableTopLeftCornerOverlay,{shouldBeRendered:function(){return!(!this.wot.getSetting("fixedRowsTop")&&!this.wot.getSetting("columnHeaders").length||!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)},resetFixedPosition:function(){if(this.updateTrimmingContainer(),this.wot.wtTable.holder.parentNode){var overlayRoot=this.clone.wtTable.holder.parentNode,tableHeight=outerHeight(this.clone.wtTable.TABLE),tableWidth=outerWidth(this.clone.wtTable.TABLE),preventOverflow=this.wot.getSetting("preventOverflow");if(this.trimmingContainer===window){var box=this.wot.wtTable.hider.getBoundingClientRect(),top=Math.ceil(box.top),left=Math.ceil(box.left),bottom=Math.ceil(box.bottom),right=Math.ceil(box.right),finalLeft="0",finalTop="0";preventOverflow&&"vertical"!==preventOverflow||left<0&&right-overlayRoot.offsetWidth>0&&(finalLeft=-left+"px"),preventOverflow&&"horizontal"!==preventOverflow||top<0&&bottom-overlayRoot.offsetHeight>0&&(finalTop=-top+"px"),setOverlayPosition(overlayRoot,finalLeft,finalTop)}else resetCssTransform(overlayRoot);overlayRoot.style.height=(0===tableHeight?tableHeight:tableHeight+4)+"px",overlayRoot.style.width=(0===tableWidth?tableWidth:tableWidth+4)+"px"}}},{},WalkontableOverlay),window.WalkontableTopLeftCornerOverlay=WalkontableTopLeftCornerOverlay,WalkontableOverlay.registerOverlay(WalkontableOverlay.CLONE_TOP_LEFT_CORNER,WalkontableTopLeftCornerOverlay)},{_base:12,"helpers/dom/element":47}],17:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableOverlays:{get:function(){return WalkontableOverlays}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47__46__46__47_helpers_47_unicode__,$___46__46__47__46__46__47__46__46__47_helpers_47_browser__,$___46__46__47__46__46__47__46__46__47_eventManager__,$__0=($___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}),getScrollableElement=$__0.getScrollableElement,getScrollbarWidth=$__0.getScrollbarWidth,getScrollLeft=$__0.getScrollLeft,getScrollTop=$__0.getScrollTop,arrayEach=($___46__46__47__46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_array__}).arrayEach,isKey=($___46__46__47__46__46__47__46__46__47_helpers_47_unicode__=_dereq_("helpers/unicode"),$___46__46__47__46__46__47__46__46__47_helpers_47_unicode__&&$___46__46__47__46__46__47__46__46__47_helpers_47_unicode__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_unicode__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_unicode__}).isKey,isMobileBrowser=($___46__46__47__46__46__47__46__46__47_helpers_47_browser__=_dereq_("helpers/browser"),$___46__46__47__46__46__47__46__46__47_helpers_47_browser__&&$___46__46__47__46__46__47__46__46__47_helpers_47_browser__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_browser__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_browser__}).isMobileBrowser,EventManager=($___46__46__47__46__46__47__46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47__46__46__47__46__46__47_eventManager__&&$___46__46__47__46__46__47__46__46__47_eventManager__.__esModule&&$___46__46__47__46__46__47__46__46__47_eventManager__||{"default":$___46__46__47__46__46__47__46__46__47_eventManager__}).EventManager,WalkontableOverlays=function(wotInstance){this.wot=wotInstance,this.instance=this.wot,this.eventManager=new EventManager(this.wot),this.wot.update("scrollbarWidth",getScrollbarWidth()),this.wot.update("scrollbarHeight",getScrollbarWidth()),this.scrollableElement=getScrollableElement(this.wot.wtTable.TABLE),this.prepareOverlays(),this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.overlayScrollPositions={master:{top:0,left:0},top:{top:null,left:0},bottom:{top:null,left:0},left:{top:0,left:null}},this.pendingScrollCallbacks={master:{top:0,left:0},top:{left:0},bottom:{left:0},left:{top:0}},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.delegatedScrollCallback=!1,this.registeredListeners=[],this.registerListeners()};$traceurRuntime.createClass(WalkontableOverlays,{prepareOverlays:function(){var syncScroll=!1;return this.topOverlay?syncScroll=this.topOverlay.updateStateOfRendering()||syncScroll:this.topOverlay=WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_TOP,this.wot),"undefined"==typeof WalkontableBottomOverlay&&(this.bottomOverlay={needFullRender:!1,updateStateOfRendering:function(){return!1}}),"undefined"==typeof WalkontableBottomLeftCornerOverlay&&(this.bottomLeftCornerOverlay={needFullRender:!1,updateStateOfRendering:function(){return!1}}),this.bottomOverlay?syncScroll=this.bottomOverlay.updateStateOfRendering()||syncScroll:this.bottomOverlay=WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_BOTTOM,this.wot),this.leftOverlay?syncScroll=this.leftOverlay.updateStateOfRendering()||syncScroll:this.leftOverlay=WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_LEFT,this.wot),this.topOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.topLeftCornerOverlay?syncScroll=this.topLeftCornerOverlay.updateStateOfRendering()||syncScroll:this.topLeftCornerOverlay=WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_TOP_LEFT_CORNER,this.wot)),this.bottomOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.bottomLeftCornerOverlay?syncScroll=this.bottomLeftCornerOverlay.updateStateOfRendering()||syncScroll:this.bottomLeftCornerOverlay=WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER,this.wot)),this.wot.getSetting("debug")&&!this.debug&&(this.debug=WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_DEBUG,this.wot)),syncScroll},refreshAll:function(){if(this.wot.drawn){if(!this.wot.wtTable.holder.parentNode)return void this.destroy();this.wot.draw(!0),this.verticalScrolling&&this.leftOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}},registerListeners:function(){var $__5=this,topOverlayScrollable=this.topOverlay.mainTableScrollableElement,leftOverlayScrollable=this.leftOverlay.mainTableScrollableElement,listenersToRegister=[];for(listenersToRegister.push([document.documentElement,"keydown",function(event){return $__5.onKeyDown(event)}]),listenersToRegister.push([document.documentElement,"keyup",function(){return $__5.onKeyUp()}]),listenersToRegister.push([document,"visibilitychange",function(){return $__5.onKeyUp()}]),listenersToRegister.push([topOverlayScrollable,"scroll",function(event){return $__5.onTableScroll(event)}]),topOverlayScrollable!==leftOverlayScrollable&&listenersToRegister.push([leftOverlayScrollable,"scroll",function(event){return $__5.onTableScroll(event)}]),this.topOverlay.needFullRender&&(listenersToRegister.push([this.topOverlay.clone.wtTable.holder,"scroll",function(event){return $__5.onTableScroll(event)}]),listenersToRegister.push([this.topOverlay.clone.wtTable.holder,"wheel",function(event){return $__5.onTableScroll(event)}])),this.bottomOverlay.needFullRender&&(listenersToRegister.push([this.bottomOverlay.clone.wtTable.holder,"scroll",function(event){return $__5.onTableScroll(event)}]),listenersToRegister.push([this.bottomOverlay.clone.wtTable.holder,"wheel",function(event){return $__5.onTableScroll(event)}])),this.leftOverlay.needFullRender&&(listenersToRegister.push([this.leftOverlay.clone.wtTable.holder,"scroll",function(event){return $__5.onTableScroll(event)}]),listenersToRegister.push([this.leftOverlay.clone.wtTable.holder,"wheel",function(event){return $__5.onTableScroll(event)}])),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.needFullRender&&listenersToRegister.push([this.topLeftCornerOverlay.clone.wtTable.holder,"wheel",function(event){return $__5.onTableScroll(event)}]),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.needFullRender&&listenersToRegister.push([this.bottomLeftCornerOverlay.clone.wtTable.holder,"wheel",function(event){return $__5.onTableScroll(event)}]),this.topOverlay.trimmingContainer!==window&&this.leftOverlay.trimmingContainer!==window&&listenersToRegister.push([window,"wheel",function(event){var overlay,deltaY=event.wheelDeltaY||event.deltaY,deltaX=event.wheelDeltaX||event.deltaX;$__5.topOverlay.clone.wtTable.holder.contains(event.realTarget)?overlay="top":$__5.bottomOverlay.clone&&$__5.bottomOverlay.clone.wtTable.holder.contains(event.realTarget)?overlay="bottom":$__5.leftOverlay.clone.wtTable.holder.contains(event.realTarget)?overlay="left":$__5.topLeftCornerOverlay&&$__5.topLeftCornerOverlay.clone&&$__5.topLeftCornerOverlay.clone.wtTable.holder.contains(event.realTarget)?overlay="topLeft":$__5.bottomLeftCornerOverlay&&$__5.bottomLeftCornerOverlay.clone&&$__5.bottomLeftCornerOverlay.clone.wtTable.holder.contains(event.realTarget)&&(overlay="bottomLeft"),("top"==overlay&&0!==deltaY||"left"==overlay&&0!==deltaX||"bottom"==overlay&&0!==deltaY||("topLeft"===overlay||"bottomLeft"===overlay)&&(0!==deltaY||0!==deltaX))&&event.preventDefault()}]);listenersToRegister.length;){var listener=listenersToRegister.pop();this.eventManager.addEventListener(listener[0],listener[1],listener[2]),this.registeredListeners.push(listener)}},deregisterListeners:function(){for(;this.registeredListeners.length;){var listener=this.registeredListeners.pop();this.eventManager.removeEventListener(listener[0],listener[1],listener[2])}},onTableScroll:function(event){if(!isMobileBrowser()){var masterHorizontal=this.leftOverlay.mainTableScrollableElement,masterVertical=this.topOverlay.mainTableScrollableElement,target=event.target;this.keyPressed&&(masterVertical!==window&&target!==window&&!event.target.contains(masterVertical)||masterHorizontal!==window&&target!==window&&!event.target.contains(masterHorizontal))||("scroll"===event.type?this.syncScrollPositions(event):this.translateMouseWheelToScroll(event))}},onKeyDown:function(event){this.keyPressed=isKey(event.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")},onKeyUp:function(){this.keyPressed=!1},translateMouseWheelToScroll:function(event){var topOverlay=this.topOverlay.clone.wtTable.holder,bottomOverlay=this.bottomOverlay.clone?this.bottomOverlay.clone.wtTable.holder:null,leftOverlay=this.leftOverlay.clone.wtTable.holder,topLeftCornerOverlay=this.topLeftCornerOverlay&&this.topLeftCornerOverlay.clone?this.topLeftCornerOverlay.clone.wtTable.holder:null,bottomLeftCornerOverlay=this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone?this.bottomLeftCornerOverlay.clone.wtTable.holder:null,mouseWheelSpeedRatio=-.2,deltaY=event.wheelDeltaY||-1*event.deltaY,deltaX=event.wheelDeltaX||-1*event.deltaX,parentHolder=null,eventMockup={type:"wheel"},tempElem=event.target,delta=null;for(1===event.deltaMode&&(deltaY=120*deltaY,deltaX=120*deltaX);tempElem!=document&&null!=tempElem;){if(tempElem.className.indexOf("wtHolder")>-1){parentHolder=tempElem;break}tempElem=tempElem.parentNode}return eventMockup.target=parentHolder,parentHolder===topLeftCornerOverlay||parentHolder===bottomLeftCornerOverlay?(this.syncScrollPositions(eventMockup,mouseWheelSpeedRatio*deltaX,"x"),this.syncScrollPositions(eventMockup,mouseWheelSpeedRatio*deltaY,"y")):(parentHolder===topOverlay||parentHolder===bottomOverlay?delta=deltaY:parentHolder===leftOverlay&&(delta=deltaX),this.syncScrollPositions(eventMockup,mouseWheelSpeedRatio*delta)),!1},syncScrollPositions:function(event){var fakeScrollValue=void 0!==arguments[1]?arguments[1]:null,fakeScrollDirection=void 0!==arguments[2]?arguments[2]:null;if(!this.destroyed){if(0===arguments.length)return void this.syncScrollWithMaster();var topOverlay,leftOverlay,topLeftCornerOverlay,bottomLeftCornerOverlay,bottomOverlay,masterHorizontal=this.leftOverlay.mainTableScrollableElement,masterVertical=this.topOverlay.mainTableScrollableElement,target=event.target,tempScrollValue=0,scrollValueChanged=!1,delegatedScroll=!1,preventOverflow=this.wot.getSetting("preventOverflow");this.topOverlay.needFullRender&&(topOverlay=this.topOverlay.clone.wtTable.holder),this.bottomOverlay.needFullRender&&(bottomOverlay=this.bottomOverlay.clone.wtTable.holder),this.leftOverlay.needFullRender&&(leftOverlay=this.leftOverlay.clone.wtTable.holder),this.leftOverlay.needFullRender&&this.topOverlay.needFullRender&&(topLeftCornerOverlay=this.topLeftCornerOverlay.clone.wtTable.holder),this.leftOverlay.needFullRender&&this.bottomOverlay.needFullRender&&(bottomLeftCornerOverlay=this.bottomLeftCornerOverlay.clone.wtTable.holder),target===document&&(target=window),target===masterHorizontal||target===masterVertical?(tempScrollValue=getScrollLeft(preventOverflow?this.scrollableElement:target),this.horizontalScrolling=!0,this.overlayScrollPositions.master.left=tempScrollValue,scrollValueChanged=!0,this.pendingScrollCallbacks.master.left>0?this.pendingScrollCallbacks.master.left--:(topOverlay&&topOverlay.scrollLeft!==tempScrollValue&&(null==fakeScrollValue&&this.pendingScrollCallbacks.top.left++,topOverlay.scrollLeft=tempScrollValue,delegatedScroll=masterHorizontal!==window),bottomOverlay&&bottomOverlay.scrollLeft!==tempScrollValue&&(null==fakeScrollValue&&this.pendingScrollCallbacks.bottom.left++,bottomOverlay.scrollLeft=tempScrollValue,delegatedScroll=masterHorizontal!==window)),tempScrollValue=getScrollTop(target),this.verticalScrolling=!0,this.overlayScrollPositions.master.top=tempScrollValue,scrollValueChanged=!0,this.pendingScrollCallbacks.master.top>0?this.pendingScrollCallbacks.master.top--:leftOverlay&&leftOverlay.scrollTop!==tempScrollValue&&(null==fakeScrollValue&&this.pendingScrollCallbacks.left.top++,leftOverlay.scrollTop=tempScrollValue,delegatedScroll=masterVertical!==window)):target===bottomOverlay?(tempScrollValue=getScrollLeft(target),this.horizontalScrolling=!0,this.overlayScrollPositions.bottom.left=tempScrollValue,scrollValueChanged=!0,this.pendingScrollCallbacks.bottom.left>0?this.pendingScrollCallbacks.bottom.left--:(null==fakeScrollValue&&this.pendingScrollCallbacks.master.left++,masterHorizontal.scrollLeft=tempScrollValue,topOverlay&&topOverlay.scrollLeft!==tempScrollValue&&(null==fakeScrollValue&&this.pendingScrollCallbacks.top.left++,topOverlay.scrollLeft=tempScrollValue,delegatedScroll=masterVertical!==window)),null!==fakeScrollValue&&(scrollValueChanged=!0,masterVertical.scrollTop+=fakeScrollValue)):target===topOverlay?(tempScrollValue=getScrollLeft(target),this.horizontalScrolling=!0,this.overlayScrollPositions.top.left=tempScrollValue,scrollValueChanged=!0,this.pendingScrollCallbacks.top.left>0?this.pendingScrollCallbacks.top.left--:(null==fakeScrollValue&&this.pendingScrollCallbacks.master.left++,masterHorizontal.scrollLeft=tempScrollValue),null!==fakeScrollValue&&(scrollValueChanged=!0,masterVertical.scrollTop+=fakeScrollValue),bottomOverlay&&bottomOverlay.scrollLeft!==tempScrollValue&&(null==fakeScrollValue&&this.pendingScrollCallbacks.bottom.left++,bottomOverlay.scrollLeft=tempScrollValue,delegatedScroll=masterVertical!==window)):target===leftOverlay?(tempScrollValue=getScrollTop(target),this.overlayScrollPositions.left.top!==tempScrollValue&&(this.verticalScrolling=!0,this.overlayScrollPositions.left.top=tempScrollValue,scrollValueChanged=!0,this.pendingScrollCallbacks.left.top>0?this.pendingScrollCallbacks.left.top--:(null==fakeScrollValue&&this.pendingScrollCallbacks.master.top++,masterVertical.scrollTop=tempScrollValue)),null!==fakeScrollValue&&(scrollValueChanged=!0,masterVertical.scrollLeft+=fakeScrollValue)):target!==topLeftCornerOverlay&&target!==bottomLeftCornerOverlay||null!==fakeScrollValue&&(scrollValueChanged=!0,"x"===fakeScrollDirection?masterVertical.scrollLeft+=fakeScrollValue:"y"===fakeScrollDirection&&(masterVertical.scrollTop+=fakeScrollValue)),!this.keyPressed&&scrollValueChanged&&"scroll"===event.type&&(this.delegatedScrollCallback?this.delegatedScrollCallback=!1:this.refreshAll(),delegatedScroll&&(this.delegatedScrollCallback=!0))}},syncScrollWithMaster:function(){var master=this.topOverlay.mainTableScrollableElement,$__7=master,scrollLeft=$__7.scrollLeft,scrollTop=$__7.scrollTop;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=scrollLeft),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=scrollLeft),this.leftOverlay.needFullRender&&(this.leftOverlay.clone.wtTable.holder.scrollTop=scrollTop)},updateMainScrollableElements:function(){this.deregisterListeners(),this.leftOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement(),this.scrollableElement=getScrollableElement(this.wot.wtTable.TABLE),this.registerListeners()},destroy:function(){this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.leftOverlay.destroy(),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.destroy(),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.destroy(),this.debug&&this.debug.destroy(),this.destroyed=!0},refresh:function(){var fastDraw=void 0!==arguments[0]&&arguments[0];if(this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted){var container=this.wot.wtTable.wtRootElement.parentNode||this.wot.wtTable.wtRootElement,width=container.clientWidth,height=container.clientHeight;width===this.spreaderLastSize.width&&height===this.spreaderLastSize.height||(this.spreaderLastSize.width=width,this.spreaderLastSize.height=height,this.adjustElementsSize())}this.bottomOverlay.clone&&this.bottomOverlay.refresh(fastDraw),this.leftOverlay.refresh(fastDraw),this.topOverlay.refresh(fastDraw),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.refresh(fastDraw),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.refresh(fastDraw),this.debug&&this.debug.refresh(fastDraw)},adjustElementsSize:function(){var force=void 0!==arguments[0]&&arguments[0],totalColumns=this.wot.getSetting("totalColumns"),totalRows=this.wot.getSetting("totalRows"),headerRowSize=this.wot.wtViewport.getRowHeaderWidth(),headerColumnSize=this.wot.wtViewport.getColumnHeaderHeight(),hiderStyle=this.wot.wtTable.hider.style;hiderStyle.width=headerRowSize+this.leftOverlay.sumCellSizes(0,totalColumns)+"px",hiderStyle.height=headerColumnSize+this.topOverlay.sumCellSizes(0,totalRows)+1+"px",this.topOverlay.adjustElementsSize(force),this.leftOverlay.adjustElementsSize(force),this.bottomOverlay.clone&&this.bottomOverlay.adjustElementsSize(force)},applyToDOM:function(){this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted||this.adjustElementsSize(),this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.leftOverlay.applyToDOM()},getParentOverlay:function(element){if(!element)return null;var overlays=[this.topOverlay,this.leftOverlay,this.bottomOverlay,this.topLeftCornerOverlay,this.bottomLeftCornerOverlay],result=null;return arrayEach(overlays,function(elem,i){elem&&elem.clone&&elem.clone.wtTable.TABLE.contains(element)&&(result=elem.clone)}),result}},{}),window.WalkontableOverlays=WalkontableOverlays},{eventManager:42,"helpers/array":43,"helpers/browser":44,"helpers/dom/element":47,"helpers/unicode":56}],18:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableScroll:{get:function(){return WalkontableScroll}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47__46__46__47_helpers_47_number__,$__0=($___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}),innerHeight=$__0.innerHeight,innerWidth=$__0.innerWidth,getScrollLeft=$__0.getScrollLeft,getScrollTop=$__0.getScrollTop,offset=$__0.offset,$__1=($___46__46__47__46__46__47__46__46__47_helpers_47_number__=_dereq_("helpers/number"),$___46__46__47__46__46__47__46__46__47_helpers_47_number__&&$___46__46__47__46__46__47__46__46__47_helpers_47_number__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_number__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_number__}),rangeEach=$__1.rangeEach,rangeEachReverse=$__1.rangeEachReverse,WalkontableScroll=function(wotInstance){this.wot=wotInstance,this.instance=wotInstance};$traceurRuntime.createClass(WalkontableScroll,{scrollViewport:function(coords){if(this.wot.drawn){var $__3=this._getVariables(),topOverlay=$__3.topOverlay,leftOverlay=$__3.leftOverlay,totalRows=$__3.totalRows,totalColumns=$__3.totalColumns,fixedRowsTop=$__3.fixedRowsTop,fixedRowsBottom=$__3.fixedRowsBottom,fixedColumnsLeft=$__3.fixedColumnsLeft;if(coords.row<0||coords.row>Math.max(totalRows-1,0))throw new Error("row "+coords.row+" does not exist");if(coords.col<0||coords.col>Math.max(totalColumns-1,0))throw new Error("column "+coords.col+" does not exist");coords.row>=fixedRowsTop&&coords.row<this.getFirstVisibleRow()?topOverlay.scrollTo(coords.row):coords.row>this.getLastVisibleRow()&&coords.row<totalRows-fixedRowsBottom&&topOverlay.scrollTo(coords.row,!0),coords.col>=fixedColumnsLeft&&coords.col<this.getFirstVisibleColumn()?leftOverlay.scrollTo(coords.col):coords.col>this.getLastVisibleColumn()&&leftOverlay.scrollTo(coords.col,!0)}},getFirstVisibleRow:function(){var $__3=this._getVariables(),topOverlay=$__3.topOverlay,wtTable=$__3.wtTable,wtViewport=$__3.wtViewport,totalRows=$__3.totalRows,fixedRowsTop=$__3.fixedRowsTop,firstVisibleRow=wtTable.getFirstVisibleRow();if(topOverlay.mainTableScrollableElement===window){var rootElementOffset=offset(wtTable.wtRootElement),totalTableHeight=innerHeight(wtTable.hider),windowHeight=innerHeight(window),windowScrollTop=getScrollTop(window);if(rootElementOffset.top+totalTableHeight-windowHeight<=windowScrollTop){var rowsHeight=wtViewport.getColumnHeaderHeight();rowsHeight+=topOverlay.sumCellSizes(0,fixedRowsTop),rangeEachReverse(totalRows,1,function(row){
if(rowsHeight+=topOverlay.sumCellSizes(row-1,row),rootElementOffset.top+totalTableHeight-rowsHeight<=windowScrollTop)return firstVisibleRow=row,!1})}}return firstVisibleRow},getLastVisibleRow:function(){var $__3=this._getVariables(),topOverlay=$__3.topOverlay,wtTable=$__3.wtTable,wtViewport=$__3.wtViewport,totalRows=$__3.totalRows,lastVisibleRow=wtTable.getLastVisibleRow();if(topOverlay.mainTableScrollableElement===window){var rootElementOffset=offset(wtTable.wtRootElement),windowHeight=innerHeight(window),windowScrollTop=getScrollTop(window);if(rootElementOffset.top>windowScrollTop){var rowsHeight=wtViewport.getColumnHeaderHeight();rangeEach(1,totalRows,function(row){if(rowsHeight+=topOverlay.sumCellSizes(row-1,row),rootElementOffset.top+rowsHeight-windowScrollTop>=windowHeight)return lastVisibleRow=row-2,!1})}}return lastVisibleRow},getFirstVisibleColumn:function(){var $__3=this._getVariables(),leftOverlay=$__3.leftOverlay,wtTable=$__3.wtTable,wtViewport=$__3.wtViewport,totalColumns=$__3.totalColumns,firstVisibleColumn=($__3.fixedColumnsLeft,wtTable.getFirstVisibleColumn());if(leftOverlay.mainTableScrollableElement===window){var rootElementOffset=offset(wtTable.wtRootElement),totalTableWidth=innerWidth(wtTable.hider),windowWidth=innerWidth(window),windowScrollLeft=getScrollLeft(window);if(rootElementOffset.left+totalTableWidth-windowWidth<=windowScrollLeft){var columnsWidth=wtViewport.getRowHeaderWidth();rangeEachReverse(totalColumns,1,function(column){if(columnsWidth+=leftOverlay.sumCellSizes(column-1,column),rootElementOffset.left+totalTableWidth-columnsWidth<=windowScrollLeft)return firstVisibleColumn=column,!1})}}return firstVisibleColumn},getLastVisibleColumn:function(){var $__3=this._getVariables(),leftOverlay=$__3.leftOverlay,wtTable=$__3.wtTable,wtViewport=$__3.wtViewport,totalColumns=$__3.totalColumns,lastVisibleColumn=wtTable.getLastVisibleColumn();if(leftOverlay.mainTableScrollableElement===window){var rootElementOffset=offset(wtTable.wtRootElement),windowWidth=innerWidth(window),windowScrollLeft=getScrollLeft(window);if(rootElementOffset.left>windowScrollLeft){var columnsWidth=wtViewport.getRowHeaderWidth();rangeEach(1,totalColumns,function(column){if(columnsWidth+=leftOverlay.sumCellSizes(column-1,column),rootElementOffset.left+columnsWidth-windowScrollLeft>=windowWidth)return lastVisibleColumn=column-2,!1})}}return lastVisibleColumn},_getVariables:function(){var wot=this.wot,topOverlay=wot.wtOverlays.topOverlay,leftOverlay=wot.wtOverlays.leftOverlay,wtTable=wot.wtTable,wtViewport=wot.wtViewport,totalRows=wot.getSetting("totalRows"),totalColumns=wot.getSetting("totalColumns"),fixedRowsTop=wot.getSetting("fixedRowsTop"),fixedRowsBottom=wot.getSetting("fixedRowsBottom"),fixedColumnsLeft=wot.getSetting("fixedColumnsLeft");return{topOverlay:topOverlay,leftOverlay:leftOverlay,wtTable:wtTable,wtViewport:wtViewport,totalRows:totalRows,totalColumns:totalColumns,fixedRowsTop:fixedRowsTop,fixedRowsBottom:fixedRowsBottom,fixedColumnsLeft:fixedColumnsLeft}}},{}),window.WalkontableScroll=WalkontableScroll},{"helpers/dom/element":47,"helpers/number":52}],19:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableSelection:{get:function(){return WalkontableSelection}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,$__border__,$__cell_47_coords__,$__cell_47_range__,addClass=($___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}).addClass,WalkontableBorder=($__border__=_dereq_("border"),$__border__&&$__border__.__esModule&&$__border__||{"default":$__border__}).WalkontableBorder,WalkontableCellCoords=($__cell_47_coords__=_dereq_("cell/coords"),$__cell_47_coords__&&$__cell_47_coords__.__esModule&&$__cell_47_coords__||{"default":$__cell_47_coords__}).WalkontableCellCoords,WalkontableCellRange=($__cell_47_range__=_dereq_("cell/range"),$__cell_47_range__&&$__cell_47_range__.__esModule&&$__cell_47_range__||{"default":$__cell_47_range__}).WalkontableCellRange,WalkontableSelection=function(settings,cellRange){this.settings=settings,this.cellRange=cellRange||null,this.instanceBorders={}};$traceurRuntime.createClass(WalkontableSelection,{getBorder:function(wotInstance){return this.instanceBorders[wotInstance.guid]?this.instanceBorders[wotInstance.guid]:void(this.instanceBorders[wotInstance.guid]=new WalkontableBorder(wotInstance,this.settings))},isEmpty:function(){return null===this.cellRange},add:function(coords){this.isEmpty()?this.cellRange=new WalkontableCellRange(coords,coords,coords):this.cellRange.expand(coords)},replace:function(oldCoords,newCoords){if(!this.isEmpty()){if(this.cellRange.from.isEqual(oldCoords))return this.cellRange.from=newCoords,!0;if(this.cellRange.to.isEqual(oldCoords))return this.cellRange.to=newCoords,!0}return!1},clear:function(){this.cellRange=null},getCorners:function(){var topLeft=this.cellRange.getTopLeftCorner(),bottomRight=this.cellRange.getBottomRightCorner();return[topLeft.row,topLeft.col,bottomRight.row,bottomRight.col]},addClassAtCoords:function(wotInstance,sourceRow,sourceColumn,className){var TD=wotInstance.wtTable.getCell(new WalkontableCellCoords(sourceRow,sourceColumn));"object"===("undefined"==typeof TD?"undefined":_typeof(TD))&&addClass(TD,className)},draw:function(wotInstance){if(this.isEmpty()){if(this.settings.border){var border=this.getBorder(wotInstance);border&&border.disappear()}}else{for(var sourceRow,sourceCol,TH,renderedRows=wotInstance.wtTable.getRenderedRowsCount(),renderedColumns=wotInstance.wtTable.getRenderedColumnsCount(),corners=this.getCorners(),column=0;column<renderedColumns;column++)if(sourceCol=wotInstance.wtTable.columnFilter.renderedToSource(column),sourceCol>=corners[1]&&sourceCol<=corners[3]&&(TH=wotInstance.wtTable.getColumnHeader(sourceCol))){var newClasses=[];this.settings.highlightHeaderClassName&&newClasses.push(this.settings.highlightHeaderClassName),this.settings.highlightColumnClassName&&newClasses.push(this.settings.highlightColumnClassName),addClass(TH,newClasses)}for(var row=0;row<renderedRows;row++){if(sourceRow=wotInstance.wtTable.rowFilter.renderedToSource(row),sourceRow>=corners[0]&&sourceRow<=corners[2]&&(TH=wotInstance.wtTable.getRowHeader(sourceRow))){var newClasses$__5=[];this.settings.highlightHeaderClassName&&newClasses$__5.push(this.settings.highlightHeaderClassName),this.settings.highlightRowClassName&&newClasses$__5.push(this.settings.highlightRowClassName),addClass(TH,newClasses$__5)}for(var column$__6=0;column$__6<renderedColumns;column$__6++)sourceCol=wotInstance.wtTable.columnFilter.renderedToSource(column$__6),sourceRow>=corners[0]&&sourceRow<=corners[2]&&sourceCol>=corners[1]&&sourceCol<=corners[3]?this.settings.className&&this.addClassAtCoords(wotInstance,sourceRow,sourceCol,this.settings.className):sourceRow>=corners[0]&&sourceRow<=corners[2]?this.settings.highlightRowClassName&&this.addClassAtCoords(wotInstance,sourceRow,sourceCol,this.settings.highlightRowClassName):sourceCol>=corners[1]&&sourceCol<=corners[3]&&this.settings.highlightColumnClassName&&this.addClassAtCoords(wotInstance,sourceRow,sourceCol,this.settings.highlightColumnClassName)}if(wotInstance.getSetting("onBeforeDrawBorders",corners,this.settings.className),this.settings.border){var border$__7=this.getBorder(wotInstance);border$__7&&border$__7.appear(corners)}}}},{}),window.WalkontableSelection=WalkontableSelection},{border:3,"cell/coords":6,"cell/range":7,"helpers/dom/element":47}],20:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableSettings:{get:function(){return WalkontableSettings}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,fastInnerText=($___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}).fastInnerText,WalkontableSettings=function(wotInstance,settings){var $__1=this;this.wot=wotInstance,this.instance=wotInstance,this.defaults={table:void 0,debug:!1,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow:function(){return!1},data:void 0,fixedColumnsLeft:0,fixedRowsTop:0,fixedRowsBottom:0,minSpareRows:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(row,column,TD){var cellData=$__1.getSetting("data",row,column);fastInnerText(TD,void 0===cellData||null===cellData?"":cellData)},columnWidth:function(col){},rowHeight:function(row){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellMouseOver:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:function(width){return width},onModifyRowHeaderWidth:null,scrollbarWidth:10,scrollbarHeight:10,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null},this.settings={};for(var i in this.defaults)if(this.defaults.hasOwnProperty(i))if(void 0!==settings[i])this.settings[i]=settings[i];else{if(void 0===this.defaults[i])throw new Error('A required setting "'+i+'" was not provided');this.settings[i]=this.defaults[i]}};$traceurRuntime.createClass(WalkontableSettings,{update:function(settings,value){if(void 0===value)for(var i in settings)settings.hasOwnProperty(i)&&(this.settings[i]=settings[i]);else this.settings[settings]=value;return this.wot},getSetting:function(key,param1,param2,param3,param4){return"function"==typeof this.settings[key]?this.settings[key](param1,param2,param3,param4):void 0!==param1&&Array.isArray(this.settings[key])?this.settings[key][param1]:this.settings[key]},has:function(key){return!!this.settings[key]}},{}),window.WalkontableSettings=WalkontableSettings},{"helpers/dom/element":47}],21:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableTable:{get:function(){return WalkontableTable}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47__46__46__47_helpers_47_function__,$__cell_47_coords__,$__cell_47_range__,$__filter_47_column__,$__filter_47_row__,$__tableRenderer__,$__0=($___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}),getStyle=$__0.getStyle,getTrimmingContainer=$__0.getTrimmingContainer,hasClass=$__0.hasClass,index=$__0.index,offset=$__0.offset,removeClass=$__0.removeClass,removeTextNodes=$__0.removeTextNodes,overlayContainsElement=$__0.overlayContainsElement,closest=$__0.closest,isFunction=($___46__46__47__46__46__47__46__46__47_helpers_47_function__=_dereq_("helpers/function"),$___46__46__47__46__46__47__46__46__47_helpers_47_function__&&$___46__46__47__46__46__47__46__46__47_helpers_47_function__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_function__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_function__}).isFunction,WalkontableCellCoords=($__cell_47_coords__=_dereq_("cell/coords"),$__cell_47_coords__&&$__cell_47_coords__.__esModule&&$__cell_47_coords__||{"default":$__cell_47_coords__}).WalkontableCellCoords,WalkontableColumnFilter=(($__cell_47_range__=_dereq_("cell/range"),$__cell_47_range__&&$__cell_47_range__.__esModule&&$__cell_47_range__||{"default":$__cell_47_range__}).WalkontableCellRange,($__filter_47_column__=_dereq_("filter/column"),$__filter_47_column__&&$__filter_47_column__.__esModule&&$__filter_47_column__||{"default":$__filter_47_column__}).WalkontableColumnFilter),WalkontableRowFilter=($__filter_47_row__=_dereq_("filter/row"),$__filter_47_row__&&$__filter_47_row__.__esModule&&$__filter_47_row__||{"default":$__filter_47_row__}).WalkontableRowFilter,WalkontableTableRenderer=($__tableRenderer__=_dereq_("tableRenderer"),$__tableRenderer__&&$__tableRenderer__.__esModule&&$__tableRenderer__||{"default":$__tableRenderer__}).WalkontableTableRenderer,WalkontableTable=function(wotInstance,table){var $__7=this;this.wot=wotInstance,this.instance=this.wot,this.TABLE=table,this.TBODY=null,this.THEAD=null,this.COLGROUP=null,this.tableOffset=0,this.holderOffset=0,removeTextNodes(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;var origRowHeaderWidth=this.wot.wtSettings.settings.rowHeaderWidth;this.wot.wtSettings.settings.rowHeaderWidth=function(){return $__7._modifyRowHeaderWidth(origRowHeaderWidth)}};$traceurRuntime.createClass(WalkontableTable,{fixTableDomTree:function(){this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=document.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=document.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=document.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.wot.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length&&this.THEAD.appendChild(document.createElement("TR"))},createSpreader:function(table){var spreader,parent=table.parentNode;return parent&&1===parent.nodeType&&hasClass(parent,"wtHolder")||(spreader=document.createElement("div"),spreader.className="wtSpreader",parent&&parent.insertBefore(spreader,table),spreader.appendChild(table)),spreader.style.position="relative",spreader},createHider:function(spreader){var hider,parent=spreader.parentNode;return parent&&1===parent.nodeType&&hasClass(parent,"wtHolder")||(hider=document.createElement("div"),hider.className="wtHider",parent&&parent.insertBefore(hider,spreader),hider.appendChild(spreader)),hider},createHolder:function(hider){var holder,parent=hider.parentNode;return parent&&1===parent.nodeType&&hasClass(parent,"wtHolder")||(holder=document.createElement("div"),holder.style.position="relative",holder.className="wtHolder",parent&&parent.insertBefore(holder,hider),this.isWorkingOnClone()||(holder.parentNode.className+="ht_master handsontable"),holder.appendChild(hider)),holder},alignOverlaysWithTrimmingContainer:function(){var trimmingElement=getTrimmingContainer(this.wtRootElement);if(!this.isWorkingOnClone())if(this.holder.parentNode.style.position="relative",trimmingElement===window){var preventOverflow=this.wot.getSetting("preventOverflow");preventOverflow||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible")}else this.holder.style.width=getStyle(trimmingElement,"width"),this.holder.style.height=getStyle(trimmingElement,"height"),this.holder.style.overflow=""},isWorkingOnClone:function(){return!!this.wot.cloneSource},draw:function(fastDraw){var $__9=this.wot,wtOverlays=$__9.wtOverlays,wtViewport=$__9.wtViewport,totalRows=this.instance.getSetting("totalRows"),rowHeaders=this.wot.getSetting("rowHeaders").length,columnHeaders=this.wot.getSetting("columnHeaders").length,syncScroll=!1;if(!this.isWorkingOnClone()&&(this.holderOffset=offset(this.holder),fastDraw=wtViewport.createRenderCalculators(fastDraw),rowHeaders&&!this.wot.getSetting("fixedColumnsLeft"))){var leftScrollPos=wtOverlays.leftOverlay.getScrollPosition(),previousState=this.correctHeaderWidth;this.correctHeaderWidth=leftScrollPos>0,previousState!==this.correctHeaderWidth&&(fastDraw=!1)}if(this.isWorkingOnClone()||(syncScroll=wtOverlays.prepareOverlays()),fastDraw)this.isWorkingOnClone()||wtViewport.createVisibleCalculators(),wtOverlays&&wtOverlays.refresh(!0);else{this.isWorkingOnClone()?this.tableOffset=this.wot.cloneSource.wtTable.tableOffset:this.tableOffset=offset(this.TABLE);var startRow;startRow=WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_DEBUG)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_TOP)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_TOP_LEFT_CORNER)?0:WalkontableOverlay.isOverlayTypeOf(this.instance.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM)||WalkontableOverlay.isOverlayTypeOf(this.instance.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER)?Math.max(totalRows-this.wot.getSetting("fixedRowsBottom"),0):wtViewport.rowsRenderCalculator.startRow;var startColumn;startColumn=WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_DEBUG)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_LEFT)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_TOP_LEFT_CORNER)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER)?0:wtViewport.columnsRenderCalculator.startColumn,this.rowFilter=new WalkontableRowFilter(startRow,totalRows,columnHeaders),this.columnFilter=new WalkontableColumnFilter(startColumn,this.wot.getSetting("totalColumns"),rowHeaders),this.alignOverlaysWithTrimmingContainer(),this._doDraw()}return this.refreshSelections(fastDraw),this.isWorkingOnClone()||(wtOverlays.topOverlay.resetFixedPosition(),wtOverlays.bottomOverlay.clone&&wtOverlays.bottomOverlay.resetFixedPosition(),wtOverlays.leftOverlay.resetFixedPosition(),wtOverlays.topLeftCornerOverlay&&wtOverlays.topLeftCornerOverlay.resetFixedPosition(),wtOverlays.bottomLeftCornerOverlay&&wtOverlays.bottomLeftCornerOverlay.clone&&wtOverlays.bottomLeftCornerOverlay.resetFixedPosition()),syncScroll&&wtOverlays.syncScrollWithMaster(),this.wot.drawn=!0,this},_doDraw:function(){var wtRenderer=new WalkontableTableRenderer(this);wtRenderer.render()},removeClassFromCells:function(className){for(var nodes=this.TABLE.querySelectorAll("."+className),i=0,len=nodes.length;i<len;i++)removeClass(nodes[i],className)},refreshSelections:function(fastDraw){if(this.wot.selections){var len=this.wot.selections.length;if(fastDraw)for(var i=0;i<len;i++)this.wot.selections[i].settings.className&&this.removeClassFromCells(this.wot.selections[i].settings.className),this.wot.selections[i].settings.highlightHeaderClassName&&this.removeClassFromCells(this.wot.selections[i].settings.highlightHeaderClassName),this.wot.selections[i].settings.highlightRowClassName&&this.removeClassFromCells(this.wot.selections[i].settings.highlightRowClassName),this.wot.selections[i].settings.highlightColumnClassName&&this.removeClassFromCells(this.wot.selections[i].settings.highlightColumnClassName);for(var i$__10=0;i$__10<len;i$__10++)this.wot.selections[i$__10].draw(this.wot,fastDraw)}},getCell:function(coords){if(this.isRowBeforeRenderedRows(coords.row))return-1;if(this.isRowAfterRenderedRows(coords.row))return-2;var TR=this.TBODY.childNodes[this.rowFilter.sourceToRendered(coords.row)];return TR?TR.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(coords.col)]:void 0},getColumnHeader:function(col){var level=void 0!==arguments[1]?arguments[1]:0,TR=this.THEAD.childNodes[level];if(TR)return TR.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(col)]},getRowHeader:function(row){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return null;var TR=this.TBODY.childNodes[this.rowFilter.sourceToRendered(row)];return TR?TR.childNodes[0]:void 0},getCoords:function(TD){"TD"!==TD.nodeName&&"TH"!==TD.nodeName&&(TD=closest(TD,["TD","TH"]));var TR=TD.parentNode,CONTAINER=TR.parentNode,row=index(TR),col=TD.cellIndex;return overlayContainsElement(WalkontableOverlay.CLONE_TOP_LEFT_CORNER,TD)||overlayContainsElement(WalkontableOverlay.CLONE_TOP,TD)?"THEAD"===CONTAINER.nodeName&&(row-=CONTAINER.childNodes.length):row=CONTAINER===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(row):this.rowFilter.renderedToSource(row),col=overlayContainsElement(WalkontableOverlay.CLONE_TOP_LEFT_CORNER,TD)||overlayContainsElement(WalkontableOverlay.CLONE_LEFT,TD)?this.columnFilter.offsettedTH(col):this.columnFilter.visibleRowHeadedColumnToSourceColumn(col),new WalkontableCellCoords(row,col)},getTrForRow:function(row){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(row)]},getFirstRenderedRow:function(){return this.wot.wtViewport.rowsRenderCalculator.startRow},getFirstVisibleRow:function(){return this.wot.wtViewport.rowsVisibleCalculator.startRow},getFirstRenderedColumn:function(){return this.wot.wtViewport.columnsRenderCalculator.startColumn},getFirstVisibleColumn:function(){return this.wot.wtViewport.columnsVisibleCalculator.startColumn},getLastRenderedRow:function(){return this.wot.wtViewport.rowsRenderCalculator.endRow},getLastVisibleRow:function(){return this.wot.wtViewport.rowsVisibleCalculator.endRow},getLastRenderedColumn:function(){return this.wot.wtViewport.columnsRenderCalculator.endColumn},getLastVisibleColumn:function(){return this.wot.wtViewport.columnsVisibleCalculator.endColumn},isRowBeforeRenderedRows:function(row){return this.rowFilter&&this.rowFilter.sourceToRendered(row)<0&&row>=0},isRowAfterViewport:function(row){return this.rowFilter&&this.rowFilter.sourceToRendered(row)>this.getLastVisibleRow()},isRowAfterRenderedRows:function(row){return this.rowFilter&&this.rowFilter.sourceToRendered(row)>this.getLastRenderedRow()},isColumnBeforeViewport:function(column){return this.columnFilter&&this.columnFilter.sourceToRendered(column)<0&&column>=0},isColumnAfterViewport:function(column){return this.columnFilter&&this.columnFilter.sourceToRendered(column)>this.getLastVisibleColumn()},isLastRowFullyVisible:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()},isLastColumnFullyVisible:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()},getRenderedColumnsCount:function(){var columnsCount=this.wot.wtViewport.columnsRenderCalculator.count,totalColumns=this.wot.getSetting("totalColumns");if(this.wot.isOverlayName(WalkontableOverlay.CLONE_DEBUG))columnsCount=totalColumns;else if(this.wot.isOverlayName(WalkontableOverlay.CLONE_LEFT)||this.wot.isOverlayName(WalkontableOverlay.CLONE_TOP_LEFT_CORNER)||this.wot.isOverlayName(WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER))return Math.min(this.wot.getSetting("fixedColumnsLeft"),totalColumns);return columnsCount},getRenderedRowsCount:function(){var rowsCount=this.wot.wtViewport.rowsRenderCalculator.count,totalRows=this.wot.getSetting("totalRows");return this.wot.isOverlayName(WalkontableOverlay.CLONE_DEBUG)?rowsCount=totalRows:this.wot.isOverlayName(WalkontableOverlay.CLONE_TOP)||this.wot.isOverlayName(WalkontableOverlay.CLONE_TOP_LEFT_CORNER)?rowsCount=Math.min(this.wot.getSetting("fixedRowsTop"),totalRows):(this.wot.isOverlayName(WalkontableOverlay.CLONE_BOTTOM)||this.wot.isOverlayName(WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER))&&(rowsCount=Math.min(this.wot.getSetting("fixedRowsBottom"),totalRows)),rowsCount},getVisibleRowsCount:function(){return this.wot.wtViewport.rowsVisibleCalculator.count},allRowsInViewport:function(){return this.wot.getSetting("totalRows")==this.getVisibleRowsCount()},getRowHeight:function(sourceRow){var height=this.wot.wtSettings.settings.rowHeight(sourceRow),oversizedHeight=this.wot.wtViewport.oversizedRows[sourceRow];return void 0!==oversizedHeight&&(height=void 0===height?oversizedHeight:Math.max(height,oversizedHeight)),height},getColumnHeaderHeight:function(level){var height=this.wot.wtSettings.settings.defaultRowHeight,oversizedHeight=this.wot.wtViewport.oversizedColumnHeaders[level];return void 0!==oversizedHeight&&(height=height?Math.max(height,oversizedHeight):oversizedHeight),height},getVisibleColumnsCount:function(){return this.wot.wtViewport.columnsVisibleCalculator.count},allColumnsInViewport:function(){return this.wot.getSetting("totalColumns")==this.getVisibleColumnsCount()},getColumnWidth:function(sourceColumn){var width=this.wot.wtSettings.settings.columnWidth;return"function"==typeof width?width=width(sourceColumn):"object"===("undefined"==typeof width?"undefined":_typeof(width))&&(width=width[sourceColumn]),width||this.wot.wtSettings.settings.defaultColumnWidth},getStretchedColumnWidth:function(sourceColumn){var columnWidth=this.getColumnWidth(sourceColumn),width=null==columnWidth?this.instance.wtSettings.settings.defaultColumnWidth:columnWidth,calculator=this.wot.wtViewport.columnsRenderCalculator;if(calculator){var stretchedWidth=calculator.getStretchedColumnWidth(sourceColumn,width);stretchedWidth&&(width=stretchedWidth)}return width},_modifyRowHeaderWidth:function(rowHeaderWidthFactory){var widths=isFunction(rowHeaderWidthFactory)?rowHeaderWidthFactory():null;return Array.isArray(widths)?(widths=$traceurRuntime.spread(widths),widths[widths.length-1]=this._correctRowHeaderWidth(widths[widths.length-1])):widths=this._correctRowHeaderWidth(widths),widths},_correctRowHeaderWidth:function(width){return"number"!=typeof width&&(width=this.wot.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&width++,width}},{}),window.WalkontableTable=WalkontableTable},{"cell/coords":6,"cell/range":7,"filter/column":10,"filter/row":11,"helpers/dom/element":47,"helpers/function":50,tableRenderer:22}],22:[function(_dereq_,module,exports){function replaceTdWithTh(TD,TR){var TH=document.createElement("TH");return TR.insertBefore(TH,TD),TR.removeChild(TD),TH}function replaceThWithTd(TH,TR){var TD=document.createElement("TD");return TR.insertBefore(TD,TH),TR.removeChild(TH),TD}Object.defineProperties(exports,{WalkontableTableRenderer:{get:function(){return WalkontableTableRenderer}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,$__0=($___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}),addClass=$__0.addClass,empty=$__0.empty,getScrollbarWidth=$__0.getScrollbarWidth,hasClass=$__0.hasClass,innerHeight=$__0.innerHeight,outerWidth=$__0.outerWidth,performanceWarningAppeared=!1,WalkontableTableRenderer=function(wtTable){this.wtTable=wtTable,this.wot=wtTable.instance,this.instance=wtTable.instance,this.rowFilter=wtTable.rowFilter,this.columnFilter=wtTable.columnFilter,this.TABLE=wtTable.TABLE,this.THEAD=wtTable.THEAD,this.TBODY=wtTable.TBODY,this.COLGROUP=wtTable.COLGROUP,this.rowHeaders=[],this.rowHeaderCount=0,this.columnHeaders=[],this.columnHeaderCount=0,this.fixedRowsTop=0,this.fixedRowsBottom=0};$traceurRuntime.createClass(WalkontableTableRenderer,{render:function(){if(!this.wtTable.isWorkingOnClone()){var skipRender={};if(this.wot.getSetting("beforeDraw",!0,skipRender),skipRender.skipRender===!0)return}this.rowHeaders=this.wot.getSetting("rowHeaders"),this.rowHeaderCount=this.rowHeaders.length,this.fixedRowsTop=this.wot.getSetting("fixedRowsTop"),this.fixedRowsBottom=this.wot.getSetting("fixedRowsBottom"),this.columnHeaders=this.wot.getSetting("columnHeaders"),this.columnHeaderCount=this.columnHeaders.length;var workspaceWidth,columnsToRender=this.wtTable.getRenderedColumnsCount(),rowsToRender=this.wtTable.getRenderedRowsCount(),totalColumns=this.wot.getSetting("totalColumns"),totalRows=this.wot.getSetting("totalRows"),adjusted=!1;if((WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER))&&(this.columnHeaders=[],this.columnHeaderCount=0),totalColumns>=0&&(this.adjustAvailableNodes(),adjusted=!0,this.renderColumnHeaders(),this.renderRows(totalRows,rowsToRender,columnsToRender),this.wtTable.isWorkingOnClone()||(workspaceWidth=this.wot.wtViewport.getWorkspaceWidth(),this.wot.wtViewport.containerWidth=null),this.adjustColumnWidths(columnsToRender),this.markOversizedColumnHeaders(),this.adjustColumnHeaderHeights()),adjusted||this.adjustAvailableNodes(),this.removeRedundantRows(rowsToRender),this.wtTable.isWorkingOnClone()&&!this.wot.isOverlayName(WalkontableOverlay.CLONE_BOTTOM)||this.markOversizedRows(),this.wtTable.isWorkingOnClone())this.wot.isOverlayName(WalkontableOverlay.CLONE_BOTTOM)&&this.wot.cloneSource.wtOverlays.adjustElementsSize();else{this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays.refresh(!1),this.wot.wtOverlays.applyToDOM();var hiderWidth=outerWidth(this.wtTable.hider),tableWidth=outerWidth(this.wtTable.TABLE);if(0!==hiderWidth&&tableWidth!==hiderWidth&&this.adjustColumnWidths(columnsToRender),workspaceWidth!==this.wot.wtViewport.getWorkspaceWidth()){this.wot.wtViewport.containerWidth=null;var firstRendered=this.wtTable.getFirstRenderedColumn(),lastRendered=this.wtTable.getLastRenderedColumn(),defaultColumnWidth=this.wot.getSetting("defaultColumnWidth"),rowHeaderWidthSetting=this.wot.getSetting("rowHeaderWidth");if(rowHeaderWidthSetting=this.instance.getSetting("onModifyRowHeaderWidth",rowHeaderWidthSetting),null!=rowHeaderWidthSetting)for(var i=0;i<this.rowHeaderCount;i++){var width=Array.isArray(rowHeaderWidthSetting)?rowHeaderWidthSetting[i]:rowHeaderWidthSetting;width=null==width?defaultColumnWidth:width,this.COLGROUP.childNodes[i].style.width=width+"px"}for(var i$__2=firstRendered;i$__2<lastRendered;i$__2++){var width$__3=this.wtTable.getStretchedColumnWidth(i$__2),renderedIndex=this.columnFilter.sourceToRendered(i$__2);this.COLGROUP.childNodes[renderedIndex+this.rowHeaderCount].style.width=width$__3+"px"}}this.wot.getSetting("onDraw",!0)}},removeRedundantRows:function(renderedRowsCount){for(;this.wtTable.tbodyChildrenLength>renderedRowsCount;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--},renderRows:function(totalRows,rowsToRender,columnsToRender){for(var lastTD,TR,visibleRowIndex=0,sourceRowIndex=this.rowFilter.renderedToSource(visibleRowIndex),isWorkingOnClone=this.wtTable.isWorkingOnClone();sourceRowIndex<totalRows&&sourceRowIndex>=0&&(!performanceWarningAppeared&&visibleRowIndex>1e3&&(performanceWarningAppeared=!0,console.warn('Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting the number of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.')),void 0===rowsToRender||visibleRowIndex!==rowsToRender);){if(TR=this.getOrCreateTrForRow(visibleRowIndex,TR),this.renderRowHeaders(sourceRowIndex,TR),this.adjustColumns(TR,columnsToRender+this.rowHeaderCount),lastTD=this.renderCells(sourceRowIndex,TR,columnsToRender),isWorkingOnClone&&!this.wot.isOverlayName(WalkontableOverlay.CLONE_BOTTOM)||this.resetOversizedRow(sourceRowIndex),
TR.firstChild){var height=this.wot.wtTable.getRowHeight(sourceRowIndex);height?(height--,TR.firstChild.style.height=height+"px"):TR.firstChild.style.height=""}visibleRowIndex++,sourceRowIndex=this.rowFilter.renderedToSource(visibleRowIndex)}},resetOversizedRow:function(sourceRow){this.wot.getSetting("externalRowCalculator")||this.wot.wtViewport.oversizedRows&&this.wot.wtViewport.oversizedRows[sourceRow]&&(this.wot.wtViewport.oversizedRows[sourceRow]=void 0)},markOversizedRows:function(){if(!this.wot.getSetting("externalRowCalculator")){var previousRowHeight,rowInnerHeight,sourceRowIndex,currentTr,rowHeader,rowCount=this.instance.wtTable.TBODY.childNodes.length,expectedTableHeight=rowCount*this.instance.wtSettings.settings.defaultRowHeight,actualTableHeight=innerHeight(this.instance.wtTable.TBODY)-1;this.instance.getSetting("totalRows");if(expectedTableHeight!==actualTableHeight||this.instance.getSetting("fixedRowsBottom"))for(;rowCount;)rowCount--,sourceRowIndex=this.instance.wtTable.rowFilter.renderedToSource(rowCount),previousRowHeight=this.instance.wtTable.getRowHeight(sourceRowIndex),currentTr=this.instance.wtTable.getTrForRow(sourceRowIndex),rowHeader=currentTr.querySelector("th"),rowInnerHeight=rowHeader?innerHeight(rowHeader):innerHeight(currentTr)-1,(!previousRowHeight&&this.instance.wtSettings.settings.defaultRowHeight<rowInnerHeight||previousRowHeight<rowInnerHeight)&&(this.instance.wtViewport.oversizedRows[sourceRowIndex]=++rowInnerHeight)}},markOversizedColumnHeaders:function(){var overlayName=this.wot.getOverlayName();if(this.columnHeaderCount&&!this.wot.wtViewport.hasOversizedColumnHeadersMarked[overlayName]&&!this.wtTable.isWorkingOnClone()){for(var columnCount=this.wtTable.getRenderedColumnsCount(),i=0;i<this.columnHeaderCount;i++)for(var renderedColumnIndex=-1*this.rowHeaderCount;renderedColumnIndex<columnCount;renderedColumnIndex++)this.markIfOversizedColumnHeader(renderedColumnIndex);this.wot.wtViewport.hasOversizedColumnHeadersMarked[overlayName]=!0}},adjustColumnHeaderHeights:function(){for(var columnHeaders=this.wot.getSetting("columnHeaders"),children=this.wot.wtTable.THEAD.childNodes,oversizedColumnHeaders=this.wot.wtViewport.oversizedColumnHeaders,i=0,len=columnHeaders.length;i<len;i++)if(oversizedColumnHeaders[i]){if(!children[i]||0===children[i].childNodes.length)return;children[i].childNodes[0].style.height=oversizedColumnHeaders[i]+"px"}},markIfOversizedColumnHeader:function(col){for(var previousColHeaderHeight,currentHeader,currentHeaderHeight,sourceColIndex=this.wot.wtTable.columnFilter.renderedToSource(col),level=this.columnHeaderCount,defaultRowHeight=this.wot.wtSettings.settings.defaultRowHeight,columnHeaderHeightSetting=this.wot.getSetting("columnHeaderHeight")||[];level;)level--,previousColHeaderHeight=this.wot.wtTable.getColumnHeaderHeight(level),currentHeader=this.wot.wtTable.getColumnHeader(sourceColIndex,level),currentHeader&&(currentHeaderHeight=innerHeight(currentHeader),(!previousColHeaderHeight&&defaultRowHeight<currentHeaderHeight||previousColHeaderHeight<currentHeaderHeight)&&(this.wot.wtViewport.oversizedColumnHeaders[level]=currentHeaderHeight),Array.isArray(columnHeaderHeightSetting)?null!=columnHeaderHeightSetting[level]&&(this.wot.wtViewport.oversizedColumnHeaders[level]=columnHeaderHeightSetting[level]):isNaN(columnHeaderHeightSetting)||(this.wot.wtViewport.oversizedColumnHeaders[level]=columnHeaderHeightSetting),this.wot.wtViewport.oversizedColumnHeaders[level]<(columnHeaderHeightSetting[level]||columnHeaderHeightSetting)&&(this.wot.wtViewport.oversizedColumnHeaders[level]=columnHeaderHeightSetting[level]||columnHeaderHeightSetting))},renderCells:function(sourceRowIndex,TR,columnsToRender){for(var TD,sourceColIndex,visibleColIndex=0;visibleColIndex<columnsToRender;visibleColIndex++)sourceColIndex=this.columnFilter.renderedToSource(visibleColIndex),TD=0===visibleColIndex?TR.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(sourceColIndex)]:TD.nextSibling,"TH"==TD.nodeName&&(TD=replaceThWithTd(TD,TR)),hasClass(TD,"hide")||(TD.className=""),TD.removeAttribute("style"),this.wot.wtSettings.settings.cellRenderer(sourceRowIndex,sourceColIndex,TD);return TD},adjustColumnWidths:function(columnsToRender){var scrollbarCompensation=0,sourceInstance=this.wot.cloneSource?this.wot.cloneSource:this.wot,mainHolder=sourceInstance.wtTable.holder,defaultColumnWidth=this.wot.getSetting("defaultColumnWidth"),rowHeaderWidthSetting=this.wot.getSetting("rowHeaderWidth");if(mainHolder.offsetHeight<mainHolder.scrollHeight&&(scrollbarCompensation=getScrollbarWidth()),this.wot.wtViewport.columnsRenderCalculator.refreshStretching(this.wot.wtViewport.getViewportWidth()-scrollbarCompensation),rowHeaderWidthSetting=this.instance.getSetting("onModifyRowHeaderWidth",rowHeaderWidthSetting),null!=rowHeaderWidthSetting)for(var i=0;i<this.rowHeaderCount;i++){var width=Array.isArray(rowHeaderWidthSetting)?rowHeaderWidthSetting[i]:rowHeaderWidthSetting;width=null==width?defaultColumnWidth:width,this.COLGROUP.childNodes[i].style.width=width+"px"}for(var renderedColIndex=0;renderedColIndex<columnsToRender;renderedColIndex++){var width$__4=this.wtTable.getStretchedColumnWidth(this.columnFilter.renderedToSource(renderedColIndex));this.COLGROUP.childNodes[renderedColIndex+this.rowHeaderCount].style.width=width$__4+"px"}},appendToTbody:function(TR){this.TBODY.appendChild(TR),this.wtTable.tbodyChildrenLength++},getOrCreateTrForRow:function(rowIndex,currentTr){var TR;return rowIndex>=this.wtTable.tbodyChildrenLength?(TR=this.createRow(),this.appendToTbody(TR)):TR=0===rowIndex?this.TBODY.firstChild:currentTr.nextSibling,TR.className&&TR.removeAttribute("class"),TR},createRow:function(){for(var TR=document.createElement("TR"),visibleColIndex=0;visibleColIndex<this.rowHeaderCount;visibleColIndex++)TR.appendChild(document.createElement("TH"));return TR},renderRowHeader:function(row,col,TH){TH.className="",TH.removeAttribute("style"),this.rowHeaders[col](row,TH,col)},renderRowHeaders:function(row,TR){for(var TH=TR.firstChild,visibleColIndex=0;visibleColIndex<this.rowHeaderCount;visibleColIndex++)TH?"TD"==TH.nodeName&&(TH=replaceTdWithTh(TH,TR)):(TH=document.createElement("TH"),TR.appendChild(TH)),this.renderRowHeader(row,visibleColIndex,TH),TH=TH.nextSibling},adjustAvailableNodes:function(){this.adjustColGroups(),this.adjustThead()},renderColumnHeaders:function(){if(this.columnHeaderCount)for(var columnCount=this.wtTable.getRenderedColumnsCount(),i=0;i<this.columnHeaderCount;i++)for(var TR=this.getTrForColumnHeaders(i),renderedColumnIndex=-1*this.rowHeaderCount;renderedColumnIndex<columnCount;renderedColumnIndex++){var sourceCol=this.columnFilter.renderedToSource(renderedColumnIndex);this.renderColumnHeader(i,sourceCol,TR.childNodes[renderedColumnIndex+this.rowHeaderCount])}},adjustColGroups:function(){for(var columnCount=this.wtTable.getRenderedColumnsCount();this.wtTable.colgroupChildrenLength<columnCount+this.rowHeaderCount;)this.COLGROUP.appendChild(document.createElement("COL")),this.wtTable.colgroupChildrenLength++;for(;this.wtTable.colgroupChildrenLength>columnCount+this.rowHeaderCount;)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.wtTable.colgroupChildrenLength--;this.rowHeaderCount&&addClass(this.COLGROUP.childNodes[0],"rowHeader")},adjustThead:function(){var columnCount=this.wtTable.getRenderedColumnsCount(),TR=this.THEAD.firstChild;if(this.columnHeaders.length){for(var i=0,len=this.columnHeaders.length;i<len;i++){for(TR=this.THEAD.childNodes[i],TR||(TR=document.createElement("TR"),this.THEAD.appendChild(TR)),this.theadChildrenLength=TR.childNodes.length;this.theadChildrenLength<columnCount+this.rowHeaderCount;)TR.appendChild(document.createElement("TH")),this.theadChildrenLength++;for(;this.theadChildrenLength>columnCount+this.rowHeaderCount;)TR.removeChild(TR.lastChild),this.theadChildrenLength--}var theadChildrenLength=this.THEAD.childNodes.length;if(theadChildrenLength>this.columnHeaders.length)for(var i$__5=this.columnHeaders.length;i$__5<theadChildrenLength;i$__5++)this.THEAD.removeChild(this.THEAD.lastChild)}else TR&&empty(TR)},getTrForColumnHeaders:function(index){return this.THEAD.childNodes[index]},renderColumnHeader:function(row,col,TH){return TH.className="",TH.removeAttribute("style"),this.columnHeaders[row](col,TH,row)},adjustColumns:function(TR,desiredCount){for(var count=TR.childNodes.length;count<desiredCount;){var TD=document.createElement("TD");TR.appendChild(TD),count++}for(;count>desiredCount;)TR.removeChild(TR.lastChild),count--},removeRedundantColumns:function(columnsToRender){for(;this.wtTable.tbodyChildrenLength>columnsToRender;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--}},{}),window.WalkontableTableRenderer=WalkontableTableRenderer},{"helpers/dom/element":47}],23:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableViewport:{get:function(){return WalkontableViewport}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47_browser__,$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47__46__46__47_helpers_47_object__,$___46__46__47__46__46__47__46__46__47_eventManager__,$__calculator_47_viewportColumns__,$__calculator_47_viewportRows__,Handsontable=($___46__46__47__46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47__46__46__47_browser__})["default"],$__1=($___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}),getScrollbarWidth=$__1.getScrollbarWidth,getStyle=($__1.getScrollTop,$__1.getStyle),offset=$__1.offset,outerHeight=$__1.outerHeight,outerWidth=$__1.outerWidth,objectEach=($___46__46__47__46__46__47__46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47__46__46__47__46__46__47_helpers_47_object__&&$___46__46__47__46__46__47__46__46__47_helpers_47_object__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_object__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_object__}).objectEach,EventManager=($___46__46__47__46__46__47__46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47__46__46__47__46__46__47_eventManager__&&$___46__46__47__46__46__47__46__46__47_eventManager__.__esModule&&$___46__46__47__46__46__47__46__46__47_eventManager__||{"default":$___46__46__47__46__46__47__46__46__47_eventManager__}).EventManager,WalkontableViewportColumnsCalculator=($__calculator_47_viewportColumns__=_dereq_("calculator/viewportColumns"),$__calculator_47_viewportColumns__&&$__calculator_47_viewportColumns__.__esModule&&$__calculator_47_viewportColumns__||{"default":$__calculator_47_viewportColumns__}).WalkontableViewportColumnsCalculator,WalkontableViewportRowsCalculator=($__calculator_47_viewportRows__=_dereq_("calculator/viewportRows"),$__calculator_47_viewportRows__&&$__calculator_47_viewportRows__.__esModule&&$__calculator_47_viewportRows__||{"default":$__calculator_47_viewportRows__}).WalkontableViewportRowsCalculator,WalkontableViewport=function(wotInstance){var $__6=this;this.wot=wotInstance,this.instance=this.wot,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=new EventManager(this.wot),this.eventManager.addEventListener(window,"resize",function(){$__6.clientHeight=$__6.getWorkspaceHeight()})};$traceurRuntime.createClass(WalkontableViewport,{getWorkspaceHeight:function(){var elemHeight,trimmingContainer=this.instance.wtOverlays.topOverlay.trimmingContainer,height=0;return trimmingContainer===window?height=document.documentElement.clientHeight:(elemHeight=outerHeight(trimmingContainer),height=elemHeight>0&&trimmingContainer.clientHeight>0?trimmingContainer.clientHeight:1/0),height},getWorkspaceWidth:function(){var width,overflow,totalColumns=this.wot.getSetting("totalColumns"),trimmingContainer=this.instance.wtOverlays.leftOverlay.trimmingContainer,stretchSetting=this.wot.getSetting("stretchH"),docOffsetWidth=document.documentElement.offsetWidth,preventOverflow=this.wot.getSetting("preventOverflow");return preventOverflow?outerWidth(this.instance.wtTable.wtRootElement):(width=Handsontable.freezeOverlays?Math.min(docOffsetWidth-this.getWorkspaceOffset().left,docOffsetWidth):Math.min(this.getContainerFillWidth(),docOffsetWidth-this.getWorkspaceOffset().left,docOffsetWidth),trimmingContainer===window&&totalColumns>0&&this.sumColumnWidths(0,totalColumns-1)>width?document.documentElement.clientWidth:trimmingContainer!==window&&(overflow=getStyle(this.instance.wtOverlays.leftOverlay.trimmingContainer,"overflow"),"scroll"==overflow||"hidden"==overflow||"auto"==overflow)?Math.max(width,trimmingContainer.clientWidth):"none"!==stretchSetting&&stretchSetting?width:Math.max(width,outerWidth(this.instance.wtTable.TABLE)))},hasVerticalScroll:function(){return this.getWorkspaceActualHeight()>this.getWorkspaceHeight()},hasHorizontalScroll:function(){return this.getWorkspaceActualWidth()>this.getWorkspaceWidth()},sumColumnWidths:function(from,length){for(var sum=0;from<length;)sum+=this.wot.wtTable.getColumnWidth(from),from++;return sum},getContainerFillWidth:function(){if(this.containerWidth)return this.containerWidth;var fillWidth,dummyElement,mainContainer=this.instance.wtTable.holder;return dummyElement=document.createElement("div"),dummyElement.style.width="100%",dummyElement.style.height="1px",mainContainer.appendChild(dummyElement),fillWidth=dummyElement.offsetWidth,this.containerWidth=fillWidth,mainContainer.removeChild(dummyElement),fillWidth},getWorkspaceOffset:function(){return offset(this.wot.wtTable.TABLE)},getWorkspaceActualHeight:function(){return outerHeight(this.wot.wtTable.TABLE)},getWorkspaceActualWidth:function(){return outerWidth(this.wot.wtTable.TABLE)||outerWidth(this.wot.wtTable.TBODY)||outerWidth(this.wot.wtTable.THEAD)},getColumnHeaderHeight:function(){return isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=outerHeight(this.wot.wtTable.THEAD)),this.columnHeaderHeight},getViewportHeight:function(){var columnHeaderHeight,containerHeight=this.getWorkspaceHeight();return containerHeight===1/0?containerHeight:(columnHeaderHeight=this.getColumnHeaderHeight(),columnHeaderHeight>0&&(containerHeight-=columnHeaderHeight),containerHeight)},getRowHeaderWidth:function(){var rowHeadersHeightSetting=this.instance.getSetting("rowHeaderWidth"),rowHeaders=this.instance.getSetting("rowHeaders");if(rowHeadersHeightSetting){this.rowHeaderWidth=0;for(var i=0,len=rowHeaders.length;i<len;i++)this.rowHeaderWidth+=rowHeadersHeightSetting[i]||rowHeadersHeightSetting}if(this.wot.cloneSource)return this.wot.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth))if(rowHeaders.length){var TH=this.instance.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var i$__8=0,len$__9=rowHeaders.length;i$__8<len$__9;i$__8++)TH?(this.rowHeaderWidth+=outerWidth(TH),TH=TH.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.instance.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth},getViewportWidth:function(){var rowHeaderWidth,containerWidth=this.getWorkspaceWidth();return containerWidth===1/0?containerWidth:(rowHeaderWidth=this.getRowHeaderWidth(),rowHeaderWidth>0?containerWidth-rowHeaderWidth:containerWidth)},createRowsCalculator:function(){var height,pos,fixedRowsTop,scrollbarHeight,fixedRowsBottom,fixedRowsHeight,totalRows,visible=void 0!==arguments[0]&&arguments[0],$__6=this;return this.rowHeaderWidth=NaN,height=this.wot.wtSettings.settings.renderAllRows?1/0:this.getViewportHeight(),pos=this.wot.wtOverlays.topOverlay.getScrollPosition()-this.wot.wtOverlays.topOverlay.getTableParentOffset(),pos<0&&(pos=0),fixedRowsTop=this.wot.getSetting("fixedRowsTop"),fixedRowsBottom=this.wot.getSetting("fixedRowsBottom"),totalRows=this.wot.getSetting("totalRows"),fixedRowsTop&&(fixedRowsHeight=this.wot.wtOverlays.topOverlay.sumCellSizes(0,fixedRowsTop),pos+=fixedRowsHeight,height-=fixedRowsHeight),fixedRowsBottom&&this.wot.wtOverlays.bottomOverlay.clone&&(fixedRowsHeight=this.wot.wtOverlays.bottomOverlay.sumCellSizes(totalRows-fixedRowsBottom,totalRows),height-=fixedRowsHeight),scrollbarHeight=this.wot.wtTable.holder.clientHeight===this.wot.wtTable.holder.offsetHeight?0:getScrollbarWidth(),new WalkontableViewportRowsCalculator(height,pos,this.wot.getSetting("totalRows"),function(sourceRow){return $__6.wot.wtTable.getRowHeight(sourceRow)},visible?null:this.wot.wtSettings.settings.viewportRowCalculatorOverride,visible,scrollbarHeight)},createColumnsCalculator:function(){var pos,fixedColumnsLeft,visible=void 0!==arguments[0]&&arguments[0],$__6=this,width=this.getViewportWidth();if(this.columnHeaderHeight=NaN,pos=this.wot.wtOverlays.leftOverlay.getScrollPosition()-this.wot.wtOverlays.leftOverlay.getTableParentOffset(),pos<0&&(pos=0),fixedColumnsLeft=this.wot.getSetting("fixedColumnsLeft")){var fixedColumnsWidth=this.wot.wtOverlays.leftOverlay.sumCellSizes(0,fixedColumnsLeft);pos+=fixedColumnsWidth,width-=fixedColumnsWidth}return this.wot.wtTable.holder.clientWidth!==this.wot.wtTable.holder.offsetWidth&&(width-=getScrollbarWidth()),new WalkontableViewportColumnsCalculator(width,pos,this.wot.getSetting("totalColumns"),function(sourceCol){return $__6.wot.wtTable.getColumnWidth(sourceCol)},visible?null:this.wot.wtSettings.settings.viewportColumnCalculatorOverride,visible,this.wot.getSetting("stretchH"),function(stretchedWidth,column){return $__6.wot.getSetting("onBeforeStretchingColumnWidth",stretchedWidth,column)})},createRenderCalculators:function(){var fastDraw=void 0!==arguments[0]&&arguments[0];if(fastDraw){var proposedRowsVisibleCalculator=this.createRowsCalculator(!0),proposedColumnsVisibleCalculator=this.createColumnsCalculator(!0);this.areAllProposedVisibleRowsAlreadyRendered(proposedRowsVisibleCalculator)&&this.areAllProposedVisibleColumnsAlreadyRendered(proposedColumnsVisibleCalculator)||(fastDraw=!1)}return fastDraw||(this.rowsRenderCalculator=this.createRowsCalculator(),this.columnsRenderCalculator=this.createColumnsCalculator()),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,fastDraw},createVisibleCalculators:function(){this.rowsVisibleCalculator=this.createRowsCalculator(!0),this.columnsVisibleCalculator=this.createColumnsCalculator(!0)},areAllProposedVisibleRowsAlreadyRendered:function(proposedRowsVisibleCalculator){return!!this.rowsVisibleCalculator&&(!(proposedRowsVisibleCalculator.startRow<this.rowsRenderCalculator.startRow||proposedRowsVisibleCalculator.startRow===this.rowsRenderCalculator.startRow&&proposedRowsVisibleCalculator.startRow>0)&&!(proposedRowsVisibleCalculator.endRow>this.rowsRenderCalculator.endRow||proposedRowsVisibleCalculator.endRow===this.rowsRenderCalculator.endRow&&proposedRowsVisibleCalculator.endRow<this.wot.getSetting("totalRows")-1))},areAllProposedVisibleColumnsAlreadyRendered:function(proposedColumnsVisibleCalculator){return!!this.columnsVisibleCalculator&&(!(proposedColumnsVisibleCalculator.startColumn<this.columnsRenderCalculator.startColumn||proposedColumnsVisibleCalculator.startColumn===this.columnsRenderCalculator.startColumn&&proposedColumnsVisibleCalculator.startColumn>0)&&!(proposedColumnsVisibleCalculator.endColumn>this.columnsRenderCalculator.endColumn||proposedColumnsVisibleCalculator.endColumn===this.columnsRenderCalculator.endColumn&&proposedColumnsVisibleCalculator.endColumn<this.wot.getSetting("totalColumns")-1))},resetHasOversizedColumnHeadersMarked:function(){objectEach(this.hasOversizedColumnHeadersMarked,function(value,key,object){object[key]=void 0})}},{}),window.WalkontableViewport=WalkontableViewport},{browser:24,"calculator/viewportColumns":4,"calculator/viewportRows":5,eventManager:42,"helpers/dom/element":47,"helpers/object":53}],24:[function(_dereq_,module,exports){function Handsontable(rootElement,userSettings){var instance=new Handsontable.Core(rootElement,userSettings||{});return instance.init(),instance}var $__shims_47_runtime__,$__es6collections__,$__pluginHooks__,$__numbro__,$__moment__,$__core__,$__renderers_47__95_cellDecorator__,$__cellTypes__,$___46__46__47_plugins_47_jqueryHandsontable__,$__helpers_47_array__,$__helpers_47_browser__,$__helpers_47_data__,$__helpers_47_date__,$__helpers_47_feature__,$__helpers_47_function__,$__helpers_47_mixed__,$__helpers_47_number__,$__helpers_47_object__,$__helpers_47_setting__,$__helpers_47_string__,$__helpers_47_unicode__,$__helpers_47_dom_47_element__,$__helpers_47_dom_47_event__,$__plugins__;module.exports=Handsontable,Handsontable.utils={},$__shims_47_runtime__=_dereq_("shims/runtime"),$__shims_47_runtime__&&$__shims_47_runtime__.__esModule&&$__shims_47_runtime__||{"default":$__shims_47_runtime__},$__es6collections__=_dereq_("es6collections"),$__es6collections__&&$__es6collections__.__esModule&&$__es6collections__||{"default":$__es6collections__};var Hooks=($__pluginHooks__=_dereq_("pluginHooks"),$__pluginHooks__&&$__pluginHooks__.__esModule&&$__pluginHooks__||{"default":$__pluginHooks__}).Hooks,numbro=($__numbro__=_dereq_("numbro"),$__numbro__&&$__numbro__.__esModule&&$__numbro__||{"default":$__numbro__})["default"],moment=($__moment__=_dereq_("moment"),$__moment__&&$__moment__.__esModule&&$__moment__||{"default":$__moment__})["default"];"object"===("undefined"==typeof window?"undefined":_typeof(window))&&("undefined"==typeof window.numbro&&(window.numbro=numbro),"undefined"==typeof window.moment&&(window.moment=moment)),Handsontable.hooks||(Handsontable.hooks=new Hooks),Handsontable.utils.Hooks=Hooks,$__core__=_dereq_("core"),$__core__&&$__core__.__esModule&&$__core__||{"default":$__core__},$__renderers_47__95_cellDecorator__=_dereq_("renderers/_cellDecorator"),$__renderers_47__95_cellDecorator__&&$__renderers_47__95_cellDecorator__.__esModule&&$__renderers_47__95_cellDecorator__||{"default":$__renderers_47__95_cellDecorator__},$__cellTypes__=_dereq_("cellTypes"),$__cellTypes__&&$__cellTypes__.__esModule&&$__cellTypes__||{"default":$__cellTypes__},$___46__46__47_plugins_47_jqueryHandsontable__=_dereq_("plugins/jqueryHandsontable"),$___46__46__47_plugins_47_jqueryHandsontable__&&$___46__46__47_plugins_47_jqueryHandsontable__.__esModule&&$___46__46__47_plugins_47_jqueryHandsontable__||{"default":$___46__46__47_plugins_47_jqueryHandsontable__};var arrayHelpers=($__helpers_47_array__=_dereq_("helpers/array"),$__helpers_47_array__&&$__helpers_47_array__.__esModule&&$__helpers_47_array__||{"default":$__helpers_47_array__}),browserHelpers=($__helpers_47_browser__=_dereq_("helpers/browser"),$__helpers_47_browser__&&$__helpers_47_browser__.__esModule&&$__helpers_47_browser__||{"default":$__helpers_47_browser__}),dataHelpers=($__helpers_47_data__=_dereq_("helpers/data"),$__helpers_47_data__&&$__helpers_47_data__.__esModule&&$__helpers_47_data__||{"default":$__helpers_47_data__}),dateHelpers=($__helpers_47_date__=_dereq_("helpers/date"),$__helpers_47_date__&&$__helpers_47_date__.__esModule&&$__helpers_47_date__||{"default":$__helpers_47_date__}),featureHelpers=($__helpers_47_feature__=_dereq_("helpers/feature"),$__helpers_47_feature__&&$__helpers_47_feature__.__esModule&&$__helpers_47_feature__||{"default":$__helpers_47_feature__}),functionHelpers=($__helpers_47_function__=_dereq_("helpers/function"),$__helpers_47_function__&&$__helpers_47_function__.__esModule&&$__helpers_47_function__||{"default":$__helpers_47_function__}),mixedHelpers=($__helpers_47_mixed__=_dereq_("helpers/mixed"),$__helpers_47_mixed__&&$__helpers_47_mixed__.__esModule&&$__helpers_47_mixed__||{"default":$__helpers_47_mixed__}),numberHelpers=($__helpers_47_number__=_dereq_("helpers/number"),$__helpers_47_number__&&$__helpers_47_number__.__esModule&&$__helpers_47_number__||{"default":$__helpers_47_number__}),objectHelpers=($__helpers_47_object__=_dereq_("helpers/object"),$__helpers_47_object__&&$__helpers_47_object__.__esModule&&$__helpers_47_object__||{"default":$__helpers_47_object__}),settingHelpers=($__helpers_47_setting__=_dereq_("helpers/setting"),$__helpers_47_setting__&&$__helpers_47_setting__.__esModule&&$__helpers_47_setting__||{"default":$__helpers_47_setting__}),stringHelpers=($__helpers_47_string__=_dereq_("helpers/string"),$__helpers_47_string__&&$__helpers_47_string__.__esModule&&$__helpers_47_string__||{"default":$__helpers_47_string__}),unicodeHelpers=($__helpers_47_unicode__=_dereq_("helpers/unicode"),$__helpers_47_unicode__&&$__helpers_47_unicode__.__esModule&&$__helpers_47_unicode__||{"default":$__helpers_47_unicode__}),domHelpers=($__helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$__helpers_47_dom_47_element__&&$__helpers_47_dom_47_element__.__esModule&&$__helpers_47_dom_47_element__||{"default":$__helpers_47_dom_47_element__}),domEventHelpers=($__helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$__helpers_47_dom_47_event__&&$__helpers_47_dom_47_event__.__esModule&&$__helpers_47_dom_47_event__||{"default":$__helpers_47_dom_47_event__}),HELPERS=[arrayHelpers,browserHelpers,dataHelpers,dateHelpers,featureHelpers,functionHelpers,mixedHelpers,numberHelpers,objectHelpers,settingHelpers,stringHelpers,unicodeHelpers],DOM=[domHelpers,domEventHelpers];Handsontable.buildDate="Tue Feb 14 2017 11:18:55 GMT+0100 (CET)",Handsontable.packageName="handsontable-pro",Handsontable.version="1.10.0";var baseVersion="0.31.0";/^@@/.test(baseVersion)||(Handsontable.baseVersion=baseVersion),Handsontable.plugins={};var registerPlugin=($__plugins__=_dereq_("plugins"),$__plugins__&&$__plugins__.__esModule&&$__plugins__||{"default":$__plugins__}).registerPlugin;Handsontable.plugins.registerPlugin=registerPlugin,Handsontable.helper={},Handsontable.dom={},Handsontable.Dom=Handsontable.dom,arrayHelpers.arrayEach(HELPERS,function(helper){arrayHelpers.arrayEach(Object.getOwnPropertyNames(helper),function(key){"_"!==key.charAt(0)&&(Handsontable.helper[key]=helper[key])})}),arrayHelpers.arrayEach(DOM,function(helper){arrayHelpers.arrayEach(Object.getOwnPropertyNames(helper),function(key){"_"!==key.charAt(0)&&(Handsontable.dom[key]=helper[key])})})},{cellTypes:25,core:26,es6collections:"es6collections","helpers/array":43,"helpers/browser":44,"helpers/data":45,"helpers/date":46,"helpers/dom/element":47,"helpers/dom/event":48,"helpers/feature":49,"helpers/function":50,"helpers/mixed":51,"helpers/number":52,"helpers/object":53,"helpers/setting":54,"helpers/string":55,"helpers/unicode":56,moment:"moment",numbro:"numbro",pluginHooks:61,plugins:62,"plugins/jqueryHandsontable":2,"renderers/_cellDecorator":119,"shims/runtime":126}],25:[function(_dereq_,module,exports){var $__helpers_47_browser__,$__editors__,$__renderers__,$__editors_47_autocompleteEditor__,$__editors_47_checkboxEditor__,$__editors_47_dateEditor__,$__editors_47_dropdownEditor__,$__editors_47_handsontableEditor__,$__editors_47_mobileTextEditor__,$__editors_47_numericEditor__,$__editors_47_passwordEditor__,$__editors_47_selectEditor__,$__editors_47_textEditor__,$__renderers_47_autocompleteRenderer__,$__renderers_47_checkboxRenderer__,$__renderers_47_htmlRenderer__,$__renderers_47_numericRenderer__,$__renderers_47_passwordRenderer__,$__renderers_47_textRenderer__,$__validators_47_autocompleteValidator__,$__validators_47_dateValidator__,$__validators_47_timeValidator__,$__validators_47_numericValidator__,$__browser__,isMobileBrowser=($__helpers_47_browser__=_dereq_("helpers/browser"),$__helpers_47_browser__&&$__helpers_47_browser__.__esModule&&$__helpers_47_browser__||{"default":$__helpers_47_browser__}).isMobileBrowser,getEditorConstructor=($__editors__=_dereq_("editors"),$__editors__&&$__editors__.__esModule&&$__editors__||{"default":$__editors__}).getEditorConstructor,getRenderer=($__renderers__=_dereq_("renderers"),$__renderers__&&$__renderers__.__esModule&&$__renderers__||{"default":$__renderers__}).getRenderer,Handsontable=(($__editors_47_autocompleteEditor__=_dereq_("editors/autocompleteEditor"),$__editors_47_autocompleteEditor__&&$__editors_47_autocompleteEditor__.__esModule&&$__editors_47_autocompleteEditor__||{"default":$__editors_47_autocompleteEditor__}).AutocompleteEditor,($__editors_47_checkboxEditor__=_dereq_("editors/checkboxEditor"),$__editors_47_checkboxEditor__&&$__editors_47_checkboxEditor__.__esModule&&$__editors_47_checkboxEditor__||{"default":$__editors_47_checkboxEditor__}).CheckboxEditor,($__editors_47_dateEditor__=_dereq_("editors/dateEditor"),$__editors_47_dateEditor__&&$__editors_47_dateEditor__.__esModule&&$__editors_47_dateEditor__||{"default":$__editors_47_dateEditor__}).DateEditor,($__editors_47_dropdownEditor__=_dereq_("editors/dropdownEditor"),$__editors_47_dropdownEditor__&&$__editors_47_dropdownEditor__.__esModule&&$__editors_47_dropdownEditor__||{"default":$__editors_47_dropdownEditor__}).DropdownEditor,($__editors_47_handsontableEditor__=_dereq_("editors/handsontableEditor"),$__editors_47_handsontableEditor__&&$__editors_47_handsontableEditor__.__esModule&&$__editors_47_handsontableEditor__||{"default":$__editors_47_handsontableEditor__}).HandsontableEditor,($__editors_47_mobileTextEditor__=_dereq_("editors/mobileTextEditor"),$__editors_47_mobileTextEditor__&&$__editors_47_mobileTextEditor__.__esModule&&$__editors_47_mobileTextEditor__||{"default":$__editors_47_mobileTextEditor__}).MobileTextEditor,($__editors_47_numericEditor__=_dereq_("editors/numericEditor"),$__editors_47_numericEditor__&&$__editors_47_numericEditor__.__esModule&&$__editors_47_numericEditor__||{"default":$__editors_47_numericEditor__}).NumericEditor,($__editors_47_passwordEditor__=_dereq_("editors/passwordEditor"),$__editors_47_passwordEditor__&&$__editors_47_passwordEditor__.__esModule&&$__editors_47_passwordEditor__||{"default":$__editors_47_passwordEditor__}).PasswordEditor,($__editors_47_selectEditor__=_dereq_("editors/selectEditor"),$__editors_47_selectEditor__&&$__editors_47_selectEditor__.__esModule&&$__editors_47_selectEditor__||{"default":$__editors_47_selectEditor__}).SelectEditor,($__editors_47_textEditor__=_dereq_("editors/textEditor"),$__editors_47_textEditor__&&$__editors_47_textEditor__.__esModule&&$__editors_47_textEditor__||{"default":$__editors_47_textEditor__}).TextEditor,($__renderers_47_autocompleteRenderer__=_dereq_("renderers/autocompleteRenderer"),$__renderers_47_autocompleteRenderer__&&$__renderers_47_autocompleteRenderer__.__esModule&&$__renderers_47_autocompleteRenderer__||{"default":$__renderers_47_autocompleteRenderer__}).AutocompleteRenderer,($__renderers_47_checkboxRenderer__=_dereq_("renderers/checkboxRenderer"),$__renderers_47_checkboxRenderer__&&$__renderers_47_checkboxRenderer__.__esModule&&$__renderers_47_checkboxRenderer__||{"default":$__renderers_47_checkboxRenderer__}).CheckboxRenderer,($__renderers_47_htmlRenderer__=_dereq_("renderers/htmlRenderer"),$__renderers_47_htmlRenderer__&&$__renderers_47_htmlRenderer__.__esModule&&$__renderers_47_htmlRenderer__||{"default":$__renderers_47_htmlRenderer__}).HtmlRenderer,($__renderers_47_numericRenderer__=_dereq_("renderers/numericRenderer"),$__renderers_47_numericRenderer__&&$__renderers_47_numericRenderer__.__esModule&&$__renderers_47_numericRenderer__||{"default":$__renderers_47_numericRenderer__}).NumericRenderer,($__renderers_47_passwordRenderer__=_dereq_("renderers/passwordRenderer"),$__renderers_47_passwordRenderer__&&$__renderers_47_passwordRenderer__.__esModule&&$__renderers_47_passwordRenderer__||{"default":$__renderers_47_passwordRenderer__
}).PasswordRenderer,($__renderers_47_textRenderer__=_dereq_("renderers/textRenderer"),$__renderers_47_textRenderer__&&$__renderers_47_textRenderer__.__esModule&&$__renderers_47_textRenderer__||{"default":$__renderers_47_textRenderer__}).TextRenderer,($__validators_47_autocompleteValidator__=_dereq_("validators/autocompleteValidator"),$__validators_47_autocompleteValidator__&&$__validators_47_autocompleteValidator__.__esModule&&$__validators_47_autocompleteValidator__||{"default":$__validators_47_autocompleteValidator__}).AutocompleteValidator,($__validators_47_dateValidator__=_dereq_("validators/dateValidator"),$__validators_47_dateValidator__&&$__validators_47_dateValidator__.__esModule&&$__validators_47_dateValidator__||{"default":$__validators_47_dateValidator__}).DateValidator,($__validators_47_timeValidator__=_dereq_("validators/timeValidator"),$__validators_47_timeValidator__&&$__validators_47_timeValidator__.__esModule&&$__validators_47_timeValidator__||{"default":$__validators_47_timeValidator__}).TimeValidator,($__validators_47_numericValidator__=_dereq_("validators/numericValidator"),$__validators_47_numericValidator__&&$__validators_47_numericValidator__.__esModule&&$__validators_47_numericValidator__||{"default":$__validators_47_numericValidator__}).NumericValidator,($__browser__=_dereq_("browser"),$__browser__&&$__browser__.__esModule&&$__browser__||{"default":$__browser__})["default"]);Handsontable.AutocompleteCell={editor:getEditorConstructor("autocomplete"),renderer:getRenderer("autocomplete"),validator:Handsontable.AutocompleteValidator},Handsontable.CheckboxCell={editor:getEditorConstructor("checkbox"),renderer:getRenderer("checkbox")},Handsontable.TextCell={editor:getEditorConstructor(isMobileBrowser()?"mobile":"text"),renderer:getRenderer("text")},Handsontable.NumericCell={editor:getEditorConstructor("numeric"),renderer:getRenderer("numeric"),validator:Handsontable.NumericValidator,dataType:"number"},Handsontable.DateCell={editor:getEditorConstructor("date"),validator:Handsontable.DateValidator,renderer:getRenderer("autocomplete")},Handsontable.TimeCell={editor:getEditorConstructor("text"),validator:Handsontable.TimeValidator,renderer:getRenderer("text")},Handsontable.HandsontableCell={editor:getEditorConstructor("handsontable"),renderer:getRenderer("autocomplete")},Handsontable.PasswordCell={editor:getEditorConstructor("password"),renderer:getRenderer("password"),copyable:!1},Handsontable.DropdownCell={editor:getEditorConstructor("dropdown"),renderer:getRenderer("autocomplete"),validator:Handsontable.AutocompleteValidator},Handsontable.cellTypes={text:Handsontable.TextCell,date:Handsontable.DateCell,time:Handsontable.TimeCell,numeric:Handsontable.NumericCell,checkbox:Handsontable.CheckboxCell,autocomplete:Handsontable.AutocompleteCell,handsontable:Handsontable.HandsontableCell,password:Handsontable.PasswordCell,dropdown:Handsontable.DropdownCell},Handsontable.cellLookup={validator:{numeric:Handsontable.NumericValidator,autocomplete:Handsontable.AutocompleteValidator}}},{browser:24,editors:30,"editors/autocompleteEditor":32,"editors/checkboxEditor":33,"editors/dateEditor":34,"editors/dropdownEditor":35,"editors/handsontableEditor":36,"editors/mobileTextEditor":37,"editors/numericEditor":38,"editors/passwordEditor":39,"editors/selectEditor":40,"editors/textEditor":41,"helpers/browser":44,renderers:118,"renderers/autocompleteRenderer":120,"renderers/checkboxRenderer":121,"renderers/htmlRenderer":122,"renderers/numericRenderer":123,"renderers/passwordRenderer":124,"renderers/textRenderer":125,"validators/autocompleteValidator":135,"validators/dateValidator":136,"validators/numericValidator":137,"validators/timeValidator":138}],26:[function(_dereq_,module,exports){var $__browser__,$__numbro__,$__helpers_47_dom_47_element__,$__helpers_47_setting__,$__helpers_47_function__,$__helpers_47_mixed__,$__helpers_47_browser__,$__dataMap__,$__editorManager__,$__eventManager__,$__helpers_47_object__,$__helpers_47_array__,$__plugins__,$__renderers__,$__helpers_47_string__,$__helpers_47_number__,$__tableView__,$__dataSource__,$__helpers_47_data__,$__utils_47_recordTranslator__,$__3rdparty_47_walkontable_47_src_47_cell_47_coords__,$__3rdparty_47_walkontable_47_src_47_cell_47_range__,$__3rdparty_47_walkontable_47_src_47_calculator_47_viewportColumns__,Handsontable=($__browser__=_dereq_("browser"),$__browser__&&$__browser__.__esModule&&$__browser__||{"default":$__browser__})["default"],numbro=($__numbro__=_dereq_("numbro"),$__numbro__&&$__numbro__.__esModule&&$__numbro__||{"default":$__numbro__})["default"],$__2=($__helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$__helpers_47_dom_47_element__&&$__helpers_47_dom_47_element__.__esModule&&$__helpers_47_dom_47_element__||{"default":$__helpers_47_dom_47_element__}),addClass=$__2.addClass,empty=$__2.empty,isChildOfWebComponentTable=$__2.isChildOfWebComponentTable,removeClass=$__2.removeClass,columnFactory=($__helpers_47_setting__=_dereq_("helpers/setting"),$__helpers_47_setting__&&$__helpers_47_setting__.__esModule&&$__helpers_47_setting__||{"default":$__helpers_47_setting__}).columnFactory,isFunction=($__helpers_47_function__=_dereq_("helpers/function"),$__helpers_47_function__&&$__helpers_47_function__.__esModule&&$__helpers_47_function__||{"default":$__helpers_47_function__}).isFunction,$__5=($__helpers_47_mixed__=_dereq_("helpers/mixed"),$__helpers_47_mixed__&&$__helpers_47_mixed__.__esModule&&$__helpers_47_mixed__||{"default":$__helpers_47_mixed__}),isDefined=$__5.isDefined,isUndefined=$__5.isUndefined,isMobileBrowser=($__helpers_47_browser__=_dereq_("helpers/browser"),$__helpers_47_browser__&&$__helpers_47_browser__.__esModule&&$__helpers_47_browser__||{"default":$__helpers_47_browser__}).isMobileBrowser,DataMap=($__dataMap__=_dereq_("dataMap"),$__dataMap__&&$__dataMap__.__esModule&&$__dataMap__||{"default":$__dataMap__}).DataMap,EditorManager=($__editorManager__=_dereq_("editorManager"),$__editorManager__&&$__editorManager__.__esModule&&$__editorManager__||{"default":$__editorManager__}).EditorManager,eventManagerObject=($__eventManager__=_dereq_("eventManager"),$__eventManager__&&$__eventManager__.__esModule&&$__eventManager__||{"default":$__eventManager__}).eventManager,$__10=($__helpers_47_object__=_dereq_("helpers/object"),$__helpers_47_object__&&$__helpers_47_object__.__esModule&&$__helpers_47_object__||{"default":$__helpers_47_object__}),deepClone=$__10.deepClone,duckSchema=$__10.duckSchema,extend=$__10.extend,isObject=$__10.isObject,isObjectEquals=$__10.isObjectEquals,deepObjectSize=$__10.deepObjectSize,$__11=($__helpers_47_array__=_dereq_("helpers/array"),$__helpers_47_array__&&$__helpers_47_array__.__esModule&&$__helpers_47_array__||{"default":$__helpers_47_array__}),arrayFlatten=$__11.arrayFlatten,arrayMap=$__11.arrayMap,getPlugin=($__plugins__=_dereq_("plugins"),$__plugins__&&$__plugins__.__esModule&&$__plugins__||{"default":$__plugins__}).getPlugin,getRenderer=($__renderers__=_dereq_("renderers"),$__renderers__&&$__renderers__.__esModule&&$__renderers__||{"default":$__renderers__}).getRenderer,randomString=($__helpers_47_string__=_dereq_("helpers/string"),$__helpers_47_string__&&$__helpers_47_string__.__esModule&&$__helpers_47_string__||{"default":$__helpers_47_string__}).randomString,rangeEach=($__helpers_47_number__=_dereq_("helpers/number"),$__helpers_47_number__&&$__helpers_47_number__.__esModule&&$__helpers_47_number__||{"default":$__helpers_47_number__}).rangeEach,TableView=($__tableView__=_dereq_("tableView"),$__tableView__&&$__tableView__.__esModule&&$__tableView__||{"default":$__tableView__}).TableView,DataSource=($__dataSource__=_dereq_("dataSource"),$__dataSource__&&$__dataSource__.__esModule&&$__dataSource__||{"default":$__dataSource__}).DataSource,$__18=($__helpers_47_data__=_dereq_("helpers/data"),$__helpers_47_data__&&$__helpers_47_data__.__esModule&&$__helpers_47_data__||{"default":$__helpers_47_data__}),translateRowsToColumns=$__18.translateRowsToColumns,cellMethodLookupFactory=$__18.cellMethodLookupFactory,spreadsheetColumnLabel=$__18.spreadsheetColumnLabel,getTranslator=($__utils_47_recordTranslator__=_dereq_("utils/recordTranslator"),$__utils_47_recordTranslator__&&$__utils_47_recordTranslator__.__esModule&&$__utils_47_recordTranslator__||{"default":$__utils_47_recordTranslator__}).getTranslator,WalkontableCellCoords=($__3rdparty_47_walkontable_47_src_47_cell_47_coords__=_dereq_("3rdparty/walkontable/src/cell/coords"),$__3rdparty_47_walkontable_47_src_47_cell_47_coords__&&$__3rdparty_47_walkontable_47_src_47_cell_47_coords__.__esModule&&$__3rdparty_47_walkontable_47_src_47_cell_47_coords__||{"default":$__3rdparty_47_walkontable_47_src_47_cell_47_coords__}).WalkontableCellCoords,WalkontableCellRange=($__3rdparty_47_walkontable_47_src_47_cell_47_range__=_dereq_("3rdparty/walkontable/src/cell/range"),$__3rdparty_47_walkontable_47_src_47_cell_47_range__&&$__3rdparty_47_walkontable_47_src_47_cell_47_range__.__esModule&&$__3rdparty_47_walkontable_47_src_47_cell_47_range__||{"default":$__3rdparty_47_walkontable_47_src_47_cell_47_range__}).WalkontableCellRange,WalkontableViewportColumnsCalculator=($__3rdparty_47_walkontable_47_src_47_calculator_47_viewportColumns__=_dereq_("3rdparty/walkontable/src/calculator/viewportColumns"),$__3rdparty_47_walkontable_47_src_47_calculator_47_viewportColumns__&&$__3rdparty_47_walkontable_47_src_47_calculator_47_viewportColumns__.__esModule&&$__3rdparty_47_walkontable_47_src_47_calculator_47_viewportColumns__||{"default":$__3rdparty_47_walkontable_47_src_47_calculator_47_viewportColumns__}).WalkontableViewportColumnsCalculator;Handsontable.activeGuid=null,Handsontable.Core=function(rootElement,userSettings){function ValidatorsQueue(){var resolved=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue:function(){this.validatorsInQueue++,resolved=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(valid){},checkIfQueueIsEmpty:function(){0==this.validatorsInQueue&&0==resolved&&(resolved=!0,this.onQueueEmpty(this.valid))}}}function validateChanges(changes,source,callback){function resolve(){var beforeChangeResult;changes.length&&(beforeChangeResult=Handsontable.hooks.run(instance,"beforeChange",changes,source),isFunction(beforeChangeResult)?console.warn("Your beforeChange callback returns a function. It's not supported since Handsontable 0.12.1 (and the returned function will not be executed)."):beforeChangeResult===!1&&changes.splice(0,changes.length)),callback()}var waitingForValidator=new ValidatorsQueue;waitingForValidator.onQueueEmpty=resolve;for(var i=changes.length-1;i>=0;i--)if(null===changes[i])changes.splice(i,1);else{var row=changes[i][0],col=datamap.propToCol(changes[i][1]),cellProperties=instance.getCellMeta(row,col);if("numeric"===cellProperties.type&&"string"==typeof changes[i][3]&&changes[i][3].length>0&&(/^-?[\d\s]*(\.|\,)?\d*$/.test(changes[i][3])||cellProperties.format)){var len=changes[i][3].length;isUndefined(cellProperties.language)?numbro.culture("en-US"):changes[i][3].indexOf(".")===len-3&&changes[i][3].indexOf(",")===-1?numbro.culture("en-US"):numbro.culture(cellProperties.language);numbro.cultureData(numbro.culture()).delimiters;numbro.validate(changes[i][3])&&!isNaN(changes[i][3])?changes[i][3]=parseFloat(changes[i][3]):changes[i][3]=numbro().unformat(changes[i][3])||changes[i][3]}instance.getCellValidator(cellProperties)&&(waitingForValidator.addValidatorToQueue(),instance.validateCell(changes[i][3],cellProperties,function(i,cellProperties){return function(result){if("boolean"!=typeof result)throw new Error("Validation error: result is not boolean");if(result===!1&&cellProperties.allowInvalid===!1){changes.splice(i,1),cellProperties.valid=!0;var cell=instance.getCell(cellProperties.row,cellProperties.col);removeClass(cell,instance.getSettings().invalidCellClassName),--i}waitingForValidator.removeValidatorFormQueue()}}(i,cellProperties),source))}waitingForValidator.checkIfQueueIsEmpty()}function applyChanges(changes,source){var i=changes.length-1;if(!(i<0)){for(;0<=i;i--){var skipThisChange=!1;if(null!==changes[i]){if(null!=changes[i][2]||null!=changes[i][3]){if(priv.settings.allowInsertRow)for(;changes[i][0]>instance.countRows()-1;){var numberOfCreatedRows=datamap.createRow(void 0,void 0,source);if(0===numberOfCreatedRows){skipThisChange=!0;break}}if(!skipThisChange){if("array"===instance.dataType&&(!priv.settings.columns||0===priv.settings.columns.length)&&priv.settings.allowInsertColumn)for(;datamap.propToCol(changes[i][1])>instance.countCols()-1;)datamap.createCol(void 0,void 0,source);datamap.set(changes[i][0],changes[i][1],changes[i][3])}}}else changes.splice(i,1)}instance.forceFullRender=!0,grid.adjustRowsAndCols(),Handsontable.hooks.run(instance,"beforeChangeRender",changes,source),selection.refreshBorders(null,!0),instance.view.wt.wtOverlays.adjustElementsSize(),Handsontable.hooks.run(instance,"afterChange",changes,source||"edit");var activeEditor=instance.getActiveEditor();activeEditor&&isDefined(activeEditor.refreshValue)&&activeEditor.refreshValue()}}function setDataInputToArray(row,propOrCol,value){return"object"===("undefined"==typeof row?"undefined":_typeof(row))?row:[[row,propOrCol,value]]}function expandType(obj){if(obj.hasOwnProperty("type")){var type,expandedType={};if("object"===_typeof(obj.type))type=obj.type;else if("string"==typeof obj.type&&(type=Handsontable.cellTypes[obj.type],void 0===type))throw new Error('You declared cell type "'+obj.type+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');for(var i in type)type.hasOwnProperty(i)&&!obj.hasOwnProperty(i)&&(expandedType[i]=type[i]);return expandedType}}function postMortem(){throw new Error("This method cannot be called because this Handsontable instance has been destroyed")}var priv,datamap,dataSource,grid,selection,editorManager,instance=this,GridSettings=function(){},eventManager=eventManagerObject(instance),recordTranslator=getTranslator(instance);extend(GridSettings.prototype,DefaultSettings.prototype),extend(GridSettings.prototype,userSettings),extend(GridSettings.prototype,expandType(userSettings)),this.rootElement=rootElement,this.isHotTableEnv=isChildOfWebComponentTable(this.rootElement),Handsontable.eventManager.isHotTableEnv=this.isHotTableEnv,this.container=document.createElement("DIV"),this.renderCall=!1,rootElement.insertBefore(this.container,rootElement.firstChild),this.guid="ht_"+randomString(),dataSource=new DataSource(instance),this.rootElement.id&&"ht_"!==this.rootElement.id.substring(0,3)||(this.rootElement.id=this.guid),priv={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width"],settings:new GridSettings,selRange:null,isPopulated:null,scrollable:null,firstRun:!0,generateSchema:!0},grid={alter:function(action,index,amount,source,keepEmptyRows){function spliceWith(data,index,count,toInject){var valueFactory=function(){var result;return"array"===toInject?result=[]:"object"===toInject&&(result={}),result},spliceArgs=arrayMap(new Array(count),function(){return valueFactory()});spliceArgs.unshift(index,0),data.splice.apply(data,spliceArgs)}var delta;switch(amount=amount||1,action){case"insert_row":var numberOfSourceRows=instance.countSourceRows();if(instance.getSettings().maxRows===numberOfSourceRows)return;index=isDefined(index)?index:numberOfSourceRows,delta=datamap.createRow(index,amount,source),spliceWith(priv.cellSettings,index,amount,"array"),delta&&(selection.isSelected()&&priv.selRange.from.row>=index?(priv.selRange.from.row=priv.selRange.from.row+delta,selection.transformEnd(delta,0)):selection.refreshBorders());break;case"insert_col":delta=datamap.createCol(index,amount,source);for(var row=0,len=instance.countSourceRows();row<len;row++)priv.cellSettings[row]&&spliceWith(priv.cellSettings[row],index,amount);if(delta){if(Array.isArray(instance.getSettings().colHeaders)){var spliceArray=[index,0];spliceArray.length+=delta,Array.prototype.splice.apply(instance.getSettings().colHeaders,spliceArray)}selection.isSelected()&&priv.selRange.from.col>=index?(priv.selRange.from.col=priv.selRange.from.col+delta,selection.transformEnd(0,delta)):selection.refreshBorders()}break;case"remove_row":datamap.removeRow(index,amount,source),priv.cellSettings.splice(index,amount);var totalRows=instance.countRows(),fixedRowsTop=instance.getSettings().fixedRowsTop;fixedRowsTop>=index+1&&(instance.getSettings().fixedRowsTop-=Math.min(amount,fixedRowsTop-index));var fixedRowsBottom=instance.getSettings().fixedRowsBottom;fixedRowsBottom&&index>=totalRows-fixedRowsBottom&&(instance.getSettings().fixedRowsBottom-=Math.min(amount,fixedRowsBottom)),grid.adjustRowsAndCols(),selection.refreshBorders();break;case"remove_col":var logicalColumnIndex=recordTranslator.toPhysicalColumn(index);datamap.removeCol(index,amount,source);for(var row$__27=0,len$__28=instance.countSourceRows();row$__27<len$__28;row$__27++)priv.cellSettings[row$__27]&&priv.cellSettings[row$__27].splice(logicalColumnIndex,amount);var fixedColumnsLeft=instance.getSettings().fixedColumnsLeft;fixedColumnsLeft>=index+1&&(instance.getSettings().fixedColumnsLeft-=Math.min(amount,fixedColumnsLeft-index)),Array.isArray(instance.getSettings().colHeaders)&&("undefined"==typeof logicalColumnIndex&&(logicalColumnIndex=-1),instance.getSettings().colHeaders.splice(logicalColumnIndex,amount)),grid.adjustRowsAndCols(),selection.refreshBorders();break;default:throw new Error('There is no such action "'+action+'"')}keepEmptyRows||grid.adjustRowsAndCols()},adjustRowsAndCols:function(){if(priv.settings.minRows){var rows=instance.countRows();if(rows<priv.settings.minRows)for(var r=0,minRows=priv.settings.minRows;r<minRows-rows;r++)datamap.createRow(instance.countRows(),1,"auto")}if(priv.settings.minSpareRows){var emptyRows=instance.countEmptyRows(!0);if(emptyRows<priv.settings.minSpareRows)for(;emptyRows<priv.settings.minSpareRows&&instance.countSourceRows()<priv.settings.maxRows;emptyRows++)datamap.createRow(instance.countRows(),1,"auto")}var emptyCols;if((priv.settings.minCols||priv.settings.minSpareCols)&&(emptyCols=instance.countEmptyCols(!0)),priv.settings.minCols&&!priv.settings.columns&&instance.countCols()<priv.settings.minCols)for(;instance.countCols()<priv.settings.minCols;emptyCols++)datamap.createCol(instance.countCols(),1,"auto");if(priv.settings.minSpareCols&&!priv.settings.columns&&"array"===instance.dataType&&emptyCols<priv.settings.minSpareCols)for(;emptyCols<priv.settings.minSpareCols&&instance.countCols()<priv.settings.maxCols;emptyCols++)datamap.createCol(instance.countCols(),1,"auto");var rowCount=instance.countRows(),colCount=instance.countCols();if(0!==rowCount&&0!==colCount||selection.deselect(),selection.isSelected()){var selectionChanged=!1,fromRow=priv.selRange.from.row,fromCol=priv.selRange.from.col,toRow=priv.selRange.to.row,toCol=priv.selRange.to.col;fromRow>rowCount-1?(fromRow=rowCount-1,selectionChanged=!0,toRow>fromRow&&(toRow=fromRow)):toRow>rowCount-1&&(toRow=rowCount-1,selectionChanged=!0,fromRow>toRow&&(fromRow=toRow)),fromCol>colCount-1?(fromCol=colCount-1,selectionChanged=!0,toCol>fromCol&&(toCol=fromCol)):toCol>colCount-1&&(toCol=colCount-1,selectionChanged=!0,fromCol>toCol&&(fromCol=toCol)),selectionChanged&&instance.selectCell(fromRow,fromCol,toRow,toCol)}instance.view&&instance.view.wt.wtOverlays.adjustElementsSize()},populateFromArray:function(start,input,end,source,method,direction,deltas){var r,rlen,c,clen,setData=[],current={};if(rlen=input.length,0===rlen)return!1;var repeatCol,repeatRow,cmax,rmax;({row:null===end?null:end.row,col:null===end?null:end.col});switch(method){case"shift_down":for(repeatCol=end?end.col-start.col+1:0,repeatRow=end?end.row-start.row+1:0,input=translateRowsToColumns(input),c=0,clen=input.length,cmax=Math.max(clen,repeatCol);c<cmax;c++)if(c<clen){for(r=0,rlen=input[c].length;r<repeatRow-rlen;r++)input[c].push(input[c][r%rlen]);input[c].unshift(start.col+c,start.row,0),instance.spliceCol.apply(instance,input[c])}else input[c%clen][0]=start.col+c,instance.spliceCol.apply(instance,input[c%clen]);break;case"shift_right":for(repeatCol=end?end.col-start.col+1:0,repeatRow=end?end.row-start.row+1:0,r=0,rlen=input.length,rmax=Math.max(rlen,repeatRow);r<rmax;r++)if(r<rlen){for(c=0,clen=input[r].length;c<repeatCol-clen;c++)input[r].push(input[r][c%clen]);input[r].unshift(start.row+r,start.col,0),instance.spliceRow.apply(instance,input[r])}else input[r%rlen][0]=start.row+r,instance.spliceRow.apply(instance,input[r%rlen]);break;case"overwrite":default:current.row=start.row,current.col=start.col;var cellMeta,selected={row:end&&start?end.row-start.row+1:1,col:end&&start?end.col-start.col+1:1},skippedRow=0,skippedColumn=0,pushData=!0,getInputValue=function(row){var col=void 0!==arguments[1]?arguments[1]:null,rowValue=input[row%input.length];return null!==col?rowValue[col%rowValue.length]:rowValue},rowInputLength=input.length,rowSelectionLength=end?end.row-start.row+1:0;for(rlen=end?rowSelectionLength:Math.max(rowInputLength,rowSelectionLength),r=0;r<rlen&&!(end&&current.row>end.row&&rowSelectionLength>rowInputLength||!priv.settings.allowInsertRow&&current.row>instance.countRows()-1||current.row>=priv.settings.maxRows);r++){var logicalRow=r-skippedRow,colInputLength=getInputValue(logicalRow).length,colSelectionLength=end?end.col-start.col+1:0;if(clen=end?colSelectionLength:Math.max(colInputLength,colSelectionLength),current.col=start.col,cellMeta=instance.getCellMeta(current.row,current.col),"CopyPaste.paste"!==source&&"Autofill.autofill"!==source||!cellMeta.skipRowOnPaste){for(skippedColumn=0,c=0;c<clen&&!(end&&current.col>end.col&&colSelectionLength>colInputLength||!priv.settings.allowInsertColumn&&current.col>instance.countCols()-1||current.col>=priv.settings.maxCols);c++)if(cellMeta=instance.getCellMeta(current.row,current.col),"CopyPaste.paste"!==source&&"Autofill.fill"!==source||!cellMeta.skipColumnOnPaste)if(cellMeta.readOnly)current.col++;else{var logicalColumn=c-skippedColumn,value=getInputValue(logicalRow,logicalColumn),orgValue=instance.getDataAtCell(current.row,current.col),index={row:logicalRow,col:logicalColumn};if("Autofill.fill"===source){var result=instance.runHooks("beforeAutofillInsidePopulate",index,direction,input,deltas,{},selected);result&&(value=isUndefined(result.value)?value:result.value)}if(null!==value&&"object"===("undefined"==typeof value?"undefined":_typeof(value)))if(null===orgValue||"object"!==("undefined"==typeof orgValue?"undefined":_typeof(orgValue)))pushData=!1;else{var orgValueSchema=duckSchema(orgValue[0]||orgValue),valueSchema=duckSchema(value[0]||value);isObjectEquals(orgValueSchema,valueSchema)?value=deepClone(value):pushData=!1}else null!==orgValue&&"object"===("undefined"==typeof orgValue?"undefined":_typeof(orgValue))&&(pushData=!1);pushData&&setData.push([current.row,current.col,value]),pushData=!0,current.col++}else skippedColumn++,current.col++,clen++;current.row++}else skippedRow++,current.row++,rlen++}instance.setDataAtCell(setData,null,null,source||"populateFromArray")}}},this.selection=selection={inProgress:!1,selectedHeader:{cols:!1,rows:!1},setSelectedHeaders:function(){var rows=void 0!==arguments[0]&&arguments[0],cols=void 0!==arguments[1]&&arguments[1],corner=void 0!==arguments[2]&&arguments[2];instance.selection.selectedHeader.rows=rows,instance.selection.selectedHeader.cols=cols,instance.selection.selectedHeader.corner=corner},begin:function(){instance.selection.inProgress=!0},finish:function(){var sel=instance.getSelected();Handsontable.hooks.run(instance,"afterSelectionEnd",sel[0],sel[1],sel[2],sel[3]),Handsontable.hooks.run(instance,"afterSelectionEndByProp",sel[0],instance.colToProp(sel[1]),sel[2],instance.colToProp(sel[3])),instance.selection.inProgress=!1},isInProgress:function(){return instance.selection.inProgress},setRangeStart:function(coords,keepEditorOpened){Handsontable.hooks.run(instance,"beforeSetRangeStart",coords),priv.selRange=new WalkontableCellRange(coords,coords,coords),selection.setRangeEnd(coords,null,keepEditorOpened)},setRangeStartOnly:function(coords){Handsontable.hooks.run(instance,"beforeSetRangeStartOnly",coords),priv.selRange=new WalkontableCellRange(coords,coords,coords)},setRangeEnd:function(coords,scrollToCell,keepEditorOpened){if(null!==priv.selRange){var disableVisualSelection,isHeaderSelected=!1,areCoordsPositive=!0,firstVisibleRow=instance.view.wt.wtTable.getFirstVisibleRow(),firstVisibleColumn=instance.view.wt.wtTable.getFirstVisibleColumn(),newRangeCoords={row:null,col:null};Handsontable.hooks.run(instance,"beforeSetRangeEnd",coords),instance.selection.begin(),newRangeCoords.row=coords.row<0?firstVisibleRow:coords.row,newRangeCoords.col=coords.col<0?firstVisibleColumn:coords.col,priv.selRange.to=new WalkontableCellCoords(newRangeCoords.row,newRangeCoords.col),priv.settings.multiSelect||(priv.selRange.from=coords),instance.view.wt.selections.current.clear(),disableVisualSelection=instance.getCellMeta(priv.selRange.highlight.row,priv.selRange.highlight.col).disableVisualSelection,"string"==typeof disableVisualSelection&&(disableVisualSelection=[disableVisualSelection]),(disableVisualSelection===!1||Array.isArray(disableVisualSelection)&&disableVisualSelection.indexOf("current")===-1)&&instance.view.wt.selections.current.add(priv.selRange.highlight),instance.view.wt.selections.area.clear(),(disableVisualSelection===!1||Array.isArray(disableVisualSelection)&&disableVisualSelection.indexOf("area")===-1)&&selection.isMultiple()&&(instance.view.wt.selections.area.add(priv.selRange.from),instance.view.wt.selections.area.add(priv.selRange.to)),(priv.settings.currentHeaderClassName||priv.settings.currentRowClassName||priv.settings.currentColClassName)&&(instance.view.wt.selections.highlight.clear(),instance.view.wt.selections.highlight.add(priv.selRange.from),instance.view.wt.selections.highlight.add(priv.selRange.to)),Handsontable.hooks.run(instance,"afterSelection",priv.selRange.from.row,priv.selRange.from.col,priv.selRange.to.row,priv.selRange.to.col),Handsontable.hooks.run(instance,"afterSelectionByProp",priv.selRange.from.row,datamap.colToProp(priv.selRange.from.col),priv.selRange.to.row,datamap.colToProp(priv.selRange.to.col)),(0===priv.selRange.from.row&&priv.selRange.to.row===instance.countRows()-1&&instance.countRows()>1||0===priv.selRange.from.col&&priv.selRange.to.col===instance.countCols()-1&&instance.countCols()>1)&&(isHeaderSelected=!0),(coords.row<0||coords.col<0)&&(areCoordsPositive=!1),scrollToCell!==!1&&!isHeaderSelected&&areCoordsPositive&&(priv.selRange.from&&!selection.isMultiple()?instance.view.scrollViewport(priv.selRange.from):instance.view.scrollViewport(coords)),selection.refreshBorders(null,keepEditorOpened)}},refreshBorders:function(revertOriginal,keepEditor){keepEditor||editorManager.destroyEditor(revertOriginal),instance.view.render(),selection.isSelected()&&!keepEditor&&editorManager.prepareEditor()},isMultiple:function isMultiple(){var isMultiple=!(priv.selRange.to.col===priv.selRange.from.col&&priv.selRange.to.row===priv.selRange.from.row),modifier=Handsontable.hooks.run(instance,"afterIsMultipleSelection",isMultiple);if(isMultiple)return modifier},transformStart:function(rowDelta,colDelta,force,keepEditorOpened){var totalRows,totalCols,coords,fixedRowsBottom,delta=new WalkontableCellCoords(rowDelta,colDelta),rowTransformDir=0,colTransformDir=0;instance.runHooks("modifyTransformStart",delta),totalRows=instance.countRows(),totalCols=instance.countCols(),fixedRowsBottom=instance.getSettings().fixedRowsBottom,priv.selRange.highlight.row+rowDelta>totalRows-1?force&&priv.settings.minSpareRows>0&&!(fixedRowsBottom&&priv.selRange.highlight.row>=totalRows-fixedRowsBottom-1)?(instance.alter("insert_row",totalRows),totalRows=instance.countRows()):priv.settings.autoWrapCol&&(delta.row=1-totalRows,delta.col=priv.selRange.highlight.col+delta.col==totalCols-1?1-totalCols:1):priv.settings.autoWrapCol&&priv.selRange.highlight.row+delta.row<0&&priv.selRange.highlight.col+delta.col>=0&&(delta.row=totalRows-1,delta.col=priv.selRange.highlight.col+delta.col==0?totalCols-1:-1),priv.selRange.highlight.col+delta.col>totalCols-1?force&&priv.settings.minSpareCols>0?(instance.alter("insert_col",totalCols),totalCols=instance.countCols()):priv.settings.autoWrapRow&&(delta.row=priv.selRange.highlight.row+delta.row==totalRows-1?1-totalRows:1,delta.col=1-totalCols):priv.settings.autoWrapRow&&priv.selRange.highlight.col+delta.col<0&&priv.selRange.highlight.row+delta.row>=0&&(delta.row=priv.selRange.highlight.row+delta.row==0?totalRows-1:-1,delta.col=totalCols-1),coords=new WalkontableCellCoords(priv.selRange.highlight.row+delta.row,priv.selRange.highlight.col+delta.col),coords.row<0?(rowTransformDir=-1,coords.row=0):coords.row>0&&coords.row>=totalRows&&(rowTransformDir=1,coords.row=totalRows-1),coords.col<0?(colTransformDir=-1,coords.col=0):coords.col>0&&coords.col>=totalCols&&(colTransformDir=1,coords.col=totalCols-1),instance.runHooks("afterModifyTransformStart",coords,rowTransformDir,colTransformDir),selection.setRangeStart(coords,keepEditorOpened)},transformEnd:function(rowDelta,colDelta){var totalRows,totalCols,coords,delta=new WalkontableCellCoords(rowDelta,colDelta),rowTransformDir=0,colTransformDir=0;instance.runHooks("modifyTransformEnd",delta),totalRows=instance.countRows(),totalCols=instance.countCols(),coords=new WalkontableCellCoords(priv.selRange.to.row+delta.row,priv.selRange.to.col+delta.col),coords.row<0?(rowTransformDir=-1,coords.row=0):coords.row>0&&coords.row>=totalRows&&(rowTransformDir=1,coords.row=totalRows-1),coords.col<0?(colTransformDir=-1,coords.col=0):coords.col>0&&coords.col>=totalCols&&(colTransformDir=1,coords.col=totalCols-1),instance.runHooks("afterModifyTransformEnd",coords,rowTransformDir,colTransformDir),selection.setRangeEnd(coords,!0)},isSelected:function(){return null!==priv.selRange},inInSelection:function(coords){return!!selection.isSelected()&&priv.selRange.includes(coords)},deselect:function(){selection.isSelected()&&(instance.selection.inProgress=!1,priv.selRange=null,instance.view.wt.selections.current.clear(),instance.view.wt.selections.area.clear(),(priv.settings.currentHeaderClassName||priv.settings.currentRowClassName||priv.settings.currentColClassName)&&instance.view.wt.selections.highlight.clear(),editorManager.destroyEditor(),selection.refreshBorders(),removeClass(instance.rootElement,["ht__selection--rows","ht__selection--columns"]),Handsontable.hooks.run(instance,"afterDeselect"))},selectAll:function(){priv.settings.multiSelect&&(selection.setRangeStart(new WalkontableCellCoords(0,0)),selection.setRangeEnd(new WalkontableCellCoords(instance.countRows()-1,instance.countCols()-1),!1))},empty:function(){if(selection.isSelected()){var r,c,topLeft=priv.selRange.getTopLeftCorner(),bottomRight=priv.selRange.getBottomRightCorner(),changes=[];for(r=topLeft.row;r<=bottomRight.row;r++)for(c=topLeft.col;c<=bottomRight.col;c++)instance.getCellMeta(r,c).readOnly||changes.push([r,c,""]);instance.setDataAtCell(changes)}}},this.init=function(){dataSource.setData(priv.settings.data),Handsontable.hooks.run(instance,"beforeInit"),isMobileBrowser()&&addClass(instance.rootElement,"mobile"),this.updateSettings(priv.settings,!0),this.view=new TableView(this),editorManager=new EditorManager(instance,priv,selection,datamap),this.forceFullRender=!0,Handsontable.hooks.run(instance,"init"),this.view.render(),"object"===_typeof(priv.firstRun)&&(Handsontable.hooks.run(instance,"afterChange",priv.firstRun[0],priv.firstRun[1]),priv.firstRun=!1),Handsontable.hooks.run(instance,"afterInit")},this.validateCell=function(value,cellProperties,callback,source){function done(valid){var col=cellProperties.visualCol,row=cellProperties.visualRow,td=instance.getCell(row,col,!0);td&&"TH"!=td.nodeName&&instance.view.wt.wtSettings.settings.cellRenderer(row,col,td),
callback(valid)}var validator=instance.getCellValidator(cellProperties);"[object RegExp]"===Object.prototype.toString.call(validator)&&(validator=function(validator){return function(value,callback){callback(validator.test(value))}}(validator)),isFunction(validator)?(value=Handsontable.hooks.run(instance,"beforeValidate",value,cellProperties.visualRow,cellProperties.prop,source),instance._registerTimeout(setTimeout(function(){validator.call(cellProperties,value,function(valid){valid=Handsontable.hooks.run(instance,"afterValidate",valid,value,cellProperties.visualRow,cellProperties.prop,source),cellProperties.valid=valid,done(valid),Handsontable.hooks.run(instance,"postAfterValidate",valid,value,cellProperties.visualRow,cellProperties.prop,source)})},0))):instance._registerTimeout(setTimeout(function(){cellProperties.valid=!0,done(cellProperties.valid)},0))},this.setDataAtCell=function(row,col,value,source){var i,ilen,prop,input=setDataInputToArray(row,col,value),changes=[];for(i=0,ilen=input.length;i<ilen;i++){if("object"!==_typeof(input[i]))throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof input[i][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");prop=datamap.colToProp(input[i][1]),changes.push([input[i][0],prop,dataSource.getAtCell(recordTranslator.toPhysicalRow(input[i][0]),input[i][1]),input[i][2]])}source||"object"!==("undefined"==typeof row?"undefined":_typeof(row))||(source=col),instance.runHooks("afterSetDataAtCell",changes,source),validateChanges(changes,source,function(){applyChanges(changes,source)})},this.setDataAtRowProp=function(row,prop,value,source){var i,ilen,input=setDataInputToArray(row,prop,value),changes=[];for(i=0,ilen=input.length;i<ilen;i++)changes.push([input[i][0],input[i][1],dataSource.getAtCell(recordTranslator.toPhysicalRow(input[i][0]),input[i][1]),input[i][2]]);source||"object"!==("undefined"==typeof row?"undefined":_typeof(row))||(source=prop),instance.runHooks("afterSetDataAtRowProp",changes,source),validateChanges(changes,source,function(){applyChanges(changes,source)})},this.listen=function(){Handsontable.activeGuid=instance.guid},this.unlisten=function(){Handsontable.activeGuid=null},this.isListening=function(){return Handsontable.activeGuid===instance.guid},this.destroyEditor=function(revertOriginal){selection.refreshBorders(revertOriginal)},this.populateFromArray=function(row,col,input,endRow,endCol,source,method,direction,deltas){var c;if("object"!==("undefined"==typeof input?"undefined":_typeof(input))||"object"!==_typeof(input[0]))throw new Error("populateFromArray parameter `input` must be an array of arrays");return c="number"==typeof endRow?new WalkontableCellCoords(endRow,endCol):null,grid.populateFromArray(new WalkontableCellCoords(row,col),input,c,source,method,direction,deltas)},this.spliceCol=function(col,index,amount){return datamap.spliceCol.apply(datamap,arguments)},this.spliceRow=function(row,index,amount){return datamap.spliceRow.apply(datamap,arguments)},this.getSelected=function(){if(selection.isSelected())return[priv.selRange.from.row,priv.selRange.from.col,priv.selRange.to.row,priv.selRange.to.col]},this.getSelectedRange=function(){if(selection.isSelected())return priv.selRange},this.render=function(){instance.view&&(instance.renderCall=!0,instance.forceFullRender=!0,selection.refreshBorders(null,!0))},this.loadData=function(data){function clearCellSettingCache(){priv.cellSettings.length=0}if(Array.isArray(priv.settings.dataSchema)?instance.dataType="array":isFunction(priv.settings.dataSchema)?instance.dataType="function":instance.dataType="object",datamap&&datamap.destroy(),datamap=new DataMap(instance,priv,GridSettings),"object"===("undefined"==typeof data?"undefined":_typeof(data))&&null!==data)data.push&&data.splice||(data=[data]);else{if(null!==data)throw new Error("loadData only accepts array of objects or array of arrays ("+("undefined"==typeof data?"undefined":_typeof(data))+" given)");data=[];var row,r=0,rlen=0,dataSchema=datamap.getSchema();for(r=0,rlen=priv.settings.startRows;r<rlen;r++)if("object"!==instance.dataType&&"function"!==instance.dataType||!priv.settings.dataSchema)if("array"===instance.dataType)row=deepClone(dataSchema[0]),data.push(row);else{row=[];for(var c=0,clen=priv.settings.startCols;c<clen;c++)row.push(null);data.push(row)}else row=deepClone(dataSchema),data.push(row)}priv.isPopulated=!1,GridSettings.prototype.data=data,Array.isArray(data[0])&&(instance.dataType="array"),datamap.dataSource=data,dataSource.data=data,dataSource.dataType=instance.dataType,dataSource.colToProp=datamap.colToProp.bind(datamap),dataSource.propToCol=datamap.propToCol.bind(datamap),clearCellSettingCache(),grid.adjustRowsAndCols(),Handsontable.hooks.run(instance,"afterLoadData",priv.firstRun),priv.firstRun?priv.firstRun=[null,"loadData"]:(Handsontable.hooks.run(instance,"afterChange",null,"loadData"),instance.render()),priv.isPopulated=!0},this.getData=function(r,c,r2,c2){return isUndefined(r)?datamap.getAll():datamap.getRange(new WalkontableCellCoords(r,c),new WalkontableCellCoords(r2,c2),datamap.DESTINATION_RENDERER)},this.getCopyableText=function(startRow,startCol,endRow,endCol){return datamap.getCopyableText(new WalkontableCellCoords(startRow,startCol),new WalkontableCellCoords(endRow,endCol))},this.getCopyableData=function(row,column){return datamap.getCopyable(row,datamap.colToProp(column))},this.getSchema=function(){return datamap.getSchema()},this.updateSettings=function(settings,init){var i,j,clen,columnsAsFunc=!1;if(isDefined(settings.rows))throw new Error('"rows" setting is no longer supported. do you mean startRows, minRows or maxRows?');if(isDefined(settings.cols))throw new Error('"cols" setting is no longer supported. do you mean startCols, minCols or maxCols?');for(i in settings)"data"!==i&&(Handsontable.hooks.getRegistered().indexOf(i)>-1?(isFunction(settings[i])||Array.isArray(settings[i]))&&instance.addHook(i,settings[i]):!init&&settings.hasOwnProperty(i)&&(GridSettings.prototype[i]=settings[i]));if(void 0===settings.data&&void 0===priv.settings.data?instance.loadData(null):void 0!==settings.data?instance.loadData(settings.data):void 0!==settings.columns&&datamap.createMap(),clen=instance.countCols(),settings.columns&&isFunction(settings.columns)&&(clen=instance.countSourceCols(),columnsAsFunc=!0),void 0===settings.cell&&void 0===settings.cells&&void 0===settings.columns||(priv.cellSettings.length=0),clen>0){var proto,column;for(i=0,j=0;i<clen;i++)columnsAsFunc&&!settings.columns(i)||(priv.columnSettings[j]=columnFactory(GridSettings,priv.columnsSettingConflicts),proto=priv.columnSettings[j].prototype,GridSettings.prototype.columns&&(column=columnsAsFunc?GridSettings.prototype.columns(i):GridSettings.prototype.columns[j],column&&(extend(proto,column),extend(proto,expandType(column)))),j++)}if(isDefined(settings.cell))for(var key in settings.cell)if(settings.cell.hasOwnProperty(key)){var cell=settings.cell[key];instance.setCellMetaObject(cell.row,cell.col,cell)}Handsontable.hooks.run(instance,"afterCellMetaReset"),isDefined(settings.className)&&(GridSettings.prototype.className&&removeClass(instance.rootElement,GridSettings.prototype.className),settings.className&&addClass(instance.rootElement,settings.className));var currentHeight=instance.rootElement.style.height;""!==currentHeight&&(currentHeight=parseInt(instance.rootElement.style.height,10));var height=settings.height;if(isFunction(height)&&(height=height()),init){var initialStyle=instance.rootElement.getAttribute("style");initialStyle&&instance.rootElement.setAttribute("data-initialstyle",instance.rootElement.getAttribute("style"))}if(null===height){var initialStyle$__29=instance.rootElement.getAttribute("data-initialstyle");initialStyle$__29&&(initialStyle$__29.indexOf("height")>-1||initialStyle$__29.indexOf("overflow")>-1)?instance.rootElement.setAttribute("style",initialStyle$__29):(instance.rootElement.style.height="",instance.rootElement.style.overflow="")}else void 0!==height&&(instance.rootElement.style.height=height+"px",instance.rootElement.style.overflow="hidden");if("undefined"!=typeof settings.width){var width=settings.width;isFunction(width)&&(width=width()),instance.rootElement.style.width=width+"px"}init||(datamap.clearLengthCache(),instance.view&&instance.view.wt.wtViewport.resetHasOversizedColumnHeadersMarked(),Handsontable.hooks.run(instance,"afterUpdateSettings")),grid.adjustRowsAndCols(),instance.view&&!priv.firstRun&&(instance.forceFullRender=!0,selection.refreshBorders(null,!0)),init||!instance.view||""!==currentHeight&&""!==height&&void 0!==height||currentHeight===height||instance.view.wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){var sel=instance.getSelected();if(GridSettings.prototype.getValue){if(isFunction(GridSettings.prototype.getValue))return GridSettings.prototype.getValue.call(instance);if(sel)return instance.getData()[sel[0]][GridSettings.prototype.getValue]}else if(sel)return instance.getDataAtCell(sel[0],sel[1])},this.getSettings=function(){return priv.settings},this.clear=function(){selection.selectAll(),selection.empty()},this.alter=function(action,index,amount,source,keepEmptyRows){grid.alter(action,index,amount,source,keepEmptyRows)},this.getCell=function(row,col,topmost){return instance.view.getCellAtCoords(new WalkontableCellCoords(row,col),topmost)},this.getCoords=function(elem){return this.view.wt.wtTable.getCoords.call(this.view.wt.wtTable,elem)},this.colToProp=function(col){return datamap.colToProp(col)},this.propToCol=function(prop){return datamap.propToCol(prop)},this.toVisualRow=function(row){return recordTranslator.toVisualRow(row)},this.toVisualColumn=function(column){return recordTranslator.toVisualColumn(column)},this.toPhysicalRow=function(row){return recordTranslator.toPhysicalRow(row)},this.toPhysicalColumn=function(column){return recordTranslator.toPhysicalColumn(column)},this.getDataAtCell=function(row,col){return datamap.get(row,datamap.colToProp(col))},this.getDataAtRowProp=function(row,prop){return datamap.get(row,prop)},this.getDataAtCol=function(col){var out=[];return out.concat.apply(out,datamap.getRange(new WalkontableCellCoords(0,col),new WalkontableCellCoords(priv.settings.data.length-1,col),datamap.DESTINATION_RENDERER))},this.getDataAtProp=function(prop){var range,out=[];return range=datamap.getRange(new WalkontableCellCoords(0,datamap.propToCol(prop)),new WalkontableCellCoords(priv.settings.data.length-1,datamap.propToCol(prop)),datamap.DESTINATION_RENDERER),out.concat.apply(out,range)},this.getSourceData=function(r,c,r2,c2){var data;return data=void 0===r?dataSource.getData():dataSource.getByRange(new WalkontableCellCoords(r,c),new WalkontableCellCoords(r2,c2))},this.getSourceDataArray=function(r,c,r2,c2){var data;return data=void 0===r?dataSource.getData(!0):dataSource.getByRange(new WalkontableCellCoords(r,c),new WalkontableCellCoords(r2,c2),!0)},this.getSourceDataAtCol=function(column){return dataSource.getAtColumn(column)},this.getSourceDataAtRow=function(row){return dataSource.getAtRow(row)},this.getSourceDataAtCell=function(row,column){return dataSource.getAtCell(row,column)},this.getDataAtRow=function(row){var data=datamap.getRange(new WalkontableCellCoords(row,0),new WalkontableCellCoords(row,this.countCols()-1),datamap.DESTINATION_RENDERER);return data[0]},this.getDataType=function(rowFrom,columnFrom,rowTo,columnTo){var $__23=this,previousType=null,currentType=null;void 0===rowFrom&&(rowFrom=0,rowTo=this.countRows(),columnFrom=0,columnTo=this.countCols()),void 0===rowTo&&(rowTo=rowFrom),void 0===columnTo&&(columnTo=columnFrom);var type="mixed";return rangeEach(Math.min(rowFrom,rowTo),Math.max(rowFrom,rowTo),function(row){var isTypeEqual=!0;return rangeEach(Math.min(columnFrom,columnTo),Math.max(columnFrom,columnTo),function(column){var cellType=$__23.getCellMeta(row,column);return currentType=cellType.type,previousType?isTypeEqual=previousType===currentType:previousType=currentType,isTypeEqual}),type=isTypeEqual?currentType:"mixed",isTypeEqual}),type},this.removeCellMeta=function(row,col,key){var cellMeta=instance.getCellMeta(row,col);void 0!=cellMeta[key]&&delete priv.cellSettings[row][col][key]},this.spliceCellsMeta=function(index,deleteAmount){for(var $__26,items=[],$__24=2;$__24<arguments.length;$__24++)items[$__24-2]=arguments[$__24];($__26=priv.cellSettings).splice.apply($__26,$traceurRuntime.spread([index,deleteAmount],items))},this.setCellMetaObject=function(row,col,prop){if("object"===("undefined"==typeof prop?"undefined":_typeof(prop)))for(var key in prop)if(prop.hasOwnProperty(key)){var value=prop[key];this.setCellMeta(row,col,key,value)}},this.setCellMeta=function(row,col,key,val){var $__25;$__25=recordTranslator.toPhysical(row,col),row=$__25[0],col=$__25[1],$__25,priv.cellSettings[row]||(priv.cellSettings[row]=[]),priv.cellSettings[row][col]||(priv.cellSettings[row][col]=new priv.columnSettings[col]),priv.cellSettings[row][col][key]=val,Handsontable.hooks.run(instance,"afterSetCellMeta",row,col,key,val)},this.getCellsMeta=function(){return arrayFlatten(priv.cellSettings)},this.getCellMeta=function(row,col){var $__25,cellProperties,prop=datamap.colToProp(col),visualRow=row,visualCol=col;if($__25=recordTranslator.toPhysical(row,col),row=$__25[0],col=$__25[1],$__25,priv.columnSettings[col]||(priv.columnSettings[col]=columnFactory(GridSettings,priv.columnsSettingConflicts)),priv.cellSettings[row]||(priv.cellSettings[row]=[]),priv.cellSettings[row][col]||(priv.cellSettings[row][col]=new priv.columnSettings[col]),cellProperties=priv.cellSettings[row][col],cellProperties.row=row,cellProperties.col=col,cellProperties.visualRow=visualRow,cellProperties.visualCol=visualCol,cellProperties.prop=prop,cellProperties.instance=instance,Handsontable.hooks.run(instance,"beforeGetCellMeta",row,col,cellProperties),extend(cellProperties,expandType(cellProperties)),cellProperties.cells){var settings=cellProperties.cells.call(cellProperties,row,col,prop);settings&&(extend(cellProperties,settings),extend(cellProperties,expandType(settings)))}return Handsontable.hooks.run(instance,"afterGetCellMeta",row,col,cellProperties),cellProperties},this.getCellMetaAtRow=function(row){return priv.cellSettings[row]},this.isColumnModificationAllowed=function(){return!("object"===instance.dataType||instance.getSettings().columns)};var rendererLookup=cellMethodLookupFactory("renderer");this.getCellRenderer=function(row,col){var renderer=rendererLookup.call(this,row,col);return getRenderer(renderer)},this.getCellEditor=cellMethodLookupFactory("editor"),this.getCellValidator=cellMethodLookupFactory("validator"),this.validateCells=function(callback){var waitingForValidator=new ValidatorsQueue;callback&&(waitingForValidator.onQueueEmpty=callback);for(var i=instance.countRows()-1;i>=0;){for(var j=instance.countCols()-1;j>=0;)waitingForValidator.addValidatorToQueue(),instance.validateCell(instance.getDataAtCell(i,j),instance.getCellMeta(i,j),function(result){if("boolean"!=typeof result)throw new Error("Validation error: result is not boolean");result===!1&&(waitingForValidator.valid=!1),waitingForValidator.removeValidatorFormQueue()},"validateCells"),j--;i--}waitingForValidator.checkIfQueueIsEmpty()},this.getRowHeader=function(row){var rowHeader=priv.settings.rowHeaders;return void 0!==row&&(row=Handsontable.hooks.run(instance,"modifyRowHeader",row)),void 0===row?(rowHeader=[],rangeEach(instance.countRows()-1,function(i){rowHeader.push(instance.getRowHeader(i))})):Array.isArray(rowHeader)&&void 0!==rowHeader[row]?rowHeader=rowHeader[row]:isFunction(rowHeader)?rowHeader=rowHeader(row):rowHeader&&"string"!=typeof rowHeader&&"number"!=typeof rowHeader&&(rowHeader=row+1),rowHeader},this.hasRowHeaders=function(){return!!priv.settings.rowHeaders},this.hasColHeaders=function(){if(void 0!==priv.settings.colHeaders&&null!==priv.settings.colHeaders)return!!priv.settings.colHeaders;for(var i=0,ilen=instance.countCols();i<ilen;i++)if(instance.getColHeader(i))return!0;return!1},this.getColHeader=function(col){var columnsAsFunc=priv.settings.columns&&isFunction(priv.settings.columns),result=priv.settings.colHeaders;if(col=Handsontable.hooks.run(instance,"modifyColHeader",col),void 0===col){for(var out=[],ilen=columnsAsFunc?instance.countSourceCols():instance.countCols(),i=0;i<ilen;i++)out.push(instance.getColHeader(i));result=out}else{var translateVisualIndexToColumns=function(col){for(var arr=[],columnsLen=instance.countSourceCols(),index=0;index<columnsLen;index++)isFunction(instance.getSettings().columns)&&instance.getSettings().columns(index)&&arr.push(index);return arr[col]},baseCol=col;col=Handsontable.hooks.run(instance,"modifyCol",col);var prop=translateVisualIndexToColumns(col);priv.settings.columns&&isFunction(priv.settings.columns)&&priv.settings.columns(prop)&&priv.settings.columns(prop).title?result=priv.settings.columns(prop).title:priv.settings.columns&&priv.settings.columns[col]&&priv.settings.columns[col].title?result=priv.settings.columns[col].title:Array.isArray(priv.settings.colHeaders)&&void 0!==priv.settings.colHeaders[col]?result=priv.settings.colHeaders[col]:isFunction(priv.settings.colHeaders)?result=priv.settings.colHeaders(col):priv.settings.colHeaders&&"string"!=typeof priv.settings.colHeaders&&"number"!=typeof priv.settings.colHeaders&&(result=spreadsheetColumnLabel(baseCol))}return result},this._getColWidthFromSettings=function(col){var cellProperties=instance.getCellMeta(0,col),width=cellProperties.width;if(void 0!==width&&width!==priv.settings.width||(width=cellProperties.colWidths),void 0!==width&&null!==width){switch("undefined"==typeof width?"undefined":_typeof(width)){case"object":width=width[col];break;case"function":width=width(col)}"string"==typeof width&&(width=parseInt(width,10))}return width},this.getColWidth=function(col){var width=instance._getColWidthFromSettings(col);return width=Handsontable.hooks.run(instance,"modifyColWidth",width,col),void 0===width&&(width=WalkontableViewportColumnsCalculator.DEFAULT_WIDTH),width},this._getRowHeightFromSettings=function(row){var height=priv.settings.rowHeights;if(void 0!==height&&null!==height){switch("undefined"==typeof height?"undefined":_typeof(height)){case"object":height=height[row];break;case"function":height=height(row)}"string"==typeof height&&(height=parseInt(height,10))}return height},this.getRowHeight=function(row){var height=instance._getRowHeightFromSettings(row);return height=Handsontable.hooks.run(instance,"modifyRowHeight",height,row)},this.countSourceRows=function(){var sourceLength=Handsontable.hooks.run(instance,"modifySourceLength");return sourceLength||(instance.getSourceData()?instance.getSourceData().length:0)},this.countSourceCols=function(){var len=0,obj=instance.getSourceData()&&instance.getSourceData()[0]?instance.getSourceData()[0]:[];return len=isObject(obj)?deepObjectSize(obj):obj.length||0},this.countRows=function(){return datamap.getLength()},this.countCols=function(){var dataHasLength=!1,dataLen=0;if("array"===instance.dataType&&(dataHasLength=priv.settings.data&&priv.settings.data[0]&&priv.settings.data[0].length),dataHasLength&&(dataLen=priv.settings.data[0].length),priv.settings.columns){var columnsIsFunction=isFunction(priv.settings.columns);if(columnsIsFunction)if("array"===instance.dataType){for(var columnLen=0,i=0;i<dataLen;i++)priv.settings.columns(i)&&columnLen++;dataLen=columnLen}else"object"!==instance.dataType&&"function"!==instance.dataType||(dataLen=datamap.colToPropCache.length);else dataLen=priv.settings.columns.length}else"object"!==instance.dataType&&"function"!==instance.dataType||(dataLen=datamap.colToPropCache.length);return dataLen},this.rowOffset=function(){return instance.view.wt.wtTable.getFirstRenderedRow()},this.colOffset=function(){return instance.view.wt.wtTable.getFirstRenderedColumn()},this.countRenderedRows=function(){return instance.view.wt.drawn?instance.view.wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return instance.view.wt.drawn?instance.view.wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return instance.view.wt.drawn?instance.view.wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return instance.view.wt.drawn?instance.view.wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(ending){for(var row,i=instance.countRows()-1,empty=0;i>=0;){if(row=Handsontable.hooks.run(this,"modifyRow",i),instance.isEmptyRow(row))empty++;else if(ending)break;i--}return empty},this.countEmptyCols=function(ending){if(instance.countRows()<1)return 0;for(var i=instance.countCols()-1,empty=0;i>=0;){if(instance.isEmptyCol(i))empty++;else if(ending)break;i--}return empty},this.isEmptyRow=function(row){return priv.settings.isEmptyRow.call(instance,row)},this.isEmptyCol=function(col){return priv.settings.isEmptyCol.call(instance,col)},this.selectCell=function(row,col,endRow,endCol,scrollToCell,changeListener){var coords;if(changeListener=isUndefined(changeListener)||changeListener===!0,"number"!=typeof row||row<0||row>=instance.countRows())return!1;if("number"!=typeof col||col<0||col>=instance.countCols())return!1;if(isDefined(endRow)){if("number"!=typeof endRow||endRow<0||endRow>=instance.countRows())return!1;if("number"!=typeof endCol||endCol<0||endCol>=instance.countCols())return!1}return coords=new WalkontableCellCoords(row,col),priv.selRange=new WalkontableCellRange(coords,coords,coords),changeListener&&instance.listen(),isUndefined(endRow)?selection.setRangeEnd(priv.selRange.from,scrollToCell):selection.setRangeEnd(new WalkontableCellCoords(endRow,endCol),scrollToCell),instance.selection.finish(),!0},this.selectCellByProp=function(row,prop,endRow,endProp,scrollToCell){return arguments[1]=datamap.propToCol(arguments[1]),isDefined(arguments[3])&&(arguments[3]=datamap.propToCol(arguments[3])),instance.selectCell.apply(instance,arguments)},this.deselectCell=function(){selection.deselect()},this.scrollViewportTo=function(row,column){var snapToBottom=void 0!==arguments[2]&&arguments[2],snapToRight=void 0!==arguments[3]&&arguments[3];if(void 0!==row&&(row<0||row>=instance.countRows()))return!1;if(void 0!==column&&(column<0||column>=instance.countCols()))return!1;var result=!1;return void 0!==row&&void 0!==column&&(instance.view.wt.wtOverlays.topOverlay.scrollTo(row,snapToBottom),instance.view.wt.wtOverlays.leftOverlay.scrollTo(column,snapToRight),result=!0),"number"==typeof row&&"number"!=typeof column&&(instance.view.wt.wtOverlays.topOverlay.scrollTo(row,snapToBottom),result=!0),"number"==typeof column&&"number"!=typeof row&&(instance.view.wt.wtOverlays.leftOverlay.scrollTo(column,snapToRight),result=!0),result},this.destroy=function(){instance._clearTimeouts(),instance.view&&instance.view.destroy(),dataSource&&dataSource.destroy(),dataSource=null,empty(instance.rootElement),eventManager.destroy(),Handsontable.hooks.run(instance,"afterDestroy"),Handsontable.hooks.destroy(instance);for(var i in instance)instance.hasOwnProperty(i)&&(isFunction(instance[i])?instance[i]=postMortem:"guid"!==i&&(instance[i]=null));datamap&&datamap.destroy(),datamap=null,priv=null,grid=null,selection=null,editorManager=null,instance=null,GridSettings=null},this.getActiveEditor=function(){return editorManager.getActiveEditor()},this.getPlugin=function(pluginName){return getPlugin(this,pluginName)},this.getInstance=function(){return instance},this.addHook=function(key,callback){Handsontable.hooks.add(key,callback,instance)},this.hasHook=function(key){return Handsontable.hooks.has(key,instance)},this.addHookOnce=function(key,callback){Handsontable.hooks.once(key,callback,instance)},this.removeHook=function(key,callback){Handsontable.hooks.remove(key,callback,instance)},this.runHooks=function(key,p1,p2,p3,p4,p5,p6){return Handsontable.hooks.run(instance,key,p1,p2,p3,p4,p5,p6)},this.timeouts=[],this._registerTimeout=function(handle){this.timeouts.push(handle)},this._clearTimeouts=function(){for(var i=0,ilen=this.timeouts.length;i<ilen;i++)clearTimeout(this.timeouts[i])},this.version=Handsontable.version,Handsontable.hooks.run(instance,"construct")};var DefaultSettings=function(){};DefaultSettings.prototype={data:void 0,dataSchema:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:void 0,colHeaders:null,colWidths:void 0,rowHeights:void 0,columns:void 0,cells:void 0,cell:[],comments:!1,customBorders:!1,minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,allowInsertRow:!0,allowInsertColumn:!0,allowRemoveRow:!0,allowRemoveColumn:!0,multiSelect:!0,fillHandle:!0,fixedRowsTop:0,fixedRowsBottom:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,copyRowsLimit:1e3,copyColsLimit:1e3,pasteMode:"overwrite",persistentState:void 0,currentRowClassName:void 0,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",className:void 0,tableClassName:void 0,stretchH:"none",isEmptyRow:function(row){var col,colLen,value,meta;for(col=0,colLen=this.countCols();col<colLen;col++)if(value=this.getDataAtCell(row,col),""!==value&&null!==value&&isDefined(value))return"object"===("undefined"==typeof value?"undefined":_typeof(value))&&(meta=this.getCellMeta(row,col),isObjectEquals(this.getSchema()[meta.prop],value));return!0},isEmptyCol:function(col){var row,rowLen,value;for(row=0,rowLen=this.countRows();row<rowLen;row++)if(value=this.getDataAtCell(row,col),""!==value&&null!==value&&isDefined(value))return!1;return!0},observeDOMVisibility:!0,allowInvalid:!0,allowEmpty:!0,invalidCellClassName:"htInvalid",placeholder:!1,placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",renderer:void 0,commentedCellClassName:"htCommentCell",fragmentSelection:!1,readOnly:!1,skipColumnOnPaste:!1,search:!1,type:"text",copyable:!0,editor:void 0,autoComplete:void 0,visibleRows:10,trimDropdown:!0,debug:!1,wordWrap:!0,noWordWrapClassName:"htNoWrap",contextMenu:void 0,contextMenuCopyPaste:void 0,copyPaste:void 0,undo:void 0,columnSorting:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,mergeCells:!1,viewportRowRenderingOffset:"auto",viewportColumnRenderingOffset:"auto",validator:void 0,disableVisualSelection:!1,sortIndicator:void 0,manualColumnFreeze:void 0,trimWhitespace:!0,settings:void 0,source:void 0,title:void 0,checkedTemplate:void 0,uncheckedTemplate:void 0,label:void 0,format:void 0,language:void 0,selectOptions:void 0,autoColumnSize:void 0,autoRowSize:void 0,dateFormat:void 0,correctFormat:!1,defaultDate:void 0,strict:void 0,allowHtml:!1,renderAllRows:void 0,preventOverflow:!1,bindRowsWithHeaders:void 0,collapsibleColumns:void 0,columnSummary:void 0,dropdownMenu:void 0,filters:void 0,formulas:void 0,ganttChart:void 0,headerTooltips:void 0,hiddenColumns:void 0,hiddenRows:void 0,nestedHeaders:void 0,trimRows:void 0,rowHeaderWidth:void 0,columnHeaderHeight:void 0,observeChanges:void 0,sortFunction:void 0,sortByRelevance:!0,filter:!0,filteringCaseSensitive:!1},Handsontable.DefaultSettings=DefaultSettings},{"3rdparty/walkontable/src/calculator/viewportColumns":4,"3rdparty/walkontable/src/cell/coords":6,"3rdparty/walkontable/src/cell/range":7,browser:24,dataMap:27,dataSource:28,editorManager:29,eventManager:42,"helpers/array":43,"helpers/browser":44,"helpers/data":45,"helpers/dom/element":47,"helpers/function":50,"helpers/mixed":51,"helpers/number":52,"helpers/object":53,"helpers/setting":54,"helpers/string":55,numbro:"numbro",plugins:62,renderers:118,tableView:127,"utils/recordTranslator":132}],27:[function(_dereq_,module,exports){function DataMap(instance,priv,GridSettings){var $__9=this;this.instance=instance,this.priv=priv,this.GridSettings=GridSettings,this.dataSource=this.instance.getSettings().data,this.cachedLength=null,this.skipCache=!1,this.latestSourceRowsCount=0,this.dataSource&&this.dataSource[0]?this.duckSchema=this.recursiveDuckSchema(this.dataSource[0]):this.duckSchema={},this.createMap(),this.interval=Interval.create(function(){return $__9.clearLengthCache()},"15fps"),this.instance.addHook("skipLengthCache",function(delay){return $__9.onSkipLengthCache(delay)})}Object.defineProperties(exports,{DataMap:{get:function(){return DataMap}},__esModule:{value:!0}});var $__browser__,$__SheetClip__,$__helpers_47_data__,$__helpers_47_setting__,$__helpers_47_object__,$__helpers_47_array__,$__utils_47_interval__,$__helpers_47_number__,$__multiMap__,Handsontable=($__browser__=_dereq_("browser"),$__browser__&&$__browser__.__esModule&&$__browser__||{"default":$__browser__})["default"],SheetClip=($__SheetClip__=_dereq_("SheetClip"),$__SheetClip__&&$__SheetClip__.__esModule&&$__SheetClip__||{"default":$__SheetClip__})["default"],cellMethodLookupFactory=($__helpers_47_data__=_dereq_("helpers/data"),$__helpers_47_data__&&$__helpers_47_data__.__esModule&&$__helpers_47_data__||{"default":$__helpers_47_data__}).cellMethodLookupFactory,columnFactory=($__helpers_47_setting__=_dereq_("helpers/setting"),$__helpers_47_setting__&&$__helpers_47_setting__.__esModule&&$__helpers_47_setting__||{"default":$__helpers_47_setting__}).columnFactory,$__4=($__helpers_47_object__=_dereq_("helpers/object"),$__helpers_47_object__&&$__helpers_47_object__.__esModule&&$__helpers_47_object__||{"default":$__helpers_47_object__}),createObjectPropListener=$__4.createObjectPropListener,duckSchema=$__4.duckSchema,deepExtend=$__4.deepExtend,deepClone=$__4.deepClone,isObject=$__4.isObject,deepObjectSize=$__4.deepObjectSize,$__5=($__helpers_47_array__=_dereq_("helpers/array"),$__helpers_47_array__&&$__helpers_47_array__.__esModule&&$__helpers_47_array__||{"default":$__helpers_47_array__}),extendArray=$__5.extendArray,to2dArray=$__5.to2dArray,Interval=($__utils_47_interval__=_dereq_("utils/interval"),$__utils_47_interval__&&$__utils_47_interval__.__esModule&&$__utils_47_interval__||{"default":$__utils_47_interval__}).Interval,rangeEach=($__helpers_47_number__=_dereq_("helpers/number"),$__helpers_47_number__&&$__helpers_47_number__.__esModule&&$__helpers_47_number__||{"default":$__helpers_47_number__}).rangeEach,MultiMap=($__multiMap__=_dereq_("multiMap"),$__multiMap__&&$__multiMap__.__esModule&&$__multiMap__||{"default":$__multiMap__}).MultiMap;DataMap.prototype.DESTINATION_RENDERER=1,DataMap.prototype.DESTINATION_CLIPBOARD_GENERATOR=2,DataMap.prototype.recursiveDuckSchema=function(object){return duckSchema(object)},DataMap.prototype.recursiveDuckColumns=function(schema,lastCol,parent){var prop,i;if("undefined"==typeof lastCol&&(lastCol=0,parent=""),"object"===("undefined"==typeof schema?"undefined":_typeof(schema))&&!Array.isArray(schema))for(i in schema)schema.hasOwnProperty(i)&&(null===schema[i]?(prop=parent+i,this.colToPropCache.push(prop),this.propToColCache.set(prop,lastCol),lastCol++):lastCol=this.recursiveDuckColumns(schema[i],lastCol,i+"."));return lastCol},DataMap.prototype.createMap=function(){var i,schema=this.getSchema();if("undefined"==typeof schema)throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");this.colToPropCache=[],this.propToColCache=new MultiMap;var columns=this.instance.getSettings().columns;if(columns){var columnsLen=columns.length,filteredIndex=0,columnsAsFunc=!1,schemaLen=deepObjectSize(schema);for("function"==typeof columns&&(columnsLen=schemaLen>0?schemaLen:this.instance.countSourceCols(),columnsAsFunc=!0),i=0;i<columnsLen;i++){var column=columnsAsFunc?columns(i):columns[i];if(isObject(column)){if("undefined"!=typeof column.data){var index=columnsAsFunc?filteredIndex:i;this.colToPropCache[index]=column.data,this.propToColCache.set(column.data,index)}filteredIndex++}}}else this.recursiveDuckColumns(schema)},DataMap.prototype.colToProp=function(col){return col=Handsontable.hooks.run(this.instance,"modifyCol",col),this.colToPropCache&&"undefined"!=typeof this.colToPropCache[col]?this.colToPropCache[col]:col;
},DataMap.prototype.propToCol=function(prop){var col;return col="undefined"==typeof this.propToColCache.get(prop)?prop:this.propToColCache.get(prop),col=Handsontable.hooks.run(this.instance,"unmodifyCol",col)},DataMap.prototype.getSchema=function(){var schema=this.instance.getSettings().dataSchema;return schema?"function"==typeof schema?schema():schema:this.duckSchema},DataMap.prototype.createRow=function(index,amount,source){var row,currentIndex,colCount=this.instance.countCols(),numberOfCreatedRows=0;amount||(amount=1),("number"!=typeof index||index>=this.instance.countSourceRows())&&(index=this.instance.countSourceRows()),Handsontable.hooks.run(this.instance,"beforeCreateRow",index,amount,source),currentIndex=index;for(var maxRows=this.instance.getSettings().maxRows;numberOfCreatedRows<amount&&this.instance.countSourceRows()<maxRows;)"array"===this.instance.dataType?this.instance.getSettings().dataSchema?row=deepClone(this.getSchema()):(row=[],rangeEach(colCount-1,function(){return row.push(null)})):"function"===this.instance.dataType?row=this.instance.getSettings().dataSchema(index):(row={},deepExtend(row,this.getSchema())),index===this.instance.countSourceRows()?this.dataSource.push(row):this.spliceData(index,0,row),numberOfCreatedRows++,currentIndex++;return Handsontable.hooks.run(this.instance,"afterCreateRow",index,numberOfCreatedRows,source),this.instance.forceFullRender=!0,numberOfCreatedRows},DataMap.prototype.createCol=function(index,amount,source){if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var constructor,currentIndex,rlen=this.instance.countSourceRows(),data=this.dataSource,numberOfCreatedCols=0;amount||(amount=1),("number"!=typeof index||index>=this.instance.countCols())&&(index=this.instance.countCols()),Handsontable.hooks.run(this.instance,"beforeCreateCol",index,amount,source),currentIndex=index;for(var maxCols=this.instance.getSettings().maxCols;numberOfCreatedCols<amount&&this.instance.countCols()<maxCols;){if(constructor=columnFactory(this.GridSettings,this.priv.columnsSettingConflicts),"number"!=typeof index||index>=this.instance.countCols()){if(rlen>0)for(var r=0;r<rlen;r++)"undefined"==typeof data[r]&&(data[r]=[]),data[r].push(null);else data.push([null]);this.priv.columnSettings.push(constructor)}else{for(var r=0;r<rlen;r++)data[r].splice(currentIndex,0,null);this.priv.columnSettings.splice(currentIndex,0,constructor)}numberOfCreatedCols++,currentIndex++}return Handsontable.hooks.run(this.instance,"afterCreateCol",index,numberOfCreatedCols,source),this.instance.forceFullRender=!0,numberOfCreatedCols},DataMap.prototype.removeRow=function(index,amount,source){amount||(amount=1),"number"!=typeof index&&(index=-amount),amount=Handsontable.hooks.run(this.instance,"modifyRemovedAmount",amount,index),index=(this.instance.countSourceRows()+index)%this.instance.countSourceRows();var logicRows=this.physicalRowsToLogical(index,amount),actionWasNotCancelled=Handsontable.hooks.run(this.instance,"beforeRemoveRow",index,amount,logicRows,source);if(actionWasNotCancelled!==!1){var newData,data=this.dataSource;newData=this.filterData(index,amount),newData&&(data.length=0,Array.prototype.push.apply(data,newData)),Handsontable.hooks.run(this.instance,"afterRemoveRow",index,amount,logicRows,source),this.instance.forceFullRender=!0}},DataMap.prototype.removeCol=function(index,amount,source){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("cannot remove column with object data source or columns option specified");amount||(amount=1),"number"!=typeof index&&(index=-amount),index=(this.instance.countCols()+index)%this.instance.countCols();var logicColumns=this.physicalColumnsToLogical(index,amount),descendingLogicColumns=logicColumns.slice(0).sort(function(a,b){return b-a}),actionWasNotCancelled=Handsontable.hooks.run(this.instance,"beforeRemoveCol",index,amount,logicColumns,source);if(actionWasNotCancelled!==!1){for(var isTableUniform=!0,removedColumnsCount=descendingLogicColumns.length,data=this.dataSource,c=0;c<removedColumnsCount;c++)isTableUniform&&logicColumns[0]!==logicColumns[c]-c&&(isTableUniform=!1);if(isTableUniform)for(var r=0,rlen=this.instance.countSourceRows();r<rlen;r++)data[r].splice(logicColumns[0],amount);else{for(var r$__10=0,rlen$__11=this.instance.countSourceRows();r$__10<rlen$__11;r$__10++)for(var c$__12=0;c$__12<removedColumnsCount;c$__12++)data[r$__10].splice(descendingLogicColumns[c$__12],1);for(var c$__13=0;c$__13<removedColumnsCount;c$__13++)this.priv.columnSettings.splice(logicColumns[c$__13],1)}Handsontable.hooks.run(this.instance,"afterRemoveCol",index,amount,logicColumns,source),this.instance.forceFullRender=!0}},DataMap.prototype.spliceCol=function(col,index,amount){var elements=4<=arguments.length?[].slice.call(arguments,3):[],colData=this.instance.getDataAtCol(col),removed=colData.slice(index,index+amount),after=colData.slice(index+amount);extendArray(elements,after);for(var i=0;i<amount;)elements.push(null),i++;return to2dArray(elements),this.instance.populateFromArray(index,col,elements,null,null,"spliceCol"),removed},DataMap.prototype.spliceRow=function(row,index,amount){var elements=4<=arguments.length?[].slice.call(arguments,3):[],rowData=this.instance.getSourceDataAtRow(row),removed=rowData.slice(index,index+amount),after=rowData.slice(index+amount);extendArray(elements,after);for(var i=0;i<amount;)elements.push(null),i++;return this.instance.populateFromArray(row,index,[elements],null,null,"spliceRow"),removed},DataMap.prototype.spliceData=function(index,amount,element){var continueSplicing=Handsontable.hooks.run(this.instance,"beforeDataSplice",index,amount,element);continueSplicing!==!1&&this.dataSource.splice(index,amount,element)},DataMap.prototype.filterData=function(index,amount){var logicRows=this.physicalRowsToLogical(index,amount),continueSplicing=Handsontable.hooks.run(this.instance,"beforeDataFilter",index,amount,logicRows);if(continueSplicing!==!1){var newData=this.dataSource.filter(function(row,index){return logicRows.indexOf(index)==-1});return newData}},DataMap.prototype.get=function(row,prop){row=Handsontable.hooks.run(this.instance,"modifyRow",row);var dataRow=this.dataSource[row],modifiedRowData=Handsontable.hooks.run(this.instance,"modifyRowData",row);dataRow=isNaN(modifiedRowData)?modifiedRowData:dataRow;var value=null;if(dataRow&&dataRow.hasOwnProperty&&dataRow.hasOwnProperty(prop))value=dataRow[prop];else if("string"==typeof prop&&prop.indexOf(".")>-1){var sliced=prop.split("."),out=dataRow;if(!out)return null;for(var i=0,ilen=sliced.length;i<ilen;i++)if(out=out[sliced[i]],"undefined"==typeof out)return null;value=out}else"function"==typeof prop&&(value=prop(this.dataSource.slice(row,row+1)[0]));if(Handsontable.hooks.has("modifyData",this.instance)){var valueHolder=createObjectPropListener(value);Handsontable.hooks.run(this.instance,"modifyData",row,this.propToCol(prop),valueHolder,"get"),valueHolder.isTouched()&&(value=valueHolder.value)}return value};var copyableLookup=cellMethodLookupFactory("copyable",!1);DataMap.prototype.getCopyable=function(row,prop){return copyableLookup.call(this.instance,row,this.propToCol(prop))?this.get(row,prop):""},DataMap.prototype.set=function(row,prop,value,source){row=Handsontable.hooks.run(this.instance,"modifyRow",row,source||"datamapGet");var dataRow=this.dataSource[row],modifiedRowData=Handsontable.hooks.run(this.instance,"modifyRowData",row);if(dataRow=isNaN(modifiedRowData)?modifiedRowData:dataRow,Handsontable.hooks.has("modifyData",this.instance)){var valueHolder=createObjectPropListener(value);Handsontable.hooks.run(this.instance,"modifyData",row,this.propToCol(prop),valueHolder,"set"),valueHolder.isTouched()&&(value=valueHolder.value)}if(dataRow&&dataRow.hasOwnProperty&&dataRow.hasOwnProperty(prop))dataRow[prop]=value;else if("string"==typeof prop&&prop.indexOf(".")>-1){for(var sliced=prop.split("."),out=dataRow,i=0,ilen=sliced.length-1;i<ilen;i++)"undefined"==typeof out[sliced[i]]&&(out[sliced[i]]={}),out=out[sliced[i]];out[sliced[i]]=value}else"function"==typeof prop?prop(this.dataSource.slice(row,row+1)[0],value):dataRow[prop]=value},DataMap.prototype.physicalRowsToLogical=function(index,amount){for(var row,totalRows=this.instance.countSourceRows(),physicRow=(totalRows+index)%totalRows,logicRows=[],rowsToRemove=amount;physicRow<totalRows&&rowsToRemove;)row=Handsontable.hooks.run(this.instance,"modifyRow",physicRow),logicRows.push(row),rowsToRemove--,physicRow++;return logicRows},DataMap.prototype.physicalColumnsToLogical=function(index,amount){for(var totalCols=this.instance.countCols(),physicalCol=(totalCols+index)%totalCols,logicalCols=[],colsToRemove=amount;physicalCol<totalCols&&colsToRemove;){var col=Handsontable.hooks.run(this.instance,"modifyCol",physicalCol);logicalCols.push(col),colsToRemove--,physicalCol++}return logicalCols},DataMap.prototype.clear=function(){for(var r=0;r<this.instance.countSourceRows();r++)for(var c=0;c<this.instance.countCols();c++)this.set(r,this.colToProp(c),"")},DataMap.prototype.clearLengthCache=function(){this.cachedLength=null},DataMap.prototype.getLength=function(){var maxRows,$__9=this,maxRowsFromSettings=this.instance.getSettings().maxRows;maxRows=maxRowsFromSettings<0||0===maxRowsFromSettings?0:maxRowsFromSettings||1/0;var length=this.instance.countSourceRows();if(Handsontable.hooks.has("modifyRow",this.instance)){var reValidate=this.skipCache;this.interval.start(),length!==this.latestSourceRowsCount&&(reValidate=!0),this.latestSourceRowsCount=length,null===this.cachedLength||reValidate?(rangeEach(length-1,function(row){row=Handsontable.hooks.run($__9.instance,"modifyRow",row),null===row&&--length}),this.cachedLength=length):length=this.cachedLength}else this.interval.stop();return Math.min(length,maxRows)},DataMap.prototype.getAll=function(){var start={row:0,col:0},maxRows=this.instance.getSettings().maxRows;if(0===maxRows)return[];var end={row:Math.min(Math.max(maxRows-1,0),Math.max(this.instance.countSourceRows()-1,0)),col:Math.max(this.instance.countCols()-1,0)};return start.row-end.row!==0||this.instance.countSourceRows()?this.getRange(start,end,DataMap.prototype.DESTINATION_RENDERER):[]},DataMap.prototype.getRange=function(start,end,destination){var r,rlen,c,clen,row,output=[],getFn=destination===this.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get;for(rlen=Math.max(start.row,end.row),clen=Math.max(start.col,end.col),r=Math.min(start.row,end.row);r<=rlen;r++){row=[];var physicalRow=Handsontable.hooks.run(this.instance,"modifyRow",r);for(c=Math.min(start.col,end.col);c<=clen&&null!==physicalRow;c++)row.push(getFn.call(this,r,this.colToProp(c)));null!==physicalRow&&output.push(row)}return output},DataMap.prototype.getText=function(start,end){return SheetClip.stringify(this.getRange(start,end,this.DESTINATION_RENDERER))},DataMap.prototype.getCopyableText=function(start,end){return SheetClip.stringify(this.getRange(start,end,this.DESTINATION_CLIPBOARD_GENERATOR))},DataMap.prototype.onSkipLengthCache=function(delay){var $__9=this;this.skipCache=!0,setTimeout(function(){$__9.skipCache=!1},delay)},DataMap.prototype.destroy=function(){this.interval.stop(),this.interval=null,this.instance=null,this.priv=null,this.GridSettings=null,this.dataSource=null,this.cachedLength=null,this.duckSchema=null}},{SheetClip:"SheetClip",browser:24,"helpers/array":43,"helpers/data":45,"helpers/number":52,"helpers/object":53,"helpers/setting":54,multiMap:60,"utils/interval":131}],28:[function(_dereq_,module,exports){Object.defineProperties(exports,{DataSource:{get:function(){return DataSource}},__esModule:{value:!0}});var $__helpers_47_object__,$__helpers_47_array__,$__helpers_47_number__,getProperty=($__helpers_47_object__=_dereq_("helpers/object"),$__helpers_47_object__&&$__helpers_47_object__.__esModule&&$__helpers_47_object__||{"default":$__helpers_47_object__}).getProperty,arrayEach=($__helpers_47_array__=_dereq_("helpers/array"),$__helpers_47_array__&&$__helpers_47_array__.__esModule&&$__helpers_47_array__||{"default":$__helpers_47_array__}).arrayEach,rangeEach=($__helpers_47_number__=_dereq_("helpers/number"),$__helpers_47_number__&&$__helpers_47_number__.__esModule&&$__helpers_47_number__||{"default":$__helpers_47_number__}).rangeEach,DataSource=function(hotInstance){var dataSource=void 0!==arguments[1]?arguments[1]:[];this.hot=hotInstance,this.data=dataSource,this.dataType="array",this.colToProp=function(){},this.propToCol=function(){}};$traceurRuntime.createClass(DataSource,{getData:function(){var toArray=void 0!==arguments[0]&&arguments[0],result=this.data;return toArray&&(result=this.getByRange({row:0,col:0},{row:Math.max(this.countRows()-1,0),col:Math.max(this.countColumns()-1,0)},!0)),result},setData:function(data){this.data=data},getAtColumn:function(column){var $__3=this,result=[];return arrayEach(this.data,function(row){var property=$__3.colToProp(column);row="string"==typeof property?getProperty(row,property):row[property],result.push(row)}),result},getAtRow:function(row){return this.data[row]},getAtCell:function(row,column){var result=null,modifyRowData=this.hot.runHooks("modifyRowData",row),dataRow=isNaN(modifyRowData)?modifyRowData:this.data[row];if(dataRow){var prop=this.colToProp(column);result="string"==typeof prop?getProperty(dataRow,prop):"function"==typeof prop?prop(this.data.slice(row,row+1)[0]):dataRow[prop]}return result},getByRange:function(start,end){var toArray=void 0!==arguments[2]&&arguments[2],$__3=this,startRow=Math.min(start.row,end.row),startCol=Math.min(start.col,end.col),endRow=Math.max(start.row,end.row),endCol=Math.max(start.col,end.col),result=[];return rangeEach(startRow,endRow,function(currentRow){var newRow,row=$__3.getAtRow(currentRow);"array"===$__3.dataType?newRow=row.slice(startCol,endCol+1):"object"===$__3.dataType&&(newRow=toArray?[]:{},rangeEach(startCol,endCol,function(column){var prop=$__3.colToProp(column);toArray?newRow.push(row[prop]):newRow[prop]=row[prop]})),result.push(newRow)}),result},countRows:function(){return Array.isArray(this.data)?this.data.length:0},countColumns:function(){var result=0;return Array.isArray(this.data)&&("array"===this.dataType?result=this.data[0].length:"object"===this.dataType&&(result=Object.keys(this.data[0]).length)),result},destroy:function(){this.data=null,this.hot=null}},{})},{"helpers/array":43,"helpers/number":52,"helpers/object":53}],29:[function(_dereq_,module,exports){function EditorManager(instance,priv,selection){function moveSelectionAfterEnter(shiftKey){var enterMoves="function"==typeof priv.settings.enterMoves?priv.settings.enterMoves(event):priv.settings.enterMoves;shiftKey?selection.transformStart(-enterMoves.row,-enterMoves.col):selection.transformStart(enterMoves.row,enterMoves.col,!0)}function moveSelectionUp(shiftKey){shiftKey?selection.transformEnd(-1,0):selection.transformStart(-1,0)}function moveSelectionDown(shiftKey){shiftKey?selection.transformEnd(1,0):selection.transformStart(1,0)}function moveSelectionRight(shiftKey){shiftKey?selection.transformEnd(0,1):selection.transformStart(0,1)}function moveSelectionLeft(shiftKey){shiftKey?selection.transformEnd(0,-1):selection.transformStart(0,-1)}function onKeyDown(event){var ctrlDown,rangeModifier;if(instance.isListening()&&(Handsontable.hooks.run(instance,"beforeKeyDown",event),!destroyed&&!isImmediatePropagationStopped(event)&&(priv.lastKeyCode=event.keyCode,selection.isSelected()))){if(ctrlDown=(event.ctrlKey||event.metaKey)&&!event.altKey,activeEditor&&!activeEditor.isWaiting()&&!(isMetaKey(event.keyCode)||isCtrlKey(event.keyCode)||ctrlDown||_this.isEditorOpened()))return void _this.openEditor("",event);switch(rangeModifier=event.shiftKey?selection.setRangeEnd:selection.setRangeStart,event.keyCode){case KEY_CODES.A:!_this.isEditorOpened()&&ctrlDown&&(selection.selectAll(),event.preventDefault(),stopPropagation(event));break;case KEY_CODES.ARROW_UP:_this.isEditorOpened()&&!activeEditor.isWaiting()&&_this.closeEditorAndSaveChanges(ctrlDown),moveSelectionUp(event.shiftKey),event.preventDefault(),stopPropagation(event);break;case KEY_CODES.ARROW_DOWN:_this.isEditorOpened()&&!activeEditor.isWaiting()&&_this.closeEditorAndSaveChanges(ctrlDown),moveSelectionDown(event.shiftKey),event.preventDefault(),stopPropagation(event);break;case KEY_CODES.ARROW_RIGHT:_this.isEditorOpened()&&!activeEditor.isWaiting()&&_this.closeEditorAndSaveChanges(ctrlDown),moveSelectionRight(event.shiftKey),event.preventDefault(),stopPropagation(event);break;case KEY_CODES.ARROW_LEFT:_this.isEditorOpened()&&!activeEditor.isWaiting()&&_this.closeEditorAndSaveChanges(ctrlDown),moveSelectionLeft(event.shiftKey),event.preventDefault(),stopPropagation(event);break;case KEY_CODES.TAB:var tabMoves="function"==typeof priv.settings.tabMoves?priv.settings.tabMoves(event):priv.settings.tabMoves;event.shiftKey?selection.transformStart(-tabMoves.row,-tabMoves.col):selection.transformStart(tabMoves.row,tabMoves.col,!0),event.preventDefault(),stopPropagation(event);break;case KEY_CODES.BACKSPACE:case KEY_CODES.DELETE:selection.empty(event),_this.prepareEditor(),event.preventDefault();break;case KEY_CODES.F2:_this.openEditor(null,event),activeEditor&&activeEditor.enableFullEditMode(),event.preventDefault();break;case KEY_CODES.ENTER:_this.isEditorOpened()?(activeEditor&&activeEditor.state!==Handsontable.EditorState.WAITING&&_this.closeEditorAndSaveChanges(ctrlDown),moveSelectionAfterEnter(event.shiftKey)):instance.getSettings().enterBeginsEditing?(_this.openEditor(null,event),activeEditor&&activeEditor.enableFullEditMode()):moveSelectionAfterEnter(event.shiftKey),event.preventDefault(),stopImmediatePropagation(event);break;case KEY_CODES.ESCAPE:_this.isEditorOpened()&&_this.closeEditorAndRestoreOriginalValue(ctrlDown),event.preventDefault();break;case KEY_CODES.HOME:rangeModifier(event.ctrlKey||event.metaKey?new WalkontableCellCoords(0,priv.selRange.from.col):new WalkontableCellCoords(priv.selRange.from.row,0)),event.preventDefault(),stopPropagation(event);break;case KEY_CODES.END:rangeModifier(event.ctrlKey||event.metaKey?new WalkontableCellCoords(instance.countRows()-1,priv.selRange.from.col):new WalkontableCellCoords(priv.selRange.from.row,instance.countCols()-1)),event.preventDefault(),stopPropagation(event);break;case KEY_CODES.PAGE_UP:selection.transformStart(-instance.countVisibleRows(),0),event.preventDefault(),stopPropagation(event);break;case KEY_CODES.PAGE_DOWN:selection.transformStart(instance.countVisibleRows(),0),event.preventDefault(),stopPropagation(event)}}}function init(){function onDblClick(event,coords,elem){"TD"==elem.nodeName&&(_this.openEditor(),activeEditor&&activeEditor.enableFullEditMode())}instance.addHook("afterDocumentKeyDown",onKeyDown),eventManager.addEventListener(document.documentElement,"keydown",function(event){destroyed||instance.runHooks("afterDocumentKeyDown",event)}),instance.view.wt.update("onCellDblClick",onDblClick),instance.addHook("afterDestroy",function(){destroyed=!0})}var eventManager,activeEditor,_this=this,destroyed=!1;eventManager=eventManagerObject(instance),this.destroyEditor=function(revertOriginal){this.closeEditor(revertOriginal)},this.getActiveEditor=function(){return activeEditor},this.prepareEditor=function(){var row,col,prop,td,originalValue,cellProperties,editorClass;return activeEditor&&activeEditor.isWaiting()?void this.closeEditor(!1,!1,function(dataSaved){dataSaved&&_this.prepareEditor()}):(row=priv.selRange.highlight.row,col=priv.selRange.highlight.col,prop=instance.colToProp(col),td=instance.getCell(row,col),originalValue=instance.getSourceDataAtCell(instance.runHooks("modifyRow",row),col),cellProperties=instance.getCellMeta(row,col),editorClass=instance.getCellEditor(cellProperties),void(editorClass?(activeEditor=Handsontable.editors.getEditor(editorClass,instance),activeEditor.prepare(row,col,prop,td,originalValue,cellProperties)):activeEditor=void 0))},this.isEditorOpened=function(){return activeEditor&&activeEditor.isOpened()},this.openEditor=function(initialValue,event){activeEditor&&!activeEditor.cellProperties.readOnly?activeEditor.beginEditing(initialValue,event):activeEditor&&activeEditor.cellProperties.readOnly&&event&&event.keyCode===KEY_CODES.ENTER&&moveSelectionAfterEnter()},this.closeEditor=function(restoreOriginalValue,ctrlDown,callback){activeEditor?activeEditor.finishEditing(restoreOriginalValue,ctrlDown,callback):callback&&callback(!1)},this.closeEditorAndSaveChanges=function(ctrlDown){return this.closeEditor(!1,ctrlDown)},this.closeEditorAndRestoreOriginalValue=function(ctrlDown){return this.closeEditor(!0,ctrlDown)},init()}Object.defineProperties(exports,{EditorManager:{get:function(){return EditorManager}},__esModule:{value:!0}});var $__browser__,$__3rdparty_47_walkontable_47_src_47_cell_47_coords__,$__helpers_47_unicode__,$__helpers_47_dom_47_event__,$__editors__,$__eventManager__,Handsontable=($__browser__=_dereq_("browser"),$__browser__&&$__browser__.__esModule&&$__browser__||{"default":$__browser__})["default"],WalkontableCellCoords=($__3rdparty_47_walkontable_47_src_47_cell_47_coords__=_dereq_("3rdparty/walkontable/src/cell/coords"),$__3rdparty_47_walkontable_47_src_47_cell_47_coords__&&$__3rdparty_47_walkontable_47_src_47_cell_47_coords__.__esModule&&$__3rdparty_47_walkontable_47_src_47_cell_47_coords__||{"default":$__3rdparty_47_walkontable_47_src_47_cell_47_coords__}).WalkontableCellCoords,$__2=($__helpers_47_unicode__=_dereq_("helpers/unicode"),$__helpers_47_unicode__&&$__helpers_47_unicode__.__esModule&&$__helpers_47_unicode__||{"default":$__helpers_47_unicode__}),KEY_CODES=$__2.KEY_CODES,isMetaKey=$__2.isMetaKey,isCtrlKey=$__2.isCtrlKey,$__3=($__helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$__helpers_47_dom_47_event__&&$__helpers_47_dom_47_event__.__esModule&&$__helpers_47_dom_47_event__||{"default":$__helpers_47_dom_47_event__}),stopPropagation=$__3.stopPropagation,stopImmediatePropagation=$__3.stopImmediatePropagation,isImmediatePropagationStopped=$__3.isImmediatePropagationStopped,eventManagerObject=(($__editors__=_dereq_("editors"),$__editors__&&$__editors__.__esModule&&$__editors__||{"default":$__editors__}).getEditor,($__eventManager__=_dereq_("eventManager"),$__eventManager__&&$__eventManager__.__esModule&&$__eventManager__||{"default":$__eventManager__}).eventManager);Handsontable.EditorManager=EditorManager},{"3rdparty/walkontable/src/cell/coords":6,browser:24,editors:30,eventManager:42,"helpers/dom/event":48,"helpers/unicode":56}],30:[function(_dereq_,module,exports){function RegisteredEditor(editorClass){var Clazz,instances;instances={},Clazz=editorClass,this.getConstructor=function(){return editorClass},this.getInstance=function(hotInstance){return hotInstance.guid in instances||(instances[hotInstance.guid]=new Clazz(hotInstance)),instances[hotInstance.guid]}}function registerEditor(editorName,editorClass){var editor=new RegisteredEditor(editorClass);"string"==typeof editorName&&(registeredEditorNames[editorName]=editor,Handsontable.editors[toUpperCaseFirst(editorName)+"Editor"]=editorClass),registeredEditorClasses.set(editorClass,editor)}function getEditor(editorName,hotInstance){var editor;if("function"==typeof editorName)registeredEditorClasses.get(editorName)||registerEditor(null,editorName),editor=registeredEditorClasses.get(editorName);else{if("string"!=typeof editorName)throw Error('Only strings and functions can be passed as "editor" parameter ');editor=registeredEditorNames[editorName]}if(!editor)throw Error('No editor registered under name "'+editorName+'"');return editor.getInstance(hotInstance)}function getEditorConstructor(editorName){var editor;if("string"!=typeof editorName)throw Error('Only strings and functions can be passed as "editor" parameter ');if(editor=registeredEditorNames[editorName],!editor)throw Error('No editor registered under name "'+editorName+'"');return editor.getConstructor()}function hasEditor(editorName){return!!registeredEditorNames[editorName]}Object.defineProperties(exports,{registerEditor:{get:function(){return registerEditor}},getEditor:{get:function(){return getEditor}},hasEditor:{get:function(){return hasEditor}},getEditorConstructor:{get:function(){return getEditorConstructor}},__esModule:{value:!0}});var $__browser__,$__helpers_47_string__,Handsontable=($__browser__=_dereq_("browser"),$__browser__&&$__browser__.__esModule&&$__browser__||{"default":$__browser__})["default"],toUpperCaseFirst=($__helpers_47_string__=_dereq_("helpers/string"),$__helpers_47_string__&&$__helpers_47_string__.__esModule&&$__helpers_47_string__||{"default":$__helpers_47_string__}).toUpperCaseFirst,registeredEditorNames={},registeredEditorClasses=new WeakMap;Handsontable.editors=Handsontable.editors||{},Handsontable.editors.registerEditor=registerEditor,Handsontable.editors.getEditor=getEditor},{browser:24,"helpers/string":55}],31:[function(_dereq_,module,exports){function BaseEditor(instance){this.instance=instance,this.state=Handsontable.EditorState.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.init()}Object.defineProperties(exports,{BaseEditor:{get:function(){return BaseEditor}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_helpers_47_mixed__,$___46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],stringify=($___46__46__47_helpers_47_mixed__=_dereq_("helpers/mixed"),$___46__46__47_helpers_47_mixed__&&$___46__46__47_helpers_47_mixed__.__esModule&&$___46__46__47_helpers_47_mixed__||{"default":$___46__46__47_helpers_47_mixed__}).stringify,WalkontableCellCoords=($___46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__=_dereq_("3rdparty/walkontable/src/cell/coords"),$___46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__&&$___46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__.__esModule&&$___46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__||{"default":$___46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__}).WalkontableCellCoords;Handsontable.editors=Handsontable.editors||{},Handsontable.editors.BaseEditor=BaseEditor,Handsontable.EditorState={VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"},BaseEditor.prototype._fireCallbacks=function(result){this._closeCallback&&(this._closeCallback(result),this._closeCallback=null)},BaseEditor.prototype.init=function(){},BaseEditor.prototype.getValue=function(){throw Error("Editor getValue() method unimplemented")},BaseEditor.prototype.setValue=function(newValue){throw Error("Editor setValue() method unimplemented")},BaseEditor.prototype.open=function(){throw Error("Editor open() method unimplemented")},BaseEditor.prototype.close=function(){throw Error("Editor close() method unimplemented")},BaseEditor.prototype.prepare=function(row,col,prop,td,originalValue,cellProperties){this.TD=td,this.row=row,this.col=col,this.prop=prop,this.originalValue=originalValue,this.cellProperties=cellProperties;var invalidActiveElement=!document.activeElement||document.activeElement&&void 0===document.activeElement.nodeName;this.instance.view.isMouseDown()&&document.activeElement&&document.activeElement!==document.body&&!invalidActiveElement?document.activeElement.blur():invalidActiveElement&&document.body.focus(),this.state=Handsontable.EditorState.VIRGIN},BaseEditor.prototype.extend=function(){function Editor(){baseClass.apply(this,arguments)}function inherit(Child,Parent){function Bridge(){}return Bridge.prototype=Parent.prototype,Child.prototype=new Bridge,Child.prototype.constructor=Child,Child}var baseClass=this.constructor;return inherit(Editor,baseClass)},BaseEditor.prototype.saveValue=function(value,ctrlDown){var selection,tmp;ctrlDown?(selection=this.instance.getSelected(),selection[0]>selection[2]&&(tmp=selection[0],selection[0]=selection[2],selection[2]=tmp),selection[1]>selection[3]&&(tmp=selection[1],selection[1]=selection[3],selection[3]=tmp)):selection=[this.row,this.col,null,null],this.instance.populateFromArray(selection[0],selection[1],value,selection[2],selection[3],"edit")},BaseEditor.prototype.beginEditing=function(initialValue,event){this.state==Handsontable.EditorState.VIRGIN&&(this.instance.view.scrollViewport(new WalkontableCellCoords(this.row,this.col)),this.instance.view.render(),this.state=Handsontable.EditorState.EDITING,initialValue="string"==typeof initialValue?initialValue:this.originalValue,this.setValue(stringify(initialValue)),this.open(event),this._opened=!0,this.focus(),this.instance.view.render(),this.instance.runHooks("afterBeginEditing",this.row,this.col))},BaseEditor.prototype.finishEditing=function(restoreOriginalValue,ctrlDown,callback){var val,_this=this;if(callback){var previousCloseCallback=this._closeCallback;this._closeCallback=function(result){previousCloseCallback&&previousCloseCallback(result),callback(result),_this.instance.view.render()}}if(!this.isWaiting()){if(this.state==Handsontable.EditorState.VIRGIN)return void this.instance._registerTimeout(setTimeout(function(){_this._fireCallbacks(!0)},0));if(this.state==Handsontable.EditorState.EDITING){if(restoreOriginalValue)return this.cancelChanges(),void this.instance.view.render();var value=this.getValue();val=this.instance.getSettings().trimWhitespace?[["string"==typeof value?String.prototype.trim.call(value||""):value]]:[[value]],this.state=Handsontable.EditorState.WAITING,this.saveValue(val,ctrlDown),this.instance.getCellValidator(this.cellProperties)?this.instance.addHookOnce("postAfterValidate",function(result){_this.state=Handsontable.EditorState.FINISHED,_this.discardEditor(result)}):(this.state=Handsontable.EditorState.FINISHED,this.discardEditor(!0))}}},BaseEditor.prototype.cancelChanges=function(){this.state=Handsontable.EditorState.FINISHED,this.discardEditor()},BaseEditor.prototype.discardEditor=function(result){this.state===Handsontable.EditorState.FINISHED&&(result===!1&&this.cellProperties.allowInvalid!==!0?(this.instance.selectCell(this.row,this.col),this.focus(),this.state=Handsontable.EditorState.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=Handsontable.EditorState.VIRGIN,this._fireCallbacks(!0)))},BaseEditor.prototype.enableFullEditMode=function(){this._fullEditMode=!0},BaseEditor.prototype.isInFullEditMode=function(){return this._fullEditMode},BaseEditor.prototype.isOpened=function(){return this._opened},BaseEditor.prototype.isWaiting=function(){return this.state===Handsontable.EditorState.WAITING},BaseEditor.prototype.checkEditorSection=function(){var totalRows=this.instance.countRows(),section="";return this.row<this.instance.getSettings().fixedRowsTop?section=this.col<this.instance.getSettings().fixedColumnsLeft?"top-left-corner":"top":this.instance.getSettings().fixedRowsBottom&&this.row>=totalRows-this.instance.getSettings().fixedRowsBottom?section=this.col<this.instance.getSettings().fixedColumnsLeft?"bottom-left-corner":"bottom":this.col<this.instance.getSettings().fixedColumnsLeft&&(section="left"),section}},{"3rdparty/walkontable/src/cell/coords":6,browser:24,"helpers/mixed":51}],32:[function(_dereq_,module,exports){function onBeforeKeyDown(event){skipOne=!1;var editor=this.getActiveEditor();if(isPrintableChar(event.keyCode)||event.keyCode===KEY_CODES.BACKSPACE||event.keyCode===KEY_CODES.DELETE||event.keyCode===KEY_CODES.INSERT){var timeOffset=0;if(event.keyCode===KEY_CODES.C&&(event.ctrlKey||event.metaKey))return;editor.isOpened()||(timeOffset+=10),editor.htEditor&&editor.instance._registerTimeout(setTimeout(function(){editor.queryChoices(editor.TEXTAREA.value),
skipOne=!0},timeOffset))}}Object.defineProperties(exports,{AutocompleteEditor:{get:function(){return AutocompleteEditor}},__esModule:{value:!0}});var $___46__46__47_helpers_47_unicode__,$___46__46__47_helpers_47_mixed__,$___46__46__47_helpers_47_string__,$___46__46__47_helpers_47_array__,$___46__46__47_helpers_47_dom_47_element__,$___46__46__47_editors__,$__handsontableEditor__,$__0=($___46__46__47_helpers_47_unicode__=_dereq_("helpers/unicode"),$___46__46__47_helpers_47_unicode__&&$___46__46__47_helpers_47_unicode__.__esModule&&$___46__46__47_helpers_47_unicode__||{"default":$___46__46__47_helpers_47_unicode__}),KEY_CODES=$__0.KEY_CODES,isPrintableChar=$__0.isPrintableChar,stringify=($___46__46__47_helpers_47_mixed__=_dereq_("helpers/mixed"),$___46__46__47_helpers_47_mixed__&&$___46__46__47_helpers_47_mixed__.__esModule&&$___46__46__47_helpers_47_mixed__||{"default":$___46__46__47_helpers_47_mixed__}).stringify,stripTags=($___46__46__47_helpers_47_string__=_dereq_("helpers/string"),$___46__46__47_helpers_47_string__&&$___46__46__47_helpers_47_string__.__esModule&&$___46__46__47_helpers_47_string__||{"default":$___46__46__47_helpers_47_string__}).stripTags,$__3=($___46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47_helpers_47_array__&&$___46__46__47_helpers_47_array__.__esModule&&$___46__46__47_helpers_47_array__||{"default":$___46__46__47_helpers_47_array__}),pivot=$__3.pivot,arrayMap=($__3.arrayFilter,$__3.arrayMap),$__4=($___46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47_helpers_47_dom_47_element__&&$___46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47_helpers_47_dom_47_element__}),addClass=$__4.addClass,getCaretPosition=$__4.getCaretPosition,getScrollbarWidth=$__4.getScrollbarWidth,getSelectionEndPosition=$__4.getSelectionEndPosition,outerWidth=$__4.outerWidth,outerHeight=$__4.outerHeight,offset=$__4.offset,getTrimmingContainer=$__4.getTrimmingContainer,setCaretPosition=$__4.setCaretPosition,registerEditor=($___46__46__47_editors__=_dereq_("editors"),$___46__46__47_editors__&&$___46__46__47_editors__.__esModule&&$___46__46__47_editors__||{"default":$___46__46__47_editors__}).registerEditor,HandsontableEditor=($__handsontableEditor__=_dereq_("handsontableEditor"),$__handsontableEditor__&&$__handsontableEditor__.__esModule&&$__handsontableEditor__||{"default":$__handsontableEditor__}).HandsontableEditor,AutocompleteEditor=HandsontableEditor.prototype.extend();AutocompleteEditor.prototype.init=function(){HandsontableEditor.prototype.init.apply(this,arguments),this.query=null,this.choices=[]},AutocompleteEditor.prototype.createElements=function(){HandsontableEditor.prototype.createElements.apply(this,arguments),addClass(this.htContainer,"autocompleteEditor"),addClass(this.htContainer,window.navigator.platform.indexOf("Mac")===-1?"":"htMacScroll")};var skipOne=!1;AutocompleteEditor.prototype.prepare=function(){this.instance.addHook("beforeKeyDown",onBeforeKeyDown),HandsontableEditor.prototype.prepare.apply(this,arguments)},AutocompleteEditor.prototype.open=function(){this.TEXTAREA_PARENT.style.overflow="auto",HandsontableEditor.prototype.open.apply(this,arguments),this.TEXTAREA_PARENT.style.overflow="";var choicesListHot=this.htEditor.getInstance(),_this=this,trimDropdown=void 0===this.cellProperties.trimDropdown||this.cellProperties.trimDropdown;this.TEXTAREA.style.visibility="visible",this.focus(),choicesListHot.updateSettings({colWidths:trimDropdown?[outerWidth(this.TEXTAREA)-2]:void 0,width:trimDropdown?outerWidth(this.TEXTAREA)+getScrollbarWidth()+2:void 0,afterRenderer:function(TD,row,col,prop,value,cellProperties){var indexOfMatch,match,$__8=_this.cellProperties,filteringCaseSensitive=$__8.filteringCaseSensitive,allowHtml=$__8.allowHtml;value=stringify(value),value&&!allowHtml&&(indexOfMatch=filteringCaseSensitive===!0?value.indexOf(this.query):value.toLowerCase().indexOf(_this.query.toLowerCase()),indexOfMatch!==-1&&(match=value.substr(indexOfMatch,_this.query.length),value=value.replace(match,"<strong>"+match+"</strong>"))),TD.innerHTML=value},autoColumnSize:!0,modifyColWidth:function(width,col){var autoWidths=this.getPlugin("autoColumnSize").widths;return autoWidths[col]&&(width=autoWidths[col]),trimDropdown?width:width+15}}),this.htEditor.view.wt.wtTable.holder.parentNode.style["padding-right"]=getScrollbarWidth()+2+"px",skipOne&&(skipOne=!1),_this.instance._registerTimeout(setTimeout(function(){_this.queryChoices(_this.TEXTAREA.value)},0))},AutocompleteEditor.prototype.close=function(){HandsontableEditor.prototype.close.apply(this,arguments)},AutocompleteEditor.prototype.queryChoices=function(query){var $__7=this;this.query=query;var $__8=this.cellProperties,source=$__8.source,allowHtml=($__8.filter,$__8.filteringCaseSensitive,$__8.allowHtml),stripTagsEach=function(choices){return arrayMap(choices,function(choice){return stripTags(choice)})};"function"==typeof source?source.call(this.cellProperties,query,function(choices){$__7.updateChoicesList(allowHtml?choices:stripTagsEach(choices))}):Array.isArray(source)?this.updateChoicesList(allowHtml?source:stripTagsEach(source)):this.updateChoicesList([])},AutocompleteEditor.prototype.updateChoicesList=function(choices){var pos=getCaretPosition(this.TEXTAREA),endPos=getSelectionEndPosition(this.TEXTAREA),sortByRelevanceSetting=this.cellProperties.sortByRelevance,filterSetting=this.cellProperties.filter,orderByRelevance=null,highlightIndex=null;sortByRelevanceSetting&&(orderByRelevance=AutocompleteEditor.sortByRelevance(this.getValue(),choices,this.cellProperties.filteringCaseSensitive));var orderByRelevanceLength=Array.isArray(orderByRelevance)?orderByRelevance.length:0;if(filterSetting===!1)orderByRelevanceLength&&(highlightIndex=orderByRelevance[0]);else{for(var sorted=[],i=0,choicesCount=choices.length;i<choicesCount&&!(sortByRelevanceSetting&&orderByRelevanceLength<=i);i++)orderByRelevanceLength?sorted.push(choices[orderByRelevance[i]]):sorted.push(choices[i]);highlightIndex=0,choices=sorted}this.choices=choices,this.htEditor.loadData(pivot([choices])),this.updateDropdownHeight(),this.flipDropdownIfNeeded(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(highlightIndex),this.instance.listen(),this.TEXTAREA.focus(),setCaretPosition(this.TEXTAREA,pos,pos===endPos?void 0:endPos)},AutocompleteEditor.prototype.flipDropdownIfNeeded=function(){var textareaOffset=offset(this.TEXTAREA),textareaHeight=outerHeight(this.TEXTAREA),dropdownHeight=this.getDropdownHeight(),trimmingContainer=getTrimmingContainer(this.instance.view.wt.wtTable.TABLE),trimmingContainerScrollTop=trimmingContainer.scrollTop,headersHeight=outerHeight(this.instance.view.wt.wtTable.THEAD),containerOffset={row:0,col:0};trimmingContainer!==window&&(containerOffset=offset(trimmingContainer));var spaceAbove=textareaOffset.top-containerOffset.top-headersHeight+trimmingContainerScrollTop,spaceBelow=trimmingContainer.scrollHeight-spaceAbove-headersHeight-textareaHeight,flipNeeded=dropdownHeight>spaceBelow&&spaceAbove>spaceBelow;return flipNeeded?this.flipDropdown(dropdownHeight):this.unflipDropdown(),this.limitDropdownIfNeeded(flipNeeded?spaceAbove:spaceBelow,dropdownHeight),flipNeeded},AutocompleteEditor.prototype.limitDropdownIfNeeded=function(spaceAvailable,dropdownHeight){if(dropdownHeight>spaceAvailable){var tempHeight=0,i=0,lastRowHeight=0,height=null;do lastRowHeight=this.htEditor.getRowHeight(i)||this.htEditor.view.wt.wtSettings.settings.defaultRowHeight,tempHeight+=lastRowHeight,i++;while(tempHeight<spaceAvailable);height=tempHeight-lastRowHeight,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=parseInt(this.htEditor.rootElement.style.top,10)+dropdownHeight-height+"px"),this.setDropdownHeight(tempHeight-lastRowHeight)}},AutocompleteEditor.prototype.flipDropdown=function(dropdownHeight){var dropdownStyle=this.htEditor.rootElement.style;dropdownStyle.position="absolute",dropdownStyle.top=-dropdownHeight+"px",this.htEditor.flipped=!0},AutocompleteEditor.prototype.unflipDropdown=function(){var dropdownStyle=this.htEditor.rootElement.style;"absolute"===dropdownStyle.position&&(dropdownStyle.position="",dropdownStyle.top=""),this.htEditor.flipped=void 0},AutocompleteEditor.prototype.updateDropdownHeight=function(){var currentDropdownWidth=this.htEditor.getColWidth(0)+getScrollbarWidth()+2,trimDropdown=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:trimDropdown?void 0:currentDropdownWidth}),this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer()},AutocompleteEditor.prototype.setDropdownHeight=function(height){this.htEditor.updateSettings({height:height})},AutocompleteEditor.prototype.finishEditing=function(restoreOriginalValue){restoreOriginalValue||this.instance.removeHook("beforeKeyDown",onBeforeKeyDown),HandsontableEditor.prototype.finishEditing.apply(this,arguments)},AutocompleteEditor.prototype.highlightBestMatchingChoice=function(index){"number"==typeof index?this.htEditor.selectCell(index,0):this.htEditor.deselectCell()},AutocompleteEditor.sortByRelevance=function(value,choices,caseSensitive){var currentItem,valueIndex,charsLeft,i,choicesRelevance=[],valueLength=value.length,result=[],choicesCount=choices.length;if(0===valueLength){for(i=0;i<choicesCount;i++)result.push(i);return result}for(i=0;i<choicesCount;i++)currentItem=stripTags(stringify(choices[i])),valueIndex=caseSensitive?currentItem.indexOf(value):currentItem.toLowerCase().indexOf(value.toLowerCase()),valueIndex!=-1&&(charsLeft=currentItem.length-valueIndex-valueLength,choicesRelevance.push({baseIndex:i,index:valueIndex,charsLeft:charsLeft,value:currentItem}));for(choicesRelevance.sort(function(a,b){return b.index===-1?-1:a.index===-1?1:a.index<b.index?-1:b.index<a.index?1:a.index===b.index?a.charsLeft<b.charsLeft?-1:a.charsLeft>b.charsLeft?1:0:void 0}),i=0,choicesCount=choicesRelevance.length;i<choicesCount;i++)result.push(choicesRelevance[i].baseIndex);return result},AutocompleteEditor.prototype.getDropdownHeight=function(){var firstRowHeight=this.htEditor.getInstance().getRowHeight(0)||23,visibleRows=this.cellProperties.visibleRows;return this.choices.length>=visibleRows?visibleRows*firstRowHeight:this.choices.length*firstRowHeight+8},AutocompleteEditor.prototype.allowKeyEventPropagation=function(keyCode){var selected={row:this.htEditor.getSelectedRange()?this.htEditor.getSelectedRange().from.row:-1},allowed=!1;return keyCode===KEY_CODES.ARROW_DOWN&&selected.row>0&&selected.row<this.htEditor.countRows()-1&&(allowed=!0),keyCode===KEY_CODES.ARROW_UP&&selected.row>-1&&(allowed=!0),allowed},AutocompleteEditor.prototype.discardEditor=function(result){HandsontableEditor.prototype.discardEditor.apply(this,arguments),this.instance.view.render()},registerEditor("autocomplete",AutocompleteEditor)},{editors:30,handsontableEditor:36,"helpers/array":43,"helpers/dom/element":47,"helpers/mixed":51,"helpers/string":55,"helpers/unicode":56}],33:[function(_dereq_,module,exports){Object.defineProperties(exports,{CheckboxEditor:{get:function(){return CheckboxEditor}},__esModule:{value:!0}});var $___46__46__47_editors__,$___95_baseEditor__,$___46__46__47_helpers_47_dom_47_element__,registerEditor=($___46__46__47_editors__=_dereq_("editors"),$___46__46__47_editors__&&$___46__46__47_editors__.__esModule&&$___46__46__47_editors__||{"default":$___46__46__47_editors__}).registerEditor,BaseEditor=($___95_baseEditor__=_dereq_("_baseEditor"),$___95_baseEditor__&&$___95_baseEditor__.__esModule&&$___95_baseEditor__||{"default":$___95_baseEditor__}).BaseEditor,hasClass=($___46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47_helpers_47_dom_47_element__&&$___46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47_helpers_47_dom_47_element__}).hasClass,CheckboxEditor=function(){$traceurRuntime.superConstructor($CheckboxEditor).apply(this,arguments)},$CheckboxEditor=CheckboxEditor;$traceurRuntime.createClass(CheckboxEditor,{beginEditing:function(initialValue,event){if(void 0===event){var checkbox=this.TD.querySelector('input[type="checkbox"]');hasClass(checkbox,"htBadValue")||checkbox.click()}},finishEditing:function(){},init:function(){},open:function(){},close:function(){},getValue:function(){},setValue:function(){},focus:function(){}},{},BaseEditor),registerEditor("checkbox",CheckboxEditor)},{_baseEditor:31,editors:30,"helpers/dom/element":47}],34:[function(_dereq_,module,exports){Object.defineProperties(exports,{DateEditor:{get:function(){return DateEditor}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_helpers_47_dom_47_element__,$___46__46__47_helpers_47_object__,$___46__46__47_eventManager__,$___46__46__47_editors__,$___46__46__47_helpers_47_unicode__,$___46__46__47_helpers_47_dom_47_event__,$__textEditor__,$__moment__,$__pikaday__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],$__1=($___46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47_helpers_47_dom_47_element__&&$___46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47_helpers_47_dom_47_element__}),addClass=$__1.addClass,outerHeight=$__1.outerHeight,deepExtend=($___46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47_helpers_47_object__&&$___46__46__47_helpers_47_object__.__esModule&&$___46__46__47_helpers_47_object__||{"default":$___46__46__47_helpers_47_object__}).deepExtend,EventManager=($___46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47_eventManager__&&$___46__46__47_eventManager__.__esModule&&$___46__46__47_eventManager__||{"default":$___46__46__47_eventManager__}).EventManager,$__4=($___46__46__47_editors__=_dereq_("editors"),$___46__46__47_editors__&&$___46__46__47_editors__.__esModule&&$___46__46__47_editors__||{"default":$___46__46__47_editors__}),registerEditor=($__4.getEditor,$__4.registerEditor),isMetaKey=($___46__46__47_helpers_47_unicode__=_dereq_("helpers/unicode"),$___46__46__47_helpers_47_unicode__&&$___46__46__47_helpers_47_unicode__.__esModule&&$___46__46__47_helpers_47_unicode__||{"default":$___46__46__47_helpers_47_unicode__}).isMetaKey,stopPropagation=($___46__46__47_helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$___46__46__47_helpers_47_dom_47_event__&&$___46__46__47_helpers_47_dom_47_event__.__esModule&&$___46__46__47_helpers_47_dom_47_event__||{"default":$___46__46__47_helpers_47_dom_47_event__}).stopPropagation,TextEditor=($__textEditor__=_dereq_("textEditor"),$__textEditor__&&$__textEditor__.__esModule&&$__textEditor__||{"default":$__textEditor__}).TextEditor,moment=($__moment__=_dereq_("moment"),$__moment__&&$__moment__.__esModule&&$__moment__||{"default":$__moment__})["default"],Pikaday=($__pikaday__=_dereq_("pikaday"),$__pikaday__&&$__pikaday__.__esModule&&$__pikaday__||{"default":$__pikaday__})["default"],DateEditor=function(hotInstance){this.$datePicker=null,this.datePicker=null,this.datePickerStyle=null,this.defaultDateFormat="DD/MM/YYYY",this.isCellEdited=!1,this.parentDestroyed=!1,$traceurRuntime.superConstructor($DateEditor).call(this,hotInstance)},$DateEditor=DateEditor;$traceurRuntime.createClass(DateEditor,{init:function(){var $__10=this;if("function"!=typeof moment)throw new Error("You need to include moment.js to your project.");if("function"!=typeof Pikaday)throw new Error("You need to include Pikaday to your project.");$traceurRuntime.superGet(this,$DateEditor.prototype,"init").call(this),this.instance.addHook("afterDestroy",function(){$__10.parentDestroyed=!0,$__10.destroyElements()})},createElements:function(){$traceurRuntime.superGet(this,$DateEditor.prototype,"createElements").call(this),this.datePicker=document.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,addClass(this.datePicker,"htDatepickerHolder"),document.body.appendChild(this.datePicker),this.$datePicker=new Pikaday(this.getDatePickerConfig());var eventManager=new EventManager(this);eventManager.addEventListener(this.datePicker,"mousedown",function(event){return stopPropagation(event)}),this.hideDatepicker()},destroyElements:function(){this.$datePicker.destroy()},prepare:function(row,col,prop,td,originalValue,cellProperties){this._opened=!1,$traceurRuntime.superGet(this,$DateEditor.prototype,"prepare").call(this,row,col,prop,td,originalValue,cellProperties)},open:function(){var event=void 0!==arguments[0]?arguments[0]:null;$traceurRuntime.superGet(this,$DateEditor.prototype,"open").call(this),this.showDatepicker(event)},close:function(){var $__10=this;this._opened=!1,this.instance._registerTimeout(setTimeout(function(){$__10.instance.selection.refreshBorders()},0)),$traceurRuntime.superGet(this,$DateEditor.prototype,"close").call(this)},finishEditing:function(){var isCancelled=void 0!==arguments[0]&&arguments[0],ctrlDown=void 0!==arguments[1]&&arguments[1];if(isCancelled){var value=this.originalValue;void 0!==value&&this.setValue(value)}this.hideDatepicker(),$traceurRuntime.superGet(this,$DateEditor.prototype,"finishEditing").call(this,isCancelled,ctrlDown)},showDatepicker:function(event){this.$datePicker.config(this.getDatePickerConfig());var dateStr,offset=this.TD.getBoundingClientRect(),dateFormat=this.cellProperties.dateFormat||this.defaultDateFormat,datePickerConfig=this.$datePicker.config(),isMouseDown=this.instance.view.isMouseDown(),isMeta=!!event&&isMetaKey(event.keyCode);this.datePickerStyle.top=window.pageYOffset+offset.top+outerHeight(this.TD)+"px",this.datePickerStyle.left=window.pageXOffset+offset.left+"px",this.$datePicker._onInputFocus=function(){},datePickerConfig.format=dateFormat,this.originalValue?(dateStr=this.originalValue,moment(dateStr,dateFormat,!0).isValid()&&this.$datePicker.setMoment(moment(dateStr,dateFormat),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),isMeta||isMouseDown||this.setValue("")):this.cellProperties.defaultDate?(dateStr=this.cellProperties.defaultDate,datePickerConfig.defaultDate=dateStr,moment(dateStr,dateFormat,!0).isValid()&&this.$datePicker.setMoment(moment(dateStr,dateFormat),!0),isMeta||isMouseDown||this.setValue("")):this.$datePicker.gotoToday(),this.datePickerStyle.display="block",this.$datePicker.show()},hideDatepicker:function(){this.datePickerStyle.display="none",this.$datePicker.hide()},getDatePickerConfig:function(){var $__10=this,htInput=this.TEXTAREA,options={};this.cellProperties&&this.cellProperties.datePickerConfig&&deepExtend(options,this.cellProperties.datePickerConfig);var origOnSelect=options.onSelect,origOnClose=options.onClose;return options.field=htInput,options.trigger=htInput,options.container=this.datePicker,options.bound=!1,options.format=options.format||this.defaultDateFormat,options.reposition=options.reposition||!1,options.onSelect=function(dateStr){isNaN(dateStr.getTime())||(dateStr=moment(dateStr).format($__10.cellProperties.dateFormat||$__10.defaultDateFormat)),$__10.setValue(dateStr),$__10.hideDatepicker(),origOnSelect&&origOnSelect()},options.onClose=function(){$__10.parentDestroyed||$__10.finishEditing(!1),origOnClose&&origOnClose()},options}},{},TextEditor),Handsontable.editors=Handsontable.editors||{},Handsontable.editors.DateEditor=DateEditor,registerEditor("date",DateEditor)},{browser:24,editors:30,eventManager:42,"helpers/dom/element":47,"helpers/dom/event":48,"helpers/object":53,"helpers/unicode":56,moment:"moment",pikaday:"pikaday",textEditor:41}],35:[function(_dereq_,module,exports){Object.defineProperties(exports,{DropdownEditor:{get:function(){return DropdownEditor}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_editors__,$__autocompleteEditor__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],$__1=($___46__46__47_editors__=_dereq_("editors"),$___46__46__47_editors__&&$___46__46__47_editors__.__esModule&&$___46__46__47_editors__||{"default":$___46__46__47_editors__}),registerEditor=($__1.getEditor,$__1.registerEditor),AutocompleteEditor=($__1.getEditorConstructor,($__autocompleteEditor__=_dereq_("autocompleteEditor"),$__autocompleteEditor__&&$__autocompleteEditor__.__esModule&&$__autocompleteEditor__||{"default":$__autocompleteEditor__}).AutocompleteEditor),DropdownEditor=function(){$traceurRuntime.superConstructor($DropdownEditor).apply(this,arguments)},$DropdownEditor=DropdownEditor;$traceurRuntime.createClass(DropdownEditor,{prepare:function(row,col,prop,td,originalValue,cellProperties){$traceurRuntime.superGet(this,$DropdownEditor.prototype,"prepare").call(this,row,col,prop,td,originalValue,cellProperties),this.cellProperties.filter=!1,this.cellProperties.strict=!0}},{},AutocompleteEditor),Handsontable.hooks.add("beforeValidate",function(value,row,col,source){var cellMeta=this.getCellMeta(row,this.propToCol(col));cellMeta.editor===Handsontable.editors.DropdownEditor&&void 0===cellMeta.strict&&(cellMeta.filter=!1,cellMeta.strict=!0)}),registerEditor("dropdown",DropdownEditor)},{autocompleteEditor:32,browser:24,editors:30}],36:[function(_dereq_,module,exports){Object.defineProperties(exports,{HandsontableEditor:{get:function(){return HandsontableEditor}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_helpers_47_unicode__,$___46__46__47_helpers_47_object__,$___46__46__47_helpers_47_dom_47_element__,$___46__46__47_helpers_47_dom_47_event__,$___46__46__47_editors__,$__textEditor__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],KEY_CODES=($___46__46__47_helpers_47_unicode__=_dereq_("helpers/unicode"),$___46__46__47_helpers_47_unicode__&&$___46__46__47_helpers_47_unicode__.__esModule&&$___46__46__47_helpers_47_unicode__||{"default":$___46__46__47_helpers_47_unicode__}).KEY_CODES,extend=($___46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47_helpers_47_object__&&$___46__46__47_helpers_47_object__.__esModule&&$___46__46__47_helpers_47_object__||{"default":$___46__46__47_helpers_47_object__}).extend,setCaretPosition=($___46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47_helpers_47_dom_47_element__&&$___46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47_helpers_47_dom_47_element__}).setCaretPosition,$__4=($___46__46__47_helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$___46__46__47_helpers_47_dom_47_event__&&$___46__46__47_helpers_47_dom_47_event__.__esModule&&$___46__46__47_helpers_47_dom_47_event__||{"default":$___46__46__47_helpers_47_dom_47_event__}),stopImmediatePropagation=$__4.stopImmediatePropagation,isImmediatePropagationStopped=$__4.isImmediatePropagationStopped,$__5=($___46__46__47_editors__=_dereq_("editors"),$___46__46__47_editors__&&$___46__46__47_editors__.__esModule&&$___46__46__47_editors__||{"default":$___46__46__47_editors__}),registerEditor=($__5.getEditor,$__5.registerEditor),TextEditor=($__textEditor__=_dereq_("textEditor"),$__textEditor__&&$__textEditor__.__esModule&&$__textEditor__||{"default":$__textEditor__}).TextEditor,HandsontableEditor=TextEditor.prototype.extend();HandsontableEditor.prototype.createElements=function(){TextEditor.prototype.createElements.apply(this,arguments);var DIV=document.createElement("DIV");DIV.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(DIV),this.htContainer=DIV,this.assignHooks()},HandsontableEditor.prototype.prepare=function(td,row,col,prop,value,cellProperties){TextEditor.prototype.prepare.apply(this,arguments);var parent=this,options={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,afterOnCellMouseDown:function(){var value=this.getValue();void 0!==value&&parent.setValue(value),parent.instance.destroyEditor()}};this.cellProperties.handsontable&&extend(options,cellProperties.handsontable),this.htOptions=options};var onBeforeKeyDown=function(event){if(!isImmediatePropagationStopped(event)){var rowToSelect,editor=this.getActiveEditor(),innerHOT=editor.htEditor.getInstance();if(event.keyCode==KEY_CODES.ARROW_DOWN)if(innerHOT.getSelected()||innerHOT.flipped){if(innerHOT.getSelected())if(innerHOT.flipped)rowToSelect=innerHOT.getSelected()[0]+1;else if(!innerHOT.flipped){var selectedRow=innerHOT.getSelected()[0],lastRow=innerHOT.countRows()-1;rowToSelect=Math.min(lastRow,selectedRow+1)}}else rowToSelect=0;else if(event.keyCode==KEY_CODES.ARROW_UP)if(!innerHOT.getSelected()&&innerHOT.flipped)rowToSelect=innerHOT.countRows()-1;else if(innerHOT.getSelected())if(innerHOT.flipped){var selectedRow=innerHOT.getSelected()[0];rowToSelect=Math.max(0,selectedRow-1)}else{var selectedRow=innerHOT.getSelected()[0];rowToSelect=selectedRow-1}void 0!==rowToSelect&&(rowToSelect<0||innerHOT.flipped&&rowToSelect>innerHOT.countRows()-1?innerHOT.deselectCell():innerHOT.selectCell(rowToSelect,0),innerHOT.getData().length&&(event.preventDefault(),stopImmediatePropagation(event),editor.instance.listen(),editor.TEXTAREA.focus()))}};HandsontableEditor.prototype.open=function(){this.instance.addHook("beforeKeyDown",onBeforeKeyDown),TextEditor.prototype.open.apply(this,arguments),this.htEditor&&this.htEditor.destroy(),this.htEditor=new Handsontable(this.htContainer,this.htOptions),this.cellProperties.strict?(this.htEditor.selectCell(0,0),this.TEXTAREA.style.visibility="hidden"):(this.htEditor.deselectCell(),this.TEXTAREA.style.visibility="visible"),setCaretPosition(this.TEXTAREA,0,this.TEXTAREA.value.length)},HandsontableEditor.prototype.close=function(){this.instance.removeHook("beforeKeyDown",onBeforeKeyDown),this.instance.listen(),TextEditor.prototype.close.apply(this,arguments)},HandsontableEditor.prototype.focus=function(){this.instance.listen(),TextEditor.prototype.focus.apply(this,arguments)},HandsontableEditor.prototype.beginEditing=function(initialValue){var onBeginEditing=this.instance.getSettings().onBeginEditing;onBeginEditing&&onBeginEditing()===!1||TextEditor.prototype.beginEditing.apply(this,arguments)},HandsontableEditor.prototype.finishEditing=function(isCancelled,ctrlDown){if(this.htEditor&&this.htEditor.isListening()&&this.instance.listen(),this.htEditor&&this.htEditor.getSelected()){var value=this.htEditor.getInstance().getValue();void 0!==value&&this.setValue(value)}return TextEditor.prototype.finishEditing.apply(this,arguments)},HandsontableEditor.prototype.assignHooks=function(){var _this=this;this.instance.addHook("afterDestroy",function(){_this.htEditor&&_this.htEditor.destroy()})},registerEditor("handsontable",HandsontableEditor)},{browser:24,editors:30,"helpers/dom/element":47,"helpers/dom/event":48,"helpers/object":53,"helpers/unicode":56,textEditor:41}],37:[function(_dereq_,module,exports){Object.defineProperties(exports,{MobileTextEditor:{get:function(){return MobileTextEditor}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_helpers_47_unicode__,$___46__46__47_helpers_47_dom_47_event__,$___46__46__47_helpers_47_dom_47_element__,$___46__46__47_editors__,$___95_baseEditor__,$___46__46__47_eventManager__,KEY_CODES=(($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],($___46__46__47_helpers_47_unicode__=_dereq_("helpers/unicode"),$___46__46__47_helpers_47_unicode__&&$___46__46__47_helpers_47_unicode__.__esModule&&$___46__46__47_helpers_47_unicode__||{"default":$___46__46__47_helpers_47_unicode__}).KEY_CODES),$__2=($___46__46__47_helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$___46__46__47_helpers_47_dom_47_event__&&$___46__46__47_helpers_47_dom_47_event__.__esModule&&$___46__46__47_helpers_47_dom_47_event__||{"default":$___46__46__47_helpers_47_dom_47_event__}),stopImmediatePropagation=$__2.stopImmediatePropagation,isImmediatePropagationStopped=$__2.isImmediatePropagationStopped,$__3=($___46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47_helpers_47_dom_47_element__&&$___46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47_helpers_47_dom_47_element__}),addClass=$__3.addClass,getScrollLeft=$__3.getScrollLeft,getScrollTop=$__3.getScrollTop,hasClass=$__3.hasClass,isChildOf=$__3.isChildOf,offset=$__3.offset,outerHeight=$__3.outerHeight,outerWidth=$__3.outerWidth,removeClass=$__3.removeClass,setCaretPosition=$__3.setCaretPosition,$__4=($___46__46__47_editors__=_dereq_("editors"),$___46__46__47_editors__&&$___46__46__47_editors__.__esModule&&$___46__46__47_editors__||{"default":$___46__46__47_editors__}),registerEditor=($__4.getEditor,$__4.registerEditor),BaseEditor=($___95_baseEditor__=_dereq_("_baseEditor"),$___95_baseEditor__&&$___95_baseEditor__.__esModule&&$___95_baseEditor__||{"default":$___95_baseEditor__}).BaseEditor,eventManagerObject=($___46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47_eventManager__&&$___46__46__47_eventManager__.__esModule&&$___46__46__47_eventManager__||{"default":$___46__46__47_eventManager__}).eventManager,MobileTextEditor=BaseEditor.prototype.extend(),domDimensionsCache={},createControls=function(){this.controls={},this.controls.leftButton=document.createElement("DIV"),this.controls.leftButton.className="leftButton",this.controls.rightButton=document.createElement("DIV"),this.controls.rightButton.className="rightButton",this.controls.upButton=document.createElement("DIV"),this.controls.upButton.className="upButton",this.controls.downButton=document.createElement("DIV"),this.controls.downButton.className="downButton";for(var button in this.controls)this.controls.hasOwnProperty(button)&&this.positionControls.appendChild(this.controls[button])};MobileTextEditor.prototype.valueChanged=function(){return this.initValue!=this.getValue()},MobileTextEditor.prototype.init=function(){var that=this;this.eventManager=eventManagerObject(this.instance),this.createElements(),this.bindEvents(),this.instance.addHook("afterDestroy",function(){that.destroy()})},MobileTextEditor.prototype.getValue=function(){return this.TEXTAREA.value},MobileTextEditor.prototype.setValue=function(newValue){this.initValue=newValue,this.TEXTAREA.value=newValue},MobileTextEditor.prototype.createElements=function(){this.editorContainer=document.createElement("DIV"),this.editorContainer.className="htMobileEditorContainer",this.cellPointer=document.createElement("DIV"),this.cellPointer.className="cellPointer",this.moveHandle=document.createElement("DIV"),this.moveHandle.className="moveHandle",this.inputPane=document.createElement("DIV"),this.inputPane.className="inputs",this.positionControls=document.createElement("DIV"),this.positionControls.className="positionControls",this.TEXTAREA=document.createElement("TEXTAREA"),addClass(this.TEXTAREA,"handsontableInput"),this.inputPane.appendChild(this.TEXTAREA),this.editorContainer.appendChild(this.cellPointer),this.editorContainer.appendChild(this.moveHandle),this.editorContainer.appendChild(this.inputPane),this.editorContainer.appendChild(this.positionControls),createControls.call(this),document.body.appendChild(this.editorContainer)},MobileTextEditor.prototype.onBeforeKeyDown=function(event){var instance=this,that=instance.getActiveEditor();if(event.target===that.TEXTAREA&&!isImmediatePropagationStopped(event))switch(event.keyCode){case KEY_CODES.ENTER:that.close(),event.preventDefault();
break;case KEY_CODES.BACKSPACE:stopImmediatePropagation(event)}},MobileTextEditor.prototype.open=function(){this.instance.addHook("beforeKeyDown",this.onBeforeKeyDown),addClass(this.editorContainer,"active"),removeClass(this.cellPointer,"hidden"),this.updateEditorPosition()},MobileTextEditor.prototype.focus=function(){this.TEXTAREA.focus(),setCaretPosition(this.TEXTAREA,this.TEXTAREA.value.length)},MobileTextEditor.prototype.close=function(){this.TEXTAREA.blur(),this.instance.removeHook("beforeKeyDown",this.onBeforeKeyDown),removeClass(this.editorContainer,"active")},MobileTextEditor.prototype.scrollToView=function(){var coords=this.instance.getSelectedRange().highlight;this.instance.view.scrollViewport(coords)},MobileTextEditor.prototype.hideCellPointer=function(){hasClass(this.cellPointer,"hidden")||addClass(this.cellPointer,"hidden")},MobileTextEditor.prototype.updateEditorPosition=function(x,y){if(x&&y)x=parseInt(x,10),y=parseInt(y,10),this.editorContainer.style.top=y+"px",this.editorContainer.style.left=x+"px";else{var selection=this.instance.getSelected(),selectedCell=this.instance.getCell(selection[0],selection[1]);if(domDimensionsCache.cellPointer||(domDimensionsCache.cellPointer={height:outerHeight(this.cellPointer),width:outerWidth(this.cellPointer)}),domDimensionsCache.editorContainer||(domDimensionsCache.editorContainer={width:outerWidth(this.editorContainer)}),void 0!==selectedCell){var scrollLeft=this.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer==window?0:getScrollLeft(this.instance.view.wt.wtOverlays.leftOverlay.holder),scrollTop=this.instance.view.wt.wtOverlays.topOverlay.trimmingContainer==window?0:getScrollTop(this.instance.view.wt.wtOverlays.topOverlay.holder),selectedCellOffset=offset(selectedCell),selectedCellWidth=outerWidth(selectedCell),currentScrollPosition={x:scrollLeft,y:scrollTop};this.editorContainer.style.top=parseInt(selectedCellOffset.top+outerHeight(selectedCell)-currentScrollPosition.y+domDimensionsCache.cellPointer.height,10)+"px",this.editorContainer.style.left=parseInt(window.innerWidth/2-domDimensionsCache.editorContainer.width/2,10)+"px",selectedCellOffset.left+selectedCellWidth/2>parseInt(this.editorContainer.style.left,10)+domDimensionsCache.editorContainer.width?this.editorContainer.style.left=window.innerWidth-domDimensionsCache.editorContainer.width+"px":selectedCellOffset.left+selectedCellWidth/2<parseInt(this.editorContainer.style.left,10)+20&&(this.editorContainer.style.left="0px"),this.cellPointer.style.left=parseInt(selectedCellOffset.left-domDimensionsCache.cellPointer.width/2-offset(this.editorContainer).left+selectedCellWidth/2-currentScrollPosition.x,10)+"px"}}},MobileTextEditor.prototype.updateEditorData=function(){var selected=this.instance.getSelected(),selectedValue=this.instance.getDataAtCell(selected[0],selected[1]);this.row=selected[0],this.col=selected[1],this.setValue(selectedValue),this.updateEditorPosition()},MobileTextEditor.prototype.prepareAndSave=function(){var val;return!this.valueChanged()||(val=this.instance.getSettings().trimWhitespace?[[String.prototype.trim.call(this.getValue())]]:[[this.getValue()]],void this.saveValue(val))},MobileTextEditor.prototype.bindEvents=function(){var that=this;this.eventManager.addEventListener(this.controls.leftButton,"touchend",function(event){that.prepareAndSave(),that.instance.selection.transformStart(0,-1,null,!0),that.updateEditorData(),event.preventDefault()}),this.eventManager.addEventListener(this.controls.rightButton,"touchend",function(event){that.prepareAndSave(),that.instance.selection.transformStart(0,1,null,!0),that.updateEditorData(),event.preventDefault()}),this.eventManager.addEventListener(this.controls.upButton,"touchend",function(event){that.prepareAndSave(),that.instance.selection.transformStart(-1,0,null,!0),that.updateEditorData(),event.preventDefault()}),this.eventManager.addEventListener(this.controls.downButton,"touchend",function(event){that.prepareAndSave(),that.instance.selection.transformStart(1,0,null,!0),that.updateEditorData(),event.preventDefault()}),this.eventManager.addEventListener(this.moveHandle,"touchstart",function(event){if(1==event.touches.length){var touch=event.touches[0],onTouchPosition={x:that.editorContainer.offsetLeft,y:that.editorContainer.offsetTop},onTouchOffset={x:touch.pageX-onTouchPosition.x,y:touch.pageY-onTouchPosition.y};that.eventManager.addEventListener(this,"touchmove",function(event){var touch=event.touches[0];that.updateEditorPosition(touch.pageX-onTouchOffset.x,touch.pageY-onTouchOffset.y),that.hideCellPointer(),event.preventDefault()})}}),this.eventManager.addEventListener(document.body,"touchend",function(event){isChildOf(event.target,that.editorContainer)||isChildOf(event.target,that.instance.rootElement)||that.close()}),this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.leftOverlay.holder,"scroll",function(event){that.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer!=window&&that.hideCellPointer()}),this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.topOverlay.holder,"scroll",function(event){that.instance.view.wt.wtOverlays.topOverlay.trimmingContainer!=window&&that.hideCellPointer()})},MobileTextEditor.prototype.destroy=function(){this.eventManager.clear(),this.editorContainer.parentNode.removeChild(this.editorContainer)},registerEditor("mobile",MobileTextEditor)},{_baseEditor:31,browser:24,editors:30,eventManager:42,"helpers/dom/element":47,"helpers/dom/event":48,"helpers/unicode":56}],38:[function(_dereq_,module,exports){Object.defineProperties(exports,{NumericEditor:{get:function(){return NumericEditor}},__esModule:{value:!0}});var $__numbro__,$___46__46__47_editors__,$__textEditor__,numbro=($__numbro__=_dereq_("numbro"),$__numbro__&&$__numbro__.__esModule&&$__numbro__||{"default":$__numbro__})["default"],registerEditor=($___46__46__47_editors__=_dereq_("editors"),$___46__46__47_editors__&&$___46__46__47_editors__.__esModule&&$___46__46__47_editors__||{"default":$___46__46__47_editors__}).registerEditor,TextEditor=($__textEditor__=_dereq_("textEditor"),$__textEditor__&&$__textEditor__.__esModule&&$__textEditor__||{"default":$__textEditor__}).TextEditor,NumericEditor=function(){$traceurRuntime.superConstructor($NumericEditor).apply(this,arguments)},$NumericEditor=NumericEditor;$traceurRuntime.createClass(NumericEditor,{beginEditing:function(initialValue){if("undefined"==typeof initialValue&&this.originalValue){"undefined"!=typeof this.cellProperties.language&&numbro.culture(this.cellProperties.language);var decimalDelimiter=numbro.cultureData().delimiters.decimal;initialValue=(""+this.originalValue).replace(".",decimalDelimiter)}$traceurRuntime.superGet(this,$NumericEditor.prototype,"beginEditing").call(this,initialValue)}},{},TextEditor),registerEditor("numeric",NumericEditor)},{editors:30,numbro:"numbro",textEditor:41}],39:[function(_dereq_,module,exports){Object.defineProperties(exports,{PasswordEditor:{get:function(){return PasswordEditor}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_helpers_47_dom_47_element__,$___46__46__47_editors__,$__textEditor__,empty=(($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],($___46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47_helpers_47_dom_47_element__&&$___46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47_helpers_47_dom_47_element__}).empty),$__2=($___46__46__47_editors__=_dereq_("editors"),$___46__46__47_editors__&&$___46__46__47_editors__.__esModule&&$___46__46__47_editors__||{"default":$___46__46__47_editors__}),registerEditor=($__2.getEditor,$__2.registerEditor),TextEditor=($__textEditor__=_dereq_("textEditor"),$__textEditor__&&$__textEditor__.__esModule&&$__textEditor__||{"default":$__textEditor__}).TextEditor,PasswordEditor=function(){$traceurRuntime.superConstructor($PasswordEditor).apply(this,arguments)},$PasswordEditor=PasswordEditor;$traceurRuntime.createClass(PasswordEditor,{createElements:function(){$traceurRuntime.superGet(this,$PasswordEditor.prototype,"createElements").call(this),this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,empty(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}},{},TextEditor),registerEditor("password",PasswordEditor)},{browser:24,editors:30,"helpers/dom/element":47,textEditor:41}],40:[function(_dereq_,module,exports){Object.defineProperties(exports,{SelectEditor:{get:function(){return SelectEditor}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_helpers_47_dom_47_element__,$___46__46__47_helpers_47_dom_47_event__,$___46__46__47_helpers_47_unicode__,$___46__46__47_editors__,$___95_baseEditor__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],$__1=($___46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47_helpers_47_dom_47_element__&&$___46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47_helpers_47_dom_47_element__}),addClass=$__1.addClass,empty=$__1.empty,fastInnerHTML=$__1.fastInnerHTML,getComputedStyle=$__1.getComputedStyle,getCssTransform=$__1.getCssTransform,getScrollableElement=$__1.getScrollableElement,offset=$__1.offset,outerHeight=$__1.outerHeight,outerWidth=$__1.outerWidth,resetCssTransform=$__1.resetCssTransform,stopImmediatePropagation=($___46__46__47_helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$___46__46__47_helpers_47_dom_47_event__&&$___46__46__47_helpers_47_dom_47_event__.__esModule&&$___46__46__47_helpers_47_dom_47_event__||{"default":$___46__46__47_helpers_47_dom_47_event__}).stopImmediatePropagation,KEY_CODES=($___46__46__47_helpers_47_unicode__=_dereq_("helpers/unicode"),$___46__46__47_helpers_47_unicode__&&$___46__46__47_helpers_47_unicode__.__esModule&&$___46__46__47_helpers_47_unicode__||{"default":$___46__46__47_helpers_47_unicode__}).KEY_CODES,$__4=($___46__46__47_editors__=_dereq_("editors"),$___46__46__47_editors__&&$___46__46__47_editors__.__esModule&&$___46__46__47_editors__||{"default":$___46__46__47_editors__}),registerEditor=($__4.getEditor,$__4.registerEditor),BaseEditor=($___95_baseEditor__=_dereq_("_baseEditor"),$___95_baseEditor__&&$___95_baseEditor__.__esModule&&$___95_baseEditor__||{"default":$___95_baseEditor__}).BaseEditor,SelectEditor=BaseEditor.prototype.extend();SelectEditor.prototype.init=function(){this.select=document.createElement("SELECT"),addClass(this.select,"htSelectEditor"),this.select.style.display="none",this.instance.rootElement.appendChild(this.select),this.registerHooks()},SelectEditor.prototype.registerHooks=function(){var $__6=this;this.instance.addHook("afterScrollHorizontally",function(){return $__6.refreshDimensions()}),this.instance.addHook("afterScrollVertically",function(){return $__6.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){return $__6.refreshDimensions()}),this.instance.addHook("afterRowResize",function(){return $__6.refreshDimensions()})},SelectEditor.prototype.prepare=function(){BaseEditor.prototype.prepare.apply(this,arguments);var options,selectOptions=this.cellProperties.selectOptions;options="function"==typeof selectOptions?this.prepareOptions(selectOptions(this.row,this.col,this.prop)):this.prepareOptions(selectOptions),empty(this.select);for(var option in options)if(options.hasOwnProperty(option)){var optionElement=document.createElement("OPTION");optionElement.value=option,fastInnerHTML(optionElement,options[option]),this.select.appendChild(optionElement)}},SelectEditor.prototype.prepareOptions=function(optionsToPrepare){var preparedOptions={};if(Array.isArray(optionsToPrepare))for(var i=0,len=optionsToPrepare.length;i<len;i++)preparedOptions[optionsToPrepare[i]]=optionsToPrepare[i];else"object"==("undefined"==typeof optionsToPrepare?"undefined":_typeof(optionsToPrepare))&&(preparedOptions=optionsToPrepare);return preparedOptions},SelectEditor.prototype.getValue=function(){return this.select.value},SelectEditor.prototype.setValue=function(value){this.select.value=value};var onBeforeKeyDown=function(event){var instance=this,editor=instance.getActiveEditor();switch(event.keyCode){case KEY_CODES.ARROW_UP:var previousOptionIndex=editor.select.selectedIndex-1;previousOptionIndex>=0&&(editor.select[previousOptionIndex].selected=!0),stopImmediatePropagation(event),event.preventDefault();break;case KEY_CODES.ARROW_DOWN:var nextOptionIndex=editor.select.selectedIndex+1;nextOptionIndex<=editor.select.length-1&&(editor.select[nextOptionIndex].selected=!0),stopImmediatePropagation(event),event.preventDefault()}};SelectEditor.prototype.open=function(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.instance.addHook("beforeKeyDown",onBeforeKeyDown)},SelectEditor.prototype.close=function(){this._opened=!1,this.select.style.display="none",this.instance.removeHook("beforeKeyDown",onBeforeKeyDown)},SelectEditor.prototype.focus=function(){this.select.focus()},SelectEditor.prototype.refreshValue=function(){var sourceData=this.instance.getSourceDataAtCell(this.row,this.prop);this.originalValue=sourceData,this.setValue(sourceData),this.refreshDimensions()},SelectEditor.prototype.refreshDimensions=function(){if(this.state===Handsontable.EditorState.EDITING){if(this.TD=this.getEditedCell(),!this.TD)return void this.close();var cssTransformOffset,width=outerWidth(this.TD)+1,height=outerHeight(this.TD)+1,currentOffset=offset(this.TD),containerOffset=offset(this.instance.rootElement),scrollableContainer=getScrollableElement(this.TD),editTop=currentOffset.top-containerOffset.top-1-(scrollableContainer.scrollTop||0),editLeft=currentOffset.left-containerOffset.left-1-(scrollableContainer.scrollLeft||0),editorSection=this.checkEditorSection(),settings=this.instance.getSettings();settings.rowHeaders?1:0,settings.colHeaders?1:0;switch(editorSection){case"top":cssTransformOffset=getCssTransform(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":cssTransformOffset=getCssTransform(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":cssTransformOffset=getCssTransform(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":cssTransformOffset=getCssTransform(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":cssTransformOffset=getCssTransform(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode)}0===this.instance.getSelected()[0]&&(editTop+=1),0===this.instance.getSelected()[1]&&(editLeft+=1);var selectStyle=this.select.style;cssTransformOffset&&cssTransformOffset!=-1?selectStyle[cssTransformOffset[0]]=cssTransformOffset[1]:resetCssTransform(this.select);var cellComputedStyle=getComputedStyle(this.TD);parseInt(cellComputedStyle.borderTopWidth,10)>0&&(height-=1),parseInt(cellComputedStyle.borderLeftWidth,10)>0&&(width-=1),selectStyle.height=height+"px",selectStyle.minWidth=width+"px",selectStyle.top=editTop+"px",selectStyle.left=editLeft+"px",selectStyle.margin="0px"}},SelectEditor.prototype.getEditedCell=function(){var editedCell,editorSection=this.checkEditorSection();switch(editorSection){case"top":editedCell=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=101;break;case"corner":editedCell=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=103;break;case"left":editedCell=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=102;break;default:editedCell=this.instance.getCell(this.row,this.col),this.select.style.zIndex=""}return editedCell!=-1&&editedCell!=-2?editedCell:void 0},registerEditor("select",SelectEditor)},{_baseEditor:31,browser:24,editors:30,"helpers/dom/element":47,"helpers/dom/event":48,"helpers/unicode":56}],41:[function(_dereq_,module,exports){Object.defineProperties(exports,{TextEditor:{get:function(){return TextEditor}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_helpers_47_dom_47_element__,$__autoResize__,$___95_baseEditor__,$___46__46__47_eventManager__,$___46__46__47_editors__,$___46__46__47_helpers_47_unicode__,$___46__46__47_helpers_47_dom_47_event__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],$__1=($___46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47_helpers_47_dom_47_element__&&$___46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47_helpers_47_dom_47_element__}),addClass=$__1.addClass,getCaretPosition=$__1.getCaretPosition,getComputedStyle=$__1.getComputedStyle,getCssTransform=$__1.getCssTransform,getScrollableElement=$__1.getScrollableElement,getScrollbarWidth=$__1.getScrollbarWidth,innerWidth=$__1.innerWidth,offset=$__1.offset,resetCssTransform=$__1.resetCssTransform,setCaretPosition=$__1.setCaretPosition,hasVerticalScrollbar=$__1.hasVerticalScrollbar,hasHorizontalScrollbar=$__1.hasHorizontalScrollbar,autoResize=($__autoResize__=_dereq_("autoResize"),$__autoResize__&&$__autoResize__.__esModule&&$__autoResize__||{"default":$__autoResize__})["default"],BaseEditor=($___95_baseEditor__=_dereq_("_baseEditor"),$___95_baseEditor__&&$___95_baseEditor__.__esModule&&$___95_baseEditor__||{"default":$___95_baseEditor__}).BaseEditor,eventManagerObject=($___46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47_eventManager__&&$___46__46__47_eventManager__.__esModule&&$___46__46__47_eventManager__||{"default":$___46__46__47_eventManager__}).eventManager,$__5=($___46__46__47_editors__=_dereq_("editors"),$___46__46__47_editors__&&$___46__46__47_editors__.__esModule&&$___46__46__47_editors__||{"default":$___46__46__47_editors__}),registerEditor=($__5.getEditor,$__5.registerEditor),KEY_CODES=($___46__46__47_helpers_47_unicode__=_dereq_("helpers/unicode"),$___46__46__47_helpers_47_unicode__&&$___46__46__47_helpers_47_unicode__.__esModule&&$___46__46__47_helpers_47_unicode__||{"default":$___46__46__47_helpers_47_unicode__}).KEY_CODES,$__7=($___46__46__47_helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$___46__46__47_helpers_47_dom_47_event__&&$___46__46__47_helpers_47_dom_47_event__.__esModule&&$___46__46__47_helpers_47_dom_47_event__||{"default":$___46__46__47_helpers_47_dom_47_event__}),stopPropagation=$__7.stopPropagation,stopImmediatePropagation=$__7.stopImmediatePropagation,isImmediatePropagationStopped=$__7.isImmediatePropagationStopped,TextEditor=BaseEditor.prototype.extend();TextEditor.prototype.init=function(){var that=this;this.createElements(),this.eventManager=eventManagerObject(this),this.bindEvents(),this.autoResize=autoResize(),this.instance.addHook("afterDestroy",function(){that.destroy()})},TextEditor.prototype.getValue=function(){return this.TEXTAREA.value},TextEditor.prototype.setValue=function(newValue){this.TEXTAREA.value=newValue};var onBeforeKeyDown=function(event){var ctrlDown,instance=this,that=instance.getActiveEditor();if(ctrlDown=(event.ctrlKey||event.metaKey)&&!event.altKey,event.target===that.TEXTAREA&&!isImmediatePropagationStopped(event)){if(17===event.keyCode||224===event.keyCode||91===event.keyCode||93===event.keyCode)return void stopImmediatePropagation(event);switch(event.keyCode){case KEY_CODES.ARROW_RIGHT:that.isInFullEditMode()&&(!that.isWaiting()&&!that.allowKeyEventPropagation||!that.isWaiting()&&that.allowKeyEventPropagation&&!that.allowKeyEventPropagation(event.keyCode))&&stopImmediatePropagation(event);break;case KEY_CODES.ARROW_LEFT:that.isInFullEditMode()&&(!that.isWaiting()&&!that.allowKeyEventPropagation||!that.isWaiting()&&that.allowKeyEventPropagation&&!that.allowKeyEventPropagation(event.keyCode))&&stopImmediatePropagation(event);break;case KEY_CODES.ARROW_UP:case KEY_CODES.ARROW_DOWN:that.isInFullEditMode()&&(!that.isWaiting()&&!that.allowKeyEventPropagation||!that.isWaiting()&&that.allowKeyEventPropagation&&!that.allowKeyEventPropagation(event.keyCode))&&stopImmediatePropagation(event);break;case KEY_CODES.ENTER:var selected=that.instance.getSelected(),isMultipleSelection=!(selected[0]===selected[2]&&selected[1]===selected[3]);if(ctrlDown&&!isMultipleSelection||event.altKey){if(that.isOpened()){var caretPosition=getCaretPosition(that.TEXTAREA),value=that.getValue(),newValue=value.slice(0,caretPosition)+"\n"+value.slice(caretPosition);that.setValue(newValue),setCaretPosition(that.TEXTAREA,caretPosition+1)}else that.beginEditing(that.originalValue+"\n");stopImmediatePropagation(event)}event.preventDefault();break;case KEY_CODES.A:case KEY_CODES.X:case KEY_CODES.C:case KEY_CODES.V:ctrlDown&&stopImmediatePropagation(event);break;case KEY_CODES.BACKSPACE:case KEY_CODES.DELETE:case KEY_CODES.HOME:case KEY_CODES.END:stopImmediatePropagation(event)}[KEY_CODES.ARROW_UP,KEY_CODES.ARROW_RIGHT,KEY_CODES.ARROW_DOWN,KEY_CODES.ARROW_LEFT].indexOf(event.keyCode)===-1&&that.autoResize.resize(String.fromCharCode(event.keyCode))}};TextEditor.prototype.open=function(){this.refreshDimensions(),this.instance.addHook("beforeKeyDown",onBeforeKeyDown)},TextEditor.prototype.close=function(tdOutside){this.textareaParentStyle.display="none",this.autoResize.unObserve(),document.activeElement===this.TEXTAREA&&this.instance.listen(),this.instance.removeHook("beforeKeyDown",onBeforeKeyDown)},TextEditor.prototype.focus=function(){this.TEXTAREA.focus(),setCaretPosition(this.TEXTAREA,this.TEXTAREA.value.length)},TextEditor.prototype.createElements=function(){this.TEXTAREA=document.createElement("TEXTAREA"),addClass(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.TEXTAREA_PARENT=document.createElement("DIV"),addClass(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement.appendChild(this.TEXTAREA_PARENT);var that=this;this.instance._registerTimeout(setTimeout(function(){that.refreshDimensions()},0))},TextEditor.prototype.getEditedCell=function(){var editedCell,editorSection=this.checkEditorSection();switch(editorSection){case"top":editedCell=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=101;break;case"top-left-corner":editedCell=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"bottom-left-corner":editedCell=this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"left":editedCell=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;case"bottom":editedCell=this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;default:editedCell=this.instance.getCell(this.row,this.col),this.textareaParentStyle.zIndex=""}return editedCell!=-1&&editedCell!=-2?editedCell:void 0},TextEditor.prototype.refreshValue=function(){var sourceData=this.instance.getSourceDataAtCell(this.row,this.prop);this.originalValue=sourceData,this.setValue(sourceData),this.refreshDimensions()},TextEditor.prototype.refreshDimensions=function(){if(this.state===Handsontable.EditorState.EDITING){if(this.TD=this.getEditedCell(),!this.TD)return void this.close(!0);var cssTransformOffset,currentOffset=offset(this.TD),containerOffset=offset(this.instance.rootElement),scrollableContainer=getScrollableElement(this.TD),totalRowsCount=this.instance.countRows(),editTopModifier=currentOffset.top===containerOffset.top?0:1,editTop=currentOffset.top-containerOffset.top-editTopModifier-(scrollableContainer.scrollTop||0),editLeft=currentOffset.left-containerOffset.left-1-(scrollableContainer.scrollLeft||0),settings=this.instance.getSettings(),colHeadersCount=(this.instance.hasRowHeaders(),this.instance.hasColHeaders()),editorSection=this.checkEditorSection(),backgroundColor=this.TD.style.backgroundColor;switch(editorSection){case"top":cssTransformOffset=getCssTransform(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":cssTransformOffset=getCssTransform(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":cssTransformOffset=getCssTransform(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":cssTransformOffset=getCssTransform(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":cssTransformOffset=getCssTransform(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode)}(colHeadersCount&&0===this.instance.getSelected()[0]||settings.fixedRowsBottom&&this.instance.getSelected()[0]===totalRowsCount-settings.fixedRowsBottom)&&(editTop+=1),0===this.instance.getSelected()[1]&&(editLeft+=1),cssTransformOffset&&cssTransformOffset!=-1?this.textareaParentStyle[cssTransformOffset[0]]=cssTransformOffset[1]:resetCssTransform(this.TEXTAREA_PARENT),this.textareaParentStyle.top=editTop+"px",this.textareaParentStyle.left=editLeft+"px";var firstRowOffset=this.instance.view.wt.wtViewport.rowsRenderCalculator.startPosition,firstColumnOffset=this.instance.view.wt.wtViewport.columnsRenderCalculator.startPosition,horizontalScrollPosition=this.instance.view.wt.wtOverlays.leftOverlay.getScrollPosition(),verticalScrollPosition=this.instance.view.wt.wtOverlays.topOverlay.getScrollPosition(),scrollbarWidth=getScrollbarWidth(),cellTopOffset=this.TD.offsetTop+firstRowOffset-verticalScrollPosition,cellLeftOffset=this.TD.offsetLeft+firstColumnOffset-horizontalScrollPosition,width=innerWidth(this.TD)-8,actualVerticalScrollbarWidth=hasVerticalScrollbar(scrollableContainer)?scrollbarWidth:0,actualHorizontalScrollbarWidth=hasHorizontalScrollbar(scrollableContainer)?scrollbarWidth:0,maxWidth=this.instance.view.maximumVisibleElementWidth(cellLeftOffset)-9-actualVerticalScrollbarWidth,height=this.TD.scrollHeight+1,maxHeight=Math.max(this.instance.view.maximumVisibleElementHeight(cellTopOffset)-actualHorizontalScrollbarWidth,23),cellComputedStyle=getComputedStyle(this.TD);this.TEXTAREA.style.fontSize=cellComputedStyle.fontSize,this.TEXTAREA.style.fontFamily=cellComputedStyle.fontFamily,this.TEXTAREA.style.backgroundColor="",this.TEXTAREA.style.backgroundColor=backgroundColor?backgroundColor:getComputedStyle(this.TEXTAREA).backgroundColor,this.autoResize.init(this.TEXTAREA,{minHeight:Math.min(height,maxHeight),maxHeight:maxHeight,minWidth:Math.min(width,maxWidth),maxWidth:maxWidth},!0),this.textareaParentStyle.display="block"}},TextEditor.prototype.bindEvents=function(){var editor=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(event){stopPropagation(event)}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(event){stopPropagation(event)}),this.instance.addHook("afterScrollHorizontally",function(){editor.refreshDimensions()}),this.instance.addHook("afterScrollVertically",function(){editor.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){editor.refreshDimensions(),editor.focus()}),this.instance.addHook("afterRowResize",function(){editor.refreshDimensions(),editor.focus()}),this.instance.addHook("afterDestroy",function(){editor.eventManager.destroy()})},TextEditor.prototype.destroy=function(){this.eventManager.destroy()},registerEditor("text",TextEditor)},{_baseEditor:31,autoResize:"autoResize",browser:24,editors:30,eventManager:42,"helpers/dom/element":47,"helpers/dom/event":48,"helpers/unicode":56}],42:[function(_dereq_,module,exports){function extendEvent(context,event){var isHotTableSpotted,fromElement,realTarget,target,len,nativeStopImmediatePropagation,componentName="HOT-TABLE";if(event.isTargetWebComponent=!1,event.realTarget=event.target,nativeStopImmediatePropagation=event.stopImmediatePropagation,event.stopImmediatePropagation=function(){nativeStopImmediatePropagation.apply(this),_stopImmediatePropagation(this)},!Handsontable.eventManager.isHotTableEnv)return event;for(event=polymerWrap(event),len=event.path?event.path.length:0;len--;){if(event.path[len].nodeName===componentName)isHotTableSpotted=!0;else if(isHotTableSpotted&&event.path[len].shadowRoot){target=event.path[len];break}0!==len||target||(target=event.path[len])}return target||(target=event.target),event.isTargetWebComponent=!0,isWebComponentSupportedNatively()?event.realTarget=event.srcElement||event.toElement:(context instanceof Handsontable.Core||context instanceof Walkontable)&&(context instanceof Handsontable.Core?fromElement=context.view?context.view.wt.wtTable.TABLE:null:context instanceof Walkontable&&(fromElement=context.wtTable.TABLE.parentNode.parentNode),realTarget=closest(event.target,[componentName],fromElement),realTarget?event.realTarget=fromElement.querySelector(componentName)||event.target:event.realTarget=event.target),Object.defineProperty(event,"target",{get:function(){return polymerWrap(target)},enumerable:!0,configurable:!0}),event}function eventManager(context){return new EventManager(context)}Object.defineProperties(exports,{EventManager:{get:function(){return EventManager}},eventManager:{get:function(){return eventManager}},__esModule:{value:!0}});var $__browser__,$__helpers_47_dom_47_element__,$__helpers_47_feature__,$__helpers_47_dom_47_event__,Handsontable=($__browser__=_dereq_("browser"),$__browser__&&$__browser__.__esModule&&$__browser__||{"default":$__browser__})["default"],$__1=($__helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$__helpers_47_dom_47_element__&&$__helpers_47_dom_47_element__.__esModule&&$__helpers_47_dom_47_element__||{"default":$__helpers_47_dom_47_element__}),polymerWrap=$__1.polymerWrap,closest=$__1.closest,isWebComponentSupportedNatively=($__helpers_47_feature__=_dereq_("helpers/feature"),$__helpers_47_feature__&&$__helpers_47_feature__.__esModule&&$__helpers_47_feature__||{"default":$__helpers_47_feature__}).isWebComponentSupportedNatively,_stopImmediatePropagation=($__helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$__helpers_47_dom_47_event__&&$__helpers_47_dom_47_event__.__esModule&&$__helpers_47_dom_47_event__||{"default":$__helpers_47_dom_47_event__}).stopImmediatePropagation,EventManager=function(){var context=void 0!==arguments[0]?arguments[0]:null;this.context=context||this,this.context.eventListeners||(this.context.eventListeners=[])};$traceurRuntime.createClass(EventManager,{addEventListener:function(element,eventName,callback){function callbackProxy(event){event=extendEvent(context,event),callback.call(this,event)}var $__4=this,context=this.context;return this.context.eventListeners.push({element:element,event:eventName,callback:callback,callbackProxy:callbackProxy}),window.addEventListener?element.addEventListener(eventName,callbackProxy,!1):element.attachEvent("on"+eventName,callbackProxy),Handsontable.countEventManagerListeners++,
function(){$__4.removeEventListener(element,eventName,callback)}},removeEventListener:function(element,eventName,callback){for(var tmpEvent,len=this.context.eventListeners.length;len--;)if(tmpEvent=this.context.eventListeners[len],tmpEvent.event==eventName&&tmpEvent.element==element){if(callback&&callback!=tmpEvent.callback)continue;this.context.eventListeners.splice(len,1),tmpEvent.element.removeEventListener?tmpEvent.element.removeEventListener(tmpEvent.event,tmpEvent.callbackProxy,!1):tmpEvent.element.detachEvent("on"+tmpEvent.event,tmpEvent.callbackProxy),Handsontable.countEventManagerListeners--}},clearEvents:function(){if(this.context)for(var len=this.context.eventListeners.length;len--;){var event=this.context.eventListeners[len];event&&this.removeEventListener(event.element,event.event,event.callback)}},clear:function(){this.clearEvents()},destroy:function(){this.clearEvents(),this.context=null},fireEvent:function(element,eventName){var event,options={bubbles:!0,cancelable:"mousemove"!==eventName,view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};document.createEvent?(event=document.createEvent("MouseEvents"),event.initMouseEvent(eventName,options.bubbles,options.cancelable,options.view,options.detail,options.screenX,options.screenY,options.clientX,options.clientY,options.ctrlKey,options.altKey,options.shiftKey,options.metaKey,options.button,options.relatedTarget||document.body.parentNode)):event=document.createEventObject(),element.dispatchEvent?element.dispatchEvent(event):element.fireEvent("on"+eventName,event)}},{}),Handsontable.countEventManagerListeners=0,Handsontable.eventManager=eventManager},{browser:24,"helpers/dom/element":47,"helpers/dom/event":48,"helpers/feature":49}],43:[function(_dereq_,module,exports){function to2dArray(arr){for(var i=0,ilen=arr.length;i<ilen;)arr[i]=[arr[i]],i++}function extendArray(arr,extension){for(var i=0,ilen=extension.length;i<ilen;)arr.push(extension[i]),i++}function pivot(arr){var pivotedArr=[];if(!arr||0===arr.length||!arr[0]||0===arr[0].length)return pivotedArr;for(var rowCount=arr.length,colCount=arr[0].length,i=0;i<rowCount;i++)for(var j=0;j<colCount;j++)pivotedArr[j]||(pivotedArr[j]=[]),pivotedArr[j][i]=arr[i][j];return pivotedArr}function arrayReduce(array,iteratee,accumulator,initFromArray){var index=-1,length=array.length;for(initFromArray&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index];result[++resIndex]=iteratee(value,index,array)}return result}function arrayEach(array,iteratee){for(var index=-1,length=array.length;++index<length&&iteratee(array[index],index,array)!==!1;);return array}function arraySum(array){return arrayReduce(array,function(a,b){return a+b},0)}function arrayMax(array){return arrayReduce(array,function(a,b){return a>b?a:b},Array.isArray(array)?array[0]:void 0)}function arrayMin(array){return arrayReduce(array,function(a,b){return a<b?a:b},Array.isArray(array)?array[0]:void 0)}function arrayAvg(array){return array.length?arraySum(array)/array.length:0}function arrayFlatten(array){return arrayReduce(array,function(initial,value){return initial.concat(Array.isArray(value)?arrayFlatten(value):value)},[])}function arrayUnique(array){var unique=[];return arrayEach(array,function(value){unique.indexOf(value)===-1&&unique.push(value)}),unique}function arrayIncludes(array,searchElement,fromIndex){if(null==array)throw new TypeError('"array" is null or not defined');var o=Object(array),len=o.length>>>0;if(0===len)return!1;for(var n=0|fromIndex,k=Math.max(n>=0?n:len-Math.abs(n),0);k<len;){if(o[k]===searchElement)return!0;k++}return!1}Object.defineProperties(exports,{to2dArray:{get:function(){return to2dArray}},extendArray:{get:function(){return extendArray}},pivot:{get:function(){return pivot}},arrayReduce:{get:function(){return arrayReduce}},arrayFilter:{get:function(){return arrayFilter}},arrayMap:{get:function(){return arrayMap}},arrayEach:{get:function(){return arrayEach}},arraySum:{get:function(){return arraySum}},arrayMax:{get:function(){return arrayMax}},arrayMin:{get:function(){return arrayMin}},arrayAvg:{get:function(){return arrayAvg}},arrayFlatten:{get:function(){return arrayFlatten}},arrayUnique:{get:function(){return arrayUnique}},arrayIncludes:{get:function(){return arrayIncludes}},__esModule:{value:!0}})},{}],44:[function(_dereq_,module,exports){function isIE8(){return _isIE8}function isIE9(){return _isIE9}function isSafari(){return _isSafari}function isChrome(){return _isChrome}function isMobileBrowser(userAgent){return userAgent||(userAgent=navigator.userAgent),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent)}Object.defineProperties(exports,{isIE8:{get:function(){return isIE8}},isIE9:{get:function(){return isIE9}},isSafari:{get:function(){return isSafari}},isChrome:{get:function(){return isChrome}},isMobileBrowser:{get:function(){return isMobileBrowser}},__esModule:{value:!0}});var _isIE8=!document.createTextNode("test").textContent,_isIE9=!!document.documentMode,_isSafari=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),_isChrome=/Chrome/.test(navigator.userAgent)&&/Google/.test(navigator.vendor)},{}],45:[function(_dereq_,module,exports){function spreadsheetColumnLabel(index){for(var modulo,dividend=index+1,columnLabel="";dividend>0;)modulo=(dividend-1)%COLUMN_LABEL_BASE_LENGTH,columnLabel=String.fromCharCode(65+modulo)+columnLabel,dividend=parseInt((dividend-modulo)/COLUMN_LABEL_BASE_LENGTH,10);return columnLabel}function spreadsheetColumnIndex(label){var result=0;if(label)for(var i=0,j=label.length-1;i<label.length;i+=1,j-=1)result+=Math.pow(COLUMN_LABEL_BASE_LENGTH,j)*(COLUMN_LABEL_BASE.indexOf(label[i])+1);return--result,result}function createSpreadsheetData(){var i,j,rows=void 0!==arguments[0]?arguments[0]:100,columns=void 0!==arguments[1]?arguments[1]:4,_rows=[];for(i=0;i<rows;i++){var row=[];for(j=0;j<columns;j++)row.push(spreadsheetColumnLabel(j)+(i+1));_rows.push(row)}return _rows}function createSpreadsheetObjectData(){var i,j,rows=void 0!==arguments[0]?arguments[0]:100,colCount=void 0!==arguments[1]?arguments[1]:4,_rows=[];for(i=0;i<rows;i++){var row={};for(j=0;j<colCount;j++)row["prop"+j]=spreadsheetColumnLabel(j)+(i+1);_rows.push(row)}return _rows}function createEmptySpreadsheetData(rows,columns){for(var row,data=[],i=0;i<rows;i++){row=[];for(var j=0;j<columns;j++)row.push("");data.push(row)}return data}function translateRowsToColumns(input){var i,ilen,j,jlen,output=[],olen=0;for(i=0,ilen=input.length;i<ilen;i++)for(j=0,jlen=input[i].length;j<jlen;j++)j==olen&&(output.push([]),olen++),output[j].push(input[i][j]);return output}function cellMethodLookupFactory(methodName,allowUndefined){function translateTypeNameToObject(typeName){var type=Handsontable.cellTypes[typeName];if("undefined"==typeof type)throw new Error('You declared cell type "'+typeName+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');return type}return allowUndefined="undefined"==typeof allowUndefined||allowUndefined,function(row,col){return function getMethodFromProperties(properties){if(properties){if(properties.hasOwnProperty(methodName)&&void 0!==properties[methodName])return properties[methodName];if(properties.hasOwnProperty("type")&&properties.type){var type;if("string"!=typeof properties.type)throw new Error("Cell type must be a string ");if(type=translateTypeNameToObject(properties.type),type.hasOwnProperty(methodName))return type[methodName];if(allowUndefined)return}return getMethodFromProperties(getPrototypeOf(properties))}}("number"==typeof row?this.getCellMeta(row,col):row)}}Object.defineProperties(exports,{spreadsheetColumnLabel:{get:function(){return spreadsheetColumnLabel}},spreadsheetColumnIndex:{get:function(){return spreadsheetColumnIndex}},createSpreadsheetData:{get:function(){return createSpreadsheetData}},createSpreadsheetObjectData:{get:function(){return createSpreadsheetObjectData}},createEmptySpreadsheetData:{get:function(){return createEmptySpreadsheetData}},translateRowsToColumns:{get:function(){return translateRowsToColumns}},cellMethodLookupFactory:{get:function(){return cellMethodLookupFactory}},__esModule:{value:!0}});var $___46__46__47_browser__,$__object__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],getPrototypeOf=($__object__=_dereq_("object"),$__object__&&$__object__.__esModule&&$__object__||{"default":$__object__}).getPrototypeOf,COLUMN_LABEL_BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZ",COLUMN_LABEL_BASE_LENGTH=COLUMN_LABEL_BASE.length},{browser:24,object:53}],46:[function(_dereq_,module,exports){function getNormalizedDate(dateString){var nativeDate=new Date(dateString);return isNaN(new Date(dateString+"T00:00").getDate())?nativeDate:new Date(nativeDate.getTime()+6e4*nativeDate.getTimezoneOffset())}Object.defineProperties(exports,{getNormalizedDate:{get:function(){return getNormalizedDate}},__esModule:{value:!0}})},{}],47:[function(_dereq_,module,exports){function getParent(element){for(var level=void 0!==arguments[1]?arguments[1]:0,iteration=-1,parent=null;null!=element;){if(iteration===level){parent=element;break}element.host&&element.nodeType===Node.DOCUMENT_FRAGMENT_NODE?element=element.host:(iteration++,element=element.parentNode)}return parent}function closest(element,nodes,until){for(;null!=element&&element!==until;){if(element.nodeType===Node.ELEMENT_NODE&&(nodes.indexOf(element.nodeName)>-1||nodes.indexOf(element)>-1))return element;element=element.host&&element.nodeType===Node.DOCUMENT_FRAGMENT_NODE?element.host:element.parentNode}return null}function closestDown(element,nodes,until){for(var matched=[];element&&(element=closest(element,nodes,until),element&&(!until||until.contains(element)));)matched.push(element),element=element.host&&element.nodeType===Node.DOCUMENT_FRAGMENT_NODE?element.host:element.parentNode;var length=matched.length;return length?matched[length-1]:null}function isChildOf(child,parent){var node=child.parentNode,queriedParents=[];for("string"==typeof parent?queriedParents=Array.prototype.slice.call(document.querySelectorAll(parent),0):queriedParents.push(parent);null!=node;){if(queriedParents.indexOf(node)>-1)return!0;node=node.parentNode}return!1}function isChildOfWebComponentTable(element){function isHotTable(element){return element.nodeType===Node.ELEMENT_NODE&&element.nodeName===hotTableName.toUpperCase()}var parentNode,hotTableName="hot-table",result=!1;for(parentNode=polymerWrap(element);null!=parentNode;){if(isHotTable(parentNode)){result=!0;break}if(parentNode.host&&parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(result=isHotTable(parentNode.host))break;parentNode=parentNode.host}parentNode=parentNode.parentNode}return result}function polymerWrap(element){return"undefined"!=typeof Polymer&&"function"==typeof wrap?wrap(element):element}function polymerUnwrap(element){return"undefined"!=typeof Polymer&&"function"==typeof unwrap?unwrap(element):element}function index(element){var i=0;if(element.previousSibling)for(;element=element.previousSibling;)++i;return i}function overlayContainsElement(overlayType,element){var overlayElement=document.querySelector(".ht_clone_"+overlayType);return overlayElement?overlayElement.contains(element):null}function filterEmptyClassNames(classNames){var len=0,result=[];if(!classNames||!classNames.length)return result;for(;classNames[len];)result.push(classNames[len]),len++;return result}function hasClass(element,className){return _hasClass(element,className)}function addClass(element,className){return _addClass(element,className)}function removeClass(element,className){return _removeClass(element,className)}function removeTextNodes(element,parent){if(3===element.nodeType)parent.removeChild(element);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(element.nodeName)>-1)for(var childs=element.childNodes,i=childs.length-1;i>=0;i--)removeTextNodes(childs[i],element)}function empty(element){for(var child;child=element.lastChild;)element.removeChild(child)}function fastInnerHTML(element,content){HTML_CHARACTERS.test(content)?element.innerHTML=content:fastInnerText(element,content)}function fastInnerText(element,content){var child=element.firstChild;child&&3===child.nodeType&&null===child.nextSibling?textContextSupport?child.textContent=content:child.data=content:(empty(element),element.appendChild(document.createTextNode(content)))}function isVisible(elem){for(var next=elem;polymerUnwrap(next)!==document.documentElement;){if(null===next)return!1;if(next.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(next.host){if(next.host.impl)return isVisible(next.host.impl);if(next.host)return isVisible(next.host);throw new Error("Lost in Web Components world")}return!1}if("none"===next.style.display)return!1;next=next.parentNode}return!0}function offset(elem){var offsetLeft,offsetTop,lastElem,docElem,box;if(docElem=document.documentElement,hasCaptionProblem()&&elem.firstChild&&"CAPTION"===elem.firstChild.nodeName)return box=elem.getBoundingClientRect(),{top:box.top+(window.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(window.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0)};for(offsetLeft=elem.offsetLeft,offsetTop=elem.offsetTop,lastElem=elem;(elem=elem.offsetParent)&&elem!==document.body;)offsetLeft+=elem.offsetLeft,offsetTop+=elem.offsetTop,lastElem=elem;return lastElem&&"fixed"===lastElem.style.position&&(offsetLeft+=window.pageXOffset||docElem.scrollLeft,offsetTop+=window.pageYOffset||docElem.scrollTop),{left:offsetLeft,top:offsetTop}}function getWindowScrollTop(){var res=window.scrollY;return void 0===res&&(res=document.documentElement.scrollTop),res}function getWindowScrollLeft(){var res=window.scrollX;return void 0===res&&(res=document.documentElement.scrollLeft),res}function getScrollTop(element){return element===window?getWindowScrollTop():element.scrollTop}function getScrollLeft(element){return element===window?getWindowScrollLeft():element.scrollLeft}function getScrollableElement(element){for(var overflow,overflowX,overflowY,el=element.parentNode,props=["auto","scroll"],computedStyle="",computedOverflow="",computedOverflowY="",computedOverflowX="";el&&el.style&&document.body!==el;){if(overflow=el.style.overflow,overflowX=el.style.overflowX,overflowY=el.style.overflowY,"scroll"==overflow||"scroll"==overflowX||"scroll"==overflowY)return el;if(window.getComputedStyle&&(computedStyle=window.getComputedStyle(el),computedOverflow=computedStyle.getPropertyValue("overflow"),computedOverflowY=computedStyle.getPropertyValue("overflow-y"),computedOverflowX=computedStyle.getPropertyValue("overflow-x"),"scroll"===computedOverflow||"scroll"===computedOverflowX||"scroll"===computedOverflowY))return el;if(el.clientHeight<=el.scrollHeight&&(props.indexOf(overflowY)!==-1||props.indexOf(overflow)!==-1||props.indexOf(computedOverflow)!==-1||props.indexOf(computedOverflowY)!==-1))return el;if(el.clientWidth<=el.scrollWidth&&(props.indexOf(overflowX)!==-1||props.indexOf(overflow)!==-1||props.indexOf(computedOverflow)!==-1||props.indexOf(computedOverflowX)!==-1))return el;el=el.parentNode}return window}function getTrimmingContainer(base){for(var el=base.parentNode;el&&el.style&&document.body!==el;){if("visible"!==el.style.overflow&&""!==el.style.overflow)return el;if(window.getComputedStyle){var computedStyle=window.getComputedStyle(el);if("visible"!==computedStyle.getPropertyValue("overflow")&&""!==computedStyle.getPropertyValue("overflow"))return el}el=el.parentNode}return window}function getStyle(element,prop){if(element){if(element!==window){var computedStyle,styleProp=element.style[prop];return""!==styleProp&&void 0!==styleProp?styleProp:(computedStyle=getComputedStyle(element),""!==computedStyle[prop]&&void 0!==computedStyle[prop]?computedStyle[prop]:void 0)}if("width"===prop)return window.innerWidth+"px";if("height"===prop)return window.innerHeight+"px"}}function getComputedStyle(element){return element.currentStyle||document.defaultView.getComputedStyle(element)}function outerWidth(element){return element.offsetWidth}function outerHeight(elem){return hasCaptionProblem()&&elem.firstChild&&"CAPTION"===elem.firstChild.nodeName?elem.offsetHeight+elem.firstChild.offsetHeight:elem.offsetHeight}function innerHeight(element){return element.clientHeight||element.innerHeight}function innerWidth(element){return element.clientWidth||element.innerWidth}function addEvent(element,event,callback){window.addEventListener?element.addEventListener(event,callback,!1):element.attachEvent("on"+event,callback)}function removeEvent(element,event,callback){window.removeEventListener?element.removeEventListener(event,callback,!1):element.detachEvent("on"+event,callback)}function getCaretPosition(el){if(el.selectionStart)return el.selectionStart;if(document.selection){el.focus();var r=document.selection.createRange();if(null==r)return 0;var re=el.createTextRange(),rc=re.duplicate();return re.moveToBookmark(r.getBookmark()),rc.setEndPoint("EndToStart",re),rc.text.length}return 0}function getSelectionEndPosition(el){if(el.selectionEnd)return el.selectionEnd;if(document.selection){var r=document.selection.createRange();if(null==r)return 0;var re=el.createTextRange();return re.text.indexOf(r.text)+r.text.length}}function getSelectionText(){var text="";return window.getSelection?text=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(text=document.selection.createRange().text),text}function setCaretPosition(element,pos,endPos){if(void 0===endPos&&(endPos=pos),element.setSelectionRange){element.focus();try{element.setSelectionRange(pos,endPos)}catch(err){var elementParent=element.parentNode,parentDisplayValue=elementParent.style.display;elementParent.style.display="block",element.setSelectionRange(pos,endPos),elementParent.style.display=parentDisplayValue}}else if(element.createTextRange){var range=element.createTextRange();range.collapse(!0),range.moveEnd("character",endPos),range.moveStart("character",pos),range.select()}}function walkontableCalculateScrollbarWidth(){var inner=document.createElement("div");inner.style.height="200px",inner.style.width="100%";var outer=document.createElement("div");outer.style.boxSizing="content-box",outer.style.height="150px",outer.style.left="0px",outer.style.overflow="hidden",outer.style.position="absolute",outer.style.top="0px",outer.style.width="200px",outer.style.visibility="hidden",outer.appendChild(inner),(document.body||document.documentElement).appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="scroll";var w2=inner.offsetWidth;return w1==w2&&(w2=outer.clientWidth),(document.body||document.documentElement).removeChild(outer),w1-w2}function getScrollbarWidth(){return void 0===cachedScrollbarWidth&&(cachedScrollbarWidth=walkontableCalculateScrollbarWidth()),cachedScrollbarWidth}function hasVerticalScrollbar(element){return element.offsetWidth!==element.clientWidth}function hasHorizontalScrollbar(element){return element.offsetHeight!==element.clientHeight}function setOverlayPosition(overlayElem,left,top){isIE8()||isIE9()?(overlayElem.style.top=top,overlayElem.style.left=left):isSafari()?overlayElem.style["-webkit-transform"]="translate3d("+left+","+top+",0)":overlayElem.style.transform="translate3d("+left+","+top+",0)"}function getCssTransform(element){var transform;return element.style.transform&&""!==(transform=element.style.transform)?["transform",transform]:element.style["-webkit-transform"]&&""!==(transform=element.style["-webkit-transform"])?["-webkit-transform",transform]:-1}function resetCssTransform(element){element.style.transform&&""!==element.style.transform?element.style.transform="":element.style["-webkit-transform"]&&""!==element.style["-webkit-transform"]&&(element.style["-webkit-transform"]="")}function isInput(element){var inputs=["INPUT","SELECT","TEXTAREA"];return element&&(inputs.indexOf(element.nodeName)>-1||"true"===element.contentEditable)}function isOutsideInput(element){return isInput(element)&&element.className.indexOf("handsontableInput")==-1&&element.className.indexOf("copyPaste")==-1}Object.defineProperties(exports,{getParent:{get:function(){return getParent}},closest:{get:function(){return closest}},closestDown:{get:function(){return closestDown}},isChildOf:{get:function(){return isChildOf}},isChildOfWebComponentTable:{get:function(){return isChildOfWebComponentTable}},polymerWrap:{get:function(){return polymerWrap}},polymerUnwrap:{get:function(){return polymerUnwrap}},index:{get:function(){return index}},overlayContainsElement:{get:function(){return overlayContainsElement}},hasClass:{get:function(){return hasClass}},addClass:{get:function(){return addClass}},removeClass:{get:function(){return removeClass}},removeTextNodes:{get:function(){return removeTextNodes}},empty:{get:function(){return empty}},HTML_CHARACTERS:{get:function(){return HTML_CHARACTERS}},fastInnerHTML:{get:function(){return fastInnerHTML}},fastInnerText:{get:function(){return fastInnerText}},isVisible:{get:function(){return isVisible}},offset:{get:function(){return offset}},getWindowScrollTop:{get:function(){return getWindowScrollTop}},getWindowScrollLeft:{get:function(){return getWindowScrollLeft}},getScrollTop:{get:function(){return getScrollTop}},getScrollLeft:{get:function(){return getScrollLeft}},getScrollableElement:{get:function(){return getScrollableElement}},getTrimmingContainer:{get:function(){return getTrimmingContainer}},getStyle:{get:function(){return getStyle}},getComputedStyle:{get:function(){return getComputedStyle}},outerWidth:{get:function(){return outerWidth}},outerHeight:{get:function(){return outerHeight}},innerHeight:{get:function(){return innerHeight}},innerWidth:{get:function(){return innerWidth}},addEvent:{get:function(){return addEvent}},removeEvent:{get:function(){return removeEvent}},getCaretPosition:{get:function(){return getCaretPosition}},getSelectionEndPosition:{get:function(){return getSelectionEndPosition}},getSelectionText:{get:function(){return getSelectionText}},setCaretPosition:{get:function(){return setCaretPosition}},getScrollbarWidth:{get:function(){return getScrollbarWidth}},hasVerticalScrollbar:{get:function(){return hasVerticalScrollbar}},hasHorizontalScrollbar:{get:function(){return hasHorizontalScrollbar}},setOverlayPosition:{get:function(){return setOverlayPosition}},getCssTransform:{get:function(){return getCssTransform}},resetCssTransform:{get:function(){return resetCssTransform}},isInput:{get:function(){return isInput}},isOutsideInput:{get:function(){return isOutsideInput}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_feature__,_hasClass,_addClass,_removeClass,$__0=($___46__46__47_browser__=_dereq_("../browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__}),isIE8=$__0.isIE8,isIE9=$__0.isIE9,isSafari=$__0.isSafari,hasCaptionProblem=($___46__46__47_feature__=_dereq_("../feature"),$___46__46__47_feature__&&$___46__46__47_feature__.__esModule&&$___46__46__47_feature__||{"default":$___46__46__47_feature__}).hasCaptionProblem,classListSupport=!!document.documentElement.classList;if(classListSupport){var isSupportMultipleClassesArg=function(){var element=document.createElement("div");return element.classList.add("test","test2"),element.classList.contains("test2")}();_hasClass=function(element,className){return""!==className&&element.classList.contains(className)},_addClass=function(element,className){var len=0;if("string"==typeof className&&(className=className.split(" ")),className=filterEmptyClassNames(className),isSupportMultipleClassesArg)element.classList.add.apply(element.classList,className);else for(;className&&className[len];)element.classList.add(className[len]),len++},_removeClass=function(element,className){var len=0;if("string"==typeof className&&(className=className.split(" ")),className=filterEmptyClassNames(className),isSupportMultipleClassesArg)element.classList.remove.apply(element.classList,className);else for(;className&&className[len];)element.classList.remove(className[len]),len++}}else{var createClassNameRegExp=function(className){return new RegExp("(\\s|^)"+className+"(\\s|$)")};_hasClass=function(element,className){return!!element.className.match(createClassNameRegExp(className))},_addClass=function(element,className){var len=0,_className=element.className;if("string"==typeof className&&(className=className.split(" ")),""===_className)_className=className.join(" ");else for(;className&&className[len];)createClassNameRegExp(className[len]).test(_className)||(_className+=" "+className[len]),len++;element.className=_className},_removeClass=function(element,className){var len=0,_className=element.className;for("string"==typeof className&&(className=className.split(" "));className&&className[len];)_className=_className.replace(createClassNameRegExp(className[len])," ").trim(),len++;element.className!==_className&&(element.className=_className)}}var cachedScrollbarWidth,HTML_CHARACTERS=/(<(.*)>|&(.*);)/,textContextSupport=!!document.createTextNode("test").textContent},{"../browser":44,"../feature":49}],48:[function(_dereq_,module,exports){function stopImmediatePropagation(event){event.isImmediatePropagationEnabled=!1,event.cancelBubble=!0}function isImmediatePropagationStopped(event){return event.isImmediatePropagationEnabled===!1}function stopPropagation(event){"function"==typeof event.stopPropagation?event.stopPropagation():event.cancelBubble=!0}function pageX(event){return event.pageX?event.pageX:event.clientX+getWindowScrollLeft()}function pageY(event){return event.pageY?event.pageY:event.clientY+getWindowScrollTop()}function isRightClick(event){return 2===event.button}function isLeftClick(event){return 0===event.button}Object.defineProperties(exports,{stopImmediatePropagation:{get:function(){return stopImmediatePropagation}},isImmediatePropagationStopped:{get:function(){return isImmediatePropagationStopped}},stopPropagation:{get:function(){return stopPropagation}},pageX:{get:function(){return pageX}},pageY:{get:function(){return pageY}},isRightClick:{get:function(){return isRightClick}},isLeftClick:{get:function(){return isLeftClick}},__esModule:{value:!0}});var $__element__,$__0=($__element__=_dereq_("element"),$__element__&&$__element__.__esModule&&$__element__||{"default":$__element__}),getWindowScrollTop=$__0.getWindowScrollTop,getWindowScrollLeft=$__0.getWindowScrollLeft},{element:47}],49:[function(_dereq_,module,exports){function requestAnimationFrame(callback){return _requestAnimationFrame.call(window,callback)}function cancelAnimationFrame(id){_cancelAnimationFrame.call(window,id)}function isTouchSupported(){return"ontouchstart"in window}function isWebComponentSupportedNatively(){var test=document.createElement("div");return!(!test.createShadowRoot||!test.createShadowRoot.toString().match(/\[native code\]/))}function detectCaptionProblem(){var TABLE=document.createElement("TABLE");TABLE.style.borderSpacing=0,TABLE.style.borderWidth=0,TABLE.style.padding=0;var TBODY=document.createElement("TBODY");TABLE.appendChild(TBODY),TBODY.appendChild(document.createElement("TR")),TBODY.firstChild.appendChild(document.createElement("TD")),TBODY.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var CAPTION=document.createElement("CAPTION");CAPTION.innerHTML="c<br>c<br>c<br>c",CAPTION.style.padding=0,CAPTION.style.margin=0,TABLE.insertBefore(CAPTION,TBODY),document.body.appendChild(TABLE),_hasCaptionProblem=TABLE.offsetHeight<2*TABLE.lastChild.offsetHeight,document.body.removeChild(TABLE)}function hasCaptionProblem(){return void 0===_hasCaptionProblem&&detectCaptionProblem(),_hasCaptionProblem}function getComparisonFunction(language){var options=void 0!==arguments[1]?arguments[1]:{};return comparisonFunction?comparisonFunction:comparisonFunction="object"===("undefined"==typeof Intl?"undefined":_typeof(Intl))?new Intl.Collator(language,options).compare:"function"==typeof String.prototype.localeCompare?function(a,b){return(a+"").localeCompare(b)}:function(a,b){return a===b?0:a>b?-1:1}}Object.defineProperties(exports,{requestAnimationFrame:{get:function(){return requestAnimationFrame}},cancelAnimationFrame:{get:function(){return cancelAnimationFrame}},isTouchSupported:{get:function(){return isTouchSupported}},isWebComponentSupportedNatively:{get:function(){return isWebComponentSupportedNatively}},hasCaptionProblem:{get:function(){return hasCaptionProblem}},getComparisonFunction:{get:function(){return getComparisonFunction}},__esModule:{value:!0}});for(var lastTime=0,vendors=["ms","moz","webkit","o"],_requestAnimationFrame=window.requestAnimationFrame,_cancelAnimationFrame=window.cancelAnimationFrame,x=0;x<vendors.length&&!_requestAnimationFrame;++x)_requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],_cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];_requestAnimationFrame||(_requestAnimationFrame=function(callback){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id}),_cancelAnimationFrame||(_cancelAnimationFrame=function(id){clearTimeout(id)});var _hasCaptionProblem,comparisonFunction},{}],50:[function(_dereq_,module,exports){function isFunction(func){return"function"==typeof func}function proxy(func,context){return function(){return func.apply(context,arguments)}}function throttle(func){function _throttle(){var $__1=this,args=arguments,stamp=Date.now(),needCall=!1;result.lastCallThrottled=!0,lastCalled||(lastCalled=stamp,needCall=!0);var remaining=wait-(stamp-lastCalled);return needCall?(result.lastCallThrottled=!1,func.apply(this,args)):(lastTimer&&clearTimeout(lastTimer),lastTimer=setTimeout(function(){result.lastCallThrottled=!1,func.apply($__1,args),lastCalled=0,lastTimer=void 0},remaining)),result}var wait=void 0!==arguments[1]?arguments[1]:200,lastCalled=0,result={lastCallThrottled:!0},lastTimer=null;return _throttle}function throttleAfterHits(func){function _clearHits(){remainHits=hits}function _throttleAfterHits(){return remainHits?(remainHits--,func.apply(this,arguments)):funcThrottle.apply(this,arguments)}var wait=void 0!==arguments[1]?arguments[1]:200,hits=void 0!==arguments[2]?arguments[2]:10,funcThrottle=throttle(func,wait),remainHits=hits;return _throttleAfterHits.clearHits=_clearHits,_throttleAfterHits}function debounce(func){function _debounce(){var $__1=this,args=arguments;return lastTimer&&clearTimeout(lastTimer),lastTimer=setTimeout(function(){result=func.apply($__1,args)},wait),result}var result,wait=void 0!==arguments[1]?arguments[1]:200,lastTimer=null;return _debounce}function pipe(){for(var functions=[],$__2=0;$__2<arguments.length;$__2++)functions[$__2]=arguments[$__2];var $__5=functions,firstFunc=$__5[0],restFunc=Array.prototype.slice.call($__5,1);return function(){return arrayReduce(restFunc,function(acc,fn){return fn(acc)},firstFunc.apply(this,arguments))}}function partial(func){for(var params=[],$__3=1;$__3<arguments.length;$__3++)params[$__3-1]=arguments[$__3];return function(){for(var restParams=[],$__4=0;$__4<arguments.length;$__4++)restParams[$__4]=arguments[$__4];return func.apply(this,params.concat(restParams))}}function curry(func){function given(argsSoFar){
return function(){for(var params=[],$__4=0;$__4<arguments.length;$__4++)params[$__4]=arguments[$__4];var result,passedArgsSoFar=argsSoFar.concat(params);return result=passedArgsSoFar.length>=argsLength?func.apply(this,passedArgsSoFar):given(passedArgsSoFar)}}var argsLength=func.length;return given([])}function curryRight(func){function given(argsSoFar){return function(){for(var params=[],$__4=0;$__4<arguments.length;$__4++)params[$__4]=arguments[$__4];var result,passedArgsSoFar=argsSoFar.concat(params.reverse());return result=passedArgsSoFar.length>=argsLength?func.apply(this,passedArgsSoFar):given(passedArgsSoFar)}}var argsLength=func.length;return given([])}Object.defineProperties(exports,{isFunction:{get:function(){return isFunction}},proxy:{get:function(){return proxy}},throttle:{get:function(){return throttle}},throttleAfterHits:{get:function(){return throttleAfterHits}},debounce:{get:function(){return debounce}},pipe:{get:function(){return pipe}},partial:{get:function(){return partial}},curry:{get:function(){return curry}},curryRight:{get:function(){return curryRight}},__esModule:{value:!0}});var $__array__,arrayReduce=($__array__=_dereq_("array"),$__array__&&$__array__.__esModule&&$__array__||{"default":$__array__}).arrayReduce},{array:43}],51:[function(_dereq_,module,exports){function stringify(value){switch("undefined"==typeof value?"undefined":_typeof(value)){case"string":case"number":return value+"";case"object":return null===value?"":value.toString();case"undefined":return"";default:return value.toString()}}function isDefined(variable){return"undefined"!=typeof variable}function isUndefined(variable){return"undefined"==typeof variable}function isEmpty(variable){return null===variable||""===variable||isUndefined(variable)}Object.defineProperties(exports,{stringify:{get:function(){return stringify}},isDefined:{get:function(){return isDefined}},isUndefined:{get:function(){return isUndefined}},isEmpty:{get:function(){return isEmpty}},__esModule:{value:!0}})},{}],52:[function(_dereq_,module,exports){function isNumeric(n){var t="undefined"==typeof n?"undefined":_typeof(n);return"number"==t?!isNaN(n)&&isFinite(n):"string"==t?!!n.length&&(1==n.length?/\d/.test(n):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(n)):"object"==t&&!(!n||"number"!=typeof n.valueOf()||n instanceof Date)}function rangeEach(rangeFrom,rangeTo,iteratee){var index=-1;for("function"==typeof rangeTo?(iteratee=rangeTo,rangeTo=rangeFrom):index=rangeFrom-1;++index<=rangeTo&&iteratee(index)!==!1;);}function rangeEachReverse(rangeFrom,rangeTo,iteratee){var index=rangeFrom+1;for("function"==typeof rangeTo&&(iteratee=rangeTo,rangeTo=0);--index>=rangeTo&&iteratee(index)!==!1;);}function valueAccordingPercent(value,percent){return percent=parseInt(percent.toString().replace("%",""),10),percent=parseInt(value*percent/100)}Object.defineProperties(exports,{isNumeric:{get:function(){return isNumeric}},rangeEach:{get:function(){return rangeEach}},rangeEachReverse:{get:function(){return rangeEachReverse}},valueAccordingPercent:{get:function(){return valueAccordingPercent}},__esModule:{value:!0}})},{}],53:[function(_dereq_,module,exports){function duckSchema(object){var schema;return Array.isArray(object)?schema=[]:(schema={},objectEach(object,function(value,key){"__children"!==key&&(value&&"object"===("undefined"==typeof value?"undefined":_typeof(value))&&!Array.isArray(value)?schema[key]=duckSchema(value):Array.isArray(value)?value.length&&"object"===_typeof(value[0])&&!Array.isArray(value[0])?schema[key]=[duckSchema(value[0])]:schema[key]=[]:schema[key]=null)})),schema}function inherit(Child,Parent){return Parent.prototype.constructor=Parent,Child.prototype=new Parent,Child.prototype.constructor=Child,Child}function extend(target,extension){return objectEach(extension,function(value,key){target[key]=value}),target}function deepExtend(target,extension){objectEach(extension,function(value,key){extension[key]&&"object"===_typeof(extension[key])?(target[key]||(Array.isArray(extension[key])?target[key]=[]:"[object Date]"===Object.prototype.toString.call(extension[key])?target[key]=extension[key]:target[key]={}),deepExtend(target[key],extension[key])):target[key]=extension[key]})}function deepClone(obj){return"object"===("undefined"==typeof obj?"undefined":_typeof(obj))?JSON.parse(JSON.stringify(obj)):obj}function clone(object){var result={};return objectEach(object,function(value,key){result[key]=value}),result}function mixin(Base){for(var mixins=[],$__2=1;$__2<arguments.length;$__2++)mixins[$__2-1]=arguments[$__2];return Base.MIXINS||(Base.MIXINS=[]),arrayEach(mixins,function(mixin){Base.MIXINS.push(mixin.MIXIN_NAME),objectEach(mixin,function(value,key){if(void 0!==Base.prototype[key])throw new Error("Mixin conflict. Property '"+key+"' already exist and cannot be overwritten.");if("function"==typeof value)Base.prototype[key]=value;else{var getter=function(propertyName,initialValue){propertyName="_"+propertyName;var initValue=function(value){return(Array.isArray(value)||isObject(value))&&(value=deepClone(value)),value};return function(){return void 0===this[propertyName]&&(this[propertyName]=initValue(initialValue)),this[propertyName]}},setter=function(propertyName){return propertyName="_"+propertyName,function(value){this[propertyName]=value}};Object.defineProperty(Base.prototype,key,{get:getter(key,value),set:setter(key),configurable:!0})}})}),Base}function isObjectEquals(object1,object2){return JSON.stringify(object1)===JSON.stringify(object2)}function isObject(obj){return"[object Object]"==Object.prototype.toString.call(obj)}function getPrototypeOf(obj){var prototype;if("object"==_typeof(obj.__proto__))prototype=obj.__proto__;else{var oldConstructor,constructor=obj.constructor;"function"==typeof obj.constructor&&(oldConstructor=constructor,delete obj.constructor&&(constructor=obj.constructor,obj.constructor=oldConstructor)),prototype=constructor?constructor.prototype:null}return prototype}function defineGetter(object,property,value,options){options.value=value,options.writable=options.writable!==!1,options.enumerable=options.enumerable!==!1,options.configurable=options.configurable!==!1,Object.defineProperty(object,property,options)}function objectEach(object,iteratee){for(var key in object)if((!object.hasOwnProperty||object.hasOwnProperty&&object.hasOwnProperty(key))&&iteratee(object[key],key,object)===!1)break;return object}function getProperty(object,name){var names=name.split("."),result=object;return objectEach(names,function(name){if(result=result[name],void 0===result)return result=void 0,!1}),result}function deepObjectSize(object){if(!isObject(object))return 0;var recursObjLen=function recursObjLen(obj){var result=0;return isObject(obj)?objectEach(obj,function(key){result+=recursObjLen(key)}):result++,result};return recursObjLen(object)}function createObjectPropListener(defaultValue){var $__1,propertyToListen=void 0!==arguments[1]?arguments[1]:"value",privateProperty="_"+propertyToListen,holder=($__1={},Object.defineProperty($__1,"_touched",{value:!1,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__1,privateProperty,{value:defaultValue,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__1,"isTouched",{value:function(){return this._touched},configurable:!0,enumerable:!0,writable:!0}),$__1);return Object.defineProperty(holder,propertyToListen,{get:function(){return this[privateProperty]},set:function(value){this._touched=!0,this[privateProperty]=value},enumerable:!0,configurable:!0}),holder}Object.defineProperties(exports,{duckSchema:{get:function(){return duckSchema}},inherit:{get:function(){return inherit}},extend:{get:function(){return extend}},deepExtend:{get:function(){return deepExtend}},deepClone:{get:function(){return deepClone}},clone:{get:function(){return clone}},mixin:{get:function(){return mixin}},isObjectEquals:{get:function(){return isObjectEquals}},isObject:{get:function(){return isObject}},getPrototypeOf:{get:function(){return getPrototypeOf}},defineGetter:{get:function(){return defineGetter}},objectEach:{get:function(){return objectEach}},getProperty:{get:function(){return getProperty}},deepObjectSize:{get:function(){return deepObjectSize}},createObjectPropListener:{get:function(){return createObjectPropListener}},__esModule:{value:!0}});var $__array__,arrayEach=($__array__=_dereq_("array"),$__array__&&$__array__.__esModule&&$__array__||{"default":$__array__}).arrayEach},{array:43}],54:[function(_dereq_,module,exports){function columnFactory(GridSettings,conflictList){function ColumnSettings(){}inherit(ColumnSettings,GridSettings);for(var i=0,len=conflictList.length;i<len;i++)ColumnSettings.prototype[conflictList[i]]=void 0;return ColumnSettings}Object.defineProperties(exports,{columnFactory:{get:function(){return columnFactory}},__esModule:{value:!0}});var $__object__,inherit=($__object__=_dereq_("object"),$__object__&&$__object__.__esModule&&$__object__||{"default":$__object__}).inherit},{object:53}],55:[function(_dereq_,module,exports){function toUpperCaseFirst(string){return string[0].toUpperCase()+string.substr(1)}function startsWith(string,needle){var result=!0;return rangeEach(needle.length-1,function(index){if(string.charAt(index)!==needle.charAt(index))return result=!1,!1}),result}function endsWith(string,needle){var result=!0,needleLength=needle.length-1,stringLength=string.length-1;return rangeEach(needleLength,function(index){var stringIndex=stringLength-index,needleIndex=needleLength-index;if(string.charAt(stringIndex)!==needle.charAt(needleIndex))return result=!1,!1}),result}function equalsIgnoreCase(){for(var strings=[],$__2=0;$__2<arguments.length;$__2++)strings[$__2]=arguments[$__2];for(var unique=[],length=strings.length;length--;){var string=stringify(strings[length]).toLowerCase();unique.indexOf(string)===-1&&unique.push(string)}return 1===unique.length}function randomString(){function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return s4()+s4()+s4()+s4()}function isPercentValue(value){return/^([0-9][0-9]?\%$)|(^100\%$)/.test(value)}function substitute(template){var variables=void 0!==arguments[1]?arguments[1]:{};return(template+"").replace(/(?:\\)?\[([^\[\]]+)]/g,function(match,name){return"\\"===match.charAt(0)?match.substr(1,match.length-1):void 0===variables[name]?"":variables[name]})}function padStart(string,maxLength){var fillString=void 0!==arguments[2]?arguments[2]:" ";if(string+="",string.length>=maxLength)return string;fillString=String(fillString);var fillStringLength=fillString.length;fillStringLength||(fillString=" ");var fillLen=maxLength-string.length,timesToRepeat=Math.ceil(fillLen/fillString.length),truncatedString="";return rangeEach(timesToRepeat,function(index){truncatedString+=fillString}),truncatedString=truncatedString.slice(0,fillLen),truncatedString+string}function stripTags(string){return string+="",string.replace(STRIP_TAGS_REGEX,"")}Object.defineProperties(exports,{toUpperCaseFirst:{get:function(){return toUpperCaseFirst}},startsWith:{get:function(){return startsWith}},endsWith:{get:function(){return endsWith}},equalsIgnoreCase:{get:function(){return equalsIgnoreCase}},randomString:{get:function(){return randomString}},isPercentValue:{get:function(){return isPercentValue}},substitute:{get:function(){return substitute}},padStart:{get:function(){return padStart}},stripTags:{get:function(){return stripTags}},__esModule:{value:!0}});var $__mixed__,$__number__,stringify=($__mixed__=_dereq_("mixed"),$__mixed__&&$__mixed__.__esModule&&$__mixed__||{"default":$__mixed__}).stringify,rangeEach=($__number__=_dereq_("number"),$__number__&&$__number__.__esModule&&$__number__||{"default":$__number__}).rangeEach,STRIP_TAGS_REGEX=/<\/?\w+\/?>|<\w+[\s|\/][^>]*>/gi},{mixed:51,number:52}],56:[function(_dereq_,module,exports){function isPrintableChar(keyCode){return 32==keyCode||keyCode>=48&&keyCode<=57||keyCode>=96&&keyCode<=111||keyCode>=186&&keyCode<=192||keyCode>=219&&keyCode<=222||keyCode>=226||keyCode>=65&&keyCode<=90}function isMetaKey(keyCode){var metaKeys=[KEY_CODES.ARROW_DOWN,KEY_CODES.ARROW_UP,KEY_CODES.ARROW_LEFT,KEY_CODES.ARROW_RIGHT,KEY_CODES.HOME,KEY_CODES.END,KEY_CODES.DELETE,KEY_CODES.BACKSPACE,KEY_CODES.F1,KEY_CODES.F2,KEY_CODES.F3,KEY_CODES.F4,KEY_CODES.F5,KEY_CODES.F6,KEY_CODES.F7,KEY_CODES.F8,KEY_CODES.F9,KEY_CODES.F10,KEY_CODES.F11,KEY_CODES.F12,KEY_CODES.TAB,KEY_CODES.PAGE_DOWN,KEY_CODES.PAGE_UP,KEY_CODES.ENTER,KEY_CODES.ESCAPE,KEY_CODES.SHIFT,KEY_CODES.CAPS_LOCK,KEY_CODES.ALT];return metaKeys.indexOf(keyCode)!==-1}function isCtrlKey(keyCode){return[KEY_CODES.CONTROL_LEFT,224,KEY_CODES.COMMAND_LEFT,KEY_CODES.COMMAND_RIGHT].indexOf(keyCode)!==-1}function isKey(keyCode,baseCode){var keys=baseCode.split("|"),result=!1;return arrayEach(keys,function(key){if(keyCode===KEY_CODES[key])return result=!0,!1}),result}Object.defineProperties(exports,{KEY_CODES:{get:function(){return KEY_CODES}},isPrintableChar:{get:function(){return isPrintableChar}},isMetaKey:{get:function(){return isMetaKey}},isCtrlKey:{get:function(){return isCtrlKey}},isKey:{get:function(){return isKey}},__esModule:{value:!0}});var $__array__,arrayEach=($__array__=_dereq_("array"),$__array__&&$__array__.__esModule&&$__array__||{"default":$__array__}).arrayEach,KEY_CODES={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,INSERT:45,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL_LEFT:91,COMMAND_LEFT:17,COMMAND_RIGHT:93,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,A:65,X:88,C:67,V:86}},{array:43}],57:[function(_dereq_,module,exports){Object.defineProperties(exports,{arrayMapper:{get:function(){return arrayMapper}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_helpers_47_array__,$___46__46__47_helpers_47_object__,$___46__46__47_helpers_47_number__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],$__1=($___46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47_helpers_47_array__&&$___46__46__47_helpers_47_array__.__esModule&&$___46__46__47_helpers_47_array__||{"default":$___46__46__47_helpers_47_array__}),arrayReduce=($__1.arrayEach,$__1.arrayReduce),arrayMap=$__1.arrayMap,arrayMax=$__1.arrayMax,defineGetter=($___46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47_helpers_47_object__&&$___46__46__47_helpers_47_object__.__esModule&&$___46__46__47_helpers_47_object__||{"default":$___46__46__47_helpers_47_object__}).defineGetter,rangeEach=($___46__46__47_helpers_47_number__=_dereq_("helpers/number"),$___46__46__47_helpers_47_number__&&$___46__46__47_helpers_47_number__.__esModule&&$___46__46__47_helpers_47_number__||{"default":$___46__46__47_helpers_47_number__}).rangeEach,MIXIN_NAME="arrayMapper",arrayMapper={_arrayMap:[],getValueByIndex:function(index){var value;return void 0===(value=this._arrayMap[index])?null:value},getIndexByValue:function(value){var index;return(index=this._arrayMap.indexOf(value))===-1?null:index},insertItems:function(index){var amount=void 0!==arguments[1]?arguments[1]:1,$__4=this,newIndex=arrayMax(this._arrayMap)+1,addedItems=[];return rangeEach(amount-1,function(count){addedItems.push($__4._arrayMap.splice(index+count,0,newIndex+count))}),addedItems},removeItems:function(index){var amount=void 0!==arguments[1]?arguments[1]:1,$__4=this,removedItems=[];if(Array.isArray(index)){var mapCopy=[].concat(this._arrayMap);index.sort(function(a,b){return b-a}),removedItems=arrayReduce(index,function(acc,item){return $__4._arrayMap.splice(item,1),acc.concat(mapCopy.slice(item,item+1))},[])}else removedItems=this._arrayMap.splice(index,amount);return removedItems},unshiftItems:function(index){function countRowShift(logicalRow){return arrayReduce(removedItems,function(count,removedLogicalRow){return logicalRow>removedLogicalRow&&count++,count},0)}var amount=void 0!==arguments[1]?arguments[1]:1,removedItems=this.removeItems(index,amount);this._arrayMap=arrayMap(this._arrayMap,function(logicalRow,physicalRow){var rowShift=countRowShift(logicalRow);return rowShift&&(logicalRow-=rowShift),logicalRow})},shiftItems:function(index){var amount=void 0!==arguments[1]?arguments[1]:1,$__4=this;this._arrayMap=arrayMap(this._arrayMap,function(row){return row>=index&&(row+=amount),row}),rangeEach(amount-1,function(count){$__4._arrayMap.splice(index+count,0,index+count)})},clearMap:function(){this._arrayMap.length=0}};defineGetter(arrayMapper,"MIXIN_NAME",MIXIN_NAME,{writable:!1,enumerable:!1}),Handsontable.utils.arrayMapper=arrayMapper},{browser:24,"helpers/array":43,"helpers/number":52,"helpers/object":53}],58:[function(_dereq_,module,exports){Object.defineProperties(exports,{localHooks:{get:function(){return localHooks}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_helpers_47_array__,$___46__46__47_helpers_47_object__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],arrayEach=($___46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47_helpers_47_array__&&$___46__46__47_helpers_47_array__.__esModule&&$___46__46__47_helpers_47_array__||{"default":$___46__46__47_helpers_47_array__}).arrayEach,defineGetter=($___46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47_helpers_47_object__&&$___46__46__47_helpers_47_object__.__esModule&&$___46__46__47_helpers_47_object__||{"default":$___46__46__47_helpers_47_object__}).defineGetter,MIXIN_NAME="localHooks",localHooks={_localHooks:Object.create(null),addLocalHook:function(key,callback){this._localHooks[key]||(this._localHooks[key]=[]),this._localHooks[key].push(callback)},runLocalHooks:function(key){for(var params=[],$__4=1;$__4<arguments.length;$__4++)params[$__4-1]=arguments[$__4];var $__3=this;this._localHooks[key]&&arrayEach(this._localHooks[key],function(callback){return callback.apply($__3,params)})},clearLocalHooks:function(){this._localHooks={}}};defineGetter(localHooks,"MIXIN_NAME",MIXIN_NAME,{writable:!1,enumerable:!1}),Handsontable.utils.localHooks=localHooks},{browser:24,"helpers/array":43,"helpers/object":53}],59:[function(_dereq_,module,exports){var $__3;Object.defineProperties(exports,{stateSaver:{get:function(){return stateSaver}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_helpers_47_array__,$___46__46__47_helpers_47_object__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],defineGetter=(($___46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47_helpers_47_array__&&$___46__46__47_helpers_47_array__.__esModule&&$___46__46__47_helpers_47_array__||{"default":$___46__46__47_helpers_47_array__}).arrayEach,($___46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47_helpers_47_object__&&$___46__46__47_helpers_47_object__.__esModule&&$___46__46__47_helpers_47_object__||{"default":$___46__46__47_helpers_47_object__}).defineGetter),MIXIN_NAME="stateSaver",STATE_PREFIX="state_",PROP_PREFIX="_states",getState=function(object,stateId){return object[PROP_PREFIX][STATE_PREFIX+stateId]},setState=function(object,stateId,value){object[PROP_PREFIX][STATE_PREFIX+stateId]=value},stateSaver=($__3={},Object.defineProperty($__3,PROP_PREFIX,{value:{},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__3,"getCachedState",{value:function(stateId){return getState(this,stateId)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__3,"setCachedState",{value:function(stateId,_value2){setState(this,stateId,_value2)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__3,"saveState",{value:function(stateId){setState(this,stateId,this.getState())},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__3,"restoreState",{value:function(stateId){this.setState(getState(this,stateId))},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__3,"hasSavedState",{value:function(stateId){return void 0!==getState(this,stateId)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__3,"clearState",{value:function(stateId){setState(this,stateId)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__3,"clearStates",{value:function(){this[PROP_PREFIX]={}},configurable:!0,enumerable:!0,writable:!0}),$__3);defineGetter(stateSaver,"MIXIN_NAME",MIXIN_NAME,{writable:!1,enumerable:!1}),Handsontable.utils.stateSaver=stateSaver},{browser:24,"helpers/array":43,"helpers/object":53}],60:[function(_dereq_,module,exports){function MultiMap(){function canBeAnArrayMapKey(obj){return null!==obj&&!isNaNSymbol(obj)&&("string"==typeof obj||"number"==typeof obj)}function canBeAWeakMapKey(obj){return null!==obj&&("object"==("undefined"==typeof obj?"undefined":_typeof(obj))||"function"==typeof obj)}function isNaNSymbol(obj){return obj!==obj}var map={arrayMap:[],weakMap:new WeakMap};return{get:function(key){return canBeAnArrayMapKey(key)?map.arrayMap[key]:canBeAWeakMapKey(key)?map.weakMap.get(key):void 0},set:function(key,value){if(canBeAnArrayMapKey(key))map.arrayMap[key]=value;else{if(!canBeAWeakMapKey(key))throw new Error("Invalid key type");map.weakMap.set(key,value)}},"delete":function(key){canBeAnArrayMapKey(key)?delete map.arrayMap[key]:canBeAWeakMapKey(key)&&map.weakMap["delete"](key)}}}Object.defineProperties(exports,{MultiMap:{get:function(){return MultiMap}},__esModule:{value:!0}}),window.MultiMap=MultiMap},{}],61:[function(_dereq_,module,exports){Object.defineProperties(exports,{Hooks:{get:function(){return Hooks}},__esModule:{value:!0}});var $__helpers_47_array__,$__helpers_47_object__,REGISTERED_HOOKS=["afterCellMetaReset","afterChange","afterChangesObserved","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseOver","afterRemoveCol","afterRemoveRow","afterRender","beforeRenderer","afterRenderer","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterUpdateSettings","afterValidate","beforeAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeInit","beforeInitWalkontable","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseOver","beforeRemoveCol","beforeRemoveRow","beforeRender","beforeSetRangeStart","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyCol","unmodifyCol","unmodifyRow","modifyColHeader","modifyColWidth","modifyRow","modifyRowHeader","modifyRowHeight","modifyData","modifyRowData","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeColumnMove","afterColumnMove","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","modifyColumnHeaderHeight","beforeUndo","afterUndo","beforeRedo","afterRedo","modifyRowHeaderWidth","beforeAutofillInsidePopulate","modifyTransformStart","modifyTransformEnd","afterModifyTransformStart","afterModifyTransformEnd","beforeValueRender","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","manualRowHeights","skipLengthCache","afterTrimRow","afterUntrimRow","afterDropdownMenuShow","afterDropdownMenuHide","hiddenRow","hiddenColumn","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","afterBeginEditing"],arrayEach=($__helpers_47_array__=_dereq_("helpers/array"),$__helpers_47_array__&&$__helpers_47_array__.__esModule&&$__helpers_47_array__||{"default":$__helpers_47_array__}).arrayEach,objectEach=($__helpers_47_object__=_dereq_("helpers/object"),$__helpers_47_object__&&$__helpers_47_object__.__esModule&&$__helpers_47_object__||{"default":$__helpers_47_object__}).objectEach,Hooks=function(){this.globalBucket=this.createEmptyBucket()};$traceurRuntime.createClass(Hooks,{createEmptyBucket:function(){var bucket=Object.create(null);return arrayEach(REGISTERED_HOOKS,function(hook){return bucket[hook]=[]}),bucket},getBucket:function(){var context=void 0!==arguments[0]?arguments[0]:null;return context?(context.pluginHookBucket||(context.pluginHookBucket=this.createEmptyBucket()),context.pluginHookBucket):this.globalBucket},add:function(key,callback){var context=void 0!==arguments[2]?arguments[2]:null,$__2=this;if(Array.isArray(callback))arrayEach(callback,function(c){return $__2.add(key,c,context)});else{var bucket=this.getBucket(context);"undefined"==typeof bucket[key]&&(this.register(key),bucket[key]=[]),callback.skip=!1,bucket[key].indexOf(callback)===-1&&bucket[key].push(callback)}return this},once:function(key,callback){var context=void 0!==arguments[2]?arguments[2]:null,$__2=this;Array.isArray(callback)?arrayEach(callback,function(c){return $__2.once(key,c,context)}):(callback.runOnce=!0,this.add(key,callback,context))},remove:function(key,callback){var context=void 0!==arguments[2]?arguments[2]:null,bucket=this.getBucket(context);return"undefined"!=typeof bucket[key]&&bucket[key].indexOf(callback)>=0&&(callback.skip=!0,!0)},has:function(key){var context=void 0!==arguments[1]?arguments[1]:null,bucket=this.getBucket(context);return!(void 0===bucket[key]||!bucket[key].length)},run:function(context,key,p1,p2,p3,p4,p5,p6){var globalHandlers=this.globalBucket[key],index=-1,length=globalHandlers?globalHandlers.length:0;if(length)for(;++index<length;)if(globalHandlers[index]&&!globalHandlers[index].skip){var res=globalHandlers[index].call(context,p1,p2,p3,p4,p5,p6);void 0!==res&&(p1=res),globalHandlers[index]&&globalHandlers[index].runOnce&&this.remove(key,globalHandlers[index])}var localHandlers=this.getBucket(context)[key],index$__4=-1,length$__5=localHandlers?localHandlers.length:0;if(length$__5)for(;++index$__4<length$__5;)if(localHandlers[index$__4]&&!localHandlers[index$__4].skip){var res$__6=localHandlers[index$__4].call(context,p1,p2,p3,p4,p5,p6);void 0!==res$__6&&(p1=res$__6),localHandlers[index$__4]&&localHandlers[index$__4].runOnce&&this.remove(key,localHandlers[index$__4],context)}return p1},destroy:function(){var context=void 0!==arguments[0]?arguments[0]:null;objectEach(this.getBucket(context),function(value,key,bucket){return bucket[key].length=0})},register:function(key){this.isRegistered(key)||REGISTERED_HOOKS.push(key)},deregister:function(key){this.isRegistered(key)&&REGISTERED_HOOKS.splice(REGISTERED_HOOKS.indexOf(key),1)},isRegistered:function(key){return REGISTERED_HOOKS.indexOf(key)>=0},getRegistered:function(){return REGISTERED_HOOKS}},{})},{"helpers/array":43,"helpers/object":53}],62:[function(_dereq_,module,exports){function registerPlugin(pluginName,PluginClass){pluginName=toUpperCaseFirst(pluginName),Handsontable.plugins[pluginName]=PluginClass,Handsontable.hooks.add("construct",function(){var holder;registeredPlugins.has(this)||registeredPlugins.set(this,{}),holder=registeredPlugins.get(this),holder[pluginName]||(holder[pluginName]=new PluginClass(this))}),Handsontable.hooks.add("afterDestroy",function(){if(registeredPlugins.has(this)){var pluginsHolder=registeredPlugins.get(this);objectEach(pluginsHolder,function(plugin){return plugin.destroy()}),registeredPlugins["delete"](this)}})}function getPlugin(instance,pluginName){if("string"!=typeof pluginName)throw Error('Only strings can be passed as "plugin" parameter');var _pluginName=toUpperCaseFirst(pluginName);if(registeredPlugins.has(instance)&&registeredPlugins.get(instance)[_pluginName])return registeredPlugins.get(instance)[_pluginName]}function getRegistredPluginNames(hotInstance){return registeredPlugins.has(hotInstance)?Object.keys(registeredPlugins.get(hotInstance)):[]}function getPluginName(hotInstance,plugin){var pluginName=null;return registeredPlugins.has(hotInstance)&&objectEach(registeredPlugins.get(hotInstance),function(pluginInstance,name){pluginInstance===plugin&&(pluginName=name)}),pluginName}Object.defineProperties(exports,{registerPlugin:{get:function(){return registerPlugin}},getPlugin:{get:function(){return getPlugin}},getRegistredPluginNames:{get:function(){return getRegistredPluginNames}},getPluginName:{get:function(){return getPluginName}},__esModule:{value:!0}});var $__browser__,$__helpers_47_object__,$__helpers_47_string__,Handsontable=($__browser__=_dereq_("browser"),$__browser__&&$__browser__.__esModule&&$__browser__||{"default":$__browser__})["default"],objectEach=($__helpers_47_object__=_dereq_("helpers/object"),$__helpers_47_object__&&$__helpers_47_object__.__esModule&&$__helpers_47_object__||{"default":$__helpers_47_object__}).objectEach,toUpperCaseFirst=($__helpers_47_string__=_dereq_("helpers/string"),$__helpers_47_string__&&$__helpers_47_string__.__esModule&&$__helpers_47_string__||{"default":$__helpers_47_string__}).toUpperCaseFirst,registeredPlugins=new WeakMap},{browser:24,"helpers/object":53,"helpers/string":55}],63:[function(_dereq_,module,exports){Object.defineProperties(exports,{"default":{get:function(){return $__default}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_helpers_47_object__,$___46__46__47_helpers_47_array__,$___46__46__47_utils_47_recordTranslator__,$___46__46__47_plugins__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],$__1=($___46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47_helpers_47_object__&&$___46__46__47_helpers_47_object__.__esModule&&$___46__46__47_helpers_47_object__||{"default":$___46__46__47_helpers_47_object__}),defineGetter=$__1.defineGetter,objectEach=$__1.objectEach,arrayEach=($___46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47_helpers_47_array__&&$___46__46__47_helpers_47_array__.__esModule&&$___46__46__47_helpers_47_array__||{"default":$___46__46__47_helpers_47_array__}).arrayEach,$__3=($___46__46__47_utils_47_recordTranslator__=_dereq_("utils/recordTranslator"),$___46__46__47_utils_47_recordTranslator__&&$___46__46__47_utils_47_recordTranslator__.__esModule&&$___46__46__47_utils_47_recordTranslator__||{"default":$___46__46__47_utils_47_recordTranslator__}),getTranslator=($__3.registerIdentity,$__3.getTranslator),$__4=($___46__46__47_plugins__=_dereq_("plugins"),$___46__46__47_plugins__&&$___46__46__47_plugins__.__esModule&&$___46__46__47_plugins__||{"default":$___46__46__47_plugins__}),getRegistredPluginNames=$__4.getRegistredPluginNames,getPluginName=$__4.getPluginName,privatePool=new WeakMap,initializedPlugins=null,BasePlugin=function(hotInstance){var $__5=this;defineGetter(this,"hot",hotInstance,{writable:!1}),defineGetter(this,"t",getTranslator(hotInstance),{writable:!1}),privatePool.set(this,{hooks:{}}),initializedPlugins=null,this.pluginName=null,this.pluginsInitializedCallbacks=[],this.isPluginsReady=!1,this.enabled=!1,this.initialized=!1,this.hot.addHook("afterPluginsInitialized",function(){
return $__5.onAfterPluginsInitialized()}),this.hot.addHook("afterUpdateSettings",function(){return $__5.onUpdateSettings()}),this.hot.addHook("beforeInit",function(){return $__5.init()})};$traceurRuntime.createClass(BasePlugin,{init:function(){this.pluginName=getPluginName(this.hot,this),this.isEnabled&&this.isEnabled()&&this.enablePlugin(),initializedPlugins||(initializedPlugins=getRegistredPluginNames(this.hot)),initializedPlugins.indexOf(this.pluginName)>=0&&initializedPlugins.splice(initializedPlugins.indexOf(this.pluginName),1),initializedPlugins.length||this.hot.runHooks("afterPluginsInitialized"),this.initialized=!0},enablePlugin:function(){this.enabled=!0},disablePlugin:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1},addHook:function(name,callback){var hooks=privatePool.get(this).hooks[name]=privatePool.get(this).hooks[name]||[];this.hot.addHook(name,callback),hooks.push(callback),privatePool.get(this).hooks[name]=hooks},removeHooks:function(name){var $__5=this;arrayEach(privatePool.get(this).hooks[name]||[],function(callback){$__5.hot.removeHook(name,callback)})},clearHooks:function(){var $__5=this,hooks=privatePool.get(this).hooks;objectEach(hooks,function(callbacks,name){return $__5.removeHooks(name)}),hooks.length=0},callOnPluginsReady:function(callback){this.isPluginsReady?callback():this.pluginsInitializedCallbacks.push(callback)},onAfterPluginsInitialized:function(){arrayEach(this.pluginsInitializedCallbacks,function(callback){return callback()}),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0},onUpdateSettings:function(){this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&this.updatePlugin())},updatePlugin:function(){},destroy:function(){var $__5=this;this.eventManager&&this.eventManager.destroy(),this.clearHooks(),objectEach(this,function(value,property){"hot"!==property&&"t"!==property&&($__5[property]=null)}),delete this.t,delete this.hot}},{});var $__default=BasePlugin;Handsontable.plugins.BasePlugin=BasePlugin},{browser:24,"helpers/array":43,"helpers/object":53,plugins:62,"utils/recordTranslator":132}],64:[function(_dereq_,module,exports){Object.defineProperties(exports,{AutoColumnSize:{get:function(){return AutoColumnSize}},__esModule:{value:!0}});var $___46__46__47__95_base__,$___46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47_helpers_47_feature__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47_utils_47_ghostTable__,$___46__46__47__46__46__47_helpers_47_object__,$___46__46__47__46__46__47_helpers_47_number__,$___46__46__47__46__46__47_plugins__,$___46__46__47__46__46__47_utils_47_samplesGenerator__,$___46__46__47__46__46__47_helpers_47_string__,$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_calculator_47_viewportColumns__,BasePlugin=($___46__46__47__95_base__=_dereq_("_base"),$___46__46__47__95_base__&&$___46__46__47__95_base__.__esModule&&$___46__46__47__95_base__||{"default":$___46__46__47__95_base__})["default"],$__1=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}),arrayEach=$__1.arrayEach,arrayFilter=$__1.arrayFilter,arrayReduce=$__1.arrayReduce,arrayMap=$__1.arrayMap,$__2=($___46__46__47__46__46__47_helpers_47_feature__=_dereq_("helpers/feature"),$___46__46__47__46__46__47_helpers_47_feature__&&$___46__46__47__46__46__47_helpers_47_feature__.__esModule&&$___46__46__47__46__46__47_helpers_47_feature__||{"default":$___46__46__47__46__46__47_helpers_47_feature__}),cancelAnimationFrame=$__2.cancelAnimationFrame,requestAnimationFrame=$__2.requestAnimationFrame,isVisible=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}).isVisible,GhostTable=($___46__46__47__46__46__47_utils_47_ghostTable__=_dereq_("utils/ghostTable"),$___46__46__47__46__46__47_utils_47_ghostTable__&&$___46__46__47__46__46__47_utils_47_ghostTable__.__esModule&&$___46__46__47__46__46__47_utils_47_ghostTable__||{"default":$___46__46__47__46__46__47_utils_47_ghostTable__}).GhostTable,$__5=($___46__46__47__46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47__46__46__47_helpers_47_object__&&$___46__46__47__46__46__47_helpers_47_object__.__esModule&&$___46__46__47__46__46__47_helpers_47_object__||{"default":$___46__46__47__46__46__47_helpers_47_object__}),isObject=$__5.isObject,$__6=($__5.objectEach,$___46__46__47__46__46__47_helpers_47_number__=_dereq_("helpers/number"),$___46__46__47__46__46__47_helpers_47_number__&&$___46__46__47__46__46__47_helpers_47_number__.__esModule&&$___46__46__47__46__46__47_helpers_47_number__||{"default":$___46__46__47__46__46__47_helpers_47_number__}),valueAccordingPercent=$__6.valueAccordingPercent,rangeEach=$__6.rangeEach,registerPlugin=($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,SamplesGenerator=($___46__46__47__46__46__47_utils_47_samplesGenerator__=_dereq_("utils/samplesGenerator"),$___46__46__47__46__46__47_utils_47_samplesGenerator__&&$___46__46__47__46__46__47_utils_47_samplesGenerator__.__esModule&&$___46__46__47__46__46__47_utils_47_samplesGenerator__||{"default":$___46__46__47__46__46__47_utils_47_samplesGenerator__}).SamplesGenerator,isPercentValue=($___46__46__47__46__46__47_helpers_47_string__=_dereq_("helpers/string"),$___46__46__47__46__46__47_helpers_47_string__&&$___46__46__47__46__46__47_helpers_47_string__.__esModule&&$___46__46__47__46__46__47_helpers_47_string__||{"default":$___46__46__47__46__46__47_helpers_47_string__}).isPercentValue,WalkontableViewportColumnsCalculator=($___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_calculator_47_viewportColumns__=_dereq_("3rdparty/walkontable/src/calculator/viewportColumns"),$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_calculator_47_viewportColumns__&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_calculator_47_viewportColumns__.__esModule&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_calculator_47_viewportColumns__||{"default":$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_calculator_47_viewportColumns__}).WalkontableViewportColumnsCalculator,privatePool=new WeakMap,AutoColumnSize=function(hotInstance){var $__11=this;$traceurRuntime.superConstructor($AutoColumnSize).call(this,hotInstance),privatePool.set(this,{cachedColumnHeaders:[]}),this.widths=[],this.ghostTable=new GhostTable(this.hot),this.samplesGenerator=new SamplesGenerator(function(row,col){return $__11.hot.getDataAtCell(row,col)}),this.firstCalculation=!0,this.inProgress=!1,this.addHook("beforeColumnResize",function(col,size,isDblClick){return $__11.onBeforeColumnResize(col,size,isDblClick)})},$AutoColumnSize=AutoColumnSize;$traceurRuntime.createClass(AutoColumnSize,{isEnabled:function(){return this.hot.getSettings().autoColumnSize!==!1&&!this.hot.getSettings().colWidths},enablePlugin:function(){var $__11=this;if(!this.enabled){var setting=this.hot.getSettings().autoColumnSize;setting&&null!=setting.useHeaders&&this.ghostTable.setSetting("useHeaders",setting.useHeaders),this.addHook("afterLoadData",function(){return $__11.onAfterLoadData()}),this.addHook("beforeChange",function(changes){return $__11.onBeforeChange(changes)}),this.addHook("beforeRender",function(force){return $__11.onBeforeRender(force)}),this.addHook("modifyColWidth",function(width,col){return $__11.getColumnWidth(col,width)}),this.addHook("afterInit",function(){return $__11.onAfterInit()}),$traceurRuntime.superGet(this,$AutoColumnSize.prototype,"enablePlugin").call(this)}},updatePlugin:function(){var changedColumns=this.findColumnsWhereHeaderWasChanged();changedColumns.length&&this.clearCache(changedColumns),$traceurRuntime.superGet(this,$AutoColumnSize.prototype,"updatePlugin").call(this)},disablePlugin:function(){$traceurRuntime.superGet(this,$AutoColumnSize.prototype,"disablePlugin").call(this)},calculateColumnsWidth:function(){var colRange=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},rowRange=void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},force=void 0!==arguments[2]&&arguments[2],$__11=this;"number"==typeof colRange&&(colRange={from:colRange,to:colRange}),"number"==typeof rowRange&&(rowRange={from:rowRange,to:rowRange}),rangeEach(colRange.from,colRange.to,function(col){if(force||void 0===$__11.widths[col]&&!$__11.hot._getColWidthFromSettings(col)){var samples=$__11.samplesGenerator.generateColumnSamples(col,rowRange);samples.forEach(function(sample,col){return $__11.ghostTable.addColumn(col,sample)})}}),this.ghostTable.columns.length&&(this.ghostTable.getWidths(function(col,width){return $__11.widths[col]=width}),this.ghostTable.clean())},calculateAllColumnsWidth:function(){var rowRange=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},$__11=this,current=0,length=this.hot.countCols()-1,timer=null;this.inProgress=!0;var loop=function loop(){return $__11.hot?($__11.calculateColumnsWidth({from:current,to:Math.min(current+$AutoColumnSize.CALCULATION_STEP,length)},rowRange),current=current+$AutoColumnSize.CALCULATION_STEP+1,void(current<length?timer=requestAnimationFrame(loop):(cancelAnimationFrame(timer),$__11.inProgress=!1,$__11.hot.view.wt.wtOverlays.adjustElementsSize(!0),$__11.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&$__11.hot.view.wt.wtOverlays.leftOverlay.clone.draw()))):(cancelAnimationFrame(timer),void($__11.inProgress=!1))};this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateColumnsWidth({from:0,to:this.getSyncCalculationLimit()},rowRange),this.firstCalculation=!1,current=this.getSyncCalculationLimit()+1),current<length?loop():this.inProgress=!1},setSamplingOptions:function(){var setting=this.hot.getSettings().autoColumnSize,samplingRatio=setting&&setting.hasOwnProperty("samplingRatio")?this.hot.getSettings().autoColumnSize.samplingRatio:void 0,allowSampleDuplicates=setting&&setting.hasOwnProperty("allowSampleDuplicates")?this.hot.getSettings().autoColumnSize.allowSampleDuplicates:void 0;samplingRatio&&!isNaN(samplingRatio)&&this.samplesGenerator.setSampleCount(parseInt(samplingRatio,10)),allowSampleDuplicates&&this.samplesGenerator.setAllowDuplicates(allowSampleDuplicates)},recalculateAllColumnsWidth:function(){this.hot.view&&isVisible(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllColumnsWidth())},getSyncCalculationLimit:function(){var limit=$AutoColumnSize.SYNC_CALCULATION_LIMIT,colsLimit=this.hot.countCols()-1;return isObject(this.hot.getSettings().autoColumnSize)&&(limit=this.hot.getSettings().autoColumnSize.syncLimit,isPercentValue(limit)?limit=valueAccordingPercent(colsLimit,limit):limit>>=0),Math.min(limit,colsLimit)},getColumnWidth:function(col){var defaultWidth=arguments[1],keepMinimum=void 0===arguments[2]||arguments[2],width=defaultWidth;return void 0===width&&(width=this.widths[col],keepMinimum&&"number"==typeof width&&(width=Math.max(width,WalkontableViewportColumnsCalculator.DEFAULT_WIDTH))),width},getFirstVisibleColumn:function(){var wot=this.hot.view.wt;return wot.wtViewport.columnsVisibleCalculator?wot.wtTable.getFirstVisibleColumn():wot.wtViewport.columnsRenderCalculator?wot.wtTable.getFirstRenderedColumn():-1},getLastVisibleColumn:function(){var wot=this.hot.view.wt;return wot.wtViewport.columnsVisibleCalculator?wot.wtTable.getLastVisibleColumn():wot.wtViewport.columnsRenderCalculator?wot.wtTable.getLastRenderedColumn():-1},findColumnsWhereHeaderWasChanged:function(){var columnHeaders=this.hot.getColHeader(),cachedColumnHeaders=privatePool.get(this).cachedColumnHeaders,changedColumns=arrayReduce(columnHeaders,function(acc,columnTitle,physicalColumn){var cachedColumnsLength=cachedColumnHeaders.length;return(cachedColumnsLength-1<physicalColumn||cachedColumnHeaders[physicalColumn]!==columnTitle)&&acc.push(physicalColumn),cachedColumnsLength-1<physicalColumn?cachedColumnHeaders.push(columnTitle):cachedColumnHeaders[physicalColumn]=columnTitle,acc},[]);return changedColumns},clearCache:function(){var columns=void 0!==arguments[0]?arguments[0]:[],$__11=this;columns.length?arrayEach(columns,function(physicalIndex){return $__11.widths[physicalIndex]=void 0}):this.widths.length=0},isNeedRecalculate:function(){return!!arrayFilter(this.widths,function(item){return void 0===item}).length},onBeforeRender:function(){var force=this.hot.renderCall,rowsCount=this.hot.countRows();rowsCount&&(this.calculateColumnsWidth({from:this.getFirstVisibleColumn(),to:this.getLastVisibleColumn()},void 0,force),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth())},onAfterLoadData:function(){var $__11=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout(function(){$__11.hot&&$__11.recalculateAllColumnsWidth()},0)},onBeforeChange:function(changes){var $__11=this,changedColumns=arrayMap(changes,function($__13){var $__14=$__13,column=($__14[0],$__14[1]);return $__11.hot.propToCol(column)});this.clearCache(changedColumns)},onBeforeColumnResize:function(col,size,isDblClick){return isDblClick&&(this.calculateColumnsWidth(col,void 0,!0),size=this.getColumnWidth(col,void 0,!1)),size},onAfterInit:function(){privatePool.get(this).cachedColumnHeaders=this.hot.getColHeader()},destroy:function(){this.ghostTable.clean(),$traceurRuntime.superGet(this,$AutoColumnSize.prototype,"destroy").call(this)}},{get CALCULATION_STEP(){return 50},get SYNC_CALCULATION_LIMIT(){return 50}},BasePlugin),registerPlugin("autoColumnSize",AutoColumnSize)},{"3rdparty/walkontable/src/calculator/viewportColumns":4,_base:63,"helpers/array":43,"helpers/dom/element":47,"helpers/feature":49,"helpers/number":52,"helpers/object":53,"helpers/string":55,plugins:62,"utils/ghostTable":130,"utils/samplesGenerator":133}],65:[function(_dereq_,module,exports){Object.defineProperties(exports,{AutoRowSize:{get:function(){return AutoRowSize}},__esModule:{value:!0}});var $___46__46__47__95_base__,$___46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47_helpers_47_feature__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47_utils_47_ghostTable__,$___46__46__47__46__46__47_helpers_47_object__,$___46__46__47__46__46__47_helpers_47_number__,$___46__46__47__46__46__47_plugins__,$___46__46__47__46__46__47_utils_47_samplesGenerator__,$___46__46__47__46__46__47_helpers_47_string__,BasePlugin=($___46__46__47__95_base__=_dereq_("_base"),$___46__46__47__95_base__&&$___46__46__47__95_base__.__esModule&&$___46__46__47__95_base__||{"default":$___46__46__47__95_base__})["default"],$__1=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}),arrayFilter=($__1.arrayEach,$__1.arrayFilter),$__2=($___46__46__47__46__46__47_helpers_47_feature__=_dereq_("helpers/feature"),$___46__46__47__46__46__47_helpers_47_feature__&&$___46__46__47__46__46__47_helpers_47_feature__.__esModule&&$___46__46__47__46__46__47_helpers_47_feature__||{"default":$___46__46__47__46__46__47_helpers_47_feature__}),cancelAnimationFrame=$__2.cancelAnimationFrame,requestAnimationFrame=$__2.requestAnimationFrame,isVisible=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}).isVisible,GhostTable=($___46__46__47__46__46__47_utils_47_ghostTable__=_dereq_("utils/ghostTable"),$___46__46__47__46__46__47_utils_47_ghostTable__&&$___46__46__47__46__46__47_utils_47_ghostTable__.__esModule&&$___46__46__47__46__46__47_utils_47_ghostTable__||{"default":$___46__46__47__46__46__47_utils_47_ghostTable__}).GhostTable,$__5=($___46__46__47__46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47__46__46__47_helpers_47_object__&&$___46__46__47__46__46__47_helpers_47_object__.__esModule&&$___46__46__47__46__46__47_helpers_47_object__||{"default":$___46__46__47__46__46__47_helpers_47_object__}),isObject=$__5.isObject,$__6=($__5.objectEach,$___46__46__47__46__46__47_helpers_47_number__=_dereq_("helpers/number"),$___46__46__47__46__46__47_helpers_47_number__&&$___46__46__47__46__46__47_helpers_47_number__.__esModule&&$___46__46__47__46__46__47_helpers_47_number__||{"default":$___46__46__47__46__46__47_helpers_47_number__}),valueAccordingPercent=$__6.valueAccordingPercent,rangeEach=$__6.rangeEach,registerPlugin=($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,SamplesGenerator=($___46__46__47__46__46__47_utils_47_samplesGenerator__=_dereq_("utils/samplesGenerator"),$___46__46__47__46__46__47_utils_47_samplesGenerator__&&$___46__46__47__46__46__47_utils_47_samplesGenerator__.__esModule&&$___46__46__47__46__46__47_utils_47_samplesGenerator__||{"default":$___46__46__47__46__46__47_utils_47_samplesGenerator__}).SamplesGenerator,isPercentValue=($___46__46__47__46__46__47_helpers_47_string__=_dereq_("helpers/string"),$___46__46__47__46__46__47_helpers_47_string__&&$___46__46__47__46__46__47_helpers_47_string__.__esModule&&$___46__46__47__46__46__47_helpers_47_string__||{"default":$___46__46__47__46__46__47_helpers_47_string__}).isPercentValue,AutoRowSize=function(hotInstance){var $__10=this;$traceurRuntime.superConstructor($AutoRowSize).call(this,hotInstance),this.heights=[],this.ghostTable=new GhostTable(this.hot),this.samplesGenerator=new SamplesGenerator(function(row,col){return row>=0?$__10.hot.getDataAtCell(row,col):row===-1?$__10.hot.getColHeader(col):null}),this.firstCalculation=!0,this.inProgress=!1,this.addHook("beforeRowResize",function(row,size,isDblClick){return $__10.onBeforeRowResize(row,size,isDblClick)})},$AutoRowSize=AutoRowSize;$traceurRuntime.createClass(AutoRowSize,{isEnabled:function(){return this.hot.getSettings().autoRowSize===!0||isObject(this.hot.getSettings().autoRowSize)},enablePlugin:function(){var $__10=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){return $__10.onAfterLoadData()}),this.addHook("beforeChange",function(changes){return $__10.onBeforeChange(changes)}),this.addHook("beforeColumnMove",function(){return $__10.recalculateAllRowsHeight()}),this.addHook("beforeColumnResize",function(){return $__10.recalculateAllRowsHeight()}),this.addHook("beforeColumnSort",function(){return $__10.clearCache()}),this.addHook("beforeRender",function(force){return $__10.onBeforeRender(force)}),this.addHook("beforeRowMove",function(rowStart,rowEnd){return $__10.onBeforeRowMove(rowStart,rowEnd)}),this.addHook("modifyRowHeight",function(height,row){return $__10.getRowHeight(row,height)}),this.addHook("modifyColumnHeaderHeight",function(){return $__10.getColumnHeaderHeight()}),$traceurRuntime.superGet(this,$AutoRowSize.prototype,"enablePlugin").call(this))},disablePlugin:function(){$traceurRuntime.superGet(this,$AutoRowSize.prototype,"disablePlugin").call(this)},calculateRowsHeight:function(){var rowRange=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},colRange=void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},force=void 0!==arguments[2]&&arguments[2],$__10=this;if("number"==typeof rowRange&&(rowRange={from:rowRange,to:rowRange}),"number"==typeof colRange&&(colRange={from:colRange,to:colRange}),null!==this.hot.getColHeader(0)){var samples=this.samplesGenerator.generateRowSamples(-1,colRange);this.ghostTable.addColumnHeadersRow(samples.get(-1))}rangeEach(rowRange.from,rowRange.to,function(row){if(force||void 0===$__10.heights[row]){var samples=$__10.samplesGenerator.generateRowSamples(row,colRange);samples.forEach(function(sample,row){return $__10.ghostTable.addRow(row,sample)})}}),this.ghostTable.rows.length&&(this.ghostTable.getHeights(function(row,height){return $__10.heights[row]=height}),this.ghostTable.clean())},calculateAllRowsHeight:function(){var colRange=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},$__10=this,current=0,length=this.hot.countRows()-1,timer=null;this.inProgress=!0;var loop=function loop(){return $__10.hot?($__10.calculateRowsHeight({from:current,to:Math.min(current+$AutoRowSize.CALCULATION_STEP,length)},colRange),current=current+$AutoRowSize.CALCULATION_STEP+1,void(current<length?timer=requestAnimationFrame(loop):(cancelAnimationFrame(timer),$__10.inProgress=!1,$__10.hot.view.wt.wtOverlays.adjustElementsSize(!0),$__10.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&$__10.hot.view.wt.wtOverlays.leftOverlay.clone.draw()))):(cancelAnimationFrame(timer),void($__10.inProgress=!1))};this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateRowsHeight({from:0,to:this.getSyncCalculationLimit()},colRange),this.firstCalculation=!1,current=this.getSyncCalculationLimit()+1),current<length?loop():(this.inProgress=!1,this.hot.view.wt.wtOverlays.adjustElementsSize(!1))},setSamplingOptions:function(){var setting=this.hot.getSettings().autoRowSize,samplingRatio=setting&&setting.hasOwnProperty("samplingRatio")?this.hot.getSettings().autoRowSize.samplingRatio:void 0,allowSampleDuplicates=setting&&setting.hasOwnProperty("allowSampleDuplicates")?this.hot.getSettings().autoRowSize.allowSampleDuplicates:void 0;samplingRatio&&!isNaN(samplingRatio)&&this.samplesGenerator.setSampleCount(parseInt(samplingRatio,10)),allowSampleDuplicates&&this.samplesGenerator.setAllowDuplicates(allowSampleDuplicates)},recalculateAllRowsHeight:function(){isVisible(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())},getSyncCalculationLimit:function(){var limit=$AutoRowSize.SYNC_CALCULATION_LIMIT,rowsLimit=this.hot.countRows()-1;return isObject(this.hot.getSettings().autoRowSize)&&(limit=this.hot.getSettings().autoRowSize.syncLimit,isPercentValue(limit)?limit=valueAccordingPercent(rowsLimit,limit):limit>>=0),Math.min(limit,rowsLimit)},getRowHeight:function(row){var defaultHeight=arguments[1],height=defaultHeight;return void 0!==this.heights[row]&&this.heights[row]>(defaultHeight||0)&&(height=this.heights[row]),height},getColumnHeaderHeight:function(){return this.heights[-1]},getFirstVisibleRow:function(){var wot=this.hot.view.wt;return wot.wtViewport.rowsVisibleCalculator?wot.wtTable.getFirstVisibleRow():wot.wtViewport.rowsRenderCalculator?wot.wtTable.getFirstRenderedRow():-1},getLastVisibleRow:function(){var wot=this.hot.view.wt;return wot.wtViewport.rowsVisibleCalculator?wot.wtTable.getLastVisibleRow():wot.wtViewport.rowsRenderCalculator?wot.wtTable.getLastRenderedRow():-1},clearCache:function(){this.heights.length=0,this.heights[-1]=void 0},clearCacheByRange:function(range){var $__10=this;"number"==typeof range&&(range={from:range,to:range}),rangeEach(Math.min(range.from,range.to),Math.max(range.from,range.to),function(row){return $__10.heights[row]=void 0})},isNeedRecalculate:function(){return!!arrayFilter(this.heights,function(item){return void 0===item}).length},onBeforeRender:function(){var force=this.hot.renderCall;this.calculateRowsHeight({from:this.getFirstVisibleRow(),to:this.getLastVisibleRow()},void 0,force);var fixedRowsBottom=this.hot.getSettings().fixedRowsBottom;if(fixedRowsBottom){var totalRows=this.hot.countRows()-1;this.calculateRowsHeight({from:totalRows-fixedRowsBottom,to:totalRows})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()},onBeforeRowMove:function(from,to){this.clearCacheByRange({from:from,to:to}),this.calculateAllRowsHeight()},onBeforeRowResize:function(row,size,isDblClick){return isDblClick&&(this.calculateRowsHeight(row,void 0,!0),size=this.getRowHeight(row)),size},onAfterLoadData:function(){var $__10=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout(function(){$__10.hot&&$__10.recalculateAllRowsHeight()},0)},onBeforeChange:function(changes){var range=null;1===changes.length?range=changes[0][0]:changes.length>1&&(range={from:changes[0][0],to:changes[changes.length-1][0]}),null!==range&&this.clearCacheByRange(range)},destroy:function(){this.ghostTable.clean(),$traceurRuntime.superGet(this,$AutoRowSize.prototype,"destroy").call(this)}},{get CALCULATION_STEP(){return 50},get SYNC_CALCULATION_LIMIT(){return 500}},BasePlugin),registerPlugin("autoRowSize",AutoRowSize)},{_base:63,"helpers/array":43,"helpers/dom/element":47,"helpers/feature":49,"helpers/number":52,"helpers/object":53,"helpers/string":55,plugins:62,"utils/ghostTable":130,"utils/samplesGenerator":133}],66:[function(_dereq_,module,exports){Object.defineProperties(exports,{Autofill:{get:function(){return Autofill}},__esModule:{value:!0}});var $___46__46__47__95_base__,$___46__46__47__46__46__47_browser__,$___46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47_eventManager__,$___46__46__47__46__46__47_plugins__,$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__,$__utils__,BasePlugin=($___46__46__47__95_base__=_dereq_("_base"),$___46__46__47__95_base__&&$___46__46__47__95_base__.__esModule&&$___46__46__47__95_base__||{"default":$___46__46__47__95_base__})["default"],Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],arrayIncludes=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayIncludes,$__3=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}),offset=$__3.offset,outerHeight=$__3.outerHeight,outerWidth=$__3.outerWidth,eventManagerObject=($___46__46__47__46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47__46__46__47_eventManager__&&$___46__46__47__46__46__47_eventManager__.__esModule&&$___46__46__47__46__46__47_eventManager__||{"default":$___46__46__47__46__46__47_eventManager__}).eventManager,registerPlugin=($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,WalkontableCellCoords=($___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__=_dereq_("3rdparty/walkontable/src/cell/coords"),$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__.__esModule&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__||{"default":$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__}).WalkontableCellCoords,$__7=($__utils__=_dereq_("utils"),$__utils__&&$__utils__.__esModule&&$__utils__||{"default":$__utils__}),getDeltas=$__7.getDeltas,getDragDirectionAndRange=$__7.getDragDirectionAndRange,DIRECTIONS=$__7.DIRECTIONS,getMappedFillHandleSetting=$__7.getMappedFillHandleSetting,INSERT_ROW_ALTER_ACTION_NAME="insert_row",INTERVAL_FOR_ADDING_ROW=200,Autofill=function(hotInstance){$traceurRuntime.superConstructor($Autofill).call(this,hotInstance),this.eventManager=eventManagerObject(this),this.addingStarted=!1,this.mouseDownOnCellCorner=!1,this.mouseDragOutside=!1,this.handleDraggedCells=0,this.directions=[],this.autoInsertRow=!1},$Autofill=Autofill;$traceurRuntime.createClass(Autofill,{isEnabled:function(){return this.hot.getSettings().fillHandle},enablePlugin:function(){var $__8=this;this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",function(event){return $__8.onAfterCellCornerMouseDown(event)}),this.addHook("afterOnCellCornerDblClick",function(event){return $__8.onCellCornerDblClick(event)}),this.addHook("beforeOnCellMouseOver",function(event,coords,TD){return $__8.onBeforeCellMouseOver(coords)}),$traceurRuntime.superGet(this,$Autofill.prototype,"enablePlugin").call(this))},updatePlugin:function(){this.disablePlugin(),this.enablePlugin(),$traceurRuntime.superGet(this,$Autofill.prototype,"updatePlugin").call(this)},disablePlugin:function(){this.clearMappedSettings(),$traceurRuntime.superGet(this,$Autofill.prototype,"disablePlugin").call(this)},getSelectionData:function(){var selRange={from:this.hot.getSelectedRange().from,to:this.hot.getSelectedRange().to};return this.hot.getData(selRange.from.row,selRange.from.col,selRange.to.row,selRange.to.col)},fillIn:function(){if(this.hot.view.wt.selections.fill.isEmpty())return!1;var cornersOfSelectionAndDragAreas=this.hot.view.wt.selections.fill.getCorners();this.resetSelectionOfDraggedArea();var cornersOfSelectedCells=this.getCornersOfSelectedCells(),$__10=getDragDirectionAndRange(cornersOfSelectedCells,cornersOfSelectionAndDragAreas),directionOfDrag=$__10.directionOfDrag,startOfDragCoords=$__10.startOfDragCoords,endOfDragCoords=$__10.endOfDragCoords;if(this.hot.runHooks("modifyAutofillRange",cornersOfSelectedCells,cornersOfSelectionAndDragAreas),startOfDragCoords&&startOfDragCoords.row>-1&&startOfDragCoords.col>-1){var selectionData=this.getSelectionData(),deltas=getDeltas(startOfDragCoords,endOfDragCoords,selectionData,directionOfDrag);this.hot.runHooks("beforeAutofill",startOfDragCoords,endOfDragCoords,selectionData),this.hot.populateFromArray(startOfDragCoords.row,startOfDragCoords.col,selectionData,endOfDragCoords.row,endOfDragCoords.col,this.pluginName+".fill",null,directionOfDrag,deltas),this.setSelection(cornersOfSelectionAndDragAreas)}else this.hot.selection.refreshBorders();return!0},reduceSelectionAreaIfNeeded:function(coords){return coords.row<0&&(coords.row=0),coords.col<0&&(coords.col=0),coords},getCoordsOfDragAndDropBorders:function(coordsOfSelection){var coords,topLeftCorner=this.hot.getSelectedRange().getTopLeftCorner(),bottomRightCorner=this.hot.getSelectedRange().getBottomRightCorner();if(arrayIncludes(this.directions,DIRECTIONS.vertical)&&(bottomRightCorner.row<coordsOfSelection.row||topLeftCorner.row>coordsOfSelection.row))coords=new WalkontableCellCoords(coordsOfSelection.row,bottomRightCorner.col);else{if(!arrayIncludes(this.directions,DIRECTIONS.horizontal))return;coords=new WalkontableCellCoords(bottomRightCorner.row,coordsOfSelection.col)}return this.reduceSelectionAreaIfNeeded(coords)},showBorder:function(coordsOfSelection){var coordsOfDragAndDropBorders=this.getCoordsOfDragAndDropBorders(coordsOfSelection);coordsOfDragAndDropBorders&&this.redrawBorders(coordsOfDragAndDropBorders)},addRow:function(){var $__8=this;this.hot._registerTimeout(setTimeout(function(){
$__8.hot.alter(INSERT_ROW_ALTER_ACTION_NAME,void 0,1,$__8.pluginName+".fill"),$__8.addingStarted=!1},INTERVAL_FOR_ADDING_ROW))},addNewRowIfNeeded:function(){if(this.hot.view.wt.selections.fill.cellRange&&this.addingStarted===!1&&this.autoInsertRow){var cornersOfSelectedCells=this.hot.getSelected(),cornersOfSelectedDragArea=this.hot.view.wt.selections.fill.getCorners(),nrOfTableRows=this.hot.countRows();cornersOfSelectedCells[2]<nrOfTableRows-1&&cornersOfSelectedDragArea[2]===nrOfTableRows-1&&(this.addingStarted=!0,this.addRow())}},getCornersOfSelectedCells:function(){return this.hot.selection.isMultiple()?this.hot.view.wt.selections.area.getCorners():this.hot.view.wt.selections.current.getCorners()},getIndexOfLastAdjacentFilledInRow:function(cornersOfSelectedCells){for(var lastFilledInRowIndex,data=this.hot.getData(),nrOfTableRows=this.hot.countRows(),rowIndex=cornersOfSelectedCells[2]+1;rowIndex<nrOfTableRows;rowIndex++){for(var columnIndex=cornersOfSelectedCells[1];columnIndex<=cornersOfSelectedCells[3];columnIndex++){var dataInCell=data[rowIndex][columnIndex];if(dataInCell)return-1}var dataInNextLeftCell=data[rowIndex][cornersOfSelectedCells[1]-1],dataInNextRightCell=data[rowIndex][cornersOfSelectedCells[3]+1];(dataInNextLeftCell||dataInNextRightCell)&&(lastFilledInRowIndex=rowIndex)}return lastFilledInRowIndex},addSelectionFromStartAreaToSpecificRowIndex:function(selectStartArea,rowIndex){this.hot.view.wt.selections.fill.clear(),this.hot.view.wt.selections.fill.add(new WalkontableCellCoords(selectStartArea[0],selectStartArea[1])),this.hot.view.wt.selections.fill.add(new WalkontableCellCoords(rowIndex,selectStartArea[3]))},setSelection:function(cornersOfArea){this.hot.selection.setRangeStart(new WalkontableCellCoords(cornersOfArea[0],cornersOfArea[1])),this.hot.selection.setRangeEnd(new WalkontableCellCoords(cornersOfArea[2],cornersOfArea[3]))},selectAdjacent:function(){var cornersOfSelectedCells=this.getCornersOfSelectedCells(),lastFilledInRowIndex=this.getIndexOfLastAdjacentFilledInRow(cornersOfSelectedCells);return lastFilledInRowIndex!==-1&&(this.addSelectionFromStartAreaToSpecificRowIndex(cornersOfSelectedCells,lastFilledInRowIndex),!0)},resetSelectionOfDraggedArea:function(){this.handleDraggedCells=0,this.hot.view.wt.selections.fill.clear()},redrawBorders:function(coords){this.hot.view.wt.selections.fill.clear(),this.hot.view.wt.selections.fill.add(this.hot.getSelectedRange().from),this.hot.view.wt.selections.fill.add(this.hot.getSelectedRange().to),this.hot.view.wt.selections.fill.add(coords),this.hot.view.render()},getIfMouseWasDraggedOutside:function(event){var tableBottom=offset(this.hot.table).top-(window.pageYOffset||document.documentElement.scrollTop)+outerHeight(this.hot.table),tableRight=offset(this.hot.table).left-(window.pageXOffset||document.documentElement.scrollLeft)+outerWidth(this.hot.table);return event.clientY>tableBottom&&event.clientX<=tableRight},registerEvents:function(){var $__8=this;this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return $__8.onMouseUp()}),this.eventManager.addEventListener(document.documentElement,"mousemove",function(event){return $__8.onMouseMove(event)})},onCellCornerDblClick:function(){var selectionApplied=this.selectAdjacent();selectionApplied&&this.fillIn()},onAfterCellCornerMouseDown:function(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0},onBeforeCellMouseOver:function(coords){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells++,this.showBorder(coords),this.addNewRowIfNeeded())},onMouseUp:function(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)},onMouseMove:function(event){var mouseWasDraggedOutside=this.getIfMouseWasDraggedOutside(event);this.addingStarted===!1&&this.handleDraggedCells>0&&mouseWasDraggedOutside?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()},clearMappedSettings:function(){this.directions.length=0,this.autoInsertRow=!1},mapSettings:function(){var mappedSettings=getMappedFillHandleSetting(this.hot.getSettings().fillHandle);this.directions=mappedSettings.directions,this.autoInsertRow=mappedSettings.autoInsertRow},destroy:function(){$traceurRuntime.superGet(this,$Autofill.prototype,"destroy").call(this)}},{},BasePlugin),registerPlugin("autofill",Autofill),Handsontable.hooks.register("modifyAutofillRange"),Handsontable.hooks.register("beforeAutofill")},{"3rdparty/walkontable/src/cell/coords":6,_base:63,browser:24,eventManager:42,"helpers/array":43,"helpers/dom/element":47,plugins:62,utils:67}],67:[function(_dereq_,module,exports){function getDeltas(start,end,data,direction){var rowsLength=data.length,columnsLength=data?data[0].length:0,deltas=[],diffRow=end.row-start.row,diffCol=end.col-start.col;if(["down","up"].indexOf(direction)!==-1){for(var arr=[],col=0;col<=diffCol;col++){var startValue=parseInt(data[0][col],10),endValue=parseInt(data[rowsLength-1][col],10),delta=("down"===direction?endValue-startValue:startValue-endValue)/(rowsLength-1)||0;arr.push(delta)}deltas.push(arr)}if(["right","left"].indexOf(direction)!==-1)for(var row=0;row<=diffRow;row++){var startValue$__2=parseInt(data[row][0],10),endValue$__3=parseInt(data[row][columnsLength-1],10),delta$__4=("right"===direction?endValue$__3-startValue$__2:startValue$__2-endValue$__3)/(columnsLength-1)||0;deltas.push([delta$__4])}return deltas}function getDragDirectionAndRange(startSelection,endSelection){var startOfDragCoords,endOfDragCoords,directionOfDrag;return endSelection[0]===startSelection[0]&&endSelection[1]<startSelection[1]?(directionOfDrag="left",startOfDragCoords=new WalkontableCellCoords(endSelection[0],endSelection[1]),endOfDragCoords=new WalkontableCellCoords(endSelection[2],startSelection[1]-1)):endSelection[0]===startSelection[0]&&endSelection[3]>startSelection[3]?(directionOfDrag="right",startOfDragCoords=new WalkontableCellCoords(endSelection[0],startSelection[3]+1),endOfDragCoords=new WalkontableCellCoords(endSelection[2],endSelection[3])):endSelection[0]<startSelection[0]&&endSelection[1]===startSelection[1]?(directionOfDrag="up",startOfDragCoords=new WalkontableCellCoords(endSelection[0],endSelection[1]),endOfDragCoords=new WalkontableCellCoords(startSelection[0]-1,endSelection[3])):endSelection[2]>startSelection[2]&&endSelection[1]===startSelection[1]&&(directionOfDrag="down",startOfDragCoords=new WalkontableCellCoords(startSelection[2]+1,endSelection[1]),endOfDragCoords=new WalkontableCellCoords(endSelection[2],endSelection[3])),{directionOfDrag:directionOfDrag,startOfDragCoords:startOfDragCoords,endOfDragCoords:endOfDragCoords}}function getMappedFillHandleSetting(fillHandle){var mappedSettings={};return fillHandle===!0?(mappedSettings.directions=Object.keys(DIRECTIONS),mappedSettings.autoInsertRow=!0):isObject(fillHandle)?(isDefined(fillHandle.autoInsertRow)?fillHandle.direction===DIRECTIONS.horizontal?mappedSettings.autoInsertRow=!1:mappedSettings.autoInsertRow=fillHandle.autoInsertRow:mappedSettings.autoInsertRow=!1,isDefined(fillHandle.direction)?mappedSettings.directions=[fillHandle.direction]:mappedSettings.directions=Object.keys(DIRECTIONS)):"string"==typeof fillHandle?(mappedSettings.directions=[fillHandle],mappedSettings.autoInsertRow=!0):(mappedSettings.directions=[],mappedSettings.autoInsertRow=!1),mappedSettings}Object.defineProperties(exports,{DIRECTIONS:{get:function(){return DIRECTIONS}},getDeltas:{get:function(){return getDeltas}},getDragDirectionAndRange:{get:function(){return getDragDirectionAndRange}},getMappedFillHandleSetting:{get:function(){return getMappedFillHandleSetting}},__esModule:{value:!0}});var $___46__46__47__46__46__47_helpers_47_object__,$___46__46__47__46__46__47_helpers_47_mixed__,isObject=($___46__46__47__46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47__46__46__47_helpers_47_object__&&$___46__46__47__46__46__47_helpers_47_object__.__esModule&&$___46__46__47__46__46__47_helpers_47_object__||{"default":$___46__46__47__46__46__47_helpers_47_object__}).isObject,isDefined=($___46__46__47__46__46__47_helpers_47_mixed__=_dereq_("helpers/mixed"),$___46__46__47__46__46__47_helpers_47_mixed__&&$___46__46__47__46__46__47_helpers_47_mixed__.__esModule&&$___46__46__47__46__46__47_helpers_47_mixed__||{"default":$___46__46__47__46__46__47_helpers_47_mixed__}).isDefined,DIRECTIONS={horizontal:"horizontal",vertical:"vertical"}},{"helpers/mixed":51,"helpers/object":53}],68:[function(_dereq_,module,exports){Object.defineProperties(exports,{ColumnSorting:{get:function(){return ColumnSorting}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$__moment__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47_helpers_47_mixed__,$___46__46__47__95_base__,$___46__46__47__46__46__47_plugins__,$___46__46__47__46__46__47_utils_47_sortingAlgorithms_47_mergeSort__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],moment=($__moment__=_dereq_("moment"),$__moment__&&$__moment__.__esModule&&$__moment__||{"default":$__moment__})["default"],$__2=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}),addClass=$__2.addClass,hasClass=$__2.hasClass,removeClass=$__2.removeClass,$__3=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}),arrayMap=$__3.arrayMap,arrayReduce=$__3.arrayReduce,isEmpty=($___46__46__47__46__46__47_helpers_47_mixed__=_dereq_("helpers/mixed"),$___46__46__47__46__46__47_helpers_47_mixed__&&$___46__46__47__46__46__47_helpers_47_mixed__.__esModule&&$___46__46__47__46__46__47_helpers_47_mixed__||{"default":$___46__46__47__46__46__47_helpers_47_mixed__}).isEmpty,BasePlugin=($___46__46__47__95_base__=_dereq_("_base"),$___46__46__47__95_base__&&$___46__46__47__95_base__.__esModule&&$___46__46__47__95_base__||{"default":$___46__46__47__95_base__})["default"],registerPlugin=($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,mergeSort=($___46__46__47__46__46__47_utils_47_sortingAlgorithms_47_mergeSort__=_dereq_("utils/sortingAlgorithms/mergeSort"),$___46__46__47__46__46__47_utils_47_sortingAlgorithms_47_mergeSort__&&$___46__46__47__46__46__47_utils_47_sortingAlgorithms_47_mergeSort__.__esModule&&$___46__46__47__46__46__47_utils_47_sortingAlgorithms_47_mergeSort__||{"default":$___46__46__47__46__46__47_utils_47_sortingAlgorithms_47_mergeSort__}).mergeSort;Handsontable.hooks.register("beforeColumnSort"),Handsontable.hooks.register("afterColumnSort");var ColumnSorting=function(hotInstance){$traceurRuntime.superConstructor($ColumnSorting).call(this,hotInstance),this.sortIndicators=[],this.lastSortedColumn=null,this.sortEmptyCells=!1},$ColumnSorting=ColumnSorting;$traceurRuntime.createClass(ColumnSorting,{isEnabled:function(){return!!this.hot.getSettings().columnSorting},enablePlugin:function(){var $__8=this;if(!this.enabled){this.setPluginOptions();var _this=this;this.hot.sortIndex=[],this.hot.sort=function(){var args=Array.prototype.slice.call(arguments);return _this.sortByColumn.apply(_this,args)},"undefined"==typeof this.hot.getSettings().observeChanges&&this.enableObserveChangesPlugin(),this.addHook("afterTrimRow",function(row){return $__8.sort()}),this.addHook("afterUntrimRow",function(row){return $__8.sort()}),this.addHook("modifyRow",function(row){return $__8.translateRow(row)}),this.addHook("unmodifyRow",function(row){return $__8.untranslateRow(row)}),this.addHook("afterUpdateSettings",function(){return $__8.onAfterUpdateSettings()}),this.addHook("afterGetColHeader",function(col,TH){return $__8.getColHeader(col,TH)}),this.addHook("afterOnCellMouseDown",function(event,target){return $__8.onAfterOnCellMouseDown(event,target)}),this.addHook("afterCreateRow",function(){_this.afterCreateRow.apply(_this,arguments)}),this.addHook("afterRemoveRow",function(){_this.afterRemoveRow.apply(_this,arguments)}),this.addHook("afterInit",function(){return $__8.sortBySettings()}),this.addHook("afterLoadData",function(){$__8.hot.sortIndex=[],$__8.hot.view&&$__8.sortBySettings()}),this.hot.view&&this.sortBySettings(),$traceurRuntime.superGet(this,$ColumnSorting.prototype,"enablePlugin").call(this)}},disablePlugin:function(){this.hot.sort=void 0,$traceurRuntime.superGet(this,$ColumnSorting.prototype,"disablePlugin").call(this)},onAfterUpdateSettings:function(){this.sortBySettings()},sortBySettings:function(){var sortingColumn,sortingOrder,sortingSettings=this.hot.getSettings().columnSorting,loadedSortingState=this.loadSortingState();"undefined"==typeof loadedSortingState?(sortingColumn=sortingSettings.column,sortingOrder=sortingSettings.sortOrder):(sortingColumn=loadedSortingState.sortColumn,sortingOrder=loadedSortingState.sortOrder),"number"==typeof sortingColumn&&(this.lastSortedColumn=sortingColumn,this.sortByColumn(sortingColumn,sortingOrder))},setSortingColumn:function(col,order){return"undefined"==typeof col?(this.hot.sortColumn=void 0,void(this.hot.sortOrder=void 0)):(this.hot.sortColumn===col&&"undefined"==typeof order?this.hot.sortOrder===!1?this.hot.sortOrder=void 0:this.hot.sortOrder=!this.hot.sortOrder:this.hot.sortOrder="undefined"==typeof order||order,void(this.hot.sortColumn=col))},sortByColumn:function(col,order){if(this.setSortingColumn(col,order),"undefined"!=typeof this.hot.sortColumn){var allowSorting=Handsontable.hooks.run(this.hot,"beforeColumnSort",this.hot.sortColumn,this.hot.sortOrder);allowSorting!==!1&&this.sort(),this.updateOrderClass(),this.updateSortIndicator(),Handsontable.hooks.run(this.hot,"afterColumnSort",this.hot.sortColumn,this.hot.sortOrder),this.hot.render(),this.saveSortingState()}},saveSortingState:function(){var sortingState={};"undefined"!=typeof this.hot.sortColumn&&(sortingState.sortColumn=this.hot.sortColumn),"undefined"!=typeof this.hot.sortOrder&&(sortingState.sortOrder=this.hot.sortOrder),(sortingState.hasOwnProperty("sortColumn")||sortingState.hasOwnProperty("sortOrder"))&&Handsontable.hooks.run(this.hot,"persistentStateSave","columnSorting",sortingState)},loadSortingState:function(){var storedState={};return Handsontable.hooks.run(this.hot,"persistentStateLoad","columnSorting",storedState),storedState.value},updateOrderClass:function(){var orderClass;this.hot.sortOrder===!0?orderClass="ascending":this.hot.sortOrder===!1&&(orderClass="descending"),this.sortOrderClass=orderClass},enableObserveChangesPlugin:function(){var _this=this;this.hot._registerTimeout(setTimeout(function(){_this.hot.updateSettings({observeChanges:!0})},0))},defaultSort:function(sortOrder,columnMeta){return function(a,b){return"string"==typeof a[1]&&(a[1]=a[1].toLowerCase()),"string"==typeof b[1]&&(b[1]=b[1].toLowerCase()),a[1]===b[1]?0:isEmpty(a[1])?isEmpty(b[1])?0:columnMeta.columnSorting.sortEmptyCells&&sortOrder?-1:1:isEmpty(b[1])?isEmpty(a[1])?0:columnMeta.columnSorting.sortEmptyCells&&sortOrder?1:-1:isNaN(a[1])&&!isNaN(b[1])?sortOrder?1:-1:!isNaN(a[1])&&isNaN(b[1])?sortOrder?-1:1:(isNaN(a[1])||isNaN(b[1])||(a[1]=parseFloat(a[1]),b[1]=parseFloat(b[1])),a[1]<b[1]?sortOrder?-1:1:a[1]>b[1]?sortOrder?1:-1:0)}},dateSort:function(sortOrder,columnMeta){return function(a,b){if(a[1]===b[1])return 0;if(isEmpty(a[1]))return isEmpty(b[1])?0:columnMeta.columnSorting.sortEmptyCells&&sortOrder?-1:1;if(isEmpty(b[1]))return isEmpty(a[1])?0:columnMeta.columnSorting.sortEmptyCells&&sortOrder?1:-1;var aDate=moment(a[1],columnMeta.dateFormat),bDate=moment(b[1],columnMeta.dateFormat);return aDate.isValid()?bDate.isValid()?bDate.isAfter(aDate)?sortOrder?-1:1:bDate.isBefore(aDate)?sortOrder?1:-1:0:-1:1}},numericSort:function(sortOrder,columnMeta){return function(a,b){var parsedA=parseFloat(a[1]),parsedB=parseFloat(b[1]);if(parsedA===parsedB||isNaN(parsedA)&&isNaN(parsedB))return 0;if(columnMeta.columnSorting.sortEmptyCells){if(isEmpty(a[1]))return sortOrder?-1:1;if(isEmpty(b[1]))return sortOrder?1:-1}return isNaN(parsedA)?1:isNaN(parsedB)?-1:parsedA<parsedB?sortOrder?-1:1:parsedA>parsedB?sortOrder?1:-1:0}},sort:function(){if("undefined"==typeof this.hot.sortOrder)return void(this.hot.sortIndex.length=0);var sortFunction,nrOfRows,colMeta=this.hot.getCellMeta(0,this.hot.sortColumn),emptyRows=this.hot.countEmptyRows();this.hot.sortingEnabled=!1,this.hot.sortIndex.length=0,"undefined"==typeof colMeta.columnSorting.sortEmptyCells&&(colMeta.columnSorting={sortEmptyCells:this.sortEmptyCells}),nrOfRows=this.hot.getSettings().maxRows===Number.POSITIVE_INFINITY?this.hot.countRows()-this.hot.getSettings().minSpareRows:this.hot.countRows()-emptyRows;for(var i=0,ilen=nrOfRows;i<ilen;i++)this.hot.sortIndex.push([i,this.hot.getDataAtCell(i,this.hot.sortColumn)]);if(colMeta.sortFunction)sortFunction=colMeta.sortFunction;else switch(colMeta.type){case"date":sortFunction=this.dateSort;break;case"numeric":sortFunction=this.numericSort;break;default:sortFunction=this.defaultSort}mergeSort(this.hot.sortIndex,sortFunction(this.hot.sortOrder,colMeta));for(var i$__10=this.hot.sortIndex.length;i$__10<this.hot.countRows();i$__10++)this.hot.sortIndex.push([i$__10,this.hot.getDataAtCell(i$__10,this.hot.sortColumn)]);this.hot.sortingEnabled=!0},updateSortIndicator:function(){if("undefined"!=typeof this.hot.sortOrder){var colMeta=this.hot.getCellMeta(0,this.hot.sortColumn);this.sortIndicators[this.hot.sortColumn]=colMeta.sortIndicator}},translateRow:function(row){return this.hot.sortingEnabled&&"undefined"!=typeof this.hot.sortOrder&&this.hot.sortIndex&&this.hot.sortIndex.length&&this.hot.sortIndex[row]?this.hot.sortIndex[row][0]:row},untranslateRow:function(row){if(this.hot.sortingEnabled&&this.hot.sortIndex&&this.hot.sortIndex.length)for(var i=0;i<this.hot.sortIndex.length;i++)if(this.hot.sortIndex[i][0]==row)return i},getColHeader:function(col,TH){if(col<0||!TH.parentNode)return!1;var headerLink=TH.querySelector(".colHeader"),TRs=(TH.getAttribute("colspan"),TH.parentNode.parentNode.childNodes),headerLevel=Array.prototype.indexOf.call(TRs,TH.parentNode);headerLevel-=TRs.length,headerLink&&(this.hot.getSettings().columnSorting&&col>=0&&headerLevel===-1&&addClass(headerLink,"columnSorting"),removeClass(headerLink,"descending"),removeClass(headerLink,"ascending"),this.sortIndicators[col]&&col===this.hot.sortColumn&&("ascending"===this.sortOrderClass?addClass(headerLink,"ascending"):"descending"===this.sortOrderClass&&addClass(headerLink,"descending")))},isSorted:function(){return"undefined"!=typeof this.hot.sortColumn},afterCreateRow:function(index,amount){if(this.isSorted()){for(var i=0;i<this.hot.sortIndex.length;i++)this.hot.sortIndex[i][0]>=index&&(this.hot.sortIndex[i][0]+=amount);for(var i=0;i<amount;i++)this.hot.sortIndex.splice(index+i,0,[index+i,this.hot.getSourceData()[index+i][this.hot.sortColumn+this.hot.colOffset()]]);this.saveSortingState()}},afterRemoveRow:function(index,amount){function countRowShift(logicalRow){return arrayReduce(removedRows,function(count,removedLogicalRow){return logicalRow>removedLogicalRow&&count++,count},0)}if(this.isSorted()){var removedRows=this.hot.sortIndex.splice(index,amount);removedRows=arrayMap(removedRows,function(row){return row[0]}),this.hot.sortIndex=arrayMap(this.hot.sortIndex,function(logicalRow,physicalRow){var rowShift=countRowShift(logicalRow[0]);return rowShift&&(logicalRow[0]-=rowShift),logicalRow}),this.saveSortingState()}},setPluginOptions:function(){var columnSorting=this.hot.getSettings().columnSorting;"object"===("undefined"==typeof columnSorting?"undefined":_typeof(columnSorting))?this.sortEmptyCells=columnSorting.sortEmptyCells||!1:this.sortEmptyCells=!1},onAfterOnCellMouseDown:function(event,coords){coords.row>-1||hasClass(event.realTarget,"columnSorting")&&(coords.col!==this.lastSortedColumn&&(this.hot.sortOrder=!0),this.lastSortedColumn=coords.col,this.sortByColumn(coords.col))}},{},BasePlugin),registerPlugin("columnSorting",ColumnSorting)},{_base:63,browser:24,"helpers/array":43,"helpers/dom/element":47,"helpers/mixed":51,moment:"moment",plugins:62,"utils/sortingAlgorithms/mergeSort":134}],69:[function(_dereq_,module,exports){Object.defineProperties(exports,{CommentEditor:{get:function(){return CommentEditor}},__esModule:{value:!0}});var $___46__46__47__46__46__47_helpers_47_dom_47_element__,addClass=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}).addClass,CommentEditor=function(){this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hidden=!0,this.hide()},$CommentEditor=CommentEditor;$traceurRuntime.createClass(CommentEditor,{setPosition:function(x,y){this.editorStyle.left=x+"px",this.editorStyle.top=y+"px"},setSize:function(width,height){if(width&&height){var input=this.getInputElement();input.style.width=width+"px",input.style.height=height+"px"}},resetSize:function(){var input=this.getInputElement();input.style.width="",input.style.height=""},setReadOnlyState:function(state){var input=this.getInputElement();input.readOnly=state},show:function(){this.editorStyle.display="block",this.hidden=!1},hide:function(){this.editorStyle.display="none",this.hidden=!0},isVisible:function(){return"block"===this.editorStyle.display},setValue:function(){var value=void 0!==arguments[0]?arguments[0]:"";value=value||"",this.getInputElement().value=value},getValue:function(){return this.getInputElement().value},isFocused:function(){return document.activeElement===this.getInputElement()},focus:function(){this.getInputElement().focus()},createEditor:function(){var editor,textArea,container=document.querySelector("."+$CommentEditor.CLASS_EDITOR_CONTAINER);return container||(container=document.createElement("div"),addClass(container,$CommentEditor.CLASS_EDITOR_CONTAINER),document.body.appendChild(container)),editor=document.createElement("div"),addClass(editor,$CommentEditor.CLASS_EDITOR),textArea=document.createElement("textarea"),addClass(textArea,$CommentEditor.CLASS_INPUT),editor.appendChild(textArea),container.appendChild(editor),editor},getInputElement:function(){return this.editor.querySelector("."+$CommentEditor.CLASS_INPUT)},destroy:function(){this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null}},{get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"},get CLASS_EDITOR(){return"htComments"},get CLASS_INPUT(){return"htCommentTextArea"},get CLASS_CELL(){return"htCommentCell"}})},{"helpers/dom/element":47}],70:[function(_dereq_,module,exports){var $__13;Object.defineProperties(exports,{Comments:{get:function(){return Comments}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47_helpers_47_object__,$___46__46__47__46__46__47_helpers_47_function__,$___46__46__47__46__46__47_eventManager__,$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__,$___46__46__47__46__46__47_plugins__,$___46__46__47__95_base__,$__commentEditor__,$___46__46__47_contextMenu_47_utils__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],$__1=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}),addClass=$__1.addClass,closest=$__1.closest,isChildOf=$__1.isChildOf,hasClass=$__1.hasClass,offset=$__1.offset,outerWidth=$__1.outerWidth,outerHeight=$__1.outerHeight,getScrollableElement=$__1.getScrollableElement,$__2=($___46__46__47__46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47__46__46__47_helpers_47_object__&&$___46__46__47__46__46__47_helpers_47_object__.__esModule&&$___46__46__47__46__46__47_helpers_47_object__||{"default":$___46__46__47__46__46__47_helpers_47_object__}),deepClone=$__2.deepClone,deepExtend=$__2.deepExtend,debounce=($___46__46__47__46__46__47_helpers_47_function__=_dereq_("helpers/function"),$___46__46__47__46__46__47_helpers_47_function__&&$___46__46__47__46__46__47_helpers_47_function__.__esModule&&$___46__46__47__46__46__47_helpers_47_function__||{"default":$___46__46__47__46__46__47_helpers_47_function__}).debounce,EventManager=($___46__46__47__46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47__46__46__47_eventManager__&&$___46__46__47__46__46__47_eventManager__.__esModule&&$___46__46__47__46__46__47_eventManager__||{"default":$___46__46__47__46__46__47_eventManager__}).EventManager,WalkontableCellCoords=($___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__=_dereq_("3rdparty/walkontable/src/cell/coords"),$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__.__esModule&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__||{"default":$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__}).WalkontableCellCoords,registerPlugin=($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,BasePlugin=($___46__46__47__95_base__=_dereq_("_base"),$___46__46__47__95_base__&&$___46__46__47__95_base__.__esModule&&$___46__46__47__95_base__||{"default":$___46__46__47__95_base__})["default"],CommentEditor=($__commentEditor__=_dereq_("commentEditor"),$__commentEditor__&&$__commentEditor__.__esModule&&$__commentEditor__||{"default":$__commentEditor__}).CommentEditor,$__9=($___46__46__47_contextMenu_47_utils__=_dereq_("contextMenu/utils"),$___46__46__47_contextMenu_47_utils__&&$___46__46__47_contextMenu_47_utils__.__esModule&&$___46__46__47_contextMenu_47_utils__||{"default":$___46__46__47_contextMenu_47_utils__}),checkSelectionConsistency=$__9.checkSelectionConsistency,markLabelAsSelected=$__9.markLabelAsSelected,privatePool=new WeakMap,META_COMMENT="comment",META_COMMENT_VALUE="value",META_STYLE="style",META_READONLY="readOnly",Comments=function(hotInstance){$traceurRuntime.superConstructor($Comments).call(this,hotInstance),this.editor=null,this.eventManager=null,this.range={},this.mouseDown=!1,this.contextMenuEvent=!1,this.timer=null,this.displayDelay=250,privatePool.set(this,{tempEditorDimensions:{},cellBelowCursor:null})},$Comments=Comments;$traceurRuntime.createClass(Comments,($__13={},Object.defineProperty($__13,"isEnabled",{value:function(){return!!this.hot.getSettings().comments},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"enablePlugin",{value:function(){var $__10=this;this.enabled||(this.editor||(this.editor=new CommentEditor),this.eventManager||(this.eventManager=new EventManager(this)),this.addHook("afterContextMenuDefaultOptions",function(options){return $__10.addToContextMenu(options)}),this.addHook("afterRenderer",function(TD,row,col,prop,value,cellProperties){return $__10.onAfterRenderer(TD,cellProperties)}),this.addHook("afterScrollHorizontally",function(){return $__10.hide()}),this.addHook("afterScrollVertically",function(){return $__10.hide()}),this.addHook("afterBeginEditing",function(args){return $__10.onAfterBeginEditing(args)}),this.registerListeners(),$traceurRuntime.superGet(this,$Comments.prototype,"enablePlugin").call(this))},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"disablePlugin",{value:function(){$traceurRuntime.superGet(this,$Comments.prototype,"disablePlugin").call(this)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"registerListeners",{value:function(){var $__10=this;this.eventManager.addEventListener(document,"mouseover",function(event){return $__10.onMouseOver(event)}),this.eventManager.addEventListener(document,"mousedown",function(event){return $__10.onMouseDown(event)}),this.eventManager.addEventListener(document,"mouseup",function(event){return $__10.onMouseUp(event)}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(event){return $__10.onEditorBlur(event)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mousedown",function(event){return $__10.onEditorMouseDown(event)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mouseup",function(event){return $__10.onEditorMouseUp(event)})},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"setRange",{value:function(range){this.range=range},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"clearRange",{value:function(){this.range={}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"targetIsCellWithComment",{value:function(event){var closestCell=closest(event.target,"TD","TBODY");return!!(closestCell&&hasClass(closestCell,"htCommentCell")&&closest(closestCell,[this.hot.rootElement]))},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"targetIsCommentTextArea",{value:function(event){return this.editor.getInputElement()===event.target},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"setComment",{value:function(_value3){var $__13;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var editorValue=this.editor.getValue(),comment="";null!=_value3?comment=_value3:null!=editorValue&&(comment=editorValue);var row=this.range.from.row,col=this.range.from.col;this.updateCommentMeta(row,col,($__13={},Object.defineProperty($__13,META_COMMENT_VALUE,{value:comment,configurable:!0,enumerable:!0,writable:!0}),$__13)),this.hot.render()},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"setCommentAtCell",{value:function(row,col,_value4){this.setRange({from:new WalkontableCellCoords(row,col)}),this.setComment(_value4)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"removeComment",{value:function(){var forceRender=void 0===arguments[0]||arguments[0];if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,META_COMMENT,void 0),forceRender&&this.hot.render(),this.hide()},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"removeCommentAtCell",{value:function(row,col){var forceRender=void 0===arguments[2]||arguments[2];this.setRange({from:new WalkontableCellCoords(row,col)}),this.removeComment(forceRender)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"getComment",{
value:function(){var row=this.range.from.row,column=this.range.from.col;return this.getCommentMeta(row,column,META_COMMENT_VALUE)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"getCommentAtCell",{value:function(row,column){return this.getCommentMeta(row,column,META_COMMENT_VALUE)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"show",{value:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var meta=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.refreshEditor(!0),this.editor.setValue(meta[META_COMMENT]?meta[META_COMMENT][META_COMMENT_VALUE]:""),this.editor.hidden&&this.editor.show(),!0},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"showAtCell",{value:function(row,col){return this.setRange({from:new WalkontableCellCoords(row,col)}),this.show()},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"hide",{value:function(){this.editor.hidden||this.editor.hide()},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"refreshEditor",{value:function(){var force=void 0!==arguments[0]&&arguments[0];if(force||this.range.from&&this.editor.isVisible()){var scrollableElement=getScrollableElement(this.hot.view.wt.wtTable.TABLE),TD=this.hot.view.wt.wtTable.getCell(this.range.from),row=this.range.from.row,column=this.range.from.col,cellOffset=offset(TD),lastColWidth=this.hot.view.wt.wtTable.getStretchedColumnWidth(column),cellTopOffset=cellOffset.top<0?0:cellOffset.top,cellLeftOffset=cellOffset.left;this.hot.view.wt.wtViewport.hasVerticalScroll()&&scrollableElement!==window&&(cellTopOffset-=this.hot.view.wt.wtOverlays.topOverlay.getScrollPosition()),this.hot.view.wt.wtViewport.hasHorizontalScroll()&&scrollableElement!==window&&(cellLeftOffset-=this.hot.view.wt.wtOverlays.leftOverlay.getScrollPosition());var x=cellLeftOffset+lastColWidth,y=cellTopOffset,commentStyle=this.getCommentMeta(row,column,META_STYLE),readOnly=this.getCommentMeta(row,column,META_READONLY);commentStyle?this.editor.setSize(commentStyle.width,commentStyle.height):this.editor.resetSize(),this.editor.setReadOnlyState(readOnly),this.editor.setPosition(x,y)}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"checkSelectionCommentsConsistency",{value:function(){var selected=this.hot.getSelectedRange();if(!selected)return!1;var hasComment=!1,cell=selected.from;return this.getCommentMeta(cell.row,cell.col,META_COMMENT_VALUE)&&(hasComment=!0),hasComment},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"updateCommentMeta",{value:function(row,column,metaObject){var newComment,oldComment=this.hot.getCellMeta(row,column)[META_COMMENT];oldComment?(newComment=deepClone(oldComment),deepExtend(newComment,metaObject)):newComment=metaObject,this.hot.setCellMeta(row,column,META_COMMENT,newComment)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"getCommentMeta",{value:function(row,column,property){var cellMeta=this.hot.getCellMeta(row,column);if(cellMeta[META_COMMENT])return cellMeta[META_COMMENT][property]},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"onMouseDown",{value:function(event){if(this.mouseDown=!0,this.hot.view&&this.hot.view.wt){if(!this.contextMenuEvent&&!this.targetIsCommentTextArea(event)){var eventCell=closest(event.target,"TD","TBODY"),coordinates=null;eventCell&&(coordinates=this.hot.view.wt.wtTable.getCoords(eventCell)),(!eventCell||this.range.from&&coordinates&&(this.range.from.row!==coordinates.row||this.range.from.col!==coordinates.col))&&this.hide()}this.contextMenuEvent=!1}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"onMouseOver",{value:function(event){var $__10=this;if(!this.mouseDown&&!this.editor.isFocused()){var priv=privatePool.get(this);priv.cellBelowCursor=document.elementFromPoint(event.clientX,event.clientY),debounce(function(){if(!hasClass(event.target,"wtBorder")&&priv.cellBelowCursor===event.target&&$__10.editor)if($__10.targetIsCellWithComment(event)){var coordinates=$__10.hot.view.wt.wtTable.getCoords(event.target),range={from:new WalkontableCellCoords(coordinates.row,coordinates.col)};$__10.setRange(range),$__10.show()}else!isChildOf(event.target,document)||$__10.targetIsCommentTextArea(event)||$__10.editor.isFocused()||$__10.hide()},this.displayDelay)()}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"onMouseUp",{value:function(event){this.mouseDown=!1},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"onAfterRenderer",{value:function(TD,cellProperties){cellProperties[META_COMMENT]&&cellProperties[META_COMMENT][META_COMMENT_VALUE]&&addClass(TD,cellProperties.commentedCellClassName)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"onEditorBlur",{value:function(event){this.setComment()},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"onEditorMouseDown",{value:function(event){var priv=privatePool.get(this);priv.tempEditorDimensions={width:outerWidth(event.target),height:outerHeight(event.target)}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"onEditorMouseUp",{value:function(event){var $__13,priv=privatePool.get(this),currentWidth=outerWidth(event.target),currentHeight=outerHeight(event.target);currentWidth===priv.tempEditorDimensions.width+1&&currentHeight===priv.tempEditorDimensions.height+2||this.updateCommentMeta(this.range.from.row,this.range.from.col,($__13={},Object.defineProperty($__13,META_STYLE,{value:{width:currentWidth,height:currentHeight},configurable:!0,enumerable:!0,writable:!0}),$__13))},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"onContextMenuAddComment",{value:function(){var $__10=this,coords=this.hot.getSelectedRange();this.contextMenuEvent=!0,this.setRange({from:coords.from}),this.show(),setTimeout(function(){$__10.hot&&($__10.hot.deselectCell(),$__10.editor.focus())},10)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"onContextMenuRemoveComment",{value:function(selection){this.contextMenuEvent=!0;for(var i=selection.start.row;i<=selection.end.row;i++)for(var j=selection.start.col;j<=selection.end.col;j++)this.removeCommentAtCell(i,j,!1);this.hot.render()},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"onContextMenuMakeReadOnly",{value:function(selection){var $__13;this.contextMenuEvent=!0;for(var i=selection.start.row;i<=selection.end.row;i++)for(var j=selection.start.col;j<=selection.end.col;j++){var currentState=!!this.getCommentMeta(i,j,META_READONLY);this.updateCommentMeta(i,j,($__13={},Object.defineProperty($__13,META_READONLY,{value:!currentState,configurable:!0,enumerable:!0,writable:!0}),$__13))}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"addToContextMenu",{value:function(defaultOptions){var $__10=this;defaultOptions.items.push(Handsontable.plugins.ContextMenu.SEPARATOR,{key:"commentsAddEdit",name:function(){return $__10.checkSelectionCommentsConsistency()?"Edit comment":"Add comment"},callback:function(){return $__10.onContextMenuAddComment()},disabled:function(){return!(this.getSelected()&&!this.selection.selectedHeader.corner)}},{key:"commentsRemove",name:function(){return"Delete comment"},callback:function(key,selection){return $__10.onContextMenuRemoveComment(selection)},disabled:function(){return $__10.hot.selection.selectedHeader.corner}},{key:"commentsReadOnly",name:function(){var $__11=this,label="Read only comment",hasProperty=checkSelectionConsistency(this.getSelectedRange(),function(row,col){var readOnlyProperty=$__11.getCellMeta(row,col)[META_COMMENT];if(readOnlyProperty&&(readOnlyProperty=readOnlyProperty[META_READONLY]),readOnlyProperty)return!0});return hasProperty&&(label=markLabelAsSelected(label)),label},callback:function(key,selection){return $__10.onContextMenuMakeReadOnly(selection)},disabled:function(){return $__10.hot.selection.selectedHeader.corner||!$__10.checkSelectionCommentsConsistency()}})},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"onAfterBeginEditing",{value:function(row,column){this.hide()},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,"destroy",{value:function(){this.editor&&this.editor.destroy(),$traceurRuntime.superGet(this,$Comments.prototype,"destroy").call(this)},configurable:!0,enumerable:!0,writable:!0}),$__13),{},BasePlugin),registerPlugin("comments",Comments)},{"3rdparty/walkontable/src/cell/coords":6,_base:63,browser:24,commentEditor:69,"contextMenu/utils":89,eventManager:42,"helpers/dom/element":47,"helpers/function":50,"helpers/object":53,plugins:62}],71:[function(_dereq_,module,exports){function findSubCommand(subCommandName,subCommands){var command;return arrayEach(subCommands,function(cmd){var cmds=cmd.key?cmd.key.split(":"):null;if(Array.isArray(cmds)&&cmds[1]===subCommandName)return command=cmd,!1}),command}Object.defineProperties(exports,{CommandExecutor:{get:function(){return CommandExecutor}},__esModule:{value:!0}});var $___46__46__47__46__46__47_helpers_47_array__,arrayEach=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayEach,CommandExecutor=function(hotInstance){this.hot=hotInstance,this.commands={},this.commonCallback=null};$traceurRuntime.createClass(CommandExecutor,{registerCommand:function(name,commandDescriptor){this.commands[name]=commandDescriptor},setCommonCallback:function(callback){this.commonCallback=callback},execute:function(commandName){for(var params=[],$__3=1;$__3<arguments.length;$__3++)params[$__3-1]=arguments[$__3];var $__1=this,commandSplit=commandName.split(":");commandName=commandSplit[0];var subCommandName=2===commandSplit.length?commandSplit[1]:null,command=this.commands[commandName];if(!command)throw new Error("Menu command '"+commandName+"' not exists.");if(subCommandName&&command.submenu&&(command=findSubCommand(subCommandName,command.submenu.items)),command.disabled!==!0&&("function"!=typeof command.disabled||command.disabled.call(this.hot)!==!0)&&!command.hasOwnProperty("submenu")){var callbacks=[];"function"==typeof command.callback&&callbacks.push(command.callback),"function"==typeof this.commonCallback&&callbacks.push(this.commonCallback),params.unshift(commandSplit.join(":")),arrayEach(callbacks,function(callback){return callback.apply($__1.hot,params)})}}},{})},{"helpers/array":43}],72:[function(_dereq_,module,exports){Object.defineProperties(exports,{ContextMenu:{get:function(){return ContextMenu}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$___46__46__47__95_base__,$___46__46__47__46__46__47_helpers_47_array__,$__commandExecutor__,$___46__46__47__46__46__47_eventManager__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$__itemsFactory__,$__menu__,$___46__46__47__46__46__47_plugins__,$___46__46__47__46__46__47_helpers_47_dom_47_event__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$__predefinedItems__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],BasePlugin=($___46__46__47__95_base__=_dereq_("_base"),$___46__46__47__95_base__&&$___46__46__47__95_base__.__esModule&&$___46__46__47__95_base__||{"default":$___46__46__47__95_base__})["default"],arrayEach=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayEach,CommandExecutor=($__commandExecutor__=_dereq_("commandExecutor"),$__commandExecutor__&&$__commandExecutor__.__esModule&&$__commandExecutor__||{"default":$__commandExecutor__}).CommandExecutor,EventManager=($___46__46__47__46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47__46__46__47_eventManager__&&$___46__46__47__46__46__47_eventManager__.__esModule&&$___46__46__47__46__46__47_eventManager__||{"default":$___46__46__47__46__46__47_eventManager__}).EventManager,hasClass=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}).hasClass,ItemsFactory=($__itemsFactory__=_dereq_("itemsFactory"),$__itemsFactory__&&$__itemsFactory__.__esModule&&$__itemsFactory__||{"default":$__itemsFactory__}).ItemsFactory,Menu=($__menu__=_dereq_("menu"),$__menu__&&$__menu__.__esModule&&$__menu__||{"default":$__menu__}).Menu,registerPlugin=($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,$__9=($___46__46__47__46__46__47_helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$___46__46__47__46__46__47_helpers_47_dom_47_event__&&$___46__46__47__46__46__47_helpers_47_dom_47_event__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_event__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_event__}),stopPropagation=$__9.stopPropagation,pageX=$__9.pageX,pageY=$__9.pageY,$__10=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}),getWindowScrollLeft=$__10.getWindowScrollLeft,getWindowScrollTop=$__10.getWindowScrollTop,$__11=($__predefinedItems__=_dereq_("predefinedItems"),$__predefinedItems__&&$__predefinedItems__.__esModule&&$__predefinedItems__||{"default":$__predefinedItems__}),ROW_ABOVE=$__11.ROW_ABOVE,ROW_BELOW=$__11.ROW_BELOW,COLUMN_LEFT=$__11.COLUMN_LEFT,COLUMN_RIGHT=$__11.COLUMN_RIGHT,REMOVE_ROW=$__11.REMOVE_ROW,REMOVE_COLUMN=$__11.REMOVE_COLUMN,UNDO=$__11.UNDO,REDO=$__11.REDO,READ_ONLY=$__11.READ_ONLY,ALIGNMENT=$__11.ALIGNMENT,SEPARATOR=$__11.SEPARATOR,ContextMenu=function(hotInstance){$traceurRuntime.superConstructor($ContextMenu).call(this,hotInstance),this.eventManager=new EventManager(this),this.commandExecutor=new CommandExecutor(this.hot),this.itemsFactory=null,this.menu=null},$ContextMenu=ContextMenu;$traceurRuntime.createClass(ContextMenu,{isEnabled:function(){return this.hot.getSettings().contextMenu},enablePlugin:function(){var $__12=this;if(!this.enabled){this.itemsFactory=new ItemsFactory(this.hot,$ContextMenu.DEFAULT_ITEMS);var settings=this.hot.getSettings().contextMenu,predefinedItems={items:this.itemsFactory.getItems(settings)};this.registerEvents(),"function"==typeof settings.callback&&this.commandExecutor.setCommonCallback(settings.callback),$traceurRuntime.superGet(this,$ContextMenu.prototype,"enablePlugin").call(this),this.callOnPluginsReady(function(){$__12.hot.runHooks("afterContextMenuDefaultOptions",predefinedItems),$__12.itemsFactory.setPredefinedItems(predefinedItems.items);var menuItems=$__12.itemsFactory.getItems(settings);$__12.menu=new Menu($__12.hot,{className:"htContextMenu",keepInViewport:!0}),$__12.hot.runHooks("beforeContextMenuSetItems",menuItems),$__12.menu.setMenuItems(menuItems),$__12.menu.addLocalHook("afterOpen",function(){return $__12.onMenuAfterOpen()}),$__12.menu.addLocalHook("afterClose",function(){return $__12.onMenuAfterClose()}),$__12.menu.addLocalHook("executeCommand",function(){for(var params=[],$__14=0;$__14<arguments.length;$__14++)params[$__14]=arguments[$__14];return $__12.executeCommand.apply($__12,params)}),arrayEach(menuItems,function(command){return $__12.commandExecutor.registerCommand(command.key,command)})})}},updatePlugin:function(){this.disablePlugin(),this.enablePlugin(),$traceurRuntime.superGet(this,$ContextMenu.prototype,"updatePlugin").call(this)},disablePlugin:function(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),$traceurRuntime.superGet(this,$ContextMenu.prototype,"disablePlugin").call(this)},registerEvents:function(){var $__12=this;this.eventManager.addEventListener(this.hot.rootElement,"contextmenu",function(event){return $__12.onContextMenu(event)})},open:function(event){this.menu&&(this.menu.open(),this.menu.setPosition({top:parseInt(pageY(event),10)-getWindowScrollTop(),left:parseInt(pageX(event),10)-getWindowScrollLeft()}),this.menu.hotMenu.isHotTableEnv=this.hot.isHotTableEnv,Handsontable.eventManager.isHotTableEnv=this.hot.isHotTableEnv)},close:function(){this.menu&&this.menu.close()},executeCommand:function(){for(var params=[],$__14=0;$__14<arguments.length;$__14++)params[$__14]=arguments[$__14];this.commandExecutor.execute.apply(this.commandExecutor,params)},onContextMenu:function(event){function isValidElement(element){return"TD"===element.nodeName||"TD"===element.parentNode.nodeName}var settings=this.hot.getSettings(),showRowHeaders=settings.rowHeaders,showColHeaders=settings.colHeaders,element=event.realTarget;this.close(),hasClass(element,"handsontableInput")||(event.preventDefault(),stopPropagation(event),(showRowHeaders||showColHeaders||isValidElement(element)||hasClass(element,"current")&&hasClass(element,"wtBorder"))&&this.open(event))},onMenuAfterOpen:function(){this.hot.runHooks("afterContextMenuShow",this)},onMenuAfterClose:function(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)},destroy:function(){this.close(),this.menu&&this.menu.destroy(),$traceurRuntime.superGet(this,$ContextMenu.prototype,"destroy").call(this)}},{get DEFAULT_ITEMS(){return[ROW_ABOVE,ROW_BELOW,SEPARATOR,COLUMN_LEFT,COLUMN_RIGHT,SEPARATOR,REMOVE_ROW,REMOVE_COLUMN,SEPARATOR,UNDO,REDO,SEPARATOR,READ_ONLY,SEPARATOR,ALIGNMENT]}},BasePlugin),ContextMenu.SEPARATOR={name:SEPARATOR},Handsontable.hooks.register("afterContextMenuDefaultOptions"),Handsontable.hooks.register("afterContextMenuShow"),Handsontable.hooks.register("afterContextMenuHide"),Handsontable.hooks.register("afterContextMenuExecute"),registerPlugin("contextMenu",ContextMenu)},{_base:63,browser:24,commandExecutor:71,eventManager:42,"helpers/array":43,"helpers/dom/element":47,"helpers/dom/event":48,itemsFactory:74,menu:75,plugins:62,predefinedItems:76}],73:[function(_dereq_,module,exports){Object.defineProperties(exports,{Cursor:{get:function(){return Cursor}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47_helpers_47_dom_47_event__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],$__1=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}),getWindowScrollLeft=$__1.getWindowScrollLeft,getWindowScrollTop=$__1.getWindowScrollTop,$__2=($___46__46__47__46__46__47_helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$___46__46__47__46__46__47_helpers_47_dom_47_event__&&$___46__46__47__46__46__47_helpers_47_dom_47_event__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_event__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_event__}),pageX=$__2.pageX,pageY=$__2.pageY,Cursor=function(object){var top,topRelative,left,leftRelative,cellHeight,cellWidth,windowScrollTop=getWindowScrollTop(),windowScrollLeft=getWindowScrollLeft();this.type=this.getSourceType(object),"literal"===this.type?(top=parseInt(object.top,10),left=parseInt(object.left,10),cellHeight=object.height||0,cellWidth=object.width||0,topRelative=top,leftRelative=left,top+=windowScrollTop,left+=windowScrollLeft):"event"===this.type&&(top=parseInt(pageY(object),10),left=parseInt(pageX(object),10),cellHeight=object.target.clientHeight,cellWidth=object.target.clientWidth,topRelative=top-windowScrollTop,leftRelative=left-windowScrollLeft),this.top=top,this.topRelative=topRelative,this.left=left,this.leftRelative=leftRelative,this.scrollTop=windowScrollTop,this.scrollLeft=windowScrollLeft,this.cellHeight=cellHeight,this.cellWidth=cellWidth};$traceurRuntime.createClass(Cursor,{getSourceType:function(object){var type="literal";return object instanceof Event&&(type="event"),type},fitsAbove:function(element){return this.topRelative>=element.offsetHeight},fitsBelow:function(element){var viewportHeight=void 0!==arguments[1]?arguments[1]:window.innerHeight;return this.topRelative+element.offsetHeight<=viewportHeight},fitsOnRight:function(element){var viewportWidth=void 0!==arguments[1]?arguments[1]:window.innerWidth;return this.leftRelative+this.cellWidth+element.offsetWidth<=viewportWidth},fitsOnLeft:function(element){return this.leftRelative>=element.offsetWidth}},{}),Handsontable.plugins.utils=Handsontable.plugins.utils||{},Handsontable.plugins.utils.Cursor=Cursor},{browser:24,"helpers/dom/element":47,"helpers/dom/event":48}],74:[function(_dereq_,module,exports){function _getItems(){var pattern=void 0!==arguments[0]?arguments[0]:null,defaultPattern=void 0!==arguments[1]?arguments[1]:[],items=void 0!==arguments[2]?arguments[2]:{},result=[];return pattern&&pattern.items?pattern=pattern.items:Array.isArray(pattern)||(pattern=defaultPattern),isObject(pattern)?objectEach(pattern,function(value,key){var item=items["string"==typeof value?value:key];item||(item=value),isObject(value)?extend(item,value):"string"==typeof item&&(item={name:item}),void 0===item.key&&(item.key=key),result.push(item)}):arrayEach(pattern,function(name,key){var item=items[name];!item&&ITEMS.indexOf(name)>=0||(item||(item={name:name,key:key+""}),isObject(name)&&extend(item,name),void 0===item.key&&(item.key=key),result.push(item))}),result}Object.defineProperties(exports,{ItemsFactory:{get:function(){return ItemsFactory}},__esModule:{value:!0}});var $___46__46__47__46__46__47_helpers_47_object__,$___46__46__47__46__46__47_helpers_47_array__,$__predefinedItems__,$__0=($___46__46__47__46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47__46__46__47_helpers_47_object__&&$___46__46__47__46__46__47_helpers_47_object__.__esModule&&$___46__46__47__46__46__47_helpers_47_object__||{"default":$___46__46__47__46__46__47_helpers_47_object__}),objectEach=$__0.objectEach,isObject=$__0.isObject,extend=$__0.extend,arrayEach=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayEach,$__2=($__predefinedItems__=_dereq_("predefinedItems"),$__predefinedItems__&&$__predefinedItems__.__esModule&&$__predefinedItems__||{"default":$__predefinedItems__}),SEPARATOR=$__2.SEPARATOR,ITEMS=$__2.ITEMS,predefinedItems=$__2.predefinedItems,ItemsFactory=function(hotInstance){var orderPattern=void 0!==arguments[1]?arguments[1]:null;this.hot=hotInstance,this.predefinedItems=predefinedItems(),this.defaultOrderPattern=orderPattern};$traceurRuntime.createClass(ItemsFactory,{setPredefinedItems:function(predefinedItems){var $__3=this,items={};this.defaultOrderPattern.length=0,objectEach(predefinedItems,function(value,key){var menuItemKey="";value.name===SEPARATOR?(items[SEPARATOR]=value,menuItemKey=SEPARATOR):isNaN(parseInt(key,10))?(value.key=void 0===value.key?key:value.key,items[key]=value,menuItemKey=value.key):(items[value.key]=value,menuItemKey=value.key),$__3.defaultOrderPattern.push(menuItemKey)}),this.predefinedItems=items},getItems:function(){var pattern=void 0!==arguments[0]?arguments[0]:null;return _getItems(pattern,this.defaultOrderPattern,this.predefinedItems)}},{})},{"helpers/array":43,"helpers/object":53,predefinedItems:76}],75:[function(_dereq_,module,exports){Object.defineProperties(exports,{Menu:{get:function(){return Menu}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47_helpers_47_array__,$__cursor__,$___46__46__47__46__46__47_eventManager__,$___46__46__47__46__46__47_helpers_47_object__,$___46__46__47__46__46__47_helpers_47_function__,$__utils__,$___46__46__47__46__46__47_helpers_47_unicode__,$___46__46__47__46__46__47_mixins_47_localHooks__,$__predefinedItems__,$___46__46__47__46__46__47_helpers_47_dom_47_event__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],$__1=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}),addClass=$__1.addClass,empty=$__1.empty,fastInnerHTML=$__1.fastInnerHTML,getScrollbarWidth=$__1.getScrollbarWidth,isChildOf=$__1.isChildOf,removeClass=$__1.removeClass,$__2=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}),arrayEach=$__2.arrayEach,arrayFilter=$__2.arrayFilter,arrayReduce=$__2.arrayReduce,Cursor=($__cursor__=_dereq_("cursor"),$__cursor__&&$__cursor__.__esModule&&$__cursor__||{"default":$__cursor__}).Cursor,EventManager=($___46__46__47__46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47__46__46__47_eventManager__&&$___46__46__47__46__46__47_eventManager__.__esModule&&$___46__46__47__46__46__47_eventManager__||{"default":$___46__46__47__46__46__47_eventManager__}).EventManager,mixin=($___46__46__47__46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47__46__46__47_helpers_47_object__&&$___46__46__47__46__46__47_helpers_47_object__.__esModule&&$___46__46__47__46__46__47_helpers_47_object__||{"default":$___46__46__47__46__46__47_helpers_47_object__}).mixin,debounce=($___46__46__47__46__46__47_helpers_47_function__=_dereq_("helpers/function"),$___46__46__47__46__46__47_helpers_47_function__&&$___46__46__47__46__46__47_helpers_47_function__.__esModule&&$___46__46__47__46__46__47_helpers_47_function__||{"default":$___46__46__47__46__46__47_helpers_47_function__}).debounce,$__7=($__utils__=_dereq_("utils"),$__utils__&&$__utils__.__esModule&&$__utils__||{"default":$__utils__}),filterSeparators=$__7.filterSeparators,hasSubMenu=$__7.hasSubMenu,isDisabled=$__7.isDisabled,isItemHidden=$__7.isItemHidden,isSeparator=$__7.isSeparator,isSelectionDisabled=$__7.isSelectionDisabled,normalizeSelection=$__7.normalizeSelection,KEY_CODES=($___46__46__47__46__46__47_helpers_47_unicode__=_dereq_("helpers/unicode"),$___46__46__47__46__46__47_helpers_47_unicode__&&$___46__46__47__46__46__47_helpers_47_unicode__.__esModule&&$___46__46__47__46__46__47_helpers_47_unicode__||{"default":$___46__46__47__46__46__47_helpers_47_unicode__}).KEY_CODES,localHooks=($___46__46__47__46__46__47_mixins_47_localHooks__=_dereq_("mixins/localHooks"),$___46__46__47__46__46__47_mixins_47_localHooks__&&$___46__46__47__46__46__47_mixins_47_localHooks__.__esModule&&$___46__46__47__46__46__47_mixins_47_localHooks__||{"default":$___46__46__47__46__46__47_mixins_47_localHooks__}).localHooks,SEPARATOR=($__predefinedItems__=_dereq_("predefinedItems"),$__predefinedItems__&&$__predefinedItems__.__esModule&&$__predefinedItems__||{"default":$__predefinedItems__}).SEPARATOR,stopImmediatePropagation=($___46__46__47__46__46__47_helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$___46__46__47__46__46__47_helpers_47_dom_47_event__&&$___46__46__47__46__46__47_helpers_47_dom_47_event__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_event__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_event__}).stopImmediatePropagation,Menu=function(hotInstance,options){this.hot=hotInstance,this.options=options||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1},this.eventManager=new EventManager(this),this.container=this.createContainer(this.options.name),this.hotMenu=null,this.hotSubMenus={},this.parentMenu=this.options.parent||null,this.menuItems=null,this.origOutsideClickDeselects=null,this.offset={above:0,below:0,left:0,right:0},this._afterScrollCallback=null,this.registerEvents()},$Menu=Menu;$traceurRuntime.createClass(Menu,{registerEvents:function(){var $__12=this;this.eventManager.addEventListener(document.documentElement,"mousedown",function(event){return $__12.onDocumentMouseDown(event)})},setMenuItems:function(menuItems){this.menuItems=menuItems},setOffset:function(area){var offset=void 0!==arguments[1]?arguments[1]:0;this.offset[area]=offset},isSubMenu:function(){return null!==this.parentMenu},open:function(){var $__12=this;this.container.removeAttribute("style"),this.container.style.display="block";var delayedOpenSubMenu=debounce(function(row){return $__12.openSubMenu(row)},300),filteredItems=arrayFilter(this.menuItems,function(item){return isItemHidden(item,$__12.hot)});filteredItems=filterSeparators(filteredItems,SEPARATOR);var settings={data:filteredItems,colHeaders:!1,colWidths:[200],autoRowSize:!1,readOnly:!0,copyPaste:!1,columns:[{data:"name",renderer:function(hot,TD,row,col,prop,value){return $__12.menuItemRenderer(hot,TD,row,col,prop,value)}}],renderAllRows:!0,fragmentSelection:"cell",disableVisualSelection:"area",beforeKeyDown:function(event){return $__12.onBeforeKeyDown(event)},afterOnCellMouseOver:function(event,coords,TD){$__12.isAllSubMenusClosed()?delayedOpenSubMenu(coords.row):$__12.openSubMenu(coords.row)}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new Handsontable.Core(this.container,settings),this.hotMenu.addHook("afterInit",function(){return $__12.onAfterInit()}),this.hotMenu.init(),this.hotMenu.listen(),this.blockMainTableCallbacks(),this.runLocalHooks("afterOpen")},close:function(){var closeParent=void 0!==arguments[0]&&arguments[0];this.isOpened()&&(closeParent&&this.parentMenu?this.parentMenu.close():(this.closeAllSubMenus(),this.container.style.display="none",this.releaseMainTableCallbacks(),this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.parentMenu&&this.parentMenu.hotMenu.listen()))},openSubMenu:function(row){if(!this.hotMenu)return!1;var cell=this.hotMenu.getCell(row,0);if(this.closeAllSubMenus(),!cell||!hasSubMenu(cell))return!1;var dataItem=this.hotMenu.getSourceDataAtRow(row),subMenu=new $Menu(this.hot,{parent:this,name:dataItem.name,className:this.options.className,keepInViewport:!0});return subMenu.setMenuItems(dataItem.submenu.items),subMenu.open(),subMenu.setPosition(cell.getBoundingClientRect()),this.hotSubMenus[dataItem.key]=subMenu,subMenu},
closeSubMenu:function(row){var dataItem=this.hotMenu.getSourceDataAtRow(row),menus=this.hotSubMenus[dataItem.key];menus&&(menus.destroy(),delete this.hotSubMenus[dataItem.key])},closeAllSubMenus:function(){var $__12=this;arrayEach(this.hotMenu.getData(),function(value,row){return $__12.closeSubMenu(row)})},isAllSubMenusClosed:function(){return 0===Object.keys(this.hotSubMenus).length},destroy:function(){this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy()},isOpened:function(){return null!==this.hotMenu},executeCommand:function(event){if(this.isOpened()&&this.hotMenu.getSelected()){var selectedItem=this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelected()[0]);if(this.runLocalHooks("select",selectedItem,event),selectedItem.isCommand!==!1&&selectedItem.name!==SEPARATOR){var selRange=this.hot.getSelectedRange(),normalizedSelection=selRange?normalizeSelection(selRange):{},autoClose=!0;(selectedItem.disabled===!0||"function"==typeof selectedItem.disabled&&selectedItem.disabled.call(this.hot)===!0||selectedItem.submenu)&&(autoClose=!1),this.runLocalHooks("executeCommand",selectedItem.key,normalizedSelection,event),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",selectedItem.key,normalizedSelection,event),autoClose&&this.close(!0)}}},setPosition:function(coords){var cursor=new Cursor(coords);this.options.keepInViewport?(cursor.fitsBelow(this.container)?this.setPositionBelowCursor(cursor):cursor.fitsAbove(this.container)?this.setPositionAboveCursor(cursor):this.setPositionBelowCursor(cursor),cursor.fitsOnRight(this.container)?this.setPositionOnRightOfCursor(cursor):this.setPositionOnLeftOfCursor(cursor)):(this.setPositionBelowCursor(cursor),this.setPositionOnRightOfCursor(cursor))},setPositionAboveCursor:function(cursor){var top=this.offset.above+cursor.top-this.container.offsetHeight;this.isSubMenu()&&(top=cursor.top+cursor.cellHeight-this.container.offsetHeight+3),this.container.style.top=top+"px"},setPositionBelowCursor:function(cursor){var top=this.offset.below+cursor.top;this.isSubMenu()&&(top=cursor.top-1),this.container.style.top=top+"px"},setPositionOnRightOfCursor:function(cursor){var left;left=this.isSubMenu()?1+cursor.left+cursor.cellWidth:this.offset.right+1+cursor.left,this.container.style.left=left+"px"},setPositionOnLeftOfCursor:function(cursor){var left=this.offset.left+cursor.left-this.container.offsetWidth+getScrollbarWidth()+4;this.container.style.left=left+"px"},selectFirstCell:function(){var cell=this.hotMenu.getCell(0,0);isSeparator(cell)||isDisabled(cell)||isSelectionDisabled(cell)?this.selectNextCell(0,0):this.hotMenu.selectCell(0,0)},selectLastCell:function(){var lastRow=this.hotMenu.countRows()-1,cell=this.hotMenu.getCell(lastRow,0);isSeparator(cell)||isDisabled(cell)||isSelectionDisabled(cell)?this.selectPrevCell(lastRow,0):this.hotMenu.selectCell(lastRow,0)},selectNextCell:function(row,col){var nextRow=row+1,cell=nextRow<this.hotMenu.countRows()?this.hotMenu.getCell(nextRow,col):null;cell&&(isSeparator(cell)||isDisabled(cell)||isSelectionDisabled(cell)?this.selectNextCell(nextRow,col):this.hotMenu.selectCell(nextRow,col))},selectPrevCell:function(row,col){var prevRow=row-1,cell=prevRow>=0?this.hotMenu.getCell(prevRow,col):null;cell&&(isSeparator(cell)||isDisabled(cell)||isSelectionDisabled(cell)?this.selectPrevCell(prevRow,col):this.hotMenu.selectCell(prevRow,col))},menuItemRenderer:function(hot,TD,row,col,prop,value){var $__12=this,item=hot.getSourceDataAtRow(row),wrapper=document.createElement("div"),isSubMenu=function(item){return item.hasOwnProperty("submenu")},itemIsSeparator=function(item){return new RegExp(SEPARATOR,"i").test(item.name)},itemIsDisabled=function(item){return item.disabled===!0||"function"==typeof item.disabled&&item.disabled.call($__12.hot)===!0},itemIsSelectionDisabled=function(item){return item.disableSelection};"function"==typeof value&&(value=value.call(this.hot)),empty(TD),addClass(wrapper,"htItemWrapper"),TD.appendChild(wrapper),itemIsSeparator(item)?addClass(TD,"htSeparator"):"function"==typeof item.renderer?(addClass(TD,"htCustomMenuRenderer"),TD.appendChild(item.renderer(hot,wrapper,row,col,prop,value))):fastInnerHTML(wrapper,value),itemIsDisabled(item)?(addClass(TD,"htDisabled"),this.eventManager.addEventListener(TD,"mouseenter",function(){return hot.deselectCell()})):itemIsSelectionDisabled(item)?(addClass(TD,"htSelectionDisabled"),this.eventManager.addEventListener(TD,"mouseenter",function(){return hot.deselectCell()})):isSubMenu(item)?(addClass(TD,"htSubmenu"),itemIsSelectionDisabled(item)?this.eventManager.addEventListener(TD,"mouseenter",function(){return hot.deselectCell()}):this.eventManager.addEventListener(TD,"mouseenter",function(){return hot.selectCell(row,col,void 0,void 0,!1,!1)})):(removeClass(TD,"htSubmenu"),removeClass(TD,"htDisabled"),itemIsSelectionDisabled(item)?this.eventManager.addEventListener(TD,"mouseenter",function(){return hot.deselectCell()}):this.eventManager.addEventListener(TD,"mouseenter",function(){return hot.selectCell(row,col,void 0,void 0,!1,!1)}))},createContainer:function(){var name=void 0!==arguments[0]?arguments[0]:null;name&&(name=name.replace(/ /g,"_"),name=this.options.className+"Sub_"+name);var container;return container=name?document.querySelector("."+this.options.className+"."+name):document.querySelector("."+this.options.className),container||(container=document.createElement("div"),addClass(container,"htMenu "+this.options.className),name&&addClass(container,name),document.getElementsByTagName("body")[0].appendChild(container)),container},blockMainTableCallbacks:function(){this._afterScrollCallback=function(){},this.hot.addHook("afterScrollVertically",this._afterScrollCallback),this.hot.addHook("afterScrollHorizontally",this._afterScrollCallback)},releaseMainTableCallbacks:function(){this._afterScrollCallback&&(this.hot.removeHook("afterScrollVertically",this._afterScrollCallback),this.hot.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)},onBeforeKeyDown:function(event){var selection=this.hotMenu.getSelected(),stopEvent=!1;switch(event.keyCode){case KEY_CODES.ESCAPE:this.close(),stopEvent=!0;break;case KEY_CODES.ENTER:selection&&(this.hotMenu.getSourceDataAtRow(selection[0]).submenu?stopEvent=!0:(this.executeCommand(event),this.close(!0)));break;case KEY_CODES.ARROW_DOWN:selection?this.selectNextCell(selection[0],selection[1]):this.selectFirstCell(),stopEvent=!0;break;case KEY_CODES.ARROW_UP:selection?this.selectPrevCell(selection[0],selection[1]):this.selectLastCell(),stopEvent=!0;break;case KEY_CODES.ARROW_RIGHT:if(selection){var menu=this.openSubMenu(selection[0]);menu&&menu.selectFirstCell()}stopEvent=!0;break;case KEY_CODES.ARROW_LEFT:selection&&this.isSubMenu()&&(this.close(),this.parentMenu&&this.parentMenu.hotMenu.listen(),stopEvent=!0)}stopEvent&&(event.preventDefault(),stopImmediatePropagation(event))},onAfterInit:function(){var data=this.hotMenu.getSettings().data,hiderStyle=this.hotMenu.view.wt.wtTable.hider.style,holderStyle=this.hotMenu.view.wt.wtTable.holder.style,currentHiderWidth=parseInt(hiderStyle.width,10),realHeight=arrayReduce(data,function(accumulator,value){return accumulator+(value.name===SEPARATOR?1:26)},0);holderStyle.width=currentHiderWidth+22+"px",holderStyle.height=realHeight+4+"px",hiderStyle.height=holderStyle.height},onDocumentMouseDown:function(event){this.isOpened()&&(this.container&&isChildOf(event.target,this.container)&&this.executeCommand(event),this.options.standalone&&this.hotMenu&&!isChildOf(event.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!isChildOf(event.target,".htMenu")&&isChildOf(event.target,document)&&this.close(!0))}},{}),mixin(Menu,localHooks)},{browser:24,cursor:73,eventManager:42,"helpers/array":43,"helpers/dom/element":47,"helpers/dom/event":48,"helpers/function":50,"helpers/object":53,"helpers/unicode":56,"mixins/localHooks":58,predefinedItems:76,utils:89}],76:[function(_dereq_,module,exports){function predefinedItems(){var items={};return objectEach(_predefinedItems,function(itemFactory,key){return items[key]=itemFactory()}),items}function addItem(key,item){ITEMS.indexOf(key)===-1&&(_predefinedItems[key]=item)}var $__13;Object.defineProperties(exports,{ALIGNMENT:{get:function(){return $__predefinedItems_47_alignment__.KEY}},CLEAR_COLUMN:{get:function(){return $__predefinedItems_47_clearColumn__.KEY}},COLUMN_LEFT:{get:function(){return $__predefinedItems_47_columnLeft__.KEY}},COLUMN_RIGHT:{get:function(){return $__predefinedItems_47_columnRight__.KEY}},READ_ONLY:{get:function(){return $__predefinedItems_47_readOnly__.KEY}},REDO:{get:function(){return $__predefinedItems_47_redo__.KEY}},REMOVE_COLUMN:{get:function(){return $__predefinedItems_47_removeColumn__.KEY}},REMOVE_ROW:{get:function(){return $__predefinedItems_47_removeRow__.KEY}},ROW_ABOVE:{get:function(){return $__predefinedItems_47_rowAbove__.KEY}},ROW_BELOW:{get:function(){return $__predefinedItems_47_rowBelow__.KEY}},SEPARATOR:{get:function(){return $__predefinedItems_47_separator__.KEY}},UNDO:{get:function(){return $__predefinedItems_47_undo__.KEY}},ITEMS:{get:function(){return ITEMS}},predefinedItems:{get:function(){return predefinedItems}},addItem:{get:function(){return addItem}},__esModule:{value:!0}});var $___46__46__47__46__46__47_helpers_47_object__,$__predefinedItems_47_alignment__,$__predefinedItems_47_clearColumn__,$__predefinedItems_47_columnLeft__,$__predefinedItems_47_columnRight__,$__predefinedItems_47_readOnly__,$__predefinedItems_47_redo__,$__predefinedItems_47_removeColumn__,$__predefinedItems_47_removeRow__,$__predefinedItems_47_rowAbove__,$__predefinedItems_47_rowBelow__,$__predefinedItems_47_separator__,$__predefinedItems_47_undo__,$__predefinedItems_47_alignment__,$__predefinedItems_47_clearColumn__,$__predefinedItems_47_columnLeft__,$__predefinedItems_47_columnRight__,$__predefinedItems_47_readOnly__,$__predefinedItems_47_redo__,$__predefinedItems_47_removeColumn__,$__predefinedItems_47_removeRow__,$__predefinedItems_47_rowAbove__,$__predefinedItems_47_rowBelow__,$__predefinedItems_47_separator__,$__predefinedItems_47_undo__,objectEach=($___46__46__47__46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47__46__46__47_helpers_47_object__&&$___46__46__47__46__46__47_helpers_47_object__.__esModule&&$___46__46__47__46__46__47_helpers_47_object__||{"default":$___46__46__47__46__46__47_helpers_47_object__}).objectEach,$__1=($__predefinedItems_47_alignment__=_dereq_("predefinedItems/alignment"),$__predefinedItems_47_alignment__&&$__predefinedItems_47_alignment__.__esModule&&$__predefinedItems_47_alignment__||{"default":$__predefinedItems_47_alignment__}),alignmentItem=$__1.alignmentItem,ALIGNMENT=$__1.KEY,$__2=($__predefinedItems_47_clearColumn__=_dereq_("predefinedItems/clearColumn"),$__predefinedItems_47_clearColumn__&&$__predefinedItems_47_clearColumn__.__esModule&&$__predefinedItems_47_clearColumn__||{"default":$__predefinedItems_47_clearColumn__}),clearColumnItem=$__2.clearColumnItem,CLEAR_COLUMN=$__2.KEY,$__3=($__predefinedItems_47_columnLeft__=_dereq_("predefinedItems/columnLeft"),$__predefinedItems_47_columnLeft__&&$__predefinedItems_47_columnLeft__.__esModule&&$__predefinedItems_47_columnLeft__||{"default":$__predefinedItems_47_columnLeft__}),columnLeftItem=$__3.columnLeftItem,COLUMN_LEFT=$__3.KEY,$__4=($__predefinedItems_47_columnRight__=_dereq_("predefinedItems/columnRight"),$__predefinedItems_47_columnRight__&&$__predefinedItems_47_columnRight__.__esModule&&$__predefinedItems_47_columnRight__||{"default":$__predefinedItems_47_columnRight__}),columnRightItem=$__4.columnRightItem,COLUMN_RIGHT=$__4.KEY,$__5=($__predefinedItems_47_readOnly__=_dereq_("predefinedItems/readOnly"),$__predefinedItems_47_readOnly__&&$__predefinedItems_47_readOnly__.__esModule&&$__predefinedItems_47_readOnly__||{"default":$__predefinedItems_47_readOnly__}),readOnlyItem=$__5.readOnlyItem,READ_ONLY=$__5.KEY,$__6=($__predefinedItems_47_redo__=_dereq_("predefinedItems/redo"),$__predefinedItems_47_redo__&&$__predefinedItems_47_redo__.__esModule&&$__predefinedItems_47_redo__||{"default":$__predefinedItems_47_redo__}),redoItem=$__6.redoItem,REDO=$__6.KEY,$__7=($__predefinedItems_47_removeColumn__=_dereq_("predefinedItems/removeColumn"),$__predefinedItems_47_removeColumn__&&$__predefinedItems_47_removeColumn__.__esModule&&$__predefinedItems_47_removeColumn__||{"default":$__predefinedItems_47_removeColumn__}),removeColumnItem=$__7.removeColumnItem,REMOVE_COLUMN=$__7.KEY,$__8=($__predefinedItems_47_removeRow__=_dereq_("predefinedItems/removeRow"),$__predefinedItems_47_removeRow__&&$__predefinedItems_47_removeRow__.__esModule&&$__predefinedItems_47_removeRow__||{"default":$__predefinedItems_47_removeRow__}),removeRowItem=$__8.removeRowItem,REMOVE_ROW=$__8.KEY,$__9=($__predefinedItems_47_rowAbove__=_dereq_("predefinedItems/rowAbove"),$__predefinedItems_47_rowAbove__&&$__predefinedItems_47_rowAbove__.__esModule&&$__predefinedItems_47_rowAbove__||{"default":$__predefinedItems_47_rowAbove__}),rowAboveItem=$__9.rowAboveItem,ROW_ABOVE=$__9.KEY,$__10=($__predefinedItems_47_rowBelow__=_dereq_("predefinedItems/rowBelow"),$__predefinedItems_47_rowBelow__&&$__predefinedItems_47_rowBelow__.__esModule&&$__predefinedItems_47_rowBelow__||{"default":$__predefinedItems_47_rowBelow__}),rowBelowItem=$__10.rowBelowItem,ROW_BELOW=$__10.KEY,$__11=($__predefinedItems_47_separator__=_dereq_("predefinedItems/separator"),$__predefinedItems_47_separator__&&$__predefinedItems_47_separator__.__esModule&&$__predefinedItems_47_separator__||{"default":$__predefinedItems_47_separator__}),separatorItem=$__11.separatorItem,SEPARATOR=$__11.KEY,$__12=($__predefinedItems_47_undo__=_dereq_("predefinedItems/undo"),$__predefinedItems_47_undo__&&$__predefinedItems_47_undo__.__esModule&&$__predefinedItems_47_undo__||{"default":$__predefinedItems_47_undo__}),undoItem=$__12.undoItem,UNDO=$__12.KEY,$__predefinedItems_47_alignment__=($__predefinedItems_47_alignment__=_dereq_("predefinedItems/alignment"),$__predefinedItems_47_alignment__&&$__predefinedItems_47_alignment__.__esModule&&$__predefinedItems_47_alignment__||{"default":$__predefinedItems_47_alignment__}),$__predefinedItems_47_clearColumn__=($__predefinedItems_47_clearColumn__=_dereq_("predefinedItems/clearColumn"),$__predefinedItems_47_clearColumn__&&$__predefinedItems_47_clearColumn__.__esModule&&$__predefinedItems_47_clearColumn__||{"default":$__predefinedItems_47_clearColumn__}),$__predefinedItems_47_columnLeft__=($__predefinedItems_47_columnLeft__=_dereq_("predefinedItems/columnLeft"),$__predefinedItems_47_columnLeft__&&$__predefinedItems_47_columnLeft__.__esModule&&$__predefinedItems_47_columnLeft__||{"default":$__predefinedItems_47_columnLeft__}),$__predefinedItems_47_columnRight__=($__predefinedItems_47_columnRight__=_dereq_("predefinedItems/columnRight"),$__predefinedItems_47_columnRight__&&$__predefinedItems_47_columnRight__.__esModule&&$__predefinedItems_47_columnRight__||{"default":$__predefinedItems_47_columnRight__}),$__predefinedItems_47_readOnly__=($__predefinedItems_47_readOnly__=_dereq_("predefinedItems/readOnly"),$__predefinedItems_47_readOnly__&&$__predefinedItems_47_readOnly__.__esModule&&$__predefinedItems_47_readOnly__||{"default":$__predefinedItems_47_readOnly__}),$__predefinedItems_47_redo__=($__predefinedItems_47_redo__=_dereq_("predefinedItems/redo"),$__predefinedItems_47_redo__&&$__predefinedItems_47_redo__.__esModule&&$__predefinedItems_47_redo__||{"default":$__predefinedItems_47_redo__}),$__predefinedItems_47_removeColumn__=($__predefinedItems_47_removeColumn__=_dereq_("predefinedItems/removeColumn"),$__predefinedItems_47_removeColumn__&&$__predefinedItems_47_removeColumn__.__esModule&&$__predefinedItems_47_removeColumn__||{"default":$__predefinedItems_47_removeColumn__}),$__predefinedItems_47_removeRow__=($__predefinedItems_47_removeRow__=_dereq_("predefinedItems/removeRow"),$__predefinedItems_47_removeRow__&&$__predefinedItems_47_removeRow__.__esModule&&$__predefinedItems_47_removeRow__||{"default":$__predefinedItems_47_removeRow__}),$__predefinedItems_47_rowAbove__=($__predefinedItems_47_rowAbove__=_dereq_("predefinedItems/rowAbove"),$__predefinedItems_47_rowAbove__&&$__predefinedItems_47_rowAbove__.__esModule&&$__predefinedItems_47_rowAbove__||{"default":$__predefinedItems_47_rowAbove__}),$__predefinedItems_47_rowBelow__=($__predefinedItems_47_rowBelow__=_dereq_("predefinedItems/rowBelow"),$__predefinedItems_47_rowBelow__&&$__predefinedItems_47_rowBelow__.__esModule&&$__predefinedItems_47_rowBelow__||{"default":$__predefinedItems_47_rowBelow__}),$__predefinedItems_47_separator__=($__predefinedItems_47_separator__=_dereq_("predefinedItems/separator"),$__predefinedItems_47_separator__&&$__predefinedItems_47_separator__.__esModule&&$__predefinedItems_47_separator__||{"default":$__predefinedItems_47_separator__}),$__predefinedItems_47_undo__=($__predefinedItems_47_undo__=_dereq_("predefinedItems/undo"),$__predefinedItems_47_undo__&&$__predefinedItems_47_undo__.__esModule&&$__predefinedItems_47_undo__||{"default":$__predefinedItems_47_undo__}),ITEMS=[ROW_ABOVE,ROW_BELOW,COLUMN_LEFT,COLUMN_RIGHT,CLEAR_COLUMN,REMOVE_ROW,REMOVE_COLUMN,UNDO,REDO,READ_ONLY,ALIGNMENT,SEPARATOR],_predefinedItems=($__13={},Object.defineProperty($__13,SEPARATOR,{value:separatorItem,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,ROW_ABOVE,{value:rowAboveItem,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,ROW_BELOW,{value:rowBelowItem,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,COLUMN_LEFT,{value:columnLeftItem,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,COLUMN_RIGHT,{value:columnRightItem,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,CLEAR_COLUMN,{value:clearColumnItem,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,REMOVE_ROW,{value:removeRowItem,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,REMOVE_COLUMN,{value:removeColumnItem,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,UNDO,{value:undoItem,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,REDO,{value:redoItem,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,READ_ONLY,{value:readOnlyItem,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__13,ALIGNMENT,{value:alignmentItem,configurable:!0,enumerable:!0,writable:!0}),$__13)},{"helpers/object":53,"predefinedItems/alignment":77,"predefinedItems/clearColumn":78,"predefinedItems/columnLeft":79,"predefinedItems/columnRight":80,"predefinedItems/readOnly":81,"predefinedItems/redo":82,"predefinedItems/removeColumn":83,"predefinedItems/removeRow":84,"predefinedItems/rowAbove":85,"predefinedItems/rowBelow":86,"predefinedItems/separator":87,"predefinedItems/undo":88}],77:[function(_dereq_,module,exports){function alignmentItem(){return{key:KEY,name:"Alignment",disabled:function(){return!(this.getSelectedRange()&&!this.selection.selectedHeader.corner)},submenu:{items:[{key:KEY+":left",name:function(){var $__2=this,label="Left",hasClass=checkSelectionConsistency(this.getSelectedRange(),function(row,col){var className=$__2.getCellMeta(row,col).className;if(className&&className.indexOf("htLeft")!==-1)return!0});return hasClass&&(label=markLabelAsSelected(label)),label},callback:function(){var $__2=this,range=this.getSelectedRange(),stateBefore=getAlignmentClasses(range,function(row,col){return $__2.getCellMeta(row,col).className}),type="horizontal",alignment="htLeft";this.runHooks("beforeCellAlignment",stateBefore,range,type,alignment),align(range,type,alignment,function(row,col){return $__2.getCellMeta(row,col)}),this.render()},disabled:!1},{key:KEY+":center",name:function(){var $__2=this,label="Center",hasClass=checkSelectionConsistency(this.getSelectedRange(),function(row,col){var className=$__2.getCellMeta(row,col).className;if(className&&className.indexOf("htCenter")!==-1)return!0});return hasClass&&(label=markLabelAsSelected(label)),label},callback:function(){var $__2=this,range=this.getSelectedRange(),stateBefore=getAlignmentClasses(range,function(row,col){return $__2.getCellMeta(row,col).className}),type="horizontal",alignment="htCenter";this.runHooks("beforeCellAlignment",stateBefore,range,type,alignment),align(range,type,alignment,function(row,col){return $__2.getCellMeta(row,col)}),this.render()},disabled:!1},{key:KEY+":right",name:function(){var $__2=this,label="Right",hasClass=checkSelectionConsistency(this.getSelectedRange(),function(row,col){var className=$__2.getCellMeta(row,col).className;if(className&&className.indexOf("htRight")!==-1)return!0});return hasClass&&(label=markLabelAsSelected(label)),label},callback:function(){var $__2=this,range=this.getSelectedRange(),stateBefore=getAlignmentClasses(range,function(row,col){return $__2.getCellMeta(row,col).className}),type="horizontal",alignment="htRight";this.runHooks("beforeCellAlignment",stateBefore,range,type,alignment),align(range,type,alignment,function(row,col){return $__2.getCellMeta(row,col)}),this.render()},disabled:!1},{key:KEY+":justify",name:function(){var $__2=this,label="Justify",hasClass=checkSelectionConsistency(this.getSelectedRange(),function(row,col){var className=$__2.getCellMeta(row,col).className;if(className&&className.indexOf("htJustify")!==-1)return!0});return hasClass&&(label=markLabelAsSelected(label)),label},callback:function(){var $__2=this,range=this.getSelectedRange(),stateBefore=getAlignmentClasses(range,function(row,col){return $__2.getCellMeta(row,col).className}),type="horizontal",alignment="htJustify";this.runHooks("beforeCellAlignment",stateBefore,range,type,alignment),align(range,type,alignment,function(row,col){return $__2.getCellMeta(row,col)}),this.render()},disabled:!1},{name:SEPARATOR},{key:KEY+":top",name:function(){var $__2=this,label="Top",hasClass=checkSelectionConsistency(this.getSelectedRange(),function(row,col){var className=$__2.getCellMeta(row,col).className;if(className&&className.indexOf("htTop")!==-1)return!0});return hasClass&&(label=markLabelAsSelected(label)),label},callback:function(){var $__2=this,range=this.getSelectedRange(),stateBefore=getAlignmentClasses(range,function(row,col){return $__2.getCellMeta(row,col).className}),type="vertical",alignment="htTop";this.runHooks("beforeCellAlignment",stateBefore,range,type,alignment),align(range,type,alignment,function(row,col){return $__2.getCellMeta(row,col)}),this.render()},disabled:!1},{key:KEY+":middle",name:function(){var $__2=this,label="Middle",hasClass=checkSelectionConsistency(this.getSelectedRange(),function(row,col){var className=$__2.getCellMeta(row,col).className;if(className&&className.indexOf("htMiddle")!==-1)return!0});return hasClass&&(label=markLabelAsSelected(label)),label},callback:function(){var $__2=this,range=this.getSelectedRange(),stateBefore=getAlignmentClasses(range,function(row,col){return $__2.getCellMeta(row,col).className}),type="vertical",alignment="htMiddle";this.runHooks("beforeCellAlignment",stateBefore,range,type,alignment),align(range,type,alignment,function(row,col){return $__2.getCellMeta(row,col)}),this.render()},disabled:!1},{key:KEY+":bottom",name:function(){var $__2=this,label="Bottom",hasClass=checkSelectionConsistency(this.getSelectedRange(),function(row,col){var className=$__2.getCellMeta(row,col).className;if(className&&className.indexOf("htBottom")!==-1)return!0});return hasClass&&(label=markLabelAsSelected(label)),label},callback:function(){var $__2=this,range=this.getSelectedRange(),stateBefore=getAlignmentClasses(range,function(row,col){return $__2.getCellMeta(row,col).className}),type="vertical",alignment="htBottom";this.runHooks("beforeCellAlignment",stateBefore,range,type,alignment),align(range,type,alignment,function(row,col){return $__2.getCellMeta(row,col)}),this.render()},disabled:!1}]}}}Object.defineProperties(exports,{KEY:{get:function(){return KEY}},alignmentItem:{get:function(){return alignmentItem}},__esModule:{value:!0}});var $___46__46__47_utils__,$__separator__,$__0=($___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}),align=$__0.align,getAlignmentClasses=$__0.getAlignmentClasses,checkSelectionConsistency=$__0.checkSelectionConsistency,markLabelAsSelected=$__0.markLabelAsSelected,SEPARATOR=($__separator__=_dereq_("separator"),$__separator__&&$__separator__.__esModule&&$__separator__||{"default":$__separator__}).KEY,KEY="alignment"},{separator:87,utils:89}],78:[function(_dereq_,module,exports){function clearColumnItem(){return{key:KEY,name:"Clear column",callback:function(key,selection){var column=selection.start.col;this.countRows()&&this.populateFromArray(0,column,[[null]],Math.max(selection.start.row,selection.end.row),column,"ContextMenu.clearColumn")},disabled:function(){var selected=getValidSelection(this);if(!selected)return!0;var entireRowSelection=[selected[0],0,selected[0],this.countCols()-1],rowSelected=entireRowSelection.join(",")==selected.join(",");return selected[1]<0||this.countCols()>=this.getSettings().maxCols||rowSelected}}}Object.defineProperties(exports,{KEY:{get:function(){return KEY}},clearColumnItem:{get:function(){return clearColumnItem}},__esModule:{value:!0}});var $___46__46__47_utils__,getValidSelection=($___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}).getValidSelection,KEY="clear_column"},{utils:89}],79:[function(_dereq_,module,exports){function columnLeftItem(){return{key:KEY,name:"Insert column on the left",callback:function(key,selection){this.alter("insert_col",selection.start.col,1,"ContextMenu.columnLeft")},disabled:function(){var selected=getValidSelection(this);if(!selected)return!0;if(!this.isColumnModificationAllowed())return!0;var entireRowSelection=[selected[0],0,selected[0],this.countCols()-1],rowSelected=entireRowSelection.join(",")==selected.join(","),onlyOneColumn=1===this.countCols();return selected[1]<0||this.countCols()>=this.getSettings().maxCols||!onlyOneColumn&&rowSelected},hidden:function(){return!this.getSettings().allowInsertColumn}}}Object.defineProperties(exports,{KEY:{get:function(){return KEY}},columnLeftItem:{get:function(){return columnLeftItem}},__esModule:{value:!0}});var $___46__46__47_utils__,getValidSelection=($___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}).getValidSelection,KEY="col_left"},{utils:89}],80:[function(_dereq_,module,exports){function columnRightItem(){return{key:KEY,name:"Insert column on the right",callback:function(key,selection){this.alter("insert_col",selection.end.col+1,1,"ContextMenu.columnRight")},disabled:function(){var selected=getValidSelection(this);if(!selected)return!0;if(!this.isColumnModificationAllowed())return!0;var entireRowSelection=[selected[0],0,selected[0],this.countCols()-1],rowSelected=entireRowSelection.join(",")==selected.join(","),onlyOneColumn=1===this.countCols();return selected[1]<0||this.countCols()>=this.getSettings().maxCols||!onlyOneColumn&&rowSelected},hidden:function(){return!this.getSettings().allowInsertColumn}}}Object.defineProperties(exports,{KEY:{get:function(){return KEY}},columnRightItem:{get:function(){return columnRightItem}},__esModule:{value:!0}});var $___46__46__47_utils__,getValidSelection=($___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}).getValidSelection,KEY="col_right"},{utils:89}],81:[function(_dereq_,module,exports){function readOnlyItem(){return{key:KEY,name:function(){var $__1=this,label="Read only",atLeastOneReadOnly=checkSelectionConsistency(this.getSelectedRange(),function(row,col){return $__1.getCellMeta(row,col).readOnly});return atLeastOneReadOnly&&(label=markLabelAsSelected(label)),label},callback:function(){var $__1=this,range=this.getSelectedRange(),atLeastOneReadOnly=checkSelectionConsistency(range,function(row,col){return $__1.getCellMeta(row,col).readOnly});range.forAll(function(row,col){$__1.setCellMeta(row,col,"readOnly",!atLeastOneReadOnly)}),this.render()},disabled:function(){return!(this.getSelectedRange()&&!this.selection.selectedHeader.corner)}}}Object.defineProperties(exports,{KEY:{get:function(){return KEY}},readOnlyItem:{get:function(){return readOnlyItem}},__esModule:{value:!0}});var $___46__46__47_utils__,$__0=($___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}),checkSelectionConsistency=$__0.checkSelectionConsistency,markLabelAsSelected=$__0.markLabelAsSelected,KEY="make_read_only"},{utils:89}],82:[function(_dereq_,module,exports){function redoItem(){return{key:KEY,name:"Redo",callback:function(){this.redo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isRedoAvailable()}}}Object.defineProperties(exports,{KEY:{get:function(){return KEY}},redoItem:{get:function(){return redoItem}},__esModule:{value:!0}});var KEY="redo"},{}],83:[function(_dereq_,module,exports){function removeColumnItem(){return{key:KEY,name:"Remove column",callback:function(key,selection){var amount=selection.end.col-selection.start.col+1;this.alter("remove_col",selection.start.col,amount,"ContextMenu.removeColumn")},disabled:function(){var selected=getValidSelection(this),totalColumns=this.countCols();return!selected||this.selection.selectedHeader.rows||this.selection.selectedHeader.corner||!this.isColumnModificationAllowed()||!totalColumns},hidden:function(){return!this.getSettings().allowRemoveColumn}}}Object.defineProperties(exports,{KEY:{get:function(){return KEY}},removeColumnItem:{get:function(){return removeColumnItem}},__esModule:{value:!0}});var $___46__46__47_utils__,getValidSelection=($___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}).getValidSelection,KEY="remove_col"},{utils:89}],84:[function(_dereq_,module,exports){function removeRowItem(){return{key:KEY,name:"Remove row",callback:function(key,selection){var amount=selection.end.row-selection.start.row+1;this.alter("remove_row",selection.start.row,amount,"ContextMenu.removeRow")},disabled:function(){var selected=getValidSelection(this),totalRows=this.countRows();return!selected||this.selection.selectedHeader.cols||this.selection.selectedHeader.corner||!totalRows},hidden:function(){return!this.getSettings().allowRemoveRow}}}Object.defineProperties(exports,{KEY:{get:function(){return KEY}},removeRowItem:{get:function(){return removeRowItem}},__esModule:{value:!0}});var $___46__46__47_utils__,getValidSelection=($___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}).getValidSelection,KEY="remove_row"},{utils:89}],85:[function(_dereq_,module,exports){function rowAboveItem(){return{key:KEY,name:"Insert row above",callback:function(key,selection){this.alter("insert_row",selection.start.row,1,"ContextMenu.rowAbove")},disabled:function(){var selected=getValidSelection(this);return!selected||this.selection.selectedHeader.cols||this.countRows()>=this.getSettings().maxRows},hidden:function(){return!this.getSettings().allowInsertRow}}}Object.defineProperties(exports,{KEY:{get:function(){return KEY}},rowAboveItem:{get:function(){return rowAboveItem}},__esModule:{value:!0}});var $___46__46__47_utils__,getValidSelection=($___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}).getValidSelection,KEY="row_above";
},{utils:89}],86:[function(_dereq_,module,exports){function rowBelowItem(){return{key:KEY,name:"Insert row below",callback:function(key,selection){this.alter("insert_row",selection.end.row+1,1,"ContextMenu.rowBelow")},disabled:function(){var selected=getValidSelection(this);return!selected||this.selection.selectedHeader.cols||this.countRows()>=this.getSettings().maxRows},hidden:function(){return!this.getSettings().allowInsertRow}}}Object.defineProperties(exports,{KEY:{get:function(){return KEY}},rowBelowItem:{get:function(){return rowBelowItem}},__esModule:{value:!0}});var $___46__46__47_utils__,getValidSelection=($___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}).getValidSelection,KEY="row_below"},{utils:89}],87:[function(_dereq_,module,exports){function separatorItem(){return{name:KEY}}Object.defineProperties(exports,{KEY:{get:function(){return KEY}},separatorItem:{get:function(){return separatorItem}},__esModule:{value:!0}});var KEY="---------"},{}],88:[function(_dereq_,module,exports){function undoItem(){return{key:KEY,name:"Undo",callback:function(){this.undo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isUndoAvailable()}}}Object.defineProperties(exports,{KEY:{get:function(){return KEY}},undoItem:{get:function(){return undoItem}},__esModule:{value:!0}});var KEY="undo"},{}],89:[function(_dereq_,module,exports){function normalizeSelection(selRange){return{start:selRange.getTopLeftCorner(),end:selRange.getBottomRightCorner()}}function isSeparator(cell){return hasClass(cell,"htSeparator")}function hasSubMenu(cell){return hasClass(cell,"htSubmenu")}function isDisabled(cell){return hasClass(cell,"htDisabled")}function isSelectionDisabled(cell){return hasClass(cell,"htSelectionDisabled")}function getValidSelection(hot){var selected=hot.getSelected();return selected?selected[0]<0?null:selected:null}function prepareVerticalAlignClass(className,alignment){return className.indexOf(alignment)!=-1?className:(className=className.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ",""),className+=" "+alignment)}function prepareHorizontalAlignClass(className,alignment){return className.indexOf(alignment)!=-1?className:(className=className.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ",""),className+=" "+alignment)}function getAlignmentClasses(range,callback){for(var classes={},row=range.from.row;row<=range.to.row;row++)for(var col=range.from.col;col<=range.to.col;col++)classes[row]||(classes[row]=[]),classes[row][col]=callback(row,col);return classes}function align(range,type,alignment,cellDescriptor){if(range.from.row==range.to.row&&range.from.col==range.to.col)applyAlignClassName(range.from.row,range.from.col,type,alignment,cellDescriptor);else for(var row=range.from.row;row<=range.to.row;row++)for(var col=range.from.col;col<=range.to.col;col++)applyAlignClassName(row,col,type,alignment,cellDescriptor)}function applyAlignClassName(row,col,type,alignment,cellDescriptor){var cellMeta=cellDescriptor(row,col),className=alignment;cellMeta.className&&(className="vertical"===type?prepareVerticalAlignClass(cellMeta.className,alignment):prepareHorizontalAlignClass(cellMeta.className,alignment)),cellMeta.className=className}function checkSelectionConsistency(range,comparator){var result=!1;return range&&range.forAll(function(row,col){if(comparator(row,col))return result=!0,!1}),result}function markLabelAsSelected(label){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+label}function isItemHidden(item,instance){return!item.hidden||!("function"==typeof item.hidden&&item.hidden.call(instance))}function shiftSeparators(items,separator){for(var result=items.slice(0),i=0;i<result.length&&result[i].name===separator;)result.shift();return result}function popSeparators(items,separator){var result=items.slice(0);return result.reverse(),result=shiftSeparators(result,separator),result.reverse(),result}function removeDuplicatedSeparators(items){var result=[];return arrayEach(items,function(value,index){index>0?result[result.length-1].name!==value.name&&result.push(value):result.push(value)}),result}function filterSeparators(items){var separator=void 0!==arguments[1]?arguments[1]:SEPARATOR,result=items.slice(0);return result=shiftSeparators(result,separator),result=popSeparators(result,separator),result=removeDuplicatedSeparators(result)}Object.defineProperties(exports,{normalizeSelection:{get:function(){return normalizeSelection}},isSeparator:{get:function(){return isSeparator}},hasSubMenu:{get:function(){return hasSubMenu}},isDisabled:{get:function(){return isDisabled}},isSelectionDisabled:{get:function(){return isSelectionDisabled}},getValidSelection:{get:function(){return getValidSelection}},prepareVerticalAlignClass:{get:function(){return prepareVerticalAlignClass}},prepareHorizontalAlignClass:{get:function(){return prepareHorizontalAlignClass}},getAlignmentClasses:{get:function(){return getAlignmentClasses}},align:{get:function(){return align}},checkSelectionConsistency:{get:function(){return checkSelectionConsistency}},markLabelAsSelected:{get:function(){return markLabelAsSelected}},isItemHidden:{get:function(){return isItemHidden}},filterSeparators:{get:function(){return filterSeparators}},__esModule:{value:!0}});var $___46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$__predefinedItems_47_separator__,arrayEach=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayEach,hasClass=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}).hasClass,SEPARATOR=($__predefinedItems_47_separator__=_dereq_("predefinedItems/separator"),$__predefinedItems_47_separator__&&$__predefinedItems_47_separator__.__esModule&&$__predefinedItems_47_separator__||{"default":$__predefinedItems_47_separator__}).KEY},{"helpers/array":43,"helpers/dom/element":47,"predefinedItems/separator":87}],90:[function(_dereq_,module,exports){Object.defineProperties(exports,{ContextMenuCopyPaste:{get:function(){return ContextMenuCopyPaste}},__esModule:{value:!0}});var $___46__46__47__95_base__,$__zeroclipboard__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47_eventManager__,$___46__46__47__46__46__47_plugins__,$___46__46__47_contextMenu_47_predefinedItems__,BasePlugin=($___46__46__47__95_base__=_dereq_("_base"),$___46__46__47__95_base__&&$___46__46__47__95_base__.__esModule&&$___46__46__47__95_base__||{"default":$___46__46__47__95_base__})["default"],ZeroClipboard=($__zeroclipboard__=_dereq_("zeroclipboard"),$__zeroclipboard__&&$__zeroclipboard__.__esModule&&$__zeroclipboard__||{"default":$__zeroclipboard__})["default"],removeClass=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}).removeClass,arrayEach=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayEach,EventManager=($___46__46__47__46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47__46__46__47_eventManager__&&$___46__46__47__46__46__47_eventManager__.__esModule&&$___46__46__47__46__46__47_eventManager__||{"default":$___46__46__47__46__46__47_eventManager__}).EventManager,registerPlugin=($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,SEPARATOR=($___46__46__47_contextMenu_47_predefinedItems__=_dereq_("contextMenu/predefinedItems"),$___46__46__47_contextMenu_47_predefinedItems__&&$___46__46__47_contextMenu_47_predefinedItems__.__esModule&&$___46__46__47_contextMenu_47_predefinedItems__||{"default":$___46__46__47_contextMenu_47_predefinedItems__}).SEPARATOR,ContextMenuCopyPaste=function(hotInstance){$traceurRuntime.superConstructor($ContextMenuCopyPaste).call(this,hotInstance),this.eventManager=new EventManager(this),this.swfPath=null,this.outsideClickDeselectsCache=null},$ContextMenuCopyPaste=ContextMenuCopyPaste;$traceurRuntime.createClass(ContextMenuCopyPaste,{isEnabled:function(){return this.hot.getSettings().contextMenuCopyPaste},enablePlugin:function(){var $__7=this;if(!this.enabled){"object"===_typeof(this.hot.getSettings().contextMenuCopyPaste)&&(this.swfPath=this.hot.getSettings().contextMenuCopyPaste.swfPath),"undefined"==typeof ZeroClipboard&&console.error("To be able to use the Copy/Paste feature from the context menu, you need to manually include ZeroClipboard.js file to your website.");try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(exception){"undefined"==typeof navigator.mimeTypes["application/x-shockwave-flash"]&&console.error("To be able to use the Copy/Paste feature from the context menu, your browser needs to have Flash Plugin installed.")}this.swfPath&&ZeroClipboard.config({swfPath:this.swfPath}),this.hot.addHook("afterContextMenuShow",function(){return $__7.onAfterContextMenuShow()}),this.hot.addHook("afterContextMenuDefaultOptions",function(options){return $__7.onAfterContextMenuDefaultOptions(options)}),this.registerEvents(),$traceurRuntime.superGet(this,$ContextMenuCopyPaste.prototype,"enablePlugin").call(this)}},disablePlugin:function(){$traceurRuntime.superGet(this,$ContextMenuCopyPaste.prototype,"disablePlugin").call(this)},registerEvents:function(){var $__7=this;this.eventManager.addEventListener(document,"mouseenter",function(){return $__7.removeCurrentClass()}),this.eventManager.addEventListener(document,"mouseleave",function(){return $__7.removeZeroClipboardClass()})},getCopyValue:function(){return this.hot.copyPaste.setCopyableText(),this.hot.copyPaste.copyPasteInstance.elTextarea.value},onAfterContextMenuDefaultOptions:function(defaultOptions){defaultOptions.items.unshift({key:"copy",name:"Copy",disabled:function(){return this.selection.selectedHeader.corner}},{key:"paste",name:"Paste",callback:function(){this.copyPaste.triggerPaste()},disabled:function(){return this.selection.selectedHeader.corner}},{name:SEPARATOR})},onAfterContextMenuShow:function(){var $__7=this,contextMenu=this.hot.getPlugin("contextMenu"),data=contextMenu.menu.hotMenu.getSourceData();arrayEach(data,function(item,index){if("copy"===item.key){var zeroClipboardInstance=new ZeroClipboard(contextMenu.menu.hotMenu.getCell(index,0));return zeroClipboardInstance.off(),zeroClipboardInstance.on("copy",function(event){var clipboard=event.clipboardData;clipboard.setData("text/plain",$__7.getCopyValue()),$__7.hot.getSettings().outsideClickDeselects=$__7.outsideClickDeselectsCache}),!1}})},removeCurrentClass:function(){var contextMenu=this.hot.getPlugin("contextMenu");if(contextMenu.enabled){if(contextMenu.menu.isOpened()){var element=contextMenu.menu.hotMenu.rootElement.querySelector("td.current");element&&removeClass(element,"current")}this.outsideClickDeselectsCache=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1}},removeZeroClipboardClass:function(){var contextMenu=this.hot.getPlugin("contextMenu");if(contextMenu.enabled){if(contextMenu.menu.isOpened()){var element=contextMenu.menu.hotMenu.rootElement.querySelector("td.zeroclipboard-is-hover");element&&removeClass(element,"zeroclipboard-is-hover")}this.hot.getSettings().outsideClickDeselects=this.outsideClickDeselectsCache}}},{},BasePlugin),registerPlugin("contextMenuCopyPaste",ContextMenuCopyPaste)},{_base:63,"contextMenu/predefinedItems":76,eventManager:42,"helpers/array":43,"helpers/dom/element":47,plugins:62,zeroclipboard:"zeroclipboard"}],91:[function(_dereq_,module,exports){function CopyPastePlugin(instance){function onCut(){instance.isListening()&&instance.selection.empty()}function onPaste(str){var input,inputArray,selected,coordsFrom,coordsTo,cellRange,topLeftCorner,bottomRightCorner,areaStart,areaEnd;if(instance.isListening()&&instance.selection.isSelected()){input=str,inputArray=SheetClip.parse(input),selected=instance.getSelected(),coordsFrom=new WalkontableCellCoords(selected[0],selected[1]),coordsTo=new WalkontableCellCoords(selected[2],selected[3]),cellRange=new WalkontableCellRange(coordsFrom,coordsFrom,coordsTo),topLeftCorner=cellRange.getTopLeftCorner(),bottomRightCorner=cellRange.getBottomRightCorner(),areaStart=topLeftCorner,areaEnd=new WalkontableCellCoords(Math.max(bottomRightCorner.row,inputArray.length-1+topLeftCorner.row),Math.max(bottomRightCorner.col,inputArray[0].length-1+topLeftCorner.col));var isSelRowAreaCoverInputValue=coordsTo.row-coordsFrom.row>=inputArray.length-1,isSelColAreaCoverInputValue=coordsTo.col-coordsFrom.col>=inputArray[0].length-1;instance.addHookOnce("afterChange",function(changes,source){var changesLength=changes?changes.length:0;if(changesLength){var offset={row:0,col:0},highestColumnIndex=-1;arrayEach(changes,function(change,index){var nextChange=changesLength>index+1?changes[index+1]:null;nextChange&&(isSelRowAreaCoverInputValue||(offset.row=offset.row+Math.max(nextChange[0]-change[0]-1,0)),!isSelColAreaCoverInputValue&&change[1]>highestColumnIndex&&(highestColumnIndex=change[1],offset.col=offset.col+Math.max(nextChange[1]-change[1]-1,0)))}),instance.selectCell(areaStart.row,areaStart.col,areaEnd.row+offset.row,areaEnd.col+offset.col)}}),instance.populateFromArray(areaStart.row,areaStart.col,inputArray,areaEnd.row,areaEnd.col,"CopyPaste.paste",instance.getSettings().pasteMode)}}function onBeforeKeyDown(event){if(instance.getSelected()&&!(instance.getActiveEditor()&&instance.getActiveEditor().isOpened()||isImmediatePropagationStopped(event))){if(isCtrlKey(event.keyCode)){if(instance.getSettings().fragmentSelection&&getSelectionText())return;return _this.setCopyableText(),void stopImmediatePropagation(event)}var ctrlDown=(event.ctrlKey||event.metaKey)&&!event.altKey;event.keyCode==KEY_CODES.A&&ctrlDown&&instance._registerTimeout(setTimeout(proxy(_this.setCopyableText,_this),0))}}var _this=this;this.copyPasteInstance=copyPaste(),this.copyPasteInstance.onCut(onCut),this.copyPasteInstance.onPaste(onPaste),this.onPaste=onPaste,instance.addHook("beforeKeyDown",onBeforeKeyDown),this.destroy=function(){this.copyPasteInstance&&(this.copyPasteInstance.removeCallback(onCut),this.copyPasteInstance.removeCallback(onPaste),this.copyPasteInstance.destroy(),this.copyPasteInstance=null),instance.removeHook("beforeKeyDown",onBeforeKeyDown)},instance.addHook("afterDestroy",proxy(this.destroy,this)),this.triggerPaste=proxy(this.copyPasteInstance.triggerPaste,this.copyPasteInstance),this.triggerCut=proxy(this.copyPasteInstance.triggerCut,this.copyPasteInstance),this.setCopyableText=function(){var settings=instance.getSettings(),copyRowsLimit=settings.copyRowsLimit,copyColsLimit=settings.copyColsLimit,selRange=instance.getSelectedRange(),topLeft=selRange.getTopLeftCorner(),bottomRight=selRange.getBottomRightCorner(),startRow=topLeft.row,startCol=topLeft.col,endRow=bottomRight.row,endCol=bottomRight.col,finalEndRow=Math.min(endRow,startRow+copyRowsLimit-1),finalEndCol=Math.min(endCol,startCol+copyColsLimit-1),copyableRanges=[];copyableRanges.push({startRow:startRow,startCol:startCol,endRow:finalEndRow,endCol:finalEndCol}),copyableRanges=Handsontable.hooks.run(instance,"modifyCopyableRange",copyableRanges);var copyableData=this.getRangedCopyableData(copyableRanges);instance.copyPaste.copyPasteInstance.copyable(copyableData),endRow===finalEndRow&&endCol===finalEndCol||Handsontable.hooks.run(instance,"afterCopyLimit",endRow-startRow+1,endCol-startCol+1,copyRowsLimit,copyColsLimit)},this.getRangedCopyableData=function(ranges){var dataSet=[],copyableRows=[],copyableColumns=[];return arrayEach(ranges,function(range){rangeEach(range.startRow,range.endRow,function(row){copyableRows.indexOf(row)===-1&&copyableRows.push(row)}),rangeEach(range.startCol,range.endCol,function(column){copyableColumns.indexOf(column)===-1&&copyableColumns.push(column)})}),arrayEach(copyableRows,function(row){var rowSet=[];arrayEach(copyableColumns,function(column){rowSet.push(instance.getCopyableData(row,column))}),dataSet.push(rowSet)}),SheetClip.stringify(dataSet)}}function init(){var instance=this,pluginEnabled=instance.getSettings().copyPaste!==!1;pluginEnabled&&!instance.copyPaste?instance.copyPaste=new CopyPastePlugin(instance):!pluginEnabled&&instance.copyPaste&&(instance.copyPaste.destroy(),instance.copyPaste=null)}Object.defineProperties(exports,{CopyPastePlugin:{get:function(){return CopyPastePlugin}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$__copyPaste__,$__SheetClip__,$___46__46__47__46__46__47_helpers_47_unicode__,$___46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47_helpers_47_number__,$___46__46__47__46__46__47_helpers_47_dom_47_event__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47_helpers_47_function__,$___46__46__47__46__46__47_plugins__,$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__,$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],copyPaste=($__copyPaste__=_dereq_("copyPaste"),$__copyPaste__&&$__copyPaste__.__esModule&&$__copyPaste__||{"default":$__copyPaste__})["default"],SheetClip=($__SheetClip__=_dereq_("SheetClip"),$__SheetClip__&&$__SheetClip__.__esModule&&$__SheetClip__||{"default":$__SheetClip__})["default"],$__3=($___46__46__47__46__46__47_helpers_47_unicode__=_dereq_("helpers/unicode"),$___46__46__47__46__46__47_helpers_47_unicode__&&$___46__46__47__46__46__47_helpers_47_unicode__.__esModule&&$___46__46__47__46__46__47_helpers_47_unicode__||{"default":$___46__46__47__46__46__47_helpers_47_unicode__}),KEY_CODES=$__3.KEY_CODES,isCtrlKey=$__3.isCtrlKey,arrayEach=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayEach,rangeEach=($___46__46__47__46__46__47_helpers_47_number__=_dereq_("helpers/number"),$___46__46__47__46__46__47_helpers_47_number__&&$___46__46__47__46__46__47_helpers_47_number__.__esModule&&$___46__46__47__46__46__47_helpers_47_number__||{"default":$___46__46__47__46__46__47_helpers_47_number__}).rangeEach,$__6=($___46__46__47__46__46__47_helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$___46__46__47__46__46__47_helpers_47_dom_47_event__&&$___46__46__47__46__46__47_helpers_47_dom_47_event__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_event__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_event__}),stopImmediatePropagation=$__6.stopImmediatePropagation,isImmediatePropagationStopped=$__6.isImmediatePropagationStopped,getSelectionText=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}).getSelectionText,proxy=($___46__46__47__46__46__47_helpers_47_function__=_dereq_("helpers/function"),$___46__46__47__46__46__47_helpers_47_function__&&$___46__46__47__46__46__47_helpers_47_function__.__esModule&&$___46__46__47__46__46__47_helpers_47_function__||{"default":$___46__46__47__46__46__47_helpers_47_function__}).proxy,WalkontableCellCoords=(($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,($___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__=_dereq_("3rdparty/walkontable/src/cell/coords"),$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__.__esModule&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__||{"default":$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__}).WalkontableCellCoords),WalkontableCellRange=($___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__=_dereq_("3rdparty/walkontable/src/cell/range"),$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__.__esModule&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__||{"default":$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__}).WalkontableCellRange;Handsontable.hooks.add("afterInit",init),Handsontable.hooks.add("afterUpdateSettings",init),Handsontable.hooks.register("afterCopyLimit"),Handsontable.hooks.register("modifyCopyableRange")},{"3rdparty/walkontable/src/cell/coords":6,"3rdparty/walkontable/src/cell/range":7,SheetClip:"SheetClip",browser:24,copyPaste:"copyPaste","helpers/array":43,"helpers/dom/element":47,"helpers/dom/event":48,"helpers/function":50,"helpers/number":52,"helpers/unicode":56,plugins:62}],92:[function(_dereq_,module,exports){function CustomBorders(){}var $___46__46__47__46__46__47_browser__,$___46__46__47__46__46__47_plugins__,$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__,$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_selection__,instance,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],WalkontableCellRange=(($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,($___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__=_dereq_("3rdparty/walkontable/src/cell/range"),$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__.__esModule&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__||{"default":$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__}).WalkontableCellRange),WalkontableSelection=($___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_selection__=_dereq_("3rdparty/walkontable/src/selection"),$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_selection__&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_selection__.__esModule&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_selection__||{"default":$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_selection__}).WalkontableSelection,checkEnable=function(customBorders){return"boolean"==typeof customBorders&&customBorders===!0||"object"===("undefined"==typeof customBorders?"undefined":_typeof(customBorders))&&customBorders.length>0},init=function(){checkEnable(this.getSettings().customBorders)&&(this.customBorders||(instance=this,this.customBorders=new CustomBorders))},getSettingIndex=function(className){for(var i=0;i<instance.view.wt.selections.length;i++)if(instance.view.wt.selections[i].settings.className==className)return i;return-1},insertBorderIntoSettings=function(border){var coordinates={row:border.row,col:border.col},selection=new WalkontableSelection(border,new WalkontableCellRange(coordinates,coordinates,coordinates)),index=getSettingIndex(border.className);index>=0?instance.view.wt.selections[index]=selection:instance.view.wt.selections.push(selection)},prepareBorderFromCustomAdded=function(row,col,borderObj){var border=createEmptyBorders(row,col);border=extendDefaultBorder(border,borderObj),this.setCellMeta(row,col,"borders",border),insertBorderIntoSettings(border)},prepareBorderFromCustomAddedRange=function(rowObj){for(var range=rowObj.range,row=range.from.row;row<=range.to.row;row++)for(var col=range.from.col;col<=range.to.col;col++){var border=createEmptyBorders(row,col),add=0;row==range.from.row&&(add++,rowObj.hasOwnProperty("top")&&(border.top=rowObj.top)),row==range.to.row&&(add++,rowObj.hasOwnProperty("bottom")&&(border.bottom=rowObj.bottom)),col==range.from.col&&(add++,rowObj.hasOwnProperty("left")&&(border.left=rowObj.left)),col==range.to.col&&(add++,rowObj.hasOwnProperty("right")&&(border.right=rowObj.right)),add>0&&(this.setCellMeta(row,col,"borders",border),insertBorderIntoSettings(border))}},createClassName=function(row,col){return"border_row"+row+"col"+col},createDefaultCustomBorder=function(){return{width:1,color:"#000"}},createSingleEmptyBorder=function(){return{hide:!0}},createDefaultHtBorder=function(){return{width:1,color:"#000",cornerVisible:!1}},createEmptyBorders=function(row,col){return{className:createClassName(row,col),border:createDefaultHtBorder(),row:row,col:col,top:createSingleEmptyBorder(),right:createSingleEmptyBorder(),bottom:createSingleEmptyBorder(),left:createSingleEmptyBorder()}},extendDefaultBorder=function(defaultBorder,customBorder){return customBorder.hasOwnProperty("border")&&(defaultBorder.border=customBorder.border),customBorder.hasOwnProperty("top")&&(defaultBorder.top=customBorder.top),customBorder.hasOwnProperty("right")&&(defaultBorder.right=customBorder.right),customBorder.hasOwnProperty("bottom")&&(defaultBorder.bottom=customBorder.bottom),customBorder.hasOwnProperty("left")&&(defaultBorder.left=customBorder.left),defaultBorder},removeBordersFromDom=function(borderClassName){for(var borders=document.querySelectorAll("."+borderClassName),i=0;i<borders.length;i++)if(borders[i]&&"TD"!=borders[i].nodeName){var parent=borders[i].parentNode;parent.parentNode&&parent.parentNode.removeChild(parent)}},removeAllBorders=function(row,col){var borderClassName=createClassName(row,col);removeBordersFromDom(borderClassName),this.removeCellMeta(row,col,"borders")},setBorder=function(row,col,place,remove){var bordersMeta=this.getCellMeta(row,col).borders;bordersMeta&&void 0!=bordersMeta.border||(bordersMeta=createEmptyBorders(row,col)),remove?bordersMeta[place]=createSingleEmptyBorder():bordersMeta[place]=createDefaultCustomBorder(),this.setCellMeta(row,col,"borders",bordersMeta);var borderClassName=createClassName(row,col);removeBordersFromDom(borderClassName),insertBorderIntoSettings(bordersMeta),this.render()},prepareBorder=function(range,place,remove){if(range.from.row==range.to.row&&range.from.col==range.to.col)"noBorders"==place?removeAllBorders.call(this,range.from.row,range.from.col):setBorder.call(this,range.from.row,range.from.col,place,remove);else switch(place){case"noBorders":for(var column=range.from.col;column<=range.to.col;column++)for(var row=range.from.row;row<=range.to.row;row++)removeAllBorders.call(this,row,column);break;case"top":for(var topCol=range.from.col;topCol<=range.to.col;topCol++)setBorder.call(this,range.from.row,topCol,place,remove);break;case"right":for(var rowRight=range.from.row;rowRight<=range.to.row;rowRight++)setBorder.call(this,rowRight,range.to.col,place);break;case"bottom":for(var bottomCol=range.from.col;bottomCol<=range.to.col;bottomCol++)setBorder.call(this,range.to.row,bottomCol,place);break;case"left":for(var rowLeft=range.from.row;rowLeft<=range.to.row;rowLeft++)setBorder.call(this,rowLeft,range.from.col,place)}},checkSelectionBorders=function(hot,direction){var atLeastOneHasBorder=!1;return hot.getSelectedRange().forAll(function(r,c){var metaBorders=hot.getCellMeta(r,c).borders;if(metaBorders){if(!direction)return atLeastOneHasBorder=!0,!1;if(!metaBorders[direction].hasOwnProperty("hide"))return atLeastOneHasBorder=!0,!1}}),atLeastOneHasBorder},markSelected=function(label){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+label},addBordersOptionsToContextMenu=function(defaultOptions){this.getSettings().customBorders&&(defaultOptions.items.push(Handsontable.plugins.ContextMenu.SEPARATOR),defaultOptions.items.push({key:"borders",name:"Borders",disabled:function(){return this.selection.selectedHeader.corner},submenu:{items:[{key:"borders:top",name:function(){var label="Top",hasBorder=checkSelectionBorders(this,"top");return hasBorder&&(label=markSelected(label)),label},callback:function(){var hasBorder=checkSelectionBorders(this,"top");prepareBorder.call(this,this.getSelectedRange(),"top",hasBorder)}},{key:"borders:right",name:function(){var label="Right",hasBorder=checkSelectionBorders(this,"right");return hasBorder&&(label=markSelected(label)),label},callback:function(){var hasBorder=checkSelectionBorders(this,"right");prepareBorder.call(this,this.getSelectedRange(),"right",hasBorder)}},{key:"borders:bottom",name:function(){var label="Bottom",hasBorder=checkSelectionBorders(this,"bottom");return hasBorder&&(label=markSelected(label)),label},callback:function(){var hasBorder=checkSelectionBorders(this,"bottom");prepareBorder.call(this,this.getSelectedRange(),"bottom",hasBorder)}},{key:"borders:left",name:function(){var label="Left",hasBorder=checkSelectionBorders(this,"left");return hasBorder&&(label=markSelected(label)),label},callback:function(){var hasBorder=checkSelectionBorders(this,"left");prepareBorder.call(this,this.getSelectedRange(),"left",hasBorder)}},{key:"borders:no_borders",name:"Remove border(s)",callback:function(){prepareBorder.call(this,this.getSelectedRange(),"noBorders")},disabled:function(){return!checkSelectionBorders(this)}}]}}))};Handsontable.hooks.add("beforeInit",init),Handsontable.hooks.add("afterContextMenuDefaultOptions",addBordersOptionsToContextMenu),Handsontable.hooks.add("afterInit",function(){var customBorders=this.getSettings().customBorders;if(customBorders){for(var i=0;i<customBorders.length;i++)customBorders[i].range?prepareBorderFromCustomAddedRange.call(this,customBorders[i]):prepareBorderFromCustomAdded.call(this,customBorders[i].row,customBorders[i].col,customBorders[i]);this.render(),this.view.wt.draw(!0)}}),Handsontable.CustomBorders=CustomBorders},{"3rdparty/walkontable/src/cell/range":7,"3rdparty/walkontable/src/selection":19,browser:24,plugins:62}],93:[function(_dereq_,module,exports){function DragToScroll(){this.boundaries=null,this.callback=null}Object.defineProperties(exports,{DragToScroll:{get:function(){return DragToScroll}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$___46__46__47__46__46__47_eventManager__,$___46__46__47__46__46__47_plugins__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{
"default":$___46__46__47__46__46__47_browser__})["default"],eventManagerObject=($___46__46__47__46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47__46__46__47_eventManager__&&$___46__46__47__46__46__47_eventManager__.__esModule&&$___46__46__47__46__46__47_eventManager__||{"default":$___46__46__47__46__46__47_eventManager__}).eventManager;($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin;Handsontable.plugins.DragToScroll=DragToScroll,DragToScroll.prototype.setBoundaries=function(boundaries){this.boundaries=boundaries},DragToScroll.prototype.setCallback=function(callback){this.callback=callback},DragToScroll.prototype.check=function(x,y){var diffX=0,diffY=0;y<this.boundaries.top?diffY=y-this.boundaries.top:y>this.boundaries.bottom&&(diffY=y-this.boundaries.bottom),x<this.boundaries.left?diffX=x-this.boundaries.left:x>this.boundaries.right&&(diffX=x-this.boundaries.right),this.callback(diffX,diffY)};var dragToScroll,setupListening=function(instance){instance.dragToScrollListening=!1;var scrollHandler=instance.view.wt.wtTable.holder;dragToScroll=new DragToScroll,scrollHandler!==window&&(dragToScroll.setBoundaries(scrollHandler.getBoundingClientRect()),dragToScroll.setCallback(function(scrollX,scrollY){scrollX<0?scrollHandler.scrollLeft-=50:scrollX>0&&(scrollHandler.scrollLeft+=50),scrollY<0?scrollHandler.scrollTop-=20:scrollY>0&&(scrollHandler.scrollTop+=20)}),instance.dragToScrollListening=!0)};Handsontable.hooks.add("afterInit",function(){var instance=this,eventManager=eventManagerObject(this);eventManager.addEventListener(document,"mouseup",function(){instance.dragToScrollListening=!1}),eventManager.addEventListener(document,"mousemove",function(event){instance.dragToScrollListening&&dragToScroll.check(event.clientX,event.clientY)})}),Handsontable.hooks.add("afterDestroy",function(){eventManagerObject(this).clear()}),Handsontable.hooks.add("afterOnCellMouseDown",function(){setupListening(this)}),Handsontable.hooks.add("afterOnCellCornerMouseDown",function(){setupListening(this)}),Handsontable.plugins.DragToScroll=DragToScroll},{browser:24,eventManager:42,plugins:62}],94:[function(_dereq_,module,exports){function freezeColumnItem(manualColumnFreezePlugin){return{key:"freeze_column",name:"Freeze this column",callback:function(){var selectedColumn=this.getSelectedRange().from.col;manualColumnFreezePlugin.freezeColumn(selectedColumn),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},hidden:function(){var selection=this.getSelectedRange(),hide=!1;return void 0===selection?hide=!0:(selection.from.col!==selection.to.col||selection.from.col<=this.getSettings().fixedColumnsLeft-1)&&(hide=!0),hide}}}Object.defineProperties(exports,{freezeColumnItem:{get:function(){return freezeColumnItem}},__esModule:{value:!0}})},{}],95:[function(_dereq_,module,exports){function unfreezeColumnItem(manualColumnFreezePlugin){return{key:"unfreeze_column",name:"Unfreeze this column",callback:function(){var selectedColumn=this.getSelectedRange().from.col;manualColumnFreezePlugin.unfreezeColumn(selectedColumn),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},hidden:function(){var selection=this.getSelectedRange(),hide=!1;return void 0===selection?hide=!0:(selection.from.col!==selection.to.col||selection.from.col>=this.getSettings().fixedColumnsLeft)&&(hide=!0),hide}}}Object.defineProperties(exports,{unfreezeColumnItem:{get:function(){return unfreezeColumnItem}},__esModule:{value:!0}})},{}],96:[function(_dereq_,module,exports){Object.defineProperties(exports,{ManualColumnFreeze:{get:function(){return ManualColumnFreeze}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$___46__46__47__95_base__,$___46__46__47__46__46__47_plugins__,$___46__46__47__46__46__47_helpers_47_array__,$__contextMenuItem_47_freezeColumn__,$__contextMenuItem_47_unfreezeColumn__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],BasePlugin=($___46__46__47__95_base__=_dereq_("_base"),$___46__46__47__95_base__&&$___46__46__47__95_base__.__esModule&&$___46__46__47__95_base__||{"default":$___46__46__47__95_base__})["default"],registerPlugin=($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,arrayEach=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayEach,freezeColumnItem=($__contextMenuItem_47_freezeColumn__=_dereq_("contextMenuItem/freezeColumn"),$__contextMenuItem_47_freezeColumn__&&$__contextMenuItem_47_freezeColumn__.__esModule&&$__contextMenuItem_47_freezeColumn__||{"default":$__contextMenuItem_47_freezeColumn__}).freezeColumnItem,unfreezeColumnItem=($__contextMenuItem_47_unfreezeColumn__=_dereq_("contextMenuItem/unfreezeColumn"),$__contextMenuItem_47_unfreezeColumn__&&$__contextMenuItem_47_unfreezeColumn__.__esModule&&$__contextMenuItem_47_unfreezeColumn__||{"default":$__contextMenuItem_47_unfreezeColumn__}).unfreezeColumnItem,privatePool=new WeakMap,ManualColumnFreeze=function(hotInstance){$traceurRuntime.superConstructor($ManualColumnFreeze).call(this,hotInstance),privatePool.set(this,{moveByFreeze:!1,afterFirstUse:!1}),this.frozenColumnsBasePositions=[],this.manualColumnMovePlugin=void 0},$ManualColumnFreeze=ManualColumnFreeze;$traceurRuntime.createClass(ManualColumnFreeze,{isEnabled:function(){return!!this.hot.getSettings().manualColumnFreeze},enablePlugin:function(){var $__6=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(options){return $__6.addContextMenuEntry(options)}),this.addHook("afterInit",function(){return $__6.onAfterInit()}),this.addHook("beforeColumnMove",function(rows,target){return $__6.onBeforeColumnMove(rows,target)}),$traceurRuntime.superGet(this,$ManualColumnFreeze.prototype,"enablePlugin").call(this))},disablePlugin:function(){var priv=privatePool.get(this);priv.afterFirstUse=!1,priv.moveByFreeze=!1,$traceurRuntime.superGet(this,$ManualColumnFreeze.prototype,"disablePlugin").call(this)},updatePlugin:function(){this.disablePlugin(),this.enablePlugin(),$traceurRuntime.superGet(this,$ManualColumnFreeze.prototype,"updatePlugin").call(this)},freezeColumn:function(column){var priv=privatePool.get(this),settings=this.hot.getSettings();priv.afterFirstUse||(priv.afterFirstUse=!0),settings.fixedColumnsLeft===this.hot.countCols()||column<=settings.fixedColumnsLeft-1||(priv.moveByFreeze=!0,column!==this.getMovePlugin().columnsMapper.getValueByIndex(column)&&(this.frozenColumnsBasePositions[settings.fixedColumnsLeft]=column),this.getMovePlugin().moveColumn(column,settings.fixedColumnsLeft++))},unfreezeColumn:function(column){var priv=privatePool.get(this),settings=this.hot.getSettings();if(priv.afterFirstUse||(priv.afterFirstUse=!0),!(settings.fixedColumnsLeft<=0||column>settings.fixedColumnsLeft-1)){var returnCol=this.getBestColumnReturnPosition(column);priv.moveByFreeze=!0,settings.fixedColumnsLeft--,this.getMovePlugin().moveColumn(column,returnCol+1)}},getMovePlugin:function(){return this.manualColumnMovePlugin||(this.manualColumnMovePlugin=this.hot.getPlugin("manualColumnMove")),this.manualColumnMovePlugin},getBestColumnReturnPosition:function(column){var initialCol,movePlugin=this.getMovePlugin(),settings=this.hot.getSettings(),i=settings.fixedColumnsLeft,j=movePlugin.columnsMapper.getValueByIndex(i);if(null==this.frozenColumnsBasePositions[column])for(initialCol=movePlugin.columnsMapper.getValueByIndex(column);j<initialCol;)i++,j=movePlugin.columnsMapper.getValueByIndex(i);else{for(initialCol=this.frozenColumnsBasePositions[column],this.frozenColumnsBasePositions[column]=void 0;j<=initialCol;)i++,j=movePlugin.columnsMapper.getValueByIndex(i);i=j}return i-1},addContextMenuEntry:function(options){options.items.push(Handsontable.plugins.ContextMenu.SEPARATOR,freezeColumnItem(this),unfreezeColumnItem(this))},onAfterInit:function(){this.getMovePlugin().isEnabled()||this.getMovePlugin().enablePlugin()},onBeforeColumnMove:function(rows,target){var priv=privatePool.get(this);if(priv.afterFirstUse&&!priv.moveByFreeze){var frozenLen=this.hot.getSettings().fixedColumnsLeft,disallowMoving=target<frozenLen;if(disallowMoving||arrayEach(rows,function(value,index,array){if(value<frozenLen)return disallowMoving=!0,!1}),disallowMoving)return!1}priv.moveByFreeze&&(priv.moveByFreeze=!1)},destroy:function(){$traceurRuntime.superGet(this,$ManualColumnFreeze.prototype,"destroy").call(this)}},{},BasePlugin),registerPlugin("manualColumnFreeze",ManualColumnFreeze)},{_base:63,browser:24,"contextMenuItem/freezeColumn":94,"contextMenuItem/unfreezeColumn":95,"helpers/array":43,plugins:62}],97:[function(_dereq_,module,exports){Object.defineProperties(exports,{ColumnsMapper:{get:function(){return ColumnsMapper}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$___46__46__47__46__46__47_mixins_47_arrayMapper__,$___46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47_helpers_47_object__,$___46__46__47__46__46__47_helpers_47_number__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],arrayMapper=($___46__46__47__46__46__47_mixins_47_arrayMapper__=_dereq_("mixins/arrayMapper"),$___46__46__47__46__46__47_mixins_47_arrayMapper__&&$___46__46__47__46__46__47_mixins_47_arrayMapper__.__esModule&&$___46__46__47__46__46__47_mixins_47_arrayMapper__||{"default":$___46__46__47__46__46__47_mixins_47_arrayMapper__}).arrayMapper,arrayFilter=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayFilter,mixin=($___46__46__47__46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47__46__46__47_helpers_47_object__&&$___46__46__47__46__46__47_helpers_47_object__.__esModule&&$___46__46__47__46__46__47_helpers_47_object__||{"default":$___46__46__47__46__46__47_helpers_47_object__}).mixin,rangeEach=($___46__46__47__46__46__47_helpers_47_number__=_dereq_("helpers/number"),$___46__46__47__46__46__47_helpers_47_number__&&$___46__46__47__46__46__47_helpers_47_number__.__esModule&&$___46__46__47__46__46__47_helpers_47_number__||{"default":$___46__46__47__46__46__47_helpers_47_number__}).rangeEach,ColumnsMapper=function(manualColumnMove){this.manualColumnMove=manualColumnMove};$traceurRuntime.createClass(ColumnsMapper,{createMap:function(length){var $__5=this,originLength=void 0===length?this._arrayMap.length:length;this._arrayMap.length=0,rangeEach(originLength-1,function(itemIndex){$__5._arrayMap[itemIndex]=itemIndex})},destroy:function(){this._arrayMap=null},moveColumn:function(from,to){var indexToMove=this._arrayMap[from];this._arrayMap[from]=null,this._arrayMap.splice(to,0,indexToMove)},clearNull:function(){this._arrayMap=arrayFilter(this._arrayMap,function(i){return null!==i})}},{}),mixin(ColumnsMapper,arrayMapper),Handsontable.utils.ManualColumnMoveColumnsMapper=ColumnsMapper},{browser:24,"helpers/array":43,"helpers/number":52,"helpers/object":53,"mixins/arrayMapper":57}],98:[function(_dereq_,module,exports){Object.defineProperties(exports,{ManualColumnMove:{get:function(){return ManualColumnMove}},__esModule:{value:!0}});var $___46__46__47__95_base_46_js__,$___46__46__47__46__46__47_browser__,$___46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47_helpers_47_number__,$___46__46__47__46__46__47_eventManager__,$___46__46__47__46__46__47_plugins__,$__columnsMapper__,$__ui_47_backlight__,$__ui_47_guideline__,BasePlugin=($___46__46__47__95_base_46_js__=_dereq_("_base.js"),$___46__46__47__95_base_46_js__&&$___46__46__47__95_base_46_js__.__esModule&&$___46__46__47__95_base_46_js__||{"default":$___46__46__47__95_base_46_js__})["default"],Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],arrayEach=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayEach,$__3=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}),addClass=$__3.addClass,removeClass=$__3.removeClass,offset=$__3.offset,rangeEach=($___46__46__47__46__46__47_helpers_47_number__=_dereq_("helpers/number"),$___46__46__47__46__46__47_helpers_47_number__&&$___46__46__47__46__46__47_helpers_47_number__.__esModule&&$___46__46__47__46__46__47_helpers_47_number__||{"default":$___46__46__47__46__46__47_helpers_47_number__}).rangeEach,eventManagerObject=($___46__46__47__46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47__46__46__47_eventManager__&&$___46__46__47__46__46__47_eventManager__.__esModule&&$___46__46__47__46__46__47_eventManager__||{"default":$___46__46__47__46__46__47_eventManager__}).eventManager,registerPlugin=($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,ColumnsMapper=($__columnsMapper__=_dereq_("columnsMapper"),$__columnsMapper__&&$__columnsMapper__.__esModule&&$__columnsMapper__||{"default":$__columnsMapper__}).ColumnsMapper,BacklightUI=($__ui_47_backlight__=_dereq_("ui/backlight"),$__ui_47_backlight__&&$__ui_47_backlight__.__esModule&&$__ui_47_backlight__||{"default":$__ui_47_backlight__}).BacklightUI,GuidelineUI=($__ui_47_guideline__=_dereq_("ui/guideline"),$__ui_47_guideline__&&$__ui_47_guideline__.__esModule&&$__ui_47_guideline__||{"default":$__ui_47_guideline__}).GuidelineUI,privatePool=new WeakMap,CSS_PLUGIN="ht__manualColumnMove",CSS_SHOW_UI="show-ui",CSS_ON_MOVING="on-moving--columns",CSS_AFTER_SELECTION="after-selection--columns",ManualColumnMove=function(hotInstance){$traceurRuntime.superConstructor($ManualColumnMove).call(this,hotInstance),privatePool.set(this,{columnsToMove:[],countCols:0,fixedColumns:0,pressed:void 0,disallowMoving:void 0,target:{eventPageX:void 0,coords:void 0,TD:void 0,col:void 0}}),this.removedColumns=[],this.columnsMapper=new ColumnsMapper(this),this.eventManager=eventManagerObject(this),this.backlight=new BacklightUI(hotInstance),this.guideline=new GuidelineUI(hotInstance)},$ManualColumnMove=ManualColumnMove;$traceurRuntime.createClass(ManualColumnMove,{isEnabled:function(){return!!this.hot.getSettings().manualColumnMove},enablePlugin:function(){var $__10=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(event,coords,TD,blockCalculations){return $__10.onBeforeOnCellMouseDown(event,coords,TD,blockCalculations)}),this.addHook("beforeOnCellMouseOver",function(event,coords,TD,blockCalculations){return $__10.onBeforeOnCellMouseOver(event,coords,TD,blockCalculations)}),this.addHook("afterScrollVertically",function(){return $__10.onAfterScrollVertically()}),this.addHook("modifyCol",function(row,source){return $__10.onModifyCol(row,source)}),this.addHook("beforeRemoveCol",function(index,amount){return $__10.onBeforeRemoveCol(index,amount)}),this.addHook("afterRemoveCol",function(index,amount){return $__10.onAfterRemoveCol(index,amount)}),this.addHook("afterCreateCol",function(index,amount){return $__10.onAfterCreateCol(index,amount)}),this.addHook("unmodifyCol",function(column){return $__10.onUnmodifyCol(column)}),this.registerEvents(),addClass(this.hot.rootElement,CSS_PLUGIN),$traceurRuntime.superGet(this,$ManualColumnMove.prototype,"enablePlugin").call(this))},updatePlugin:function(){this.disablePlugin(),this.enablePlugin(),this.onAfterPluginsInitialized(),$traceurRuntime.superGet(this,$ManualColumnMove.prototype,"updatePlugin").call(this)},disablePlugin:function(){var pluginSettings=this.hot.getSettings().manualColumnMove;Array.isArray(pluginSettings)&&this.columnsMapper.clearMap(),removeClass(this.hot.rootElement,CSS_PLUGIN),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),$traceurRuntime.superGet(this,$ManualColumnMove.prototype,"disablePlugin").call(this)},moveColumn:function(column,target){this.moveColumns([column],target)},moveColumns:function(columns,target){var $__10=this,priv=privatePool.get(this),beforeColumnHook=this.hot.runHooks("beforeColumnMove",columns,target);priv.disallowMoving=!beforeColumnHook,beforeColumnHook!==!1&&(arrayEach(columns,function(column,index,array){array[index]=$__10.columnsMapper.getValueByIndex(column)}),arrayEach(columns,function(column,index){var actualPosition=$__10.columnsMapper.getIndexByValue(column);actualPosition!==target&&$__10.columnsMapper.moveColumn(actualPosition,target+index)}),this.columnsMapper.clearNull()),this.hot.runHooks("afterColumnMove",columns,target)},changeSelection:function(startColumn,endColumn){var selection=this.hot.selection,lastRowIndex=this.hot.countRows()-1;selection.setRangeStartOnly(new WalkontableCellCoords(0,startColumn)),selection.setRangeEnd(new WalkontableCellCoords(lastRowIndex,endColumn),!1)},getColumnsWidth:function(from,to){for(var width=0,i=from;i<to;i++){var columnWidth=0;columnWidth=i<0?this.hot.view.wt.wtTable.getColumnWidth(i)||0:this.hot.view.wt.wtTable.getStretchedColumnWidth(i)||0,width+=columnWidth}return width},initialSettings:function(){var pluginSettings=this.hot.getSettings().manualColumnMove;Array.isArray(pluginSettings)?this.moveColumns(pluginSettings,0):void 0!==pluginSettings&&this.persistentStateLoad()},isFixedColumnsLeft:function(column){return column<this.hot.getSettings().fixedColumnsLeft},persistentStateSave:function(){Handsontable.hooks.run(this.hot,"persistentStateSave","manualColumnMove",this.columnsMapper._arrayMap)},persistentStateLoad:function(){var storedState={};Handsontable.hooks.run(this.hot,"persistentStateLoad","manualColumnMove",storedState),storedState.value&&(this.columnsMapper._arrayMap=storedState.value)},prepareColumnsToMoving:function(start,end){var selectedColumns=[];return rangeEach(start,end,function(i){selectedColumns.push(i)}),selectedColumns},refreshPositions:function(){var priv=privatePool.get(this),firstVisible=this.hot.view.wt.wtTable.getFirstVisibleColumn(),lastVisible=this.hot.view.wt.wtTable.getLastVisibleColumn(),wtTable=this.hot.view.wt.wtTable,scrollableElement=this.hot.view.wt.wtOverlays.scrollableElement,scrollLeft="number"==typeof scrollableElement.scrollX?scrollableElement.scrollX:scrollableElement.scrollLeft,tdOffsetLeft=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,priv.coordsColumn),mouseOffsetLeft=priv.target.eventPageX-(priv.rootElementOffset-(void 0===scrollableElement.scrollX?scrollLeft:0)),hiderWidth=wtTable.hider.offsetWidth,tbodyOffsetLeft=wtTable.TBODY.offsetLeft,backlightElemMarginLeft=this.backlight.getOffset().left,backlightElemWidth=this.backlight.getSize().width,rowHeaderWidth=0;if(priv.rootElementOffset+wtTable.holder.offsetWidth+scrollLeft<priv.target.eventPageX&&priv.coordsColumn<priv.countCols&&priv.coordsColumn++,priv.hasRowHeaders&&(rowHeaderWidth=this.hot.view.wt.wtOverlays.leftOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsLeft(priv.coordsColumn)&&(tdOffsetLeft+=scrollLeft),tdOffsetLeft+=rowHeaderWidth,priv.coordsColumn<0)priv.fixedColumns>0?priv.target.col=0:priv.target.col=firstVisible>0?firstVisible-1:firstVisible;else if(priv.target.TD.offsetWidth/2+tdOffsetLeft<=mouseOffsetLeft){var newCoordsCol=priv.coordsColumn>=priv.countCols?priv.countCols-1:priv.coordsColumn;priv.target.col=newCoordsCol+1,tdOffsetLeft+=priv.target.TD.offsetWidth,priv.target.col>lastVisible&&this.hot.scrollViewportTo(void 0,lastVisible+1,void 0,!0)}else priv.target.col=priv.coordsColumn,priv.target.col<=firstVisible&&priv.target.col>=priv.fixedColumns&&this.hot.scrollViewportTo(void 0,firstVisible-1);priv.target.col<=firstVisible&&priv.target.col>=priv.fixedColumns&&this.hot.scrollViewportTo(void 0,firstVisible-1);var backlightLeft=mouseOffsetLeft,guidelineLeft=tdOffsetLeft;mouseOffsetLeft+backlightElemWidth+backlightElemMarginLeft>=hiderWidth?backlightLeft=hiderWidth-backlightElemWidth-backlightElemMarginLeft:mouseOffsetLeft+backlightElemMarginLeft<tbodyOffsetLeft+rowHeaderWidth&&(backlightLeft=tbodyOffsetLeft+rowHeaderWidth+Math.abs(backlightElemMarginLeft)),tdOffsetLeft>=hiderWidth-1?guidelineLeft=hiderWidth-1:0===guidelineLeft?guidelineLeft=1:void 0!==scrollableElement.scrollX&&priv.coordsColumn<priv.fixedColumns&&(guidelineLeft-=priv.rootElementOffset<=scrollableElement.scrollX?priv.rootElementOffset:0),this.backlight.setPosition(null,backlightLeft),this.guideline.setPosition(null,guidelineLeft)},registerEvents:function(){var $__10=this;this.eventManager.addEventListener(document.documentElement,"mousemove",function(event){return $__10.onMouseMove(event)}),this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return $__10.onMouseUp()})},unregisterEvents:function(){this.eventManager.clear()},onBeforeOnCellMouseDown:function(event,coords,TD,blockCalculations){var wtTable=this.hot.view.wt.wtTable,isHeaderSelection=this.hot.selection.selectedHeader.cols,selection=this.hot.getSelectedRange(),priv=privatePool.get(this),isSortingElement=event.realTarget.className.indexOf("columnSorting")>-1;if(!selection||!isHeaderSelection||priv.pressed||0!==event.button||isSortingElement)return priv.pressed=!1,priv.columnsToMove.length=0,void removeClass(this.hot.rootElement,[CSS_ON_MOVING,CSS_SHOW_UI]);var guidelineIsNotReady=this.guideline.isBuilt()&&!this.guideline.isAppended(),backlightIsNotReady=this.backlight.isBuilt()&&!this.backlight.isAppended();guidelineIsNotReady&&backlightIsNotReady&&(this.guideline.appendTo(wtTable.hider),this.backlight.appendTo(wtTable.hider));var $__12=selection,from=$__12.from,to=$__12.to,start=Math.min(from.col,to.col),end=Math.max(from.col,to.col);if(coords.row<0&&coords.col>=start&&coords.col<=end){blockCalculations.column=!0,priv.pressed=!0,priv.target.eventPageX=event.pageX,priv.coordsColumn=coords.col,priv.target.TD=TD,priv.target.col=coords.col,priv.columnsToMove=this.prepareColumnsToMoving(start,end),priv.hasRowHeaders=!!this.hot.getSettings().rowHeaders,priv.countCols=this.hot.countCols(),priv.fixedColumns=this.hot.getSettings().fixedColumnsLeft,priv.rootElementOffset=offset(this.hot.rootElement).left;var countColumnsFrom=priv.hasRowHeaders?-1:0,topPos=wtTable.holder.scrollTop+wtTable.getColumnHeaderHeight(0)+1,fixedColumns=coords.col<priv.fixedColumns,scrollableElement=this.hot.view.wt.wtOverlays.scrollableElement,wrapperIsWindow=scrollableElement.scrollX?scrollableElement.scrollX-priv.rootElementOffset:0,mouseOffset=event.layerX-(fixedColumns?wrapperIsWindow:0),leftOffset=Math.abs(this.getColumnsWidth(start,coords.col)+mouseOffset);this.backlight.setPosition(topPos,this.getColumnsWidth(countColumnsFrom,start)+leftOffset),this.backlight.setSize(this.getColumnsWidth(start,end+1),wtTable.hider.offsetHeight-topPos),this.backlight.setOffset(null,leftOffset*-1),addClass(this.hot.rootElement,CSS_ON_MOVING)}else removeClass(this.hot.rootElement,CSS_AFTER_SELECTION),priv.pressed=!1,priv.columnsToMove.length=0},onMouseMove:function(event){var priv=privatePool.get(this);if(priv.pressed){if(event.realTarget===this.backlight.element){var width=this.backlight.getSize().width;this.backlight.setSize(0),setTimeout(function(){this.backlight.setPosition(width)})}priv.target.eventPageX=event.pageX,this.refreshPositions()}},onBeforeOnCellMouseOver:function(event,coords,TD,blockCalculations){var selectedRange=this.hot.getSelectedRange(),priv=privatePool.get(this);selectedRange&&priv.pressed&&(priv.columnsToMove.indexOf(coords.col)>-1?removeClass(this.hot.rootElement,CSS_SHOW_UI):addClass(this.hot.rootElement,CSS_SHOW_UI),blockCalculations.row=!0,blockCalculations.column=!0,blockCalculations.cell=!0,priv.coordsColumn=coords.col,priv.target.TD=TD)},onMouseUp:function(){var priv=privatePool.get(this);if(priv.coordsColumn=void 0,priv.pressed=!1,priv.backlightWidth=0,removeClass(this.hot.rootElement,[CSS_ON_MOVING,CSS_SHOW_UI,CSS_AFTER_SELECTION]),this.hot.selection.selectedHeader.cols&&addClass(this.hot.rootElement,CSS_AFTER_SELECTION),!(priv.columnsToMove.length<1||void 0===priv.target.col||priv.columnsToMove.indexOf(priv.target.col)>-1)){if(this.moveColumns(priv.columnsToMove,priv.target.col),this.persistentStateSave(),this.hot.render(),this.hot.view.wt.wtOverlays.adjustElementsSize(!0),!priv.disallowMoving){var selectionStart=this.columnsMapper.getIndexByValue(priv.columnsToMove[0]),selectionEnd=this.columnsMapper.getIndexByValue(priv.columnsToMove[priv.columnsToMove.length-1]);this.changeSelection(selectionStart,selectionEnd)}priv.columnsToMove.length=0}},onAfterScrollVertically:function(){var wtTable=this.hot.view.wt.wtTable,headerHeight=wtTable.getColumnHeaderHeight(0)+1,scrollTop=wtTable.holder.scrollTop,posTop=headerHeight+scrollTop;this.backlight.setPosition(posTop),this.backlight.setSize(null,wtTable.hider.offsetHeight-posTop)},onAfterCreateCol:function(index,amount){this.columnsMapper.shiftItems(index,amount)},onBeforeRemoveCol:function(index,amount){var $__10=this;this.removedColumns.length=0,index!==!1&&rangeEach(index,index+amount-1,function(removedIndex){$__10.removedColumns.push($__10.hot.runHooks("modifyCol",removedIndex,$__10.pluginName))})},onAfterRemoveCol:function(index,amount){this.columnsMapper.unshiftItems(this.removedColumns)},onModifyCol:function(column,source){if(source!==this.pluginName){var columnInMapper=this.columnsMapper.getValueByIndex(column);column=null===columnInMapper?column:columnInMapper}return column},onUnmodifyCol:function(column){var indexInMapper=this.columnsMapper.getIndexByValue(column);return column=null===indexInMapper?column:indexInMapper},onAfterPluginsInitialized:function(){var countCols=this.hot.countCols(),columnsMapperLen=this.columnsMapper._arrayMap.length;if(0===columnsMapperLen)this.columnsMapper.createMap(this.hot.countSourceCols()||this.hot.getSettings().startCols);else if(columnsMapperLen<countCols){var diff=countCols-columnsMapperLen;this.columnsMapper.insertItems(columnsMapperLen,diff)}else if(columnsMapperLen>countCols){var maxIndex=countCols-1,columnsToRemove=[];arrayEach(this.columnsMapper._arrayMap,function(value,index,array){value>maxIndex&&columnsToRemove.push(index)}),this.columnsMapper.removeItems(columnsToRemove)}this.initialSettings(),this.backlight.build(),this.guideline.build()},destroy:function(){this.backlight.destroy(),this.guideline.destroy(),$traceurRuntime.superGet(this,$ManualColumnMove.prototype,"destroy").call(this)}},{},BasePlugin),registerPlugin("ManualColumnMove",ManualColumnMove),Handsontable.hooks.register("beforeColumnMove"),Handsontable.hooks.register("afterColumnMove"),Handsontable.hooks.register("unmodifyCol")},{"_base.js":63,browser:24,columnsMapper:97,eventManager:42,"helpers/array":43,"helpers/dom/element":47,"helpers/number":52,plugins:62,"ui/backlight":100,"ui/guideline":101}],99:[function(_dereq_,module,exports){Object.defineProperties(exports,{BaseUI:{get:function(){return BaseUI}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47_helpers_47_number__,isNumeric=($___46__46__47__46__46__47__46__46__47_helpers_47_number__=_dereq_("helpers/number"),$___46__46__47__46__46__47__46__46__47_helpers_47_number__&&$___46__46__47__46__46__47__46__46__47_helpers_47_number__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_number__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_number__}).isNumeric,STATE_INITIALIZED=0,STATE_BUILT=1,STATE_APPENDED=2,UNIT="px",BaseUI=function(hotInstance){this.hot=hotInstance,this._element=null,this.state=STATE_INITIALIZED};$traceurRuntime.createClass(BaseUI,{appendTo:function(wrapper){wrapper.appendChild(this._element),this.state=STATE_APPENDED},build:function(){this._element=document.createElement("div"),this.state=STATE_BUILT},destroy:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=STATE_INITIALIZED},isAppended:function(){return this.state===STATE_APPENDED},isBuilt:function(){return this.state>=STATE_BUILT},setPosition:function(top,left){isNumeric(top)&&(this._element.style.top=top+UNIT),isNumeric(left)&&(this._element.style.left=left+UNIT)},getPosition:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}},setSize:function(width,height){isNumeric(width)&&(this._element.style.width=width+UNIT),isNumeric(height)&&(this._element.style.height=height+UNIT)},getSize:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}},setOffset:function(top,left){isNumeric(top)&&(this._element.style.marginTop=top+UNIT),isNumeric(left)&&(this._element.style.marginLeft=left+UNIT)},getOffset:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}},{})},{"helpers/number":52}],100:[function(_dereq_,module,exports){Object.defineProperties(exports,{BacklightUI:{get:function(){return BacklightUI}},__esModule:{value:!0}});var $___95_base__,$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,BaseUI=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).BaseUI,addClass=($___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}).addClass,CSS_CLASSNAME="ht__manualColumnMove--backlight",BacklightUI=function(hotInstance){$traceurRuntime.superConstructor($BacklightUI).call(this,hotInstance)},$BacklightUI=BacklightUI;$traceurRuntime.createClass(BacklightUI,{build:function(){$traceurRuntime.superGet(this,$BacklightUI.prototype,"build").call(this),addClass(this._element,CSS_CLASSNAME)}},{},BaseUI)},{_base:99,"helpers/dom/element":47}],101:[function(_dereq_,module,exports){Object.defineProperties(exports,{GuidelineUI:{get:function(){return GuidelineUI}},__esModule:{value:!0}});var $___95_base__,$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,BaseUI=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__
}).BaseUI,addClass=($___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}).addClass,CSS_CLASSNAME="ht__manualColumnMove--guideline",GuidelineUI=function(hotInstance){$traceurRuntime.superConstructor($GuidelineUI).call(this,hotInstance)},$GuidelineUI=GuidelineUI;$traceurRuntime.createClass(GuidelineUI,{build:function(){$traceurRuntime.superGet(this,$GuidelineUI.prototype,"build").call(this),addClass(this._element,CSS_CLASSNAME)}},{},BaseUI)},{_base:99,"helpers/dom/element":47}],102:[function(_dereq_,module,exports){Object.defineProperties(exports,{ManualColumnResize:{get:function(){return ManualColumnResize}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$___46__46__47__95_base_46_js__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47_eventManager__,$___46__46__47__46__46__47_helpers_47_dom_47_event__,$___46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47_helpers_47_number__,$___46__46__47__46__46__47_plugins__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],BasePlugin=($___46__46__47__95_base_46_js__=_dereq_("_base.js"),$___46__46__47__95_base_46_js__&&$___46__46__47__95_base_46_js__.__esModule&&$___46__46__47__95_base_46_js__||{"default":$___46__46__47__95_base_46_js__})["default"],$__2=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}),addClass=$__2.addClass,hasClass=$__2.hasClass,removeClass=$__2.removeClass,outerHeight=$__2.outerHeight,eventManagerObject=($___46__46__47__46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47__46__46__47_eventManager__&&$___46__46__47__46__46__47_eventManager__.__esModule&&$___46__46__47__46__46__47_eventManager__||{"default":$___46__46__47__46__46__47_eventManager__}).eventManager,$__4=($___46__46__47__46__46__47_helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$___46__46__47__46__46__47_helpers_47_dom_47_event__&&$___46__46__47__46__46__47_helpers_47_dom_47_event__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_event__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_event__}),pageX=$__4.pageX,arrayEach=($__4.pageY,($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayEach),rangeEach=($___46__46__47__46__46__47_helpers_47_number__=_dereq_("helpers/number"),$___46__46__47__46__46__47_helpers_47_number__&&$___46__46__47__46__46__47_helpers_47_number__.__esModule&&$___46__46__47__46__46__47_helpers_47_number__||{"default":$___46__46__47__46__46__47_helpers_47_number__}).rangeEach,registerPlugin=($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,ManualColumnResize=function(hotInstance){$traceurRuntime.superConstructor($ManualColumnResize).call(this,hotInstance),this.currentTH=null,this.currentCol=null,this.selectedCols=[],this.currentWidth=null,this.newSize=null,this.startY=null,this.startWidth=null,this.startOffset=null,this.handle=document.createElement("DIV"),this.guide=document.createElement("DIV"),this.eventManager=eventManagerObject(this),this.pressed=null,this.dblclick=0,this.autoresizeTimeout=null,this.manualColumnWidths=[],addClass(this.handle,"manualColumnResizer"),addClass(this.guide,"manualColumnResizerGuide")},$ManualColumnResize=ManualColumnResize;$traceurRuntime.createClass(ManualColumnResize,{isEnabled:function(){return this.hot.getSettings().manualColumnResize},enablePlugin:function(){var $__8=this;if(!this.enabled){this.manualColumnWidths=[];var initialColumnWidth=this.hot.getSettings().manualColumnResize,loadedManualColumnWidths=this.loadManualColumnWidths();this.addHook("modifyColWidth",function(width,col){return $__8.onModifyColWidth(width,col)}),this.addHook("beforeStretchingColumnWidth",function(stretchedWidth,column){return $__8.onBeforeStretchingColumnWidth(stretchedWidth,column)}),this.addHook("beforeColumnResize",function(currentColumn,newSize,isDoubleClick){return $__8.onBeforeColumnResize(currentColumn,newSize,isDoubleClick)}),"undefined"!=typeof loadedManualColumnWidths?this.manualColumnWidths=loadedManualColumnWidths:Array.isArray(initialColumnWidth)?this.manualColumnWidths=initialColumnWidth:this.manualColumnWidths=[],Handsontable.hooks.register("beforeColumnResize"),Handsontable.hooks.register("afterColumnResize"),this.bindEvents(),$traceurRuntime.superGet(this,$ManualColumnResize.prototype,"enablePlugin").call(this)}},updatePlugin:function(){var initialColumnWidth=this.hot.getSettings().manualColumnResize;Array.isArray(initialColumnWidth)?this.manualColumnWidths=initialColumnWidth:initialColumnWidth||(this.manualColumnWidths=[])},disablePlugin:function(){$traceurRuntime.superGet(this,$ManualColumnResize.prototype,"disablePlugin").call(this)},saveManualColumnWidths:function(){this.hot.runHooks("persistentStateSave","manualColumnWidths",this.manualColumnWidths)},loadManualColumnWidths:function(){var storedState={};return this.hot.runHooks("persistentStateLoad","manualColumnWidths",storedState),storedState.value},setupHandlePosition:function(TH){var $__8=this;if(!TH.parentNode)return!1;this.currentTH=TH;var col=this.hot.view.wt.wtTable.getCoords(TH).col,headerHeight=outerHeight(this.currentTH);if(col>=0){var box=this.currentTH.getBoundingClientRect();if(this.currentCol=col,this.selectedCols=[],this.hot.selection.isSelected()&&this.hot.selection.selectedHeader.cols){var $__10=this.hot.getSelectedRange(),from=$__10.from,to=$__10.to,start=from.col,end=to.col;start>=end&&(start=to.col,end=from.col),this.currentCol>=start&&this.currentCol<=end?rangeEach(start,end,function(i){return $__8.selectedCols.push(i)}):this.selectedCols.push(this.currentCol)}else this.selectedCols.push(this.currentCol);this.startOffset=box.left-6,this.startWidth=parseInt(box.width,10),this.handle.style.top=box.top+"px",this.handle.style.left=this.startOffset+this.startWidth+"px",this.handle.style.height=headerHeight+"px",this.hot.rootElement.appendChild(this.handle)}},refreshHandlePosition:function(){this.handle.style.left=this.startOffset+this.currentWidth+"px"},setupGuidePosition:function(){var handleHeight=parseInt(outerHeight(this.handle),10),handleBottomPosition=parseInt(this.handle.style.top,10)+handleHeight,maximumVisibleElementHeight=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);addClass(this.handle,"active"),addClass(this.guide,"active"),this.guide.style.top=handleBottomPosition+"px",this.guide.style.left=this.handle.style.left,this.guide.style.height=maximumVisibleElementHeight-handleHeight+"px",this.hot.rootElement.appendChild(this.guide)},refreshGuidePosition:function(){this.guide.style.left=this.handle.style.left},hideHandleAndGuide:function(){removeClass(this.handle,"active"),removeClass(this.guide,"active")},checkIfColumnHeader:function(element){if(element!=this.hot.rootElement){var parent=element.parentNode;return"THEAD"===parent.tagName||this.checkIfColumnHeader(parent)}return!1},getTHFromTargetElement:function(element){return"TABLE"!=element.tagName?"TH"==element.tagName?element:this.getTHFromTargetElement(element.parentNode):null},onMouseOver:function(event){if(this.checkIfColumnHeader(event.target)){var th=this.getTHFromTargetElement(event.target);if(!th)return;var colspan=th.getAttribute("colspan");!th||null!==colspan&&1!==colspan||this.pressed||this.setupHandlePosition(th)}},afterMouseDownTimeout:function(){var $__8=this,render=function(){$__8.hot.forceFullRender=!0,$__8.hot.view.render(),$__8.hot.view.wt.wtOverlays.adjustElementsSize(!0)},resize=function(selectedCol,forceRender){var hookNewSize=$__8.hot.runHooks("beforeColumnResize",selectedCol,$__8.newSize,!0);void 0!==hookNewSize&&($__8.newSize=hookNewSize),"all"===$__8.hot.getSettings().stretchH?$__8.clearManualSize(selectedCol):$__8.setManualSize(selectedCol,$__8.newSize),forceRender&&render(),$__8.saveManualColumnWidths(),$__8.hot.runHooks("afterColumnResize",selectedCol,$__8.newSize,!0)};if(this.dblclick>=2){var selectedColsLength=this.selectedCols.length;selectedColsLength>1?(arrayEach(this.selectedCols,function(selectedCol){resize(selectedCol)}),render()):arrayEach(this.selectedCols,function(selectedCol){resize(selectedCol,!0)})}this.dblclick=0,this.autoresizeTimeout=null},onMouseDown:function(event){var $__8=this;hasClass(event.target,"manualColumnResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return $__8.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick++,this.startX=pageX(event),this.newSize=this.startWidth)},onMouseMove:function(event){var $__8=this;this.pressed&&(this.currentWidth=this.startWidth+(pageX(event)-this.startX),arrayEach(this.selectedCols,function(selectedCol){$__8.newSize=$__8.setManualSize(selectedCol,$__8.currentWidth)}),this.refreshHandlePosition(),this.refreshGuidePosition())},onMouseUp:function(event){var $__8=this,render=function(){$__8.hot.forceFullRender=!0,$__8.hot.view.render(),$__8.hot.view.wt.wtOverlays.adjustElementsSize(!0)},resize=function(selectedCol,forceRender){$__8.hot.runHooks("beforeColumnResize",selectedCol,$__8.newSize),forceRender&&render(),$__8.saveManualColumnWidths(),$__8.hot.runHooks("afterColumnResize",selectedCol,$__8.newSize)};if(this.pressed){if(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!=this.startWidth){var selectedColsLength=this.selectedCols.length;selectedColsLength>1?(arrayEach(this.selectedCols,function(selectedCol){resize(selectedCol)}),render()):arrayEach(this.selectedCols,function(selectedCol){resize(selectedCol,!0)})}this.setupHandlePosition(this.currentTH)}},bindEvents:function(){var $__8=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(e){return $__8.onMouseOver(e)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(e){return $__8.onMouseDown(e)}),this.eventManager.addEventListener(window,"mousemove",function(e){return $__8.onMouseMove(e)}),this.eventManager.addEventListener(window,"mouseup",function(e){return $__8.onMouseUp(e)})},setManualSize:function(column,width){return width=Math.max(width,20),column=this.hot.runHooks("modifyCol",column),this.manualColumnWidths[column]=width,width},clearManualSize:function(column){column=this.hot.runHooks("modifyCol",column),this.manualColumnWidths[column]=void 0},onModifyColWidth:function(width,column){return this.enabled&&(column=this.hot.runHooks("modifyCol",column),this.hot.getSettings().manualColumnResize&&this.manualColumnWidths[column])?this.manualColumnWidths[column]:width},onBeforeStretchingColumnWidth:function(stretchedWidth,column){var width=this.manualColumnWidths[column];return void 0===width&&(width=stretchedWidth),width},onBeforeColumnResize:function(){this.hot.view.wt.wtViewport.hasOversizedColumnHeadersMarked={}}},{},BasePlugin),registerPlugin("manualColumnResize",ManualColumnResize)},{"_base.js":63,browser:24,eventManager:42,"helpers/array":43,"helpers/dom/element":47,"helpers/dom/event":48,"helpers/number":52,plugins:62}],103:[function(_dereq_,module,exports){Object.defineProperties(exports,{ManualRowMove:{get:function(){return ManualRowMove}},__esModule:{value:!0}});var $___46__46__47__95_base_46_js__,$___46__46__47__46__46__47_browser__,$___46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47_helpers_47_number__,$___46__46__47__46__46__47_eventManager__,$___46__46__47__46__46__47_plugins__,$__rowsMapper__,$__ui_47_backlight__,$__ui_47_guideline__,BasePlugin=($___46__46__47__95_base_46_js__=_dereq_("_base.js"),$___46__46__47__95_base_46_js__&&$___46__46__47__95_base_46_js__.__esModule&&$___46__46__47__95_base_46_js__||{"default":$___46__46__47__95_base_46_js__})["default"],Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],arrayEach=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayEach,$__3=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}),addClass=$__3.addClass,removeClass=$__3.removeClass,offset=$__3.offset,rangeEach=($___46__46__47__46__46__47_helpers_47_number__=_dereq_("helpers/number"),$___46__46__47__46__46__47_helpers_47_number__&&$___46__46__47__46__46__47_helpers_47_number__.__esModule&&$___46__46__47__46__46__47_helpers_47_number__||{"default":$___46__46__47__46__46__47_helpers_47_number__}).rangeEach,eventManagerObject=($___46__46__47__46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47__46__46__47_eventManager__&&$___46__46__47__46__46__47_eventManager__.__esModule&&$___46__46__47__46__46__47_eventManager__||{"default":$___46__46__47__46__46__47_eventManager__}).eventManager,registerPlugin=($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,RowsMapper=($__rowsMapper__=_dereq_("rowsMapper"),$__rowsMapper__&&$__rowsMapper__.__esModule&&$__rowsMapper__||{"default":$__rowsMapper__}).RowsMapper,BacklightUI=($__ui_47_backlight__=_dereq_("ui/backlight"),$__ui_47_backlight__&&$__ui_47_backlight__.__esModule&&$__ui_47_backlight__||{"default":$__ui_47_backlight__}).BacklightUI,GuidelineUI=($__ui_47_guideline__=_dereq_("ui/guideline"),$__ui_47_guideline__&&$__ui_47_guideline__.__esModule&&$__ui_47_guideline__||{"default":$__ui_47_guideline__}).GuidelineUI,privatePool=new WeakMap,CSS_PLUGIN="ht__manualRowMove",CSS_SHOW_UI="show-ui",CSS_ON_MOVING="on-moving--rows",CSS_AFTER_SELECTION="after-selection--rows",ManualRowMove=function(hotInstance){$traceurRuntime.superConstructor($ManualRowMove).call(this,hotInstance),privatePool.set(this,{rowsToMove:[],pressed:void 0,disallowMoving:void 0,target:{eventPageY:void 0,coords:void 0,TD:void 0,row:void 0}}),this.removedRows=[],this.rowsMapper=new RowsMapper(this),this.eventManager=eventManagerObject(this),this.backlight=new BacklightUI(hotInstance),this.guideline=new GuidelineUI(hotInstance)},$ManualRowMove=ManualRowMove;$traceurRuntime.createClass(ManualRowMove,{isEnabled:function(){return!!this.hot.getSettings().manualRowMove},enablePlugin:function(){var $__10=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(event,coords,TD,blockCalculations){return $__10.onBeforeOnCellMouseDown(event,coords,TD,blockCalculations)}),this.addHook("beforeOnCellMouseOver",function(event,coords,TD,blockCalculations){return $__10.onBeforeOnCellMouseOver(event,coords,TD,blockCalculations)}),this.addHook("afterScrollHorizontally",function(){return $__10.onAfterScrollHorizontally()}),this.addHook("modifyRow",function(row,source){return $__10.onModifyRow(row,source)}),this.addHook("beforeRemoveRow",function(index,amount){return $__10.onBeforeRemoveRow(index,amount)}),this.addHook("afterRemoveRow",function(index,amount){return $__10.onAfterRemoveRow(index,amount)}),this.addHook("afterCreateRow",function(index,amount){return $__10.onAfterCreateRow(index,amount)}),this.addHook("afterLoadData",function(firstTime){return $__10.onAfterLoadData(firstTime)}),this.addHook("beforeColumnSort",function(column,order){return $__10.onBeforeColumnSort(column,order)}),this.addHook("unmodifyRow",function(row){return $__10.onUnmodifyRow(row)}),this.registerEvents(),addClass(this.hot.rootElement,CSS_PLUGIN),$traceurRuntime.superGet(this,$ManualRowMove.prototype,"enablePlugin").call(this))},updatePlugin:function(){this.disablePlugin(),this.enablePlugin(),this.onAfterPluginsInitialized(),$traceurRuntime.superGet(this,$ManualRowMove.prototype,"updatePlugin").call(this)},disablePlugin:function(){var pluginSettings=this.hot.getSettings().manualRowMove;Array.isArray(pluginSettings)&&this.rowsMapper.clearMap(),removeClass(this.hot.rootElement,CSS_PLUGIN),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),$traceurRuntime.superGet(this,$ManualRowMove.prototype,"disablePlugin").call(this)},moveRow:function(row,target){this.moveRows([row],target)},moveRows:function(rows,target){var $__10=this,priv=privatePool.get(this),beforeMoveHook=this.hot.runHooks("beforeRowMove",rows,target);priv.disallowMoving=beforeMoveHook===!1,priv.disallowMoving||(arrayEach(rows,function(row,index,array){array[index]=$__10.rowsMapper.getValueByIndex(row)}),arrayEach(rows,function(row,index){var actualPosition=$__10.rowsMapper.getIndexByValue(row);actualPosition!==target&&$__10.rowsMapper.moveRow(actualPosition,target+index)}),this.rowsMapper.clearNull()),this.hot.runHooks("afterRowMove",rows,target)},changeSelection:function(startRow,endRow){var selection=this.hot.selection,lastColIndex=this.hot.countCols()-1;selection.setRangeStartOnly(new WalkontableCellCoords(startRow,0)),selection.setRangeEnd(new WalkontableCellCoords(endRow,lastColIndex),!1)},getRowsHeight:function(from,to){for(var height=0,i=from;i<to;i++){var rowHeight=this.hot.view.wt.wtTable.getRowHeight(i)||23;height+=rowHeight}return height},initialSettings:function(){var pluginSettings=this.hot.getSettings().manualRowMove;if(Array.isArray(pluginSettings))this.moveRows(pluginSettings,0);else if(void 0!==pluginSettings){var persistentState=this.persistentStateLoad();persistentState.length&&this.moveRows(persistentState,0)}},isFixedRowTop:function(row){return row<this.hot.getSettings().fixedRowsTop},isFixedRowBottom:function(row){return row>this.hot.getSettings().fixedRowsBottom},persistentStateSave:function(){Handsontable.hooks.run(this.hot,"persistentStateSave","manualRowMove",this.rowsMapper._arrayMap)},persistentStateLoad:function(){var storedState={};return Handsontable.hooks.run(this.hot,"persistentStateLoad","manualRowMove",storedState),storedState.value?storedState.value:[]},prepareRowsToMoving:function(){var selection=this.hot.getSelectedRange(),selectedRows=[];if(!selection)return selectedRows;var $__12=selection,from=$__12.from,to=$__12.to,start=Math.min(from.row,to.row),end=Math.max(from.row,to.row);return rangeEach(start,end,function(i){selectedRows.push(i)}),selectedRows},refreshPositions:function(){var priv=privatePool.get(this),coords=priv.target.coords,firstVisible=this.hot.view.wt.wtTable.getFirstVisibleRow(),lastVisible=this.hot.view.wt.wtTable.getLastVisibleRow(),fixedRows=this.hot.getSettings().fixedRowsTop,countRows=this.hot.countRows();coords.row<fixedRows&&firstVisible>0&&this.hot.scrollViewportTo(firstVisible-1),coords.row>=lastVisible&&lastVisible<countRows&&this.hot.scrollViewportTo(lastVisible+1,void 0,!0);var wtTable=this.hot.view.wt.wtTable,TD=priv.target.TD,rootElementOffset=offset(this.hot.rootElement),tdOffsetTop=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,coords.row),mouseOffsetTop=priv.target.eventPageY-rootElementOffset.top+wtTable.holder.scrollTop,hiderHeight=wtTable.hider.offsetHeight,tbodyOffsetTop=wtTable.TBODY.offsetTop,backlightElemMarginTop=this.backlight.getOffset().top,backlightElemHeight=this.backlight.getSize().height;rootElementOffset.top+wtTable.holder.offsetHeight<priv.target.eventPageY&&priv.target.coords.row++,this.isFixedRowTop(coords.row)&&(tdOffsetTop+=wtTable.holder.scrollTop),coords.row<0?priv.target.row=firstVisible>0?firstVisible-1:firstVisible:TD.offsetHeight/2+tdOffsetTop<=mouseOffsetTop?(priv.target.row=coords.row+1,tdOffsetTop+=0===coords.row?TD.offsetHeight-1:TD.offsetHeight):priv.target.row=coords.row;var backlightTop=mouseOffsetTop,guidelineTop=tdOffsetTop;mouseOffsetTop+backlightElemHeight+backlightElemMarginTop>=hiderHeight?backlightTop=hiderHeight-backlightElemHeight-backlightElemMarginTop:mouseOffsetTop+backlightElemMarginTop<tbodyOffsetTop&&(backlightTop=tbodyOffsetTop+Math.abs(backlightElemMarginTop)),tdOffsetTop>=hiderHeight-1&&(guidelineTop=hiderHeight-1);var topOverlayHeight=0;this.hot.view.wt.wtOverlays.topOverlay&&(topOverlayHeight=this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.TABLE.offsetHeight),coords.row>=fixedRows&&guidelineTop-wtTable.holder.scrollTop<topOverlayHeight&&this.hot.scrollViewportTo(coords.row),this.backlight.setPosition(backlightTop),this.guideline.setPosition(guidelineTop)},updateRowsMapper:function(){var countRows=this.hot.countSourceRows(),rowsMapperLen=this.rowsMapper._arrayMap.length;if(0===rowsMapperLen)this.rowsMapper.createMap(countRows||this.hot.getSettings().startRows);else if(rowsMapperLen<countRows){var diff=countRows-rowsMapperLen;this.rowsMapper.insertItems(rowsMapperLen,diff)}else if(rowsMapperLen>countRows){var maxIndex=countRows-1,rowsToRemove=[];arrayEach(this.rowsMapper._arrayMap,function(value,index,array){value>maxIndex&&rowsToRemove.push(index)}),this.rowsMapper.removeItems(rowsToRemove)}},registerEvents:function(){var $__10=this;this.eventManager.addEventListener(document.documentElement,"mousemove",function(event){return $__10.onMouseMove(event)}),this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return $__10.onMouseUp()})},unregisterEvents:function(){this.eventManager.clear()},onBeforeColumnSort:function(column,order){var priv=privatePool.get(this);priv.disallowMoving=void 0!==order},onBeforeOnCellMouseDown:function(event,coords,TD,blockCalculations){var wtTable=this.hot.view.wt.wtTable,isHeaderSelection=this.hot.selection.selectedHeader.rows,selection=this.hot.getSelectedRange(),priv=privatePool.get(this);if(!selection||!isHeaderSelection||priv.pressed||0!==event.button)return priv.pressed=!1,priv.rowsToMove.length=0,void removeClass(this.hot.rootElement,[CSS_ON_MOVING,CSS_SHOW_UI]);var guidelineIsNotReady=this.guideline.isBuilt()&&!this.guideline.isAppended(),backlightIsNotReady=this.backlight.isBuilt()&&!this.backlight.isAppended();guidelineIsNotReady&&backlightIsNotReady&&(this.guideline.appendTo(wtTable.hider),this.backlight.appendTo(wtTable.hider));var $__12=selection,from=$__12.from,to=$__12.to,start=Math.min(from.row,to.row),end=Math.max(from.row,to.row);if(coords.col<0&&coords.row>=start&&coords.row<=end){blockCalculations.row=!0,priv.pressed=!0,priv.target.eventPageY=event.pageY,priv.target.coords=coords,priv.target.TD=TD,priv.rowsToMove=this.prepareRowsToMoving();var leftPos=wtTable.holder.scrollLeft+wtTable.getColumnWidth(-1);this.backlight.setPosition(null,leftPos),this.backlight.setSize(wtTable.hider.offsetWidth-leftPos,this.getRowsHeight(start,end+1)),this.backlight.setOffset((this.getRowsHeight(start,coords.row)+event.layerY)*-1,null),addClass(this.hot.rootElement,CSS_ON_MOVING),this.refreshPositions()}else removeClass(this.hot.rootElement,CSS_AFTER_SELECTION),priv.pressed=!1,priv.rowsToMove.length=0},onMouseMove:function(event){var priv=privatePool.get(this);if(priv.pressed){if(event.realTarget===this.backlight.element){var height=this.backlight.getSize().height;this.backlight.setSize(null,0),setTimeout(function(){this.backlight.setPosition(null,height)})}priv.target.eventPageY=event.pageY,this.refreshPositions()}},onBeforeOnCellMouseOver:function(event,coords,TD,blockCalculations){var selectedRange=this.hot.getSelectedRange(),priv=privatePool.get(this);selectedRange&&priv.pressed&&(priv.rowsToMove.indexOf(coords.row)>-1?removeClass(this.hot.rootElement,CSS_SHOW_UI):addClass(this.hot.rootElement,CSS_SHOW_UI),blockCalculations.row=!0,blockCalculations.column=!0,blockCalculations.cell=!0,priv.target.coords=coords,priv.target.TD=TD)},onMouseUp:function(){var priv=privatePool.get(this),target=priv.target.row,rowsLen=priv.rowsToMove.length;if(priv.pressed=!1,priv.backlightHeight=0,removeClass(this.hot.rootElement,[CSS_ON_MOVING,CSS_SHOW_UI,CSS_AFTER_SELECTION]),this.hot.selection.selectedHeader.rows&&addClass(this.hot.rootElement,CSS_AFTER_SELECTION),!(rowsLen<1||void 0===target||priv.rowsToMove.indexOf(target)>-1||priv.rowsToMove[rowsLen-1]===target-1)){if(this.moveRows(priv.rowsToMove,target),this.persistentStateSave(),this.hot.render(),!priv.disallowMoving){var selectionStart=this.rowsMapper.getIndexByValue(priv.rowsToMove[0]),selectionEnd=this.rowsMapper.getIndexByValue(priv.rowsToMove[rowsLen-1]);this.changeSelection(selectionStart,selectionEnd)}priv.rowsToMove.length=0}},onAfterScrollHorizontally:function(){var wtTable=this.hot.view.wt.wtTable,headerWidth=wtTable.getColumnWidth(-1),scrollLeft=wtTable.holder.scrollLeft,posLeft=headerWidth+scrollLeft;this.backlight.setPosition(null,posLeft),this.backlight.setSize(wtTable.hider.offsetWidth-posLeft)},onAfterCreateRow:function(index,amount){this.rowsMapper.shiftItems(index,amount)},onBeforeRemoveRow:function(index,amount){var $__10=this;this.removedRows.length=0,index!==!1&&rangeEach(index,index+amount-1,function(removedIndex){$__10.removedRows.push($__10.hot.runHooks("modifyRow",removedIndex,$__10.pluginName))})},onAfterRemoveRow:function(index,amount){this.rowsMapper.unshiftItems(this.removedRows)},onAfterLoadData:function(firstTime){this.updateRowsMapper()},onModifyRow:function(row,source){if(source!==this.pluginName){var rowInMapper=this.rowsMapper.getValueByIndex(row);row=null===rowInMapper?row:rowInMapper}return row},onUnmodifyRow:function(row){var indexInMapper=this.rowsMapper.getIndexByValue(row);return null===indexInMapper?row:indexInMapper},onAfterPluginsInitialized:function(){this.updateRowsMapper(),this.initialSettings(),this.backlight.build(),this.guideline.build()},destroy:function(){this.backlight.destroy(),this.guideline.destroy(),$traceurRuntime.superGet(this,$ManualRowMove.prototype,"destroy").call(this)}},{},BasePlugin),registerPlugin("ManualRowMove",ManualRowMove),Handsontable.hooks.register("beforeRowMove"),Handsontable.hooks.register("afterRowMove"),Handsontable.hooks.register("unmodifyRow")},{"_base.js":63,browser:24,eventManager:42,"helpers/array":43,"helpers/dom/element":47,"helpers/number":52,plugins:62,rowsMapper:104,"ui/backlight":106,"ui/guideline":107}],104:[function(_dereq_,module,exports){Object.defineProperties(exports,{RowsMapper:{get:function(){return RowsMapper}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$___46__46__47__46__46__47_mixins_47_arrayMapper__,$___46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47_helpers_47_object__,$___46__46__47__46__46__47_helpers_47_number__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],arrayMapper=($___46__46__47__46__46__47_mixins_47_arrayMapper__=_dereq_("mixins/arrayMapper"),$___46__46__47__46__46__47_mixins_47_arrayMapper__&&$___46__46__47__46__46__47_mixins_47_arrayMapper__.__esModule&&$___46__46__47__46__46__47_mixins_47_arrayMapper__||{"default":$___46__46__47__46__46__47_mixins_47_arrayMapper__}).arrayMapper,arrayFilter=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayFilter,mixin=($___46__46__47__46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47__46__46__47_helpers_47_object__&&$___46__46__47__46__46__47_helpers_47_object__.__esModule&&$___46__46__47__46__46__47_helpers_47_object__||{"default":$___46__46__47__46__46__47_helpers_47_object__}).mixin,rangeEach=($___46__46__47__46__46__47_helpers_47_number__=_dereq_("helpers/number"),$___46__46__47__46__46__47_helpers_47_number__&&$___46__46__47__46__46__47_helpers_47_number__.__esModule&&$___46__46__47__46__46__47_helpers_47_number__||{"default":$___46__46__47__46__46__47_helpers_47_number__}).rangeEach,RowsMapper=function(manualRowMove){this.manualRowMove=manualRowMove};$traceurRuntime.createClass(RowsMapper,{createMap:function(length){var $__5=this,originLength=void 0===length?this._arrayMap.length:length;this._arrayMap.length=0,rangeEach(originLength-1,function(itemIndex){$__5._arrayMap[itemIndex]=itemIndex})},destroy:function(){this._arrayMap=null},moveRow:function(from,to){var indexToMove=this._arrayMap[from];this._arrayMap[from]=null,this._arrayMap.splice(to,0,indexToMove)},clearNull:function(){this._arrayMap=arrayFilter(this._arrayMap,function(i){return null!==i})}},{}),mixin(RowsMapper,arrayMapper),Handsontable.utils.ManualRowMoveRowsMapper=RowsMapper},{browser:24,"helpers/array":43,"helpers/number":52,"helpers/object":53,"mixins/arrayMapper":57}],105:[function(_dereq_,module,exports){Object.defineProperties(exports,{BaseUI:{get:function(){return BaseUI}},__esModule:{value:!0}});var STATE_INITIALIZED=0,STATE_BUILT=1,STATE_APPENDED=2,UNIT="px",BaseUI=function(hotInstance){this.hot=hotInstance,this._element=null,this.state=STATE_INITIALIZED};$traceurRuntime.createClass(BaseUI,{appendTo:function(wrapper){wrapper.appendChild(this._element),this.state=STATE_APPENDED},build:function(){this._element=document.createElement("div"),this.state=STATE_BUILT},destroy:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=STATE_INITIALIZED},isAppended:function(){return this.state===STATE_APPENDED},isBuilt:function(){return this.state>=STATE_BUILT},setPosition:function(top,left){top&&(this._element.style.top=top+UNIT),left&&(this._element.style.left=left+UNIT)},getPosition:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}},setSize:function(width,height){width&&(this._element.style.width=width+UNIT),height&&(this._element.style.height=height+UNIT)},getSize:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}},setOffset:function(top,left){top&&(this._element.style.marginTop=top+UNIT),left&&(this._element.style.marginLeft=left+UNIT)},getOffset:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}},{})},{}],106:[function(_dereq_,module,exports){Object.defineProperties(exports,{BacklightUI:{get:function(){return BacklightUI}},__esModule:{value:!0}});var $___95_base__,$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,BaseUI=($___95_base__=_dereq_("_base"),
$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).BaseUI,addClass=($___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}).addClass,CSS_CLASSNAME="ht__manualRowMove--backlight",BacklightUI=function(hotInstance){$traceurRuntime.superConstructor($BacklightUI).call(this,hotInstance)},$BacklightUI=BacklightUI;$traceurRuntime.createClass(BacklightUI,{build:function(){$traceurRuntime.superGet(this,$BacklightUI.prototype,"build").call(this),addClass(this._element,CSS_CLASSNAME)}},{},BaseUI)},{_base:105,"helpers/dom/element":47}],107:[function(_dereq_,module,exports){Object.defineProperties(exports,{GuidelineUI:{get:function(){return GuidelineUI}},__esModule:{value:!0}});var $___95_base__,$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__,BaseUI=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).BaseUI,addClass=($___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47__46__46__47_helpers_47_dom_47_element__}).addClass,CSS_CLASSNAME="ht__manualRowMove--guideline",GuidelineUI=function(hotInstance){$traceurRuntime.superConstructor($GuidelineUI).call(this,hotInstance)},$GuidelineUI=GuidelineUI;$traceurRuntime.createClass(GuidelineUI,{build:function(){$traceurRuntime.superGet(this,$GuidelineUI.prototype,"build").call(this),addClass(this._element,CSS_CLASSNAME)}},{},BaseUI)},{_base:105,"helpers/dom/element":47}],108:[function(_dereq_,module,exports){Object.defineProperties(exports,{ManualRowResize:{get:function(){return ManualRowResize}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$___46__46__47__95_base_46_js__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47_eventManager__,$___46__46__47__46__46__47_helpers_47_dom_47_event__,$___46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47_helpers_47_number__,$___46__46__47__46__46__47_plugins__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],BasePlugin=($___46__46__47__95_base_46_js__=_dereq_("_base.js"),$___46__46__47__95_base_46_js__&&$___46__46__47__95_base_46_js__.__esModule&&$___46__46__47__95_base_46_js__||{"default":$___46__46__47__95_base_46_js__})["default"],$__2=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}),addClass=$__2.addClass,hasClass=$__2.hasClass,removeClass=$__2.removeClass,outerWidth=$__2.outerWidth,eventManagerObject=($___46__46__47__46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47__46__46__47_eventManager__&&$___46__46__47__46__46__47_eventManager__.__esModule&&$___46__46__47__46__46__47_eventManager__||{"default":$___46__46__47__46__46__47_eventManager__}).eventManager,$__4=($___46__46__47__46__46__47_helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$___46__46__47__46__46__47_helpers_47_dom_47_event__&&$___46__46__47__46__46__47_helpers_47_dom_47_event__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_event__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_event__}),pageY=($__4.pageX,$__4.pageY),arrayEach=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayEach,rangeEach=($___46__46__47__46__46__47_helpers_47_number__=_dereq_("helpers/number"),$___46__46__47__46__46__47_helpers_47_number__&&$___46__46__47__46__46__47_helpers_47_number__.__esModule&&$___46__46__47__46__46__47_helpers_47_number__||{"default":$___46__46__47__46__46__47_helpers_47_number__}).rangeEach,registerPlugin=($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,ManualRowResize=function(hotInstance){$traceurRuntime.superConstructor($ManualRowResize).call(this,hotInstance),this.currentTH=null,this.currentRow=null,this.selectedRows=[],this.currentHeight=null,this.newSize=null,this.startY=null,this.startHeight=null,this.startOffset=null,this.handle=document.createElement("DIV"),this.guide=document.createElement("DIV"),this.eventManager=eventManagerObject(this),this.pressed=null,this.dblclick=0,this.autoresizeTimeout=null,this.manualRowHeights=[],addClass(this.handle,"manualRowResizer"),addClass(this.guide,"manualRowResizerGuide")},$ManualRowResize=ManualRowResize;$traceurRuntime.createClass(ManualRowResize,{isEnabled:function(){return this.hot.getSettings().manualRowResize},enablePlugin:function(){var $__8=this;if(!this.enabled){this.manualRowHeights=[];var initialRowHeights=this.hot.getSettings().manualRowResize,loadedManualRowHeights=this.loadManualRowHeights();"undefined"!=typeof loadedManualRowHeights?this.manualRowHeights=loadedManualRowHeights:Array.isArray(initialRowHeights)?this.manualRowHeights=initialRowHeights:this.manualRowHeights=[],this.addHook("modifyRowHeight",function(height,row){return $__8.onModifyRowHeight(height,row)}),Handsontable.hooks.register("beforeRowResize"),Handsontable.hooks.register("afterRowResize"),this.bindEvents(),$traceurRuntime.superGet(this,$ManualRowResize.prototype,"enablePlugin").call(this)}},updatePlugin:function(){var initialRowHeights=this.hot.getSettings().manualRowResize;Array.isArray(initialRowHeights)?this.manualRowHeights=initialRowHeights:initialRowHeights||(this.manualRowHeights=[])},disablePlugin:function(){$traceurRuntime.superGet(this,$ManualRowResize.prototype,"disablePlugin").call(this)},saveManualRowHeights:function(){this.hot.runHooks("persistentStateSave","manualRowHeights",this.manualRowHeights)},loadManualRowHeights:function(){var storedState={};return this.hot.runHooks("persistentStateLoad","manualRowHeights",storedState),storedState.value},setupHandlePosition:function(TH){var $__8=this;this.currentTH=TH;var row=this.hot.view.wt.wtTable.getCoords(TH).row,headerWidth=outerWidth(this.currentTH);if(row>=0){var box=this.currentTH.getBoundingClientRect();if(this.currentRow=row,this.selectedRows=[],this.hot.selection.isSelected()&&this.hot.selection.selectedHeader.rows){var $__10=this.hot.getSelectedRange(),from=$__10.from,to=$__10.to,start=from.row,end=to.row;start>=end&&(start=to.row,end=from.row),this.currentRow>=start&&this.currentRow<=end?rangeEach(start,end,function(i){return $__8.selectedRows.push(i)}):this.selectedRows.push(this.currentRow)}else this.selectedRows.push(this.currentRow);this.startOffset=box.top-6,this.startHeight=parseInt(box.height,10),this.handle.style.left=box.left+"px",this.handle.style.top=this.startOffset+this.startHeight+"px",this.handle.style.width=headerWidth+"px",this.hot.rootElement.appendChild(this.handle)}},refreshHandlePosition:function(){this.handle.style.top=this.startOffset+this.currentHeight+"px"},setupGuidePosition:function(){var handleWidth=parseInt(outerWidth(this.handle),10),handleRightPosition=parseInt(this.handle.style.left,10)+handleWidth,maximumVisibleElementWidth=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);addClass(this.handle,"active"),addClass(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style.left=handleRightPosition+"px",this.guide.style.width=maximumVisibleElementWidth-handleWidth+"px",this.hot.rootElement.appendChild(this.guide)},refreshGuidePosition:function(){this.guide.style.top=this.handle.style.top},hideHandleAndGuide:function(){removeClass(this.handle,"active"),removeClass(this.guide,"active")},checkIfRowHeader:function(element){if(element!=this.hot.rootElement){var parent=element.parentNode;return"TBODY"===parent.tagName||this.checkIfRowHeader(parent)}return!1},getTHFromTargetElement:function(element){return"TABLE"!=element.tagName?"TH"==element.tagName?element:this.getTHFromTargetElement(element.parentNode):null},onMouseOver:function(event){if(this.checkIfRowHeader(event.target)){var th=this.getTHFromTargetElement(event.target);th&&(this.pressed||this.setupHandlePosition(th))}},afterMouseDownTimeout:function(){var $__8=this,render=function(){$__8.hot.forceFullRender=!0,$__8.hot.view.render(),$__8.hot.view.wt.wtOverlays.adjustElementsSize(!0)},resize=function(selectedRow,forceRender){var hookNewSize=$__8.hot.runHooks("beforeRowResize",selectedRow,$__8.newSize,!0);void 0!==hookNewSize&&($__8.newSize=hookNewSize),$__8.setManualSize(selectedRow,$__8.newSize),forceRender&&render(),$__8.hot.runHooks("afterRowResize",selectedRow,$__8.newSize,!0)};if(this.dblclick>=2){var selectedRowsLength=this.selectedRows.length;selectedRowsLength>1?(arrayEach(this.selectedRows,function(selectedRow){resize(selectedRow)}),render()):arrayEach(this.selectedRows,function(selectedRow){resize(selectedRow,!0)})}this.dblclick=0,this.autoresizeTimeout=null},onMouseDown:function(event){var $__8=this;hasClass(event.target,"manualRowResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null==this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return $__8.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick++,this.startY=pageY(event),this.newSize=this.startHeight)},onMouseMove:function(event){var $__8=this;this.pressed&&(this.currentHeight=this.startHeight+(pageY(event)-this.startY),arrayEach(this.selectedRows,function(selectedRow){$__8.newSize=$__8.setManualSize(selectedRow,$__8.currentHeight)}),this.refreshHandlePosition(),this.refreshGuidePosition())},onMouseUp:function(event){var $__8=this,render=function(){$__8.hot.forceFullRender=!0,$__8.hot.view.render(),$__8.hot.view.wt.wtOverlays.adjustElementsSize(!0)},runHooks=function(selectedRow,forceRender){$__8.hot.runHooks("beforeRowResize",selectedRow,$__8.newSize),forceRender&&render(),$__8.saveManualRowHeights(),$__8.hot.runHooks("afterRowResize",selectedRow,$__8.newSize)};if(this.pressed){if(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!=this.startHeight){var selectedRowsLength=this.selectedRows.length;selectedRowsLength>1?(arrayEach(this.selectedRows,function(selectedRow){runHooks(selectedRow)}),render()):arrayEach(this.selectedRows,function(selectedRow){runHooks(selectedRow,!0)})}this.setupHandlePosition(this.currentTH)}},bindEvents:function(){var $__8=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(e){return $__8.onMouseOver(e)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(e){return $__8.onMouseDown(e)}),this.eventManager.addEventListener(window,"mousemove",function(e){return $__8.onMouseMove(e)}),this.eventManager.addEventListener(window,"mouseup",function(e){return $__8.onMouseUp(e)})},setManualSize:function(row,height){return row=this.hot.runHooks("modifyRow",row),this.manualRowHeights[row]=height,height},onModifyRowHeight:function(height,row){if(this.enabled){var autoRowSizePlugin=this.hot.getPlugin("autoRowSize"),autoRowHeightResult=autoRowSizePlugin?autoRowSizePlugin.heights[row]:null;row=this.hot.runHooks("modifyRow",row);var manualRowHeight=this.manualRowHeights[row];if(void 0!==manualRowHeight&&(manualRowHeight===autoRowHeightResult||manualRowHeight>(height||0)))return manualRowHeight}return height}},{},BasePlugin),registerPlugin("manualRowResize",ManualRowResize)},{"_base.js":63,browser:24,eventManager:42,"helpers/array":43,"helpers/dom/element":47,"helpers/dom/event":48,"helpers/number":52,plugins:62}],109:[function(_dereq_,module,exports){function CellInfoCollection(){var collection=[];return collection.getInfo=function(row,col){for(var i=0,ilen=this.length;i<ilen;i++)if(this[i].row<=row&&this[i].row+this[i].rowspan-1>=row&&this[i].col<=col&&this[i].col+this[i].colspan-1>=col)return this[i]},collection.setInfo=function(info){for(var i=0,ilen=this.length;i<ilen;i++)if(this[i].row===info.row&&this[i].col===info.col)return void(this[i]=info);this.push(info)},collection.removeInfo=function(row,col){for(var i=0,ilen=this.length;i<ilen;i++)if(this[i].row===row&&this[i].col===col){this.splice(i,1);break}},collection}function MergeCells(mergeCellsSetting){if(this.mergedCellInfoCollection=new CellInfoCollection,Array.isArray(mergeCellsSetting))for(var i=0,ilen=mergeCellsSetting.length;i<ilen;i++)this.mergedCellInfoCollection.setInfo(mergeCellsSetting[i])}function modifyAutofillRange(select,drag){var mergeCellsSetting=this.getSettings().mergeCells;if(mergeCellsSetting&&!this.selection.isMultiple()){var info=this.mergeCells.mergedCellInfoCollection.getInfo(select[0],select[1]);info&&(select[0]=info.row,select[1]=info.col,select[2]=info.row+info.rowspan-1,select[3]=info.col+info.colspan-1)}}function onAfterCreateCol(col,count){this.mergeCells&&this.mergeCells.shiftCollection("right",col,count)}function onAfterRemoveCol(col,count){this.mergeCells&&this.mergeCells.shiftCollection("left",col,count)}function onAfterCreateRow(row,count){this.mergeCells&&this.mergeCells.shiftCollection("down",row,count)}function onAfterRemoveRow(row,count){this.mergeCells&&this.mergeCells.shiftCollection("up",row,count)}Object.defineProperties(exports,{MergeCells:{get:function(){return MergeCells}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$___46__46__47__46__46__47_plugins__,$___46__46__47__46__46__47_helpers_47_dom_47_event__,$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__,$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__,$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_table__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],stopImmediatePropagation=(($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,($___46__46__47__46__46__47_helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$___46__46__47__46__46__47_helpers_47_dom_47_event__&&$___46__46__47__46__46__47_helpers_47_dom_47_event__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_event__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_event__}).stopImmediatePropagation),WalkontableCellCoords=($___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__=_dereq_("3rdparty/walkontable/src/cell/coords"),$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__.__esModule&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__||{"default":$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__}).WalkontableCellCoords,WalkontableCellRange=($___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__=_dereq_("3rdparty/walkontable/src/cell/range"),$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__.__esModule&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__||{"default":$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_range__}).WalkontableCellRange,WalkontableTable=($___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_table__=_dereq_("3rdparty/walkontable/src/table"),$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_table__&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_table__.__esModule&&$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_table__||{"default":$___46__46__47__46__46__47_3rdparty_47_walkontable_47_src_47_table__}).WalkontableTable;MergeCells.prototype.canMergeRange=function(cellRange){return!cellRange.isSingle()},MergeCells.prototype.mergeRange=function(cellRange){if(this.canMergeRange(cellRange)){var topLeft=cellRange.getTopLeftCorner(),bottomRight=cellRange.getBottomRightCorner(),mergeParent={};mergeParent.row=topLeft.row,mergeParent.col=topLeft.col,mergeParent.rowspan=bottomRight.row-topLeft.row+1,mergeParent.colspan=bottomRight.col-topLeft.col+1,this.mergedCellInfoCollection.setInfo(mergeParent)}},MergeCells.prototype.mergeOrUnmergeSelection=function(cellRange){var info=this.mergedCellInfoCollection.getInfo(cellRange.from.row,cellRange.from.col);info?this.unmergeSelection(cellRange.from):this.mergeSelection(cellRange)},MergeCells.prototype.mergeSelection=function(cellRange){this.mergeRange(cellRange)},MergeCells.prototype.unmergeSelection=function(cellRange){var info=this.mergedCellInfoCollection.getInfo(cellRange.row,cellRange.col);this.mergedCellInfoCollection.removeInfo(info.row,info.col)},MergeCells.prototype.applySpanProperties=function(TD,row,col){var info=this.mergedCellInfoCollection.getInfo(row,col);info?info.row===row&&info.col===col?(TD.setAttribute("rowspan",info.rowspan),TD.setAttribute("colspan",info.colspan)):(TD.removeAttribute("rowspan"),TD.removeAttribute("colspan"),TD.style.display="none"):(TD.removeAttribute("rowspan"),TD.removeAttribute("colspan"))},MergeCells.prototype.modifyTransform=function(hook,currentSelectedRange,delta){var sameRowspan=function(merged,coords){return coords.row>=merged.row&&coords.row<=merged.row+merged.rowspan-1},sameColspan=function(merged,coords){return coords.col>=merged.col&&coords.col<=merged.col+merged.colspan-1},getNextPosition=function(newDelta){return new WalkontableCellCoords(currentSelectedRange.to.row+newDelta.row,currentSelectedRange.to.col+newDelta.col)},newDelta={row:delta.row,col:delta.col};if("modifyTransformStart"==hook){this.lastDesiredCoords||(this.lastDesiredCoords=new WalkontableCellCoords(null,null));for(var currentRangeContainsMerge,currentPosition=new WalkontableCellCoords(currentSelectedRange.highlight.row,currentSelectedRange.highlight.col),mergedParent=this.mergedCellInfoCollection.getInfo(currentPosition.row,currentPosition.col),i=0,mergesLength=this.mergedCellInfoCollection.length;i<mergesLength;i++){var range=this.mergedCellInfoCollection[i];if(range=new WalkontableCellCoords(range.row+range.rowspan-1,range.col+range.colspan-1),currentSelectedRange.includes(range)){currentRangeContainsMerge=!0;break}}if(mergedParent){var mergeTopLeft=new WalkontableCellCoords(mergedParent.row,mergedParent.col),mergeBottomRight=new WalkontableCellCoords(mergedParent.row+mergedParent.rowspan-1,mergedParent.col+mergedParent.colspan-1),mergeRange=new WalkontableCellRange(mergeTopLeft,mergeTopLeft,mergeBottomRight);mergeRange.includes(this.lastDesiredCoords)||(this.lastDesiredCoords=new WalkontableCellCoords(null,null)),newDelta.row=this.lastDesiredCoords.row?this.lastDesiredCoords.row-currentPosition.row:newDelta.row,newDelta.col=this.lastDesiredCoords.col?this.lastDesiredCoords.col-currentPosition.col:newDelta.col,delta.row>0?newDelta.row=mergedParent.row+mergedParent.rowspan-1-currentPosition.row+delta.row:delta.row<0&&(newDelta.row=currentPosition.row-mergedParent.row+delta.row),delta.col>0?newDelta.col=mergedParent.col+mergedParent.colspan-1-currentPosition.col+delta.col:delta.col<0&&(newDelta.col=currentPosition.col-mergedParent.col+delta.col)}var nextPosition=new WalkontableCellCoords(currentSelectedRange.highlight.row+newDelta.row,currentSelectedRange.highlight.col+newDelta.col),nextParentIsMerged=this.mergedCellInfoCollection.getInfo(nextPosition.row,nextPosition.col);nextParentIsMerged&&(this.lastDesiredCoords=nextPosition,newDelta={row:nextParentIsMerged.row-currentPosition.row,col:nextParentIsMerged.col-currentPosition.col})}else if("modifyTransformEnd"==hook)for(var i=0,mergesLength=this.mergedCellInfoCollection.length;i<mergesLength;i++){var currentMerge=this.mergedCellInfoCollection[i],mergeTopLeft=new WalkontableCellCoords(currentMerge.row,currentMerge.col),mergeBottomRight=new WalkontableCellCoords(currentMerge.row+currentMerge.rowspan-1,currentMerge.col+currentMerge.colspan-1),mergedRange=new WalkontableCellRange(mergeTopLeft,mergeTopLeft,mergeBottomRight),sharedBorders=currentSelectedRange.getBordersSharedWith(mergedRange);if(mergedRange.isEqual(currentSelectedRange))currentSelectedRange.setDirection("NW-SE");else if(sharedBorders.length>0){var mergeHighlighted=currentSelectedRange.highlight.isEqual(mergedRange.from);sharedBorders.indexOf("top")>-1?currentSelectedRange.to.isSouthEastOf(mergedRange.from)&&mergeHighlighted?currentSelectedRange.setDirection("NW-SE"):currentSelectedRange.to.isSouthWestOf(mergedRange.from)&&mergeHighlighted&&currentSelectedRange.setDirection("NE-SW"):sharedBorders.indexOf("bottom")>-1&&(currentSelectedRange.to.isNorthEastOf(mergedRange.from)&&mergeHighlighted?currentSelectedRange.setDirection("SW-NE"):currentSelectedRange.to.isNorthWestOf(mergedRange.from)&&mergeHighlighted&&currentSelectedRange.setDirection("SE-NW"))}var nextPosition=getNextPosition(newDelta),withinRowspan=sameRowspan(currentMerge,nextPosition),withinColspan=sameColspan(currentMerge,nextPosition);currentSelectedRange.includesRange(mergedRange)&&(mergedRange.includes(nextPosition)||withinRowspan||withinColspan)&&(withinRowspan&&(newDelta.row<0?newDelta.row-=currentMerge.rowspan-1:newDelta.row>0&&(newDelta.row+=currentMerge.rowspan-1)),withinColspan&&(newDelta.col<0?newDelta.col-=currentMerge.colspan-1:newDelta.col>0&&(newDelta.col+=currentMerge.colspan-1)))}0!==newDelta.row&&(delta.row=newDelta.row),0!==newDelta.col&&(delta.col=newDelta.col)},MergeCells.prototype.shiftCollection=function(direction,index,count){var shiftVector=[0,0];switch(direction){case"right":shiftVector[0]+=1;break;case"left":shiftVector[0]-=1;break;case"down":shiftVector[1]+=1;break;case"up":shiftVector[1]-=1}for(var i=0;i<this.mergedCellInfoCollection.length;i++){var currentMerge=this.mergedCellInfoCollection[i];"right"===direction||"left"===direction?index<=currentMerge.col&&(currentMerge.col+=shiftVector[0]):index<=currentMerge.row&&(currentMerge.row+=shiftVector[1])}};var beforeInit=function(){var instance=this,mergeCellsSetting=instance.getSettings().mergeCells;mergeCellsSetting&&(instance.mergeCells||(instance.mergeCells=new MergeCells(mergeCellsSetting)))},afterInit=function(){var instance=this;instance.mergeCells&&(instance.view.wt.wtTable.getCell=function(coords){if(instance.getSettings().mergeCells){var mergeParent=instance.mergeCells.mergedCellInfoCollection.getInfo(coords.row,coords.col);mergeParent&&(coords=mergeParent)}return WalkontableTable.prototype.getCell.call(this,coords)})},afterUpdateSettings=function(){var instance=this,mergeCellsSetting=instance.getSettings().mergeCells;if(mergeCellsSetting)if(instance.mergeCells){if(instance.mergeCells.mergedCellInfoCollection=new CellInfoCollection,Array.isArray(mergeCellsSetting))for(var i=0,ilen=mergeCellsSetting.length;i<ilen;i++)instance.mergeCells.mergedCellInfoCollection.setInfo(mergeCellsSetting[i])}else instance.mergeCells=new MergeCells(mergeCellsSetting);else instance.mergeCells&&(instance.mergeCells.mergedCellInfoCollection=new CellInfoCollection)},onBeforeKeyDown=function(event){if(this.mergeCells){var ctrlDown=(event.ctrlKey||event.metaKey)&&!event.altKey;ctrlDown&&77===event.keyCode&&(this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render(),stopImmediatePropagation(event))}},addMergeActionsToContextMenu=function(defaultOptions){this.getSettings().mergeCells&&(defaultOptions.items.push(Handsontable.plugins.ContextMenu.SEPARATOR),defaultOptions.items.push({key:"mergeCells",name:function(){var sel=this.getSelected(),info=this.mergeCells.mergedCellInfoCollection.getInfo(sel[0],sel[1]);return info?"Unmerge cells":"Merge cells"},callback:function(){this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render()},disabled:function(){return this.selection.selectedHeader.corner}}))},afterRenderer=function(TD,row,col,prop,value,cellProperties){this.mergeCells&&this.mergeCells.applySpanProperties(TD,row,col)},modifyTransformFactory=function(hook){return function(delta){var mergeCellsSetting=this.getSettings().mergeCells;if(mergeCellsSetting){var currentSelectedRange=this.getSelectedRange();if(this.mergeCells.modifyTransform(hook,currentSelectedRange,delta),"modifyTransformEnd"===hook){var totalRows=this.countRows(),totalCols=this.countCols();currentSelectedRange.from.row<0?currentSelectedRange.from.row=0:currentSelectedRange.from.row>0&&currentSelectedRange.from.row>=totalRows&&(currentSelectedRange.from.row=currentSelectedRange.from-1),currentSelectedRange.from.col<0?currentSelectedRange.from.col=0:currentSelectedRange.from.col>0&&currentSelectedRange.from.col>=totalCols&&(currentSelectedRange.from.col=totalCols-1)}}}},beforeSetRangeEnd=function(coords){this.lastDesiredCoords=null;var mergeCellsSetting=this.getSettings().mergeCells;if(mergeCellsSetting){var selRange=this.getSelectedRange();selRange.highlight=new WalkontableCellCoords(selRange.highlight.row,selRange.highlight.col),selRange.to=coords;var rangeExpanded=!1;do{rangeExpanded=!1;for(var i=0,ilen=this.mergeCells.mergedCellInfoCollection.length;i<ilen;i++){var cellInfo=this.mergeCells.mergedCellInfoCollection[i],mergedCellTopLeft=new WalkontableCellCoords(cellInfo.row,cellInfo.col),mergedCellBottomRight=new WalkontableCellCoords(cellInfo.row+cellInfo.rowspan-1,cellInfo.col+cellInfo.colspan-1),mergedCellRange=new WalkontableCellRange(mergedCellTopLeft,mergedCellTopLeft,mergedCellBottomRight);selRange.expandByRange(mergedCellRange)&&(coords.row=selRange.to.row,coords.col=selRange.to.col,rangeExpanded=!0)}}while(rangeExpanded)}},beforeDrawAreaBorders=function(corners,className){if(className&&"area"==className){var mergeCellsSetting=this.getSettings().mergeCells;if(mergeCellsSetting)for(var selRange=this.getSelectedRange(),startRange=new WalkontableCellRange(selRange.from,selRange.from,selRange.from),stopRange=new WalkontableCellRange(selRange.to,selRange.to,selRange.to),i=0,ilen=this.mergeCells.mergedCellInfoCollection.length;i<ilen;i++){var cellInfo=this.mergeCells.mergedCellInfoCollection[i],mergedCellTopLeft=new WalkontableCellCoords(cellInfo.row,cellInfo.col),mergedCellBottomRight=new WalkontableCellCoords(cellInfo.row+cellInfo.rowspan-1,cellInfo.col+cellInfo.colspan-1),mergedCellRange=new WalkontableCellRange(mergedCellTopLeft,mergedCellTopLeft,mergedCellBottomRight);startRange.expandByRange(mergedCellRange)&&(corners[0]=startRange.from.row,corners[1]=startRange.from.col),stopRange.expandByRange(mergedCellRange)&&(corners[2]=stopRange.from.row,corners[3]=stopRange.from.col)}}},afterGetCellMeta=function(row,col,cellProperties){var mergeCellsSetting=this.getSettings().mergeCells;if(mergeCellsSetting){var mergeParent=this.mergeCells.mergedCellInfoCollection.getInfo(row,col);!mergeParent||mergeParent.row==row&&mergeParent.col==col||(cellProperties.copyable=!1)}},afterViewportRowCalculatorOverride=function afterViewportRowCalculatorOverride(calc){var mergeCellsSetting=this.getSettings().mergeCells;if(mergeCellsSetting)for(var mergeParent,colCount=this.countCols(),c=0;c<colCount;c++){if(mergeParent=this.mergeCells.mergedCellInfoCollection.getInfo(calc.startRow,c),mergeParent&&mergeParent.row<calc.startRow)return calc.startRow=mergeParent.row,afterViewportRowCalculatorOverride.call(this,calc);if(mergeParent=this.mergeCells.mergedCellInfoCollection.getInfo(calc.endRow,c)){var mergeEnd=mergeParent.row+mergeParent.rowspan-1;if(mergeEnd>calc.endRow)return calc.endRow=mergeEnd,afterViewportRowCalculatorOverride.call(this,calc)}}},afterViewportColumnCalculatorOverride=function afterViewportColumnCalculatorOverride(calc){var mergeCellsSetting=this.getSettings().mergeCells;if(mergeCellsSetting)for(var mergeParent,rowCount=this.countRows(),r=0;r<rowCount;r++){if(mergeParent=this.mergeCells.mergedCellInfoCollection.getInfo(r,calc.startColumn),mergeParent&&mergeParent.col<calc.startColumn)return calc.startColumn=mergeParent.col,afterViewportColumnCalculatorOverride.call(this,calc);if(mergeParent=this.mergeCells.mergedCellInfoCollection.getInfo(r,calc.endColumn)){var mergeEnd=mergeParent.col+mergeParent.colspan-1;if(mergeEnd>calc.endColumn)return calc.endColumn=mergeEnd,afterViewportColumnCalculatorOverride.call(this,calc)}}},isMultipleSelection=function(isMultiple){if(isMultiple&&this.mergeCells){var mergedCells=this.mergeCells.mergedCellInfoCollection,selectionRange=this.getSelectedRange();for(var group in mergedCells)if(selectionRange.highlight.row==mergedCells[group].row&&selectionRange.highlight.col==mergedCells[group].col&&selectionRange.to.row==mergedCells[group].row+mergedCells[group].rowspan-1&&selectionRange.to.col==mergedCells[group].col+mergedCells[group].colspan-1)return!1}return isMultiple};Handsontable.hooks.add("beforeInit",beforeInit),Handsontable.hooks.add("afterInit",afterInit),Handsontable.hooks.add("afterUpdateSettings",afterUpdateSettings),Handsontable.hooks.add("beforeKeyDown",onBeforeKeyDown),Handsontable.hooks.add("modifyTransformStart",modifyTransformFactory("modifyTransformStart")),Handsontable.hooks.add("modifyTransformEnd",modifyTransformFactory("modifyTransformEnd")),Handsontable.hooks.add("beforeSetRangeEnd",beforeSetRangeEnd),Handsontable.hooks.add("beforeDrawBorders",beforeDrawAreaBorders),Handsontable.hooks.add("afterIsMultipleSelection",isMultipleSelection),Handsontable.hooks.add("afterRenderer",afterRenderer),Handsontable.hooks.add("afterContextMenuDefaultOptions",addMergeActionsToContextMenu),Handsontable.hooks.add("afterGetCellMeta",afterGetCellMeta),Handsontable.hooks.add("afterViewportRowCalculatorOverride",afterViewportRowCalculatorOverride),Handsontable.hooks.add("afterViewportColumnCalculatorOverride",afterViewportColumnCalculatorOverride),Handsontable.hooks.add("modifyAutofillRange",modifyAutofillRange),Handsontable.hooks.add("afterCreateCol",onAfterCreateCol),Handsontable.hooks.add("afterRemoveCol",onAfterRemoveCol),Handsontable.hooks.add("afterCreateRow",onAfterCreateRow),Handsontable.hooks.add("afterRemoveRow",onAfterRemoveRow),Handsontable.MergeCells=MergeCells},{"3rdparty/walkontable/src/cell/coords":6,"3rdparty/walkontable/src/cell/range":7,"3rdparty/walkontable/src/table":21,browser:24,"helpers/dom/event":48,plugins:62}],110:[function(_dereq_,module,exports){Object.defineProperties(exports,{MultipleSelectionHandles:{get:function(){return MultipleSelectionHandles}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47_helpers_47_browser__,$___46__46__47__95_base__,$___46__46__47__46__46__47_eventManager__,$___46__46__47__46__46__47_plugins__,$__1=(($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__
})["default"],$___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}),getWindowScrollTop=$__1.getWindowScrollTop,hasClass=$__1.hasClass,getWindowScrollLeft=$__1.getWindowScrollLeft,isMobileBrowser=($___46__46__47__46__46__47_helpers_47_browser__=_dereq_("helpers/browser"),$___46__46__47__46__46__47_helpers_47_browser__&&$___46__46__47__46__46__47_helpers_47_browser__.__esModule&&$___46__46__47__46__46__47_helpers_47_browser__||{"default":$___46__46__47__46__46__47_helpers_47_browser__}).isMobileBrowser,BasePlugin=($___46__46__47__95_base__=_dereq_("_base"),$___46__46__47__95_base__&&$___46__46__47__95_base__.__esModule&&$___46__46__47__95_base__||{"default":$___46__46__47__95_base__})["default"],EventManager=($___46__46__47__46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47__46__46__47_eventManager__&&$___46__46__47__46__46__47_eventManager__.__esModule&&$___46__46__47__46__46__47_eventManager__||{"default":$___46__46__47__46__46__47_eventManager__}).EventManager,registerPlugin=($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,MultipleSelectionHandles=function(hotInstance){$traceurRuntime.superConstructor($MultipleSelectionHandles).call(this,hotInstance),this.dragged=[],this.eventManager=null,this.lastSetCell=null},$MultipleSelectionHandles=MultipleSelectionHandles;$traceurRuntime.createClass(MultipleSelectionHandles,{isEnabled:function(){return isMobileBrowser()},enablePlugin:function(){this.enabled||(this.eventManager||(this.eventManager=new EventManager(this)),this.registerListeners(),$traceurRuntime.superGet(this,$MultipleSelectionHandles.prototype,"enablePlugin").call(this))},registerListeners:function(){function removeFromDragged(query){if(1===_this.dragged.length)return _this.dragged.splice(0,_this.dragged.length),!0;var entryPosition=_this.dragged.indexOf(query);return entryPosition!=-1&&void(0===entryPosition?_this.dragged=_this.dragged.slice(0,1):1==entryPosition&&(_this.dragged=_this.dragged.slice(-1)))}var _this=this;this.eventManager.addEventListener(this.hot.rootElement,"touchstart",function(event){var selectedRange;return hasClass(event.target,"topLeftSelectionHandle-HitArea")?(selectedRange=_this.hot.getSelectedRange(),_this.dragged.push("topLeft"),_this.touchStartRange={width:selectedRange.getWidth(),height:selectedRange.getHeight(),direction:selectedRange.getDirection()},event.preventDefault(),!1):hasClass(event.target,"bottomRightSelectionHandle-HitArea")?(selectedRange=_this.hot.getSelectedRange(),_this.dragged.push("bottomRight"),_this.touchStartRange={width:selectedRange.getWidth(),height:selectedRange.getHeight(),direction:selectedRange.getDirection()},event.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchend",function(event){return hasClass(event.target,"topLeftSelectionHandle-HitArea")?(removeFromDragged.call(_this,"topLeft"),_this.touchStartRange=void 0,event.preventDefault(),!1):hasClass(event.target,"bottomRightSelectionHandle-HitArea")?(removeFromDragged.call(_this,"bottomRight"),_this.touchStartRange=void 0,event.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchmove",function(event){var endTarget,targetCoords,selectedRange,rangeWidth,rangeHeight,rangeDirection,newRangeCoords,scrollTop=getWindowScrollTop(),scrollLeft=getWindowScrollLeft();0!==_this.dragged.length&&(endTarget=document.elementFromPoint(event.touches[0].screenX-scrollLeft,event.touches[0].screenY-scrollTop),endTarget&&endTarget!==_this.lastSetCell&&("TD"!=endTarget.nodeName&&"TH"!=endTarget.nodeName||(targetCoords=_this.hot.getCoords(endTarget),targetCoords.col==-1&&(targetCoords.col=0),selectedRange=_this.hot.getSelectedRange(),rangeWidth=selectedRange.getWidth(),rangeHeight=selectedRange.getHeight(),rangeDirection=selectedRange.getDirection(),1==rangeWidth&&1==rangeHeight&&_this.hot.selection.setRangeEnd(targetCoords),newRangeCoords=_this.getCurrentRangeCoords(selectedRange,targetCoords,_this.touchStartRange.direction,rangeDirection,_this.dragged[0]),null!==newRangeCoords.start&&_this.hot.selection.setRangeStart(newRangeCoords.start),_this.hot.selection.setRangeEnd(newRangeCoords.end),_this.lastSetCell=endTarget),event.preventDefault()))})},getCurrentRangeCoords:function(selectedRange,currentTouch,touchStartDirection,currentDirection,draggedHandle){var topLeftCorner=selectedRange.getTopLeftCorner(),bottomRightCorner=selectedRange.getBottomRightCorner(),bottomLeftCorner=selectedRange.getBottomLeftCorner(),topRightCorner=selectedRange.getTopRightCorner(),newCoords={start:null,end:null};switch(touchStartDirection){case"NE-SW":switch(currentDirection){case"NE-SW":case"NW-SE":newCoords="topLeft"==draggedHandle?{start:new WalkontableCellCoords(currentTouch.row,selectedRange.highlight.col),end:new WalkontableCellCoords(bottomLeftCorner.row,currentTouch.col)}:{start:new WalkontableCellCoords(selectedRange.highlight.row,currentTouch.col),end:new WalkontableCellCoords(currentTouch.row,topLeftCorner.col)};break;case"SE-NW":"bottomRight"==draggedHandle&&(newCoords={start:new WalkontableCellCoords(bottomRightCorner.row,currentTouch.col),end:new WalkontableCellCoords(currentTouch.row,topLeftCorner.col)})}break;case"NW-SE":switch(currentDirection){case"NE-SW":"topLeft"==draggedHandle?newCoords={start:currentTouch,end:bottomLeftCorner}:newCoords.end=currentTouch;break;case"NW-SE":"topLeft"==draggedHandle?newCoords={start:currentTouch,end:bottomRightCorner}:newCoords.end=currentTouch;break;case"SE-NW":"topLeft"==draggedHandle?newCoords={start:currentTouch,end:topLeftCorner}:newCoords.end=currentTouch;break;case"SW-NE":"topLeft"==draggedHandle?newCoords={start:currentTouch,end:topRightCorner}:newCoords.end=currentTouch}break;case"SW-NE":switch(currentDirection){case"NW-SE":newCoords="bottomRight"==draggedHandle?{start:new WalkontableCellCoords(currentTouch.row,topLeftCorner.col),end:new WalkontableCellCoords(bottomLeftCorner.row,currentTouch.col)}:{start:new WalkontableCellCoords(topLeftCorner.row,currentTouch.col),end:new WalkontableCellCoords(currentTouch.row,bottomRightCorner.col)};break;case"SW-NE":newCoords="topLeft"==draggedHandle?{start:new WalkontableCellCoords(selectedRange.highlight.row,currentTouch.col),end:new WalkontableCellCoords(currentTouch.row,bottomRightCorner.col)}:{start:new WalkontableCellCoords(currentTouch.row,topLeftCorner.col),end:new WalkontableCellCoords(topLeftCorner.row,currentTouch.col)};break;case"SE-NW":"bottomRight"==draggedHandle?newCoords={start:new WalkontableCellCoords(currentTouch.row,topRightCorner.col),end:new WalkontableCellCoords(topLeftCorner.row,currentTouch.col)}:"topLeft"==draggedHandle&&(newCoords={start:bottomLeftCorner,end:currentTouch})}break;case"SE-NW":switch(currentDirection){case"NW-SE":case"NE-SW":case"SW-NE":"topLeft"==draggedHandle&&(newCoords.end=currentTouch);break;case"SE-NW":"topLeft"==draggedHandle?newCoords.end=currentTouch:newCoords={start:currentTouch,end:topLeftCorner}}}return newCoords},isDragged:function(){return this.dragged.length>0}},{},BasePlugin),registerPlugin("multipleSelectionHandles",MultipleSelectionHandles)},{_base:63,browser:24,eventManager:42,"helpers/browser":44,"helpers/dom/element":47,plugins:62}],111:[function(_dereq_,module,exports){Object.defineProperties(exports,{DataObserver:{get:function(){return DataObserver}},__esModule:{value:!0}});var $__jsonpatch__,$___46__46__47__46__46__47_mixins_47_localHooks__,$___46__46__47__46__46__47_helpers_47_object__,$__utils__,jsonpatch=($__jsonpatch__=_dereq_("jsonpatch"),$__jsonpatch__&&$__jsonpatch__.__esModule&&$__jsonpatch__||{"default":$__jsonpatch__})["default"],localHooks=($___46__46__47__46__46__47_mixins_47_localHooks__=_dereq_("../../mixins/localHooks"),$___46__46__47__46__46__47_mixins_47_localHooks__&&$___46__46__47__46__46__47_mixins_47_localHooks__.__esModule&&$___46__46__47__46__46__47_mixins_47_localHooks__||{"default":$___46__46__47__46__46__47_mixins_47_localHooks__}).localHooks,mixin=($___46__46__47__46__46__47_helpers_47_object__=_dereq_("../../helpers/object"),$___46__46__47__46__46__47_helpers_47_object__&&$___46__46__47__46__46__47_helpers_47_object__.__esModule&&$___46__46__47__46__46__47_helpers_47_object__||{"default":$___46__46__47__46__46__47_helpers_47_object__}).mixin,cleanPatches=($__utils__=_dereq_("utils"),$__utils__&&$__utils__.__esModule&&$__utils__||{"default":$__utils__}).cleanPatches,DataObserver=function(observedData){this.observedData=null,this.observer=null,this.paused=!1,this.setObservedData(observedData)};$traceurRuntime.createClass(DataObserver,{setObservedData:function(observedData){var $__4=this;this.observer&&jsonpatch.unobserve(this.observedData,this.observer),this.observedData=observedData,this.observer=jsonpatch.observe(this.observedData,function(patches){return $__4.onChange(patches)})},isPaused:function(){return this.paused},pause:function(){this.paused=!0},resume:function(){this.paused=!1},onChange:function(patches){this.runLocalHooks("change",cleanPatches(patches))},destroy:function(){jsonpatch.unobserve(this.observedData,this.observer),this.observedData=null,this.observer=null}},{}),mixin(DataObserver,localHooks)},{"../../helpers/object":53,"../../mixins/localHooks":58,jsonpatch:"jsonpatch",utils:113}],112:[function(_dereq_,module,exports){Object.defineProperties(exports,{ObserveChanges:{get:function(){return ObserveChanges}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$___46__46__47__95_base__,$__jsonpatch__,$__dataObserver__,$___46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47_plugins__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],BasePlugin=($___46__46__47__95_base__=_dereq_("_base"),$___46__46__47__95_base__&&$___46__46__47__95_base__.__esModule&&$___46__46__47__95_base__||{"default":$___46__46__47__95_base__})["default"],DataObserver=(($__jsonpatch__=_dereq_("jsonpatch"),$__jsonpatch__&&$__jsonpatch__.__esModule&&$__jsonpatch__||{"default":$__jsonpatch__})["default"],($__dataObserver__=_dereq_("dataObserver"),$__dataObserver__&&$__dataObserver__.__esModule&&$__dataObserver__||{"default":$__dataObserver__}).DataObserver),arrayEach=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayEach,registerPlugin=($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin;Handsontable.hooks.register("afterChangesObserved");var ObserveChanges=function(hotInstance){$traceurRuntime.superConstructor($ObserveChanges).call(this,hotInstance),this.observer=null},$ObserveChanges=ObserveChanges;$traceurRuntime.createClass(ObserveChanges,{isEnabled:function(){return this.hot.getSettings().observeChanges},enablePlugin:function(){var $__6=this;this.enabled||(this.observer||(this.observer=new DataObserver(this.hot.getSourceData()),this._exposePublicApi()),this.observer.addLocalHook("change",function(patches){return $__6.onDataChange(patches)}),this.addHook("afterCreateRow",function(){return $__6.onAfterTableAlter()}),this.addHook("afterRemoveRow",function(){return $__6.onAfterTableAlter()}),this.addHook("afterCreateCol",function(){return $__6.onAfterTableAlter()}),this.addHook("afterRemoveCol",function(){return $__6.onAfterTableAlter()}),this.addHook("afterChange",function(changes,source){return $__6.onAfterTableAlter(source)}),this.addHook("afterLoadData",function(firstRun){return $__6.onAfterLoadData(firstRun)}),$traceurRuntime.superGet(this,$ObserveChanges.prototype,"enablePlugin").call(this))},disablePlugin:function(){this.observer&&(this.observer.destroy(),this.observer=null,this._deletePublicApi()),$traceurRuntime.superGet(this,$ObserveChanges.prototype,"disablePlugin").call(this)},onDataChange:function(patches){var $__6=this;if(!this.observer.isPaused()){var sourceName=this.pluginName+".change",actions={add:function(patch){isNaN(patch.col)?$__6.hot.runHooks("afterCreateRow",patch.row,1,sourceName):$__6.hot.runHooks("afterCreateCol",patch.col,1,sourceName)},remove:function(patch){isNaN(patch.col)?$__6.hot.runHooks("afterRemoveRow",patch.row,1,sourceName):$__6.hot.runHooks("afterRemoveCol",patch.col,1,sourceName)},replace:function(patch){$__6.hot.runHooks("afterChange",[patch.row,patch.col,null,patch.value],sourceName)}};arrayEach(patches,function(patch){actions[patch.op]&&actions[patch.op](patch)}),this.hot.render()}this.hot.runHooks("afterChangesObserved")},onAfterTableAlter:function(source){var $__6=this;"loadData"!==source&&(this.observer.pause(),this.hot.addHookOnce("afterChangesObserved",function(){return $__6.observer.resume()}))},onAfterLoadData:function(firstRun){firstRun||this.observer.setObservedData(this.hot.getSourceData())},destroy:function(){this.observer&&(this.observer.destroy(),this._deletePublicApi()),$traceurRuntime.superGet(this,$ObserveChanges.prototype,"destroy").call(this)},_exposePublicApi:function(){var $__6=this,hot=this.hot;hot.pauseObservingChanges=function(){return $__6.observer.pause()},hot.resumeObservingChanges=function(){return $__6.observer.resume()},hot.isPausedObservingChanges=function(){return $__6.observer.isPaused()}},_deletePublicApi:function(){var hot=this.hot;delete hot.pauseObservingChanges,delete hot.resumeObservingChanges,delete hot.isPausedObservingChanges}},{},BasePlugin),registerPlugin("observeChanges",ObserveChanges)},{_base:63,browser:24,dataObserver:111,"helpers/array":43,jsonpatch:"jsonpatch",plugins:62}],113:[function(_dereq_,module,exports){function cleanPatches(patches){var newOrRemovedColumns=[];return patches=arrayFilter(patches,function(patch){return!/[\/]length/gi.test(patch.path)&&!!parsePath(patch.path)}),patches=arrayMap(patches,function(patch){var coords=parsePath(patch.path);return patch.row=coords.row,patch.col=coords.col,patch}),patches=arrayFilter(patches,function(patch){if(["add","remove"].indexOf(patch.op)!==-1&&!isNaN(patch.col)){if(newOrRemovedColumns.indexOf(patch.col)!==-1)return!1;newOrRemovedColumns.push(patch.col)}return!0}),newOrRemovedColumns.length=0,patches}function parsePath(path){var match=path.match(/^\/(\d+)\/?(.*)?$/);if(!match)return null;var $__1=match,row=$__1[1],column=$__1[2];return{row:parseInt(row,10),col:/^\d*$/.test(column)?parseInt(column,10):column}}Object.defineProperties(exports,{cleanPatches:{get:function(){return cleanPatches}},parsePath:{get:function(){return parsePath}},__esModule:{value:!0}});var $___46__46__47__46__46__47_helpers_47_array__,$__0=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("../../helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}),arrayFilter=$__0.arrayFilter,arrayMap=$__0.arrayMap},{"../../helpers/array":43}],114:[function(_dereq_,module,exports){function Storage(prefix){var savedKeys,saveSavedKeys=function(){window.localStorage[prefix+"__persistentStateKeys"]=JSON.stringify(savedKeys)},loadSavedKeys=function(){var keysJSON=window.localStorage[prefix+"__persistentStateKeys"],keys="string"==typeof keysJSON?JSON.parse(keysJSON):void 0;savedKeys=keys?keys:[]},clearSavedKeys=function(){savedKeys=[],saveSavedKeys()};loadSavedKeys(),this.saveValue=function(key,value){window.localStorage[prefix+"_"+key]=JSON.stringify(value),savedKeys.indexOf(key)==-1&&(savedKeys.push(key),saveSavedKeys())},this.loadValue=function(key,defaultValue){key="undefined"==typeof key?defaultValue:key;var value=window.localStorage[prefix+"_"+key];return"undefined"==typeof value?void 0:JSON.parse(value)},this.reset=function(key){window.localStorage.removeItem(prefix+"_"+key)},this.resetAll=function(){for(var index=0;index<savedKeys.length;index++)window.localStorage.removeItem(prefix+"_"+savedKeys[index]);clearSavedKeys()}}function HandsontablePersistentState(){function addHooks(){var instance=this;for(var hookName in hooks)hooks.hasOwnProperty(hookName)&&instance.addHook(hookName,hooks[hookName])}function removeHooks(){var instance=this;for(var hookName in hooks)hooks.hasOwnProperty(hookName)&&instance.removeHook(hookName,hooks[hookName])}var plugin=this;this.init=function(){var instance=this,pluginSettings=instance.getSettings().persistentState;return plugin.enabled=!!pluginSettings,plugin.enabled?(instance.storage||(instance.storage=new Storage(instance.rootElement.id)),instance.resetState=plugin.resetValue,void addHooks.call(instance)):void removeHooks.call(instance)},this.saveValue=function(key,value){var instance=this;instance.storage.saveValue(key,value)},this.loadValue=function(key,saveTo){var instance=this;saveTo.value=instance.storage.loadValue(key)},this.resetValue=function(key){var instance=this;"undefined"==typeof key?instance.storage.resetAll():instance.storage.reset(key)};var hooks={persistentStateSave:plugin.saveValue,persistentStateLoad:plugin.loadValue,persistentStateReset:plugin.resetValue};for(var hookName in hooks)hooks.hasOwnProperty(hookName)&&Handsontable.hooks.register(hookName)}Object.defineProperties(exports,{HandsontablePersistentState:{get:function(){return HandsontablePersistentState}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$___46__46__47__46__46__47_plugins__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],htPersistentState=(($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,new HandsontablePersistentState);Handsontable.hooks.add("beforeInit",htPersistentState.init),Handsontable.hooks.add("afterUpdateSettings",htPersistentState.init)},{browser:24,plugins:62}],115:[function(_dereq_,module,exports){function init(){var instance=this,pluginEnabled=!!instance.getSettings().search;pluginEnabled?instance.search=new Handsontable.Search(instance):delete instance.search}var $___46__46__47__46__46__47_browser__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47_renderers__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],$__1=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}),addClass=$__1.addClass,removeClass=$__1.removeClass,$__2=($___46__46__47__46__46__47_renderers__=_dereq_("renderers"),$___46__46__47__46__46__47_renderers__&&$___46__46__47__46__46__47_renderers__.__esModule&&$___46__46__47__46__46__47_renderers__||{"default":$___46__46__47__46__46__47_renderers__}),registerRenderer=$__2.registerRenderer,getRenderer=$__2.getRenderer;Handsontable.Search=function(instance){this.query=function(queryStr,callback,queryMethod){var rowCount=instance.countRows(),colCount=instance.countCols(),queryResult=[];callback||(callback=Handsontable.Search.global.getDefaultCallback()),queryMethod||(queryMethod=Handsontable.Search.global.getDefaultQueryMethod());for(var rowIndex=0;rowIndex<rowCount;rowIndex++)for(var colIndex=0;colIndex<colCount;colIndex++){var cellData=instance.getDataAtCell(rowIndex,colIndex),cellProperties=instance.getCellMeta(rowIndex,colIndex),cellCallback=cellProperties.search.callback||callback,cellQueryMethod=cellProperties.search.queryMethod||queryMethod,testResult=cellQueryMethod(queryStr,cellData);if(testResult){var singleResult={row:rowIndex,col:colIndex,data:cellData};queryResult.push(singleResult)}cellCallback&&cellCallback(instance,rowIndex,colIndex,cellData,testResult)}return queryResult}},Handsontable.Search.DEFAULT_CALLBACK=function(instance,row,col,data,testResult){instance.getCellMeta(row,col).isSearchResult=testResult},Handsontable.Search.DEFAULT_QUERY_METHOD=function(query,value){return!("undefined"==typeof query||null==query||!query.toLowerCase||0===query.length)&&("undefined"!=typeof value&&null!=value&&value.toString().toLowerCase().indexOf(query.toLowerCase())!=-1)},Handsontable.Search.DEFAULT_SEARCH_RESULT_CLASS="htSearchResult",Handsontable.Search.global=function(){var defaultCallback=Handsontable.Search.DEFAULT_CALLBACK,defaultQueryMethod=Handsontable.Search.DEFAULT_QUERY_METHOD,defaultSearchResultClass=Handsontable.Search.DEFAULT_SEARCH_RESULT_CLASS;return{getDefaultCallback:function(){return defaultCallback},setDefaultCallback:function(newDefaultCallback){defaultCallback=newDefaultCallback},getDefaultQueryMethod:function(){return defaultQueryMethod},setDefaultQueryMethod:function(newDefaultQueryMethod){defaultQueryMethod=newDefaultQueryMethod},getDefaultSearchResultClass:function(){return defaultSearchResultClass},setDefaultSearchResultClass:function(newSearchResultClass){defaultSearchResultClass=newSearchResultClass}}}(),Handsontable.SearchCellDecorator=function(instance,TD,row,col,prop,value,cellProperties){var searchResultClass=null!==cellProperties.search&&"object"==_typeof(cellProperties.search)&&cellProperties.search.searchResultClass||Handsontable.Search.global.getDefaultSearchResultClass();cellProperties.isSearchResult?addClass(TD,searchResultClass):removeClass(TD,searchResultClass)};var originalBaseRenderer=getRenderer("base");registerRenderer("base",function(instance,TD,row,col,prop,value,cellProperties){originalBaseRenderer.apply(this,arguments),Handsontable.SearchCellDecorator.apply(this,arguments)}),Handsontable.hooks.add("afterInit",init),Handsontable.hooks.add("afterUpdateSettings",init)},{browser:24,"helpers/dom/element":47,renderers:118}],116:[function(_dereq_,module,exports){Object.defineProperties(exports,{TouchScroll:{get:function(){return TouchScroll}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$___46__46__47__46__46__47_helpers_47_dom_47_element__,$___46__46__47__46__46__47_helpers_47_array__,$___46__46__47__95_base__,$___46__46__47__46__46__47_plugins__,$___46__46__47__46__46__47_helpers_47_feature__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],$__1=($___46__46__47__46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47__46__46__47_helpers_47_dom_47_element__&&$___46__46__47__46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_element__}),addClass=$__1.addClass,removeClass=$__1.removeClass,arrayEach=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayEach,BasePlugin=($___46__46__47__95_base__=_dereq_("_base"),$___46__46__47__95_base__&&$___46__46__47__95_base__.__esModule&&$___46__46__47__95_base__||{"default":$___46__46__47__95_base__})["default"],registerPlugin=($___46__46__47__46__46__47_plugins__=_dereq_("plugins"),$___46__46__47__46__46__47_plugins__&&$___46__46__47__46__46__47_plugins__.__esModule&&$___46__46__47__46__46__47_plugins__||{"default":$___46__46__47__46__46__47_plugins__}).registerPlugin,isTouchSupported=($___46__46__47__46__46__47_helpers_47_feature__=_dereq_("helpers/feature"),$___46__46__47__46__46__47_helpers_47_feature__&&$___46__46__47__46__46__47_helpers_47_feature__.__esModule&&$___46__46__47__46__46__47_helpers_47_feature__||{"default":$___46__46__47__46__46__47_helpers_47_feature__}).isTouchSupported,TouchScroll=function(hotInstance){$traceurRuntime.superConstructor($TouchScroll).call(this,hotInstance),this.scrollbars=[],this.clones=[],this.lockedCollection=!1},$TouchScroll=TouchScroll;$traceurRuntime.createClass(TouchScroll,{isEnabled:function(){return isTouchSupported()},enablePlugin:function(){var $__6=this;this.enabled||(this.addHook("afterRender",function(){return $__6.onAfterRender()}),this.registerEvents(),$traceurRuntime.superGet(this,$TouchScroll.prototype,"enablePlugin").call(this))},updatePlugin:function(){this.lockedCollection=!1,$traceurRuntime.superGet(this,$TouchScroll.prototype,"updatePlugin").call(this)},disablePlugin:function(){$traceurRuntime.superGet(this,$TouchScroll.prototype,"disablePlugin").call(this)},registerEvents:function(){var $__6=this;this.addHook("beforeTouchScroll",function(){return $__6.onBeforeTouchScroll()}),this.addHook("afterMomentumScroll",function(){return $__6.onAfterMomentumScroll()})},onAfterRender:function(){if(!this.lockedCollection){var $__8=this.hot.view.wt.wtOverlays,topOverlay=$__8.topOverlay,bottomOverlay=$__8.bottomOverlay,leftOverlay=$__8.leftOverlay,topLeftCornerOverlay=$__8.topLeftCornerOverlay,bottomLeftCornerOverlay=$__8.bottomLeftCornerOverlay;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(topOverlay),bottomOverlay.clone&&this.scrollbars.push(bottomOverlay),this.scrollbars.push(leftOverlay),topLeftCornerOverlay&&this.scrollbars.push(topLeftCornerOverlay),bottomLeftCornerOverlay&&bottomLeftCornerOverlay.clone&&this.scrollbars.push(bottomLeftCornerOverlay),this.clones.length=0,topOverlay.needFullRender&&this.clones.push(topOverlay.clone.wtTable.holder.parentNode),bottomOverlay.needFullRender&&this.clones.push(bottomOverlay.clone.wtTable.holder.parentNode),leftOverlay.needFullRender&&this.clones.push(leftOverlay.clone.wtTable.holder.parentNode),topLeftCornerOverlay&&this.clones.push(topLeftCornerOverlay.clone.wtTable.holder.parentNode),bottomLeftCornerOverlay&&bottomLeftCornerOverlay.clone&&this.clones.push(bottomLeftCornerOverlay.clone.wtTable.holder.parentNode)}},onBeforeTouchScroll:function(){Handsontable.freezeOverlays=!0,arrayEach(this.clones,function(clone){addClass(clone,"hide-tween")})},onAfterMomentumScroll:function(){var $__6=this;Handsontable.freezeOverlays=!1,arrayEach(this.clones,function(clone){removeClass(clone,"hide-tween"),addClass(clone,"show-tween")}),setTimeout(function(){arrayEach($__6.clones,function(clone){removeClass(clone,"show-tween")})},400),arrayEach(this.scrollbars,function(scrollbar){scrollbar.refresh(),scrollbar.resetFixedPosition()}),this.hot.view.wt.wtOverlays.syncScrollWithMaster()}},{},BasePlugin),registerPlugin("touchScroll",TouchScroll)},{_base:63,browser:24,"helpers/array":43,"helpers/dom/element":47,"helpers/feature":49,plugins:62}],117:[function(_dereq_,module,exports){function init(){var instance=this,pluginEnabled="undefined"==typeof instance.getSettings().undo||instance.getSettings().undo;pluginEnabled?instance.undoRedo||(instance.undoRedo=new Handsontable.UndoRedo(instance),exposeUndoRedoMethods(instance),instance.addHook("beforeKeyDown",onBeforeKeyDown),instance.addHook("afterChange",onAfterChange)):instance.undoRedo&&(delete instance.undoRedo,removeExposedUndoRedoMethods(instance),instance.removeHook("beforeKeyDown",onBeforeKeyDown),instance.removeHook("afterChange",onAfterChange))}function onBeforeKeyDown(event){var instance=this,ctrlDown=(event.ctrlKey||event.metaKey)&&!event.altKey;ctrlDown&&(89===event.keyCode||event.shiftKey&&90===event.keyCode?(instance.undoRedo.redo(),stopImmediatePropagation(event)):90===event.keyCode&&(instance.undoRedo.undo(),stopImmediatePropagation(event)))}function onAfterChange(changes,source){var instance=this;if("loadData"===source)return instance.undoRedo.clear()}function exposeUndoRedoMethods(instance){instance.undo=function(){return instance.undoRedo.undo()},instance.redo=function(){return instance.undoRedo.redo()},instance.isUndoAvailable=function(){return instance.undoRedo.isUndoAvailable()},instance.isRedoAvailable=function(){return instance.undoRedo.isRedoAvailable()},instance.clearUndo=function(){return instance.undoRedo.clear()}}function removeExposedUndoRedoMethods(instance){delete instance.undo,delete instance.redo,delete instance.isUndoAvailable,delete instance.isRedoAvailable,delete instance.clearUndo}var $___46__46__47__46__46__47_browser__,$___46__46__47__46__46__47_helpers_47_array__,$___46__46__47__46__46__47_helpers_47_number__,$___46__46__47__46__46__47_helpers_47_object__,$___46__46__47__46__46__47_helpers_47_dom_47_event__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],arrayMap=($___46__46__47__46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47__46__46__47_helpers_47_array__&&$___46__46__47__46__46__47_helpers_47_array__.__esModule&&$___46__46__47__46__46__47_helpers_47_array__||{"default":$___46__46__47__46__46__47_helpers_47_array__}).arrayMap,rangeEach=($___46__46__47__46__46__47_helpers_47_number__=_dereq_("helpers/number"),$___46__46__47__46__46__47_helpers_47_number__&&$___46__46__47__46__46__47_helpers_47_number__.__esModule&&$___46__46__47__46__46__47_helpers_47_number__||{"default":$___46__46__47__46__46__47_helpers_47_number__}).rangeEach,$__3=($___46__46__47__46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47__46__46__47_helpers_47_object__&&$___46__46__47__46__46__47_helpers_47_object__.__esModule&&$___46__46__47__46__46__47_helpers_47_object__||{"default":$___46__46__47__46__46__47_helpers_47_object__}),inherit=$__3.inherit,deepClone=$__3.deepClone,stopImmediatePropagation=($___46__46__47__46__46__47_helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$___46__46__47__46__46__47_helpers_47_dom_47_event__&&$___46__46__47__46__46__47_helpers_47_dom_47_event__.__esModule&&$___46__46__47__46__46__47_helpers_47_dom_47_event__||{"default":$___46__46__47__46__46__47_helpers_47_dom_47_event__}).stopImmediatePropagation;Handsontable.UndoRedo=function(instance){var plugin=this;this.instance=instance,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,instance.addHook("afterChange",function(changes,source){changes&&"UndoRedo.undo"!==source&&"UndoRedo.redo"!==source&&plugin.done(new Handsontable.UndoRedo.ChangeAction(changes))}),instance.addHook("afterCreateRow",function(index,amount,source){if("UndoRedo.undo"!==source&&"UndoRedo.undo"!==source&&"auto"!==source){var action=new Handsontable.UndoRedo.CreateRowAction(index,amount);plugin.done(action)}}),instance.addHook("beforeRemoveRow",function(index,amount,logicRows,source){if("UndoRedo.undo"!==source&&"UndoRedo.redo"!==source&&"auto"!==source){
var originalData=plugin.instance.getSourceDataArray();index=(originalData.length+index)%originalData.length;var removedData=deepClone(originalData.slice(index,index+amount));plugin.done(new Handsontable.UndoRedo.RemoveRowAction(index,removedData))}}),instance.addHook("afterCreateCol",function(index,amount,source){"UndoRedo.undo"!==source&&"UndoRedo.redo"!==source&&"auto"!==source&&plugin.done(new Handsontable.UndoRedo.CreateColumnAction(index,amount))}),instance.addHook("beforeRemoveCol",function(index,amount,logicColumns,source){if("UndoRedo.undo"!==source&&"UndoRedo.redo"!==source&&"auto"!==source){var originalData=plugin.instance.getSourceDataArray();index=(plugin.instance.countCols()+index)%plugin.instance.countCols();var removedData=[],headers=[],indexes=[];rangeEach(originalData.length-1,function(i){var column=[],origRow=originalData[i];rangeEach(index,index+(amount-1),function(j){column.push(origRow[instance.runHooks("modifyCol",j)])}),removedData.push(column)}),rangeEach(amount-1,function(i){indexes.push(instance.runHooks("modifyCol",index+i))}),Array.isArray(instance.getSettings().colHeaders)&&rangeEach(amount-1,function(i){headers.push(instance.getSettings().colHeaders[instance.runHooks("modifyCol",index+i)]||null)});var manualColumnMovePlugin=plugin.instance.getPlugin("manualColumnMove"),columnsMap=manualColumnMovePlugin.isEnabled()?manualColumnMovePlugin.columnsMapper.__arrayMap:[],action=new Handsontable.UndoRedo.RemoveColumnAction(index,indexes,removedData,headers,columnsMap);plugin.done(action)}}),instance.addHook("beforeCellAlignment",function(stateBefore,range,type,alignment){var action=new Handsontable.UndoRedo.CellAlignmentAction(stateBefore,range,type,alignment);plugin.done(action)}),instance.addHook("beforeFilter",function(formulaStacks){plugin.done(new Handsontable.UndoRedo.FiltersAction(formulaStacks))}),instance.addHook("beforeRowMove",function(movedRows,target){movedRows!==!1&&plugin.done(new Handsontable.UndoRedo.RowMoveAction(movedRows,target))})},Handsontable.UndoRedo.prototype.done=function(action){this.ignoreNewActions||(this.doneActions.push(action),this.undoneActions.length=0)},Handsontable.UndoRedo.prototype.undo=function(){if(this.isUndoAvailable()){var action=this.doneActions.pop(),actionClone=deepClone(action),instance=this.instance,continueAction=instance.runHooks("beforeUndo",actionClone);if(continueAction===!1)return;this.ignoreNewActions=!0;var that=this;action.undo(this.instance,function(){that.ignoreNewActions=!1,that.undoneActions.push(action)}),instance.runHooks("afterUndo",actionClone)}},Handsontable.UndoRedo.prototype.redo=function(){if(this.isRedoAvailable()){var action=this.undoneActions.pop(),actionClone=deepClone(action),instance=this.instance,continueAction=instance.runHooks("beforeRedo",actionClone);if(continueAction===!1)return;this.ignoreNewActions=!0;var that=this;action.redo(this.instance,function(){that.ignoreNewActions=!1,that.doneActions.push(action)}),instance.runHooks("afterRedo",actionClone)}},Handsontable.UndoRedo.prototype.isUndoAvailable=function(){return this.doneActions.length>0},Handsontable.UndoRedo.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},Handsontable.UndoRedo.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},Handsontable.UndoRedo.Action=function(){},Handsontable.UndoRedo.Action.prototype.undo=function(){},Handsontable.UndoRedo.Action.prototype.redo=function(){},Handsontable.UndoRedo.ChangeAction=function(changes){this.changes=changes,this.actionType="change"},inherit(Handsontable.UndoRedo.ChangeAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.ChangeAction.prototype.undo=function(instance,undoneCallback){for(var data=deepClone(this.changes),emptyRowsAtTheEnd=instance.countEmptyRows(!0),emptyColsAtTheEnd=instance.countEmptyCols(!0),i=0,len=data.length;i<len;i++)data[i].splice(3,1);instance.addHookOnce("afterChange",undoneCallback),instance.setDataAtRowProp(data,null,null,"UndoRedo.undo");for(var i$__6=0,len$__7=data.length;i$__6<len$__7;i$__6++)instance.getSettings().minSpareRows&&data[i$__6][0]+1+instance.getSettings().minSpareRows===instance.countRows()&&emptyRowsAtTheEnd==instance.getSettings().minSpareRows&&(instance.alter("remove_row",parseInt(data[i$__6][0]+1,10),instance.getSettings().minSpareRows),instance.undoRedo.doneActions.pop()),instance.getSettings().minSpareCols&&data[i$__6][1]+1+instance.getSettings().minSpareCols===instance.countCols()&&emptyColsAtTheEnd==instance.getSettings().minSpareCols&&(instance.alter("remove_col",parseInt(data[i$__6][1]+1,10),instance.getSettings().minSpareCols),instance.undoRedo.doneActions.pop())},Handsontable.UndoRedo.ChangeAction.prototype.redo=function(instance,onFinishCallback){for(var data=deepClone(this.changes),i=0,len=data.length;i<len;i++)data[i].splice(2,1);instance.addHookOnce("afterChange",onFinishCallback),instance.setDataAtRowProp(data,null,null,"UndoRedo.redo")},Handsontable.UndoRedo.CreateRowAction=function(index,amount){this.index=index,this.amount=amount,this.actionType="insert_row"},inherit(Handsontable.UndoRedo.CreateRowAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.CreateRowAction.prototype.undo=function(instance,undoneCallback){var rowCount=instance.countRows(),minSpareRows=instance.getSettings().minSpareRows;this.index>=rowCount&&this.index-minSpareRows<rowCount&&(this.index-=minSpareRows),instance.addHookOnce("afterRemoveRow",undoneCallback),instance.alter("remove_row",this.index,this.amount,"UndoRedo.undo")},Handsontable.UndoRedo.CreateRowAction.prototype.redo=function(instance,redoneCallback){instance.addHookOnce("afterCreateRow",redoneCallback),instance.alter("insert_row",this.index,this.amount,"UndoRedo.redo")},Handsontable.UndoRedo.RemoveRowAction=function(index,data){this.index=index,this.data=data,this.actionType="remove_row"},inherit(Handsontable.UndoRedo.RemoveRowAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.RemoveRowAction.prototype.undo=function(instance,undoneCallback){instance.alter("insert_row",this.index,this.data.length,"UndoRedo.undo"),instance.addHookOnce("afterRender",undoneCallback),instance.populateFromArray(this.index,0,this.data,void 0,void 0,"UndoRedo.undo")},Handsontable.UndoRedo.RemoveRowAction.prototype.redo=function(instance,redoneCallback){instance.addHookOnce("afterRemoveRow",redoneCallback),instance.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")},Handsontable.UndoRedo.CreateColumnAction=function(index,amount){this.index=index,this.amount=amount,this.actionType="insert_col"},inherit(Handsontable.UndoRedo.CreateColumnAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.CreateColumnAction.prototype.undo=function(instance,undoneCallback){instance.addHookOnce("afterRemoveCol",undoneCallback),instance.alter("remove_col",this.index,this.amount,"UndoRedo.undo")},Handsontable.UndoRedo.CreateColumnAction.prototype.redo=function(instance,redoneCallback){instance.addHookOnce("afterCreateCol",redoneCallback),instance.alter("insert_col",this.index,this.amount,"UndoRedo.redo")},Handsontable.UndoRedo.RemoveColumnAction=function(index,indexes,data,headers,columnPositions){this.index=index,this.indexes=indexes,this.data=data,this.amount=this.data[0].length,this.headers=headers,this.columnPositions=columnPositions.slice(0),this.actionType="remove_col"},inherit(Handsontable.UndoRedo.RemoveColumnAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.RemoveColumnAction.prototype.undo=function(instance,undoneCallback){var row,$__5=this,ascendingIndexes=this.indexes.slice(0).sort(),sortByIndexes=function(elem,j,arr){return arr[$__5.indexes.indexOf(ascendingIndexes[j])]},sortedData=[];rangeEach(this.data.length-1,function(i){sortedData[i]=arrayMap($__5.data[i],sortByIndexes)});var sortedHeaders=[];sortedHeaders=arrayMap(this.headers,sortByIndexes);var changes=[];Handsontable.hooks.run(instance,"beforeCreateCol",this.indexes[0],this.indexes[this.indexes.length-1],"UndoRedo.undo"),rangeEach(this.data.length-1,function(i){row=instance.getSourceDataAtRow(i),rangeEach(ascendingIndexes.length-1,function(j){row.splice(ascendingIndexes[j],0,sortedData[i][j]),changes.push([i,ascendingIndexes[j],null,sortedData[i][j]])})}),instance.getPlugin("formulas")&&instance.getPlugin("formulas").onAfterSetDataAtCell(changes),"undefined"!=typeof this.headers&&rangeEach(sortedHeaders.length-1,function(j){instance.getSettings().colHeaders.splice(ascendingIndexes[j],0,sortedHeaders[j])}),instance.getPlugin("manualColumnMove")&&(instance.getPlugin("manualColumnMove").columnsMapper.__arrayMap=this.columnPositions),instance.addHookOnce("afterRender",undoneCallback),Handsontable.hooks.run(instance,"afterCreateCol",this.indexes[0],this.indexes[this.indexes.length-1],"UndoRedo.undo"),instance.getPlugin("formulas")&&instance.getPlugin("formulas").recalculateFull(),instance.render()},Handsontable.UndoRedo.RemoveColumnAction.prototype.redo=function(instance,redoneCallback){instance.addHookOnce("afterRemoveCol",redoneCallback),instance.alter("remove_col",this.index,this.amount,"UndoRedo.redo")},Handsontable.UndoRedo.CellAlignmentAction=function(stateBefore,range,type,alignment){this.stateBefore=stateBefore,this.range=range,this.type=type,this.alignment=alignment},Handsontable.UndoRedo.CellAlignmentAction.prototype.undo=function(instance,undoneCallback){if(instance.getPlugin("contextMenu").isEnabled()){for(var row=this.range.from.row;row<=this.range.to.row;row++)for(var col=this.range.from.col;col<=this.range.to.col;col++)instance.setCellMeta(row,col,"className",this.stateBefore[row][col]||" htLeft");instance.addHookOnce("afterRender",undoneCallback),instance.render()}},Handsontable.UndoRedo.CellAlignmentAction.prototype.redo=function(instance,undoneCallback){instance.getPlugin("contextMenu").isEnabled()&&(instance.selectCell(this.range.from.row,this.range.from.col,this.range.to.row,this.range.to.col),instance.getPlugin("contextMenu").executeCommand("alignment:"+this.alignment.replace("ht","").toLowerCase()),instance.addHookOnce("afterRender",undoneCallback),instance.render())},Handsontable.UndoRedo.FiltersAction=function(formulaStacks){this.formulaStacks=formulaStacks,this.actionType="filter"},inherit(Handsontable.UndoRedo.FiltersAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.FiltersAction.prototype.undo=function(instance,undoneCallback){var filters=instance.getPlugin("filters");instance.addHookOnce("afterRender",undoneCallback),filters.formulaCollection.importAllFormulas(this.formulaStacks.slice(0,this.formulaStacks.length-1)),filters.filter()},Handsontable.UndoRedo.FiltersAction.prototype.redo=function(instance,redoneCallback){var filters=instance.getPlugin("filters");instance.addHookOnce("afterRender",redoneCallback),filters.formulaCollection.importAllFormulas(this.formulaStacks),filters.filter()},Handsontable.UndoRedo.RowMoveAction=function(movedRows,target){this.rows=movedRows.slice(),this.target=target},inherit(Handsontable.UndoRedo.RowMoveAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.RowMoveAction.prototype.undo=function(instance,undoneCallback){var manualRowMove=instance.getPlugin("manualRowMove");instance.addHookOnce("afterRender",undoneCallback);for(var mod=this.rows[0]<this.target?-1*this.rows.length:0,newTarget=this.rows[0]>this.target?this.rows[0]+this.rows.length:this.rows[0],newRows=[],rowsLen=this.rows.length+mod,i=mod;i<rowsLen;i++)newRows.push(this.target+i);manualRowMove.moveRows(newRows.slice(),newTarget),instance.render(),instance.selection.setRangeStartOnly(new WalkontableCellCoords(this.rows[0],0)),instance.selection.setRangeEnd(new WalkontableCellCoords(this.rows[this.rows.length-1],instance.countCols()-1))},Handsontable.UndoRedo.RowMoveAction.prototype.redo=function(instance,redoneCallback){var manualRowMove=instance.getPlugin("manualRowMove");instance.addHookOnce("afterRender",redoneCallback),manualRowMove.moveRows(this.rows.slice(),this.target),instance.render();var startSelection=this.rows[0]<this.target?this.target-this.rows.length:this.target;instance.selection.setRangeStartOnly(new WalkontableCellCoords(startSelection,0)),instance.selection.setRangeEnd(new WalkontableCellCoords(startSelection+this.rows.length-1,instance.countCols()-1))},Handsontable.hooks.add("afterInit",init),Handsontable.hooks.add("afterUpdateSettings",init),Handsontable.hooks.register("beforeUndo"),Handsontable.hooks.register("afterUndo"),Handsontable.hooks.register("beforeRedo"),Handsontable.hooks.register("afterRedo")},{browser:24,"helpers/array":43,"helpers/dom/event":48,"helpers/number":52,"helpers/object":53}],118:[function(_dereq_,module,exports){function registerRenderer(rendererName,rendererFunction){var registerName;registeredRenderers[rendererName]=rendererFunction,registerName=toUpperCaseFirst(rendererName)+"Renderer",Handsontable.renderers[registerName]=rendererFunction,Handsontable[registerName]=rendererFunction,"base"===rendererName&&(Handsontable.renderers.cellDecorator=rendererFunction)}function getRenderer(rendererName){if("function"==typeof rendererName)return rendererName;if("string"!=typeof rendererName)throw Error('Only strings and functions can be passed as "renderer" parameter');if(!(rendererName in registeredRenderers))throw Error('No editor registered under name "'+rendererName+'"');return registeredRenderers[rendererName]}function hasRenderer(rendererName){return rendererName in registeredRenderers}Object.defineProperties(exports,{registerRenderer:{get:function(){return registerRenderer}},getRenderer:{get:function(){return getRenderer}},hasRenderer:{get:function(){return hasRenderer}},__esModule:{value:!0}});var $__browser__,$__helpers_47_string__,Handsontable=($__browser__=_dereq_("browser"),$__browser__&&$__browser__.__esModule&&$__browser__||{"default":$__browser__})["default"],toUpperCaseFirst=($__helpers_47_string__=_dereq_("helpers/string"),$__helpers_47_string__&&$__helpers_47_string__.__esModule&&$__helpers_47_string__||{"default":$__helpers_47_string__}).toUpperCaseFirst,registeredRenderers={};Handsontable.renderers=Handsontable.renderers||{},Handsontable.renderers.registerRenderer=registerRenderer,Handsontable.renderers.getRenderer=getRenderer},{browser:24,"helpers/string":55}],119:[function(_dereq_,module,exports){function cellDecorator(instance,TD,row,col,prop,value,cellProperties){cellProperties.className&&(TD.className?TD.className=TD.className+" "+cellProperties.className:TD.className=cellProperties.className),cellProperties.readOnly&&addClass(TD,cellProperties.readOnlyCellClassName),cellProperties.valid===!1&&cellProperties.invalidCellClassName?addClass(TD,cellProperties.invalidCellClassName):removeClass(TD,cellProperties.invalidCellClassName),cellProperties.wordWrap===!1&&cellProperties.noWordWrapClassName&&addClass(TD,cellProperties.noWordWrapClassName),!value&&cellProperties.placeholder&&addClass(TD,cellProperties.placeholderCellClassName)}Object.defineProperties(exports,{cellDecorator:{get:function(){return cellDecorator}},__esModule:{value:!0}});var $___46__46__47_helpers_47_dom_47_element__,$___46__46__47_renderers__,$__0=($___46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47_helpers_47_dom_47_element__&&$___46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47_helpers_47_dom_47_element__}),addClass=$__0.addClass,removeClass=$__0.removeClass,registerRenderer=($___46__46__47_renderers__=_dereq_("renderers"),$___46__46__47_renderers__&&$___46__46__47_renderers__.__esModule&&$___46__46__47_renderers__||{"default":$___46__46__47_renderers__}).registerRenderer;registerRenderer("base",cellDecorator)},{"helpers/dom/element":47,renderers:118}],120:[function(_dereq_,module,exports){function autocompleteRenderer(instance,TD,row,col,prop,value,cellProperties){var ARROW=(clonableWRAPPER.cloneNode(!0),clonableARROW.cloneNode(!0));if(cellProperties.allowHtml?getRenderer("html").apply(this,arguments):getRenderer("text").apply(this,arguments),TD.appendChild(ARROW),addClass(TD,"htAutocomplete"),TD.firstChild||TD.appendChild(document.createTextNode(String.fromCharCode(160))),!instance.acArrowListener){var eventManager=eventManagerObject(instance);instance.acArrowListener=function(event){hasClass(event.target,"htAutocompleteArrow")&&instance.view.wt.getSetting("onCellDblClick",null,new WalkontableCellCoords(row,col),TD)},eventManager.addEventListener(instance.rootElement,"mousedown",instance.acArrowListener),instance.addHookOnce("afterDestroy",function(){eventManager.destroy()})}}Object.defineProperties(exports,{autocompleteRenderer:{get:function(){return autocompleteRenderer}},__esModule:{value:!0}});var $___46__46__47_helpers_47_dom_47_element__,$___46__46__47_eventManager__,$___46__46__47_renderers__,$___46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__,$__0=($___46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47_helpers_47_dom_47_element__&&$___46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47_helpers_47_dom_47_element__}),addClass=$__0.addClass,hasClass=$__0.hasClass,eventManagerObject=($__0.empty,($___46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47_eventManager__&&$___46__46__47_eventManager__.__esModule&&$___46__46__47_eventManager__||{"default":$___46__46__47_eventManager__}).eventManager),$__2=($___46__46__47_renderers__=_dereq_("renderers"),$___46__46__47_renderers__&&$___46__46__47_renderers__.__esModule&&$___46__46__47_renderers__||{"default":$___46__46__47_renderers__}),getRenderer=$__2.getRenderer,registerRenderer=$__2.registerRenderer,WalkontableCellCoords=($___46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__=_dereq_("3rdparty/walkontable/src/cell/coords"),$___46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__&&$___46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__.__esModule&&$___46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__||{"default":$___46__46__47_3rdparty_47_walkontable_47_src_47_cell_47_coords__}).WalkontableCellCoords,clonableWRAPPER=document.createElement("DIV");clonableWRAPPER.className="htAutocompleteWrapper";var clonableARROW=document.createElement("DIV");clonableARROW.className="htAutocompleteArrow",clonableARROW.appendChild(document.createTextNode(String.fromCharCode(9660)));registerRenderer("autocomplete",autocompleteRenderer)},{"3rdparty/walkontable/src/cell/coords":6,eventManager:42,"helpers/dom/element":47,renderers:118}],121:[function(_dereq_,module,exports){function checkboxRenderer(instance,TD,row,col,prop,value,cellProperties){function onBeforeKeyDown(event){var toggleKeys="SPACE|ENTER",switchOffKeys="DELETE|BACKSPACE",isKeyCode=partial(isKey,event.keyCode);isKeyCode(toggleKeys+"|"+switchOffKeys)&&!isImmediatePropagationStopped(event)&&eachSelectedCheckboxCell(function(){stopImmediatePropagation(event),event.preventDefault()}),isKeyCode(toggleKeys)&&changeSelectedCheckboxesState(),isKeyCode(switchOffKeys)&&changeSelectedCheckboxesState(!0)}function changeSelectedCheckboxesState(){var uncheckCheckbox=void 0!==arguments[0]&&arguments[0],selRange=instance.getSelectedRange();if(selRange){for(var topLeft=selRange.getTopLeftCorner(),bottomRight=selRange.getBottomRightCorner(),changes=[],row=topLeft.row;row<=bottomRight.row;row+=1)for(var col=topLeft.col;col<=bottomRight.col;col+=1){var cellProperties$__7=instance.getCellMeta(row,col);if("checkbox"!==cellProperties$__7.type)return;if(cellProperties$__7.readOnly!==!0){"undefined"==typeof cellProperties$__7.checkedTemplate&&(cellProperties$__7.checkedTemplate=!0),"undefined"==typeof cellProperties$__7.uncheckedTemplate&&(cellProperties$__7.uncheckedTemplate=!1);var dataAtCell=instance.getDataAtCell(row,col);uncheckCheckbox===!1?dataAtCell===cellProperties$__7.checkedTemplate?changes.push([row,col,cellProperties$__7.uncheckedTemplate]):[cellProperties$__7.uncheckedTemplate,null,void 0].indexOf(dataAtCell)!==-1&&changes.push([row,col,cellProperties$__7.checkedTemplate]):changes.push([row,col,cellProperties$__7.uncheckedTemplate])}}changes.length>0&&instance.setDataAtCell(changes)}}function eachSelectedCheckboxCell(callback){var selRange=instance.getSelectedRange();if(selRange)for(var topLeft=selRange.getTopLeftCorner(),bottomRight=selRange.getBottomRightCorner(),row=topLeft.row;row<=bottomRight.row;row++)for(var col=topLeft.col;col<=bottomRight.col;col++){var cellProperties$__8=instance.getCellMeta(row,col);if("checkbox"!==cellProperties$__8.type)return;var cell=instance.getCell(row,col);if(null==cell)callback(row,col,cellProperties$__8);else{var checkboxes=cell.querySelectorAll("input[type=checkbox]");checkboxes.length>0&&!cellProperties$__8.readOnly&&callback(checkboxes)}}}getRenderer("base").apply(this,arguments);var input=(registerEvents(instance),createInput()),labelOptions=cellProperties.label,badValue=!1;if("undefined"==typeof cellProperties.checkedTemplate&&(cellProperties.checkedTemplate=!0),"undefined"==typeof cellProperties.uncheckedTemplate&&(cellProperties.uncheckedTemplate=!1),empty(TD),value===cellProperties.checkedTemplate||equalsIgnoreCase(value,cellProperties.checkedTemplate)?input.checked=!0:value===cellProperties.uncheckedTemplate||equalsIgnoreCase(value,cellProperties.uncheckedTemplate)?input.checked=!1:null===value?addClass(input,"noValue"):(input.style.display="none",addClass(input,BAD_VALUE_CLASS),badValue=!0),input.setAttribute("data-row",row),input.setAttribute("data-col",col),!badValue&&labelOptions){var labelText="";labelOptions.value?labelText="function"==typeof labelOptions.value?labelOptions.value.call(this,row,col,prop,value):labelOptions.value:labelOptions.property&&(labelText=instance.getDataAtRowProp(row,labelOptions.property));var label=createLabel(labelText);"before"===labelOptions.position?label.appendChild(input):label.insertBefore(input,label.firstChild),input=label}TD.appendChild(input),badValue&&TD.appendChild(document.createTextNode("#bad-value#")),isListeningKeyDownEvent.has(instance)||(isListeningKeyDownEvent.set(instance,!0),instance.addHook("beforeKeyDown",onBeforeKeyDown))}function registerEvents(instance){var eventManager=isCheckboxListenerAdded.get(instance);return eventManager||(eventManager=new EventManager(instance),eventManager.addEventListener(instance.rootElement,"click",function(event){return onClick(event,instance)}),eventManager.addEventListener(instance.rootElement,"mouseup",function(event){return onMouseUp(event,instance)}),eventManager.addEventListener(instance.rootElement,"change",function(event){return onChange(event,instance)}),isCheckboxListenerAdded.set(instance,eventManager)),eventManager}function createInput(){var input=document.createElement("input");return input.className="htCheckboxRendererInput",input.type="checkbox",input.setAttribute("autocomplete","off"),input.setAttribute("tabindex","-1"),input.cloneNode(!1)}function createLabel(text){var label=document.createElement("label");return label.className="htCheckboxRendererLabel",label.appendChild(document.createTextNode(text)),label.cloneNode(!0)}function onMouseUp(event,instance){isCheckboxInput(event.target)&&setTimeout(instance.listen,10)}function onClick(event,instance){if(!isCheckboxInput(event.target))return!1;var row=parseInt(event.target.getAttribute("data-row"),10),col=parseInt(event.target.getAttribute("data-col"),10),cellProperties=instance.getCellMeta(row,col);cellProperties.readOnly&&event.preventDefault()}function onChange(event,instance){if(!isCheckboxInput(event.target))return!1;var row=parseInt(event.target.getAttribute("data-row"),10),col=parseInt(event.target.getAttribute("data-col"),10),cellProperties=instance.getCellMeta(row,col);if(!cellProperties.readOnly){var newCheckboxValue=null;newCheckboxValue=event.target.checked?void 0===cellProperties.checkedTemplate||cellProperties.checkedTemplate:void 0!==cellProperties.uncheckedTemplate&&cellProperties.uncheckedTemplate,instance.setDataAtCell(row,col,newCheckboxValue)}}function isCheckboxInput(element){return"INPUT"===element.tagName&&"checkbox"===element.getAttribute("type")}Object.defineProperties(exports,{checkboxRenderer:{get:function(){return checkboxRenderer}},__esModule:{value:!0}});var $___46__46__47_helpers_47_dom_47_element__,$___46__46__47_helpers_47_string__,$___46__46__47_eventManager__,$___46__46__47_renderers__,$___46__46__47_helpers_47_unicode__,$___46__46__47_helpers_47_function__,$___46__46__47_helpers_47_dom_47_event__,$__0=($___46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47_helpers_47_dom_47_element__&&$___46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47_helpers_47_dom_47_element__}),empty=$__0.empty,addClass=$__0.addClass,equalsIgnoreCase=($__0.hasClass,($___46__46__47_helpers_47_string__=_dereq_("helpers/string"),$___46__46__47_helpers_47_string__&&$___46__46__47_helpers_47_string__.__esModule&&$___46__46__47_helpers_47_string__||{"default":$___46__46__47_helpers_47_string__}).equalsIgnoreCase),EventManager=($___46__46__47_eventManager__=_dereq_("eventManager"),$___46__46__47_eventManager__&&$___46__46__47_eventManager__.__esModule&&$___46__46__47_eventManager__||{"default":$___46__46__47_eventManager__}).EventManager,$__3=($___46__46__47_renderers__=_dereq_("renderers"),$___46__46__47_renderers__&&$___46__46__47_renderers__.__esModule&&$___46__46__47_renderers__||{"default":$___46__46__47_renderers__}),getRenderer=$__3.getRenderer,registerRenderer=$__3.registerRenderer,isKey=($___46__46__47_helpers_47_unicode__=_dereq_("helpers/unicode"),$___46__46__47_helpers_47_unicode__&&$___46__46__47_helpers_47_unicode__.__esModule&&$___46__46__47_helpers_47_unicode__||{"default":$___46__46__47_helpers_47_unicode__}).isKey,partial=($___46__46__47_helpers_47_function__=_dereq_("helpers/function"),$___46__46__47_helpers_47_function__&&$___46__46__47_helpers_47_function__.__esModule&&$___46__46__47_helpers_47_function__||{"default":$___46__46__47_helpers_47_function__}).partial,$__6=($___46__46__47_helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$___46__46__47_helpers_47_dom_47_event__&&$___46__46__47_helpers_47_dom_47_event__.__esModule&&$___46__46__47_helpers_47_dom_47_event__||{"default":$___46__46__47_helpers_47_dom_47_event__}),stopImmediatePropagation=$__6.stopImmediatePropagation,isImmediatePropagationStopped=$__6.isImmediatePropagationStopped,isListeningKeyDownEvent=new WeakMap,isCheckboxListenerAdded=new WeakMap,BAD_VALUE_CLASS="htBadValue";registerRenderer("checkbox",checkboxRenderer)},{eventManager:42,"helpers/dom/element":47,"helpers/dom/event":48,"helpers/function":50,"helpers/string":55,"helpers/unicode":56,renderers:118}],122:[function(_dereq_,module,exports){function htmlRenderer(instance,TD,row,col,prop,value,cellProperties){getRenderer("base").apply(this,arguments),null!==value&&void 0!==value||(value=""),fastInnerHTML(TD,value)}Object.defineProperties(exports,{htmlRenderer:{get:function(){return htmlRenderer}},__esModule:{value:!0}});var $___46__46__47_helpers_47_dom_47_element__,$___46__46__47_renderers__,fastInnerHTML=($___46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47_helpers_47_dom_47_element__&&$___46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47_helpers_47_dom_47_element__}).fastInnerHTML,$__1=($___46__46__47_renderers__=_dereq_("renderers"),$___46__46__47_renderers__&&$___46__46__47_renderers__.__esModule&&$___46__46__47_renderers__||{"default":$___46__46__47_renderers__}),getRenderer=$__1.getRenderer,registerRenderer=$__1.registerRenderer;registerRenderer("html",htmlRenderer)},{"helpers/dom/element":47,renderers:118}],123:[function(_dereq_,module,exports){function numericRenderer(instance,TD,row,col,prop,value,cellProperties){if(isNumeric(value)){"undefined"!=typeof cellProperties.language&&numbro.culture(cellProperties.language),value=numbro(value).format(cellProperties.format||"0");var className=cellProperties.className||"",classArr=className.length?className.split(" "):[];classArr.indexOf("htLeft")<0&&classArr.indexOf("htCenter")<0&&classArr.indexOf("htRight")<0&&classArr.indexOf("htJustify")<0&&classArr.push("htRight"),classArr.indexOf("htNumeric")<0&&classArr.push("htNumeric"),cellProperties.className=classArr.join(" ")}getRenderer("text")(instance,TD,row,col,prop,value,cellProperties)}Object.defineProperties(exports,{numericRenderer:{get:function(){return numericRenderer}},__esModule:{value:!0}});var $__numbro__,$___46__46__47_renderers__,$___46__46__47_helpers_47_number__,numbro=($__numbro__=_dereq_("numbro"),$__numbro__&&$__numbro__.__esModule&&$__numbro__||{"default":$__numbro__})["default"],$__1=($___46__46__47_renderers__=_dereq_("renderers"),$___46__46__47_renderers__&&$___46__46__47_renderers__.__esModule&&$___46__46__47_renderers__||{"default":$___46__46__47_renderers__}),getRenderer=$__1.getRenderer,registerRenderer=$__1.registerRenderer,isNumeric=($___46__46__47_helpers_47_number__=_dereq_("helpers/number"),$___46__46__47_helpers_47_number__&&$___46__46__47_helpers_47_number__.__esModule&&$___46__46__47_helpers_47_number__||{"default":$___46__46__47_helpers_47_number__}).isNumeric;registerRenderer("numeric",numericRenderer)},{"helpers/number":52,numbro:"numbro",renderers:118}],124:[function(_dereq_,module,exports){function passwordRenderer(instance,TD,row,col,prop,value,cellProperties){getRenderer("text").apply(this,arguments),value=TD.innerHTML;var hash,hashLength=cellProperties.hashLength||value.length,hashSymbol=cellProperties.hashSymbol||"*";for(hash="";hash.split(hashSymbol).length-1<hashLength;hash+=hashSymbol);fastInnerHTML(TD,hash)}Object.defineProperties(exports,{passwordRenderer:{get:function(){return passwordRenderer}},__esModule:{value:!0}});var $___46__46__47_helpers_47_dom_47_element__,$___46__46__47_renderers__,fastInnerHTML=($___46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47_helpers_47_dom_47_element__&&$___46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47_helpers_47_dom_47_element__}).fastInnerHTML,$__1=($___46__46__47_renderers__=_dereq_("renderers"),$___46__46__47_renderers__&&$___46__46__47_renderers__.__esModule&&$___46__46__47_renderers__||{"default":$___46__46__47_renderers__}),getRenderer=$__1.getRenderer,registerRenderer=$__1.registerRenderer;registerRenderer("password",passwordRenderer)},{"helpers/dom/element":47,renderers:118}],125:[function(_dereq_,module,exports){function textRenderer(instance,TD,row,col,prop,value,cellProperties){getRenderer("base").apply(this,arguments),!value&&cellProperties.placeholder&&(value=cellProperties.placeholder);var escaped=stringify(value);if(instance.getSettings().trimWhitespace||(escaped=escaped.replace(/ /g,String.fromCharCode(160))),cellProperties.rendererTemplate){empty(TD);var TEMPLATE=document.createElement("TEMPLATE");TEMPLATE.setAttribute("bind","{{}}"),TEMPLATE.innerHTML=cellProperties.rendererTemplate,HTMLTemplateElement.decorate(TEMPLATE),TEMPLATE.model=instance.getSourceDataAtRow(row),TD.appendChild(TEMPLATE)}else fastInnerText(TD,escaped)}Object.defineProperties(exports,{textRenderer:{get:function(){return textRenderer}},__esModule:{value:!0}});var $___46__46__47_helpers_47_dom_47_element__,$___46__46__47_helpers_47_mixed__,$___46__46__47_renderers__,$__0=($___46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47_helpers_47_dom_47_element__&&$___46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47_helpers_47_dom_47_element__}),empty=$__0.empty,fastInnerText=$__0.fastInnerText,stringify=($___46__46__47_helpers_47_mixed__=_dereq_("helpers/mixed"),$___46__46__47_helpers_47_mixed__&&$___46__46__47_helpers_47_mixed__.__esModule&&$___46__46__47_helpers_47_mixed__||{
"default":$___46__46__47_helpers_47_mixed__}).stringify,$__2=($___46__46__47_renderers__=_dereq_("renderers"),$___46__46__47_renderers__&&$___46__46__47_renderers__.__esModule&&$___46__46__47_renderers__||{"default":$___46__46__47_renderers__}),getRenderer=$__2.getRenderer,registerRenderer=$__2.registerRenderer;registerRenderer("text",textRenderer)},{"helpers/dom/element":47,"helpers/mixed":51,renderers:118}],126:[function(_dereq_,module,exports){!function(global){function nonEnum(value){return{configurable:!0,enumerable:!1,value:value,writable:!0}}function newUniqueString(){return"__$"+Math.floor(1e9*Math.random())+"$"+ ++counter+"$__"}function isPrivateName(s){return privateNames[s]}function createPrivateName(){var s=newUniqueString();return privateNames[s]=!0,s}function isShimSymbol(symbol){return"object"===("undefined"==typeof symbol?"undefined":_typeof(symbol))&&symbol instanceof SymbolValue}function typeOf(v){return isShimSymbol(v)?"symbol":"undefined"==typeof v?"undefined":_typeof(v)}function _Symbol(description){var value=new SymbolValue(description);if(!(this instanceof _Symbol))return value;throw new TypeError("Symbol cannot be new'ed")}function SymbolValue(description){var key=newUniqueString();$defineProperty(this,symbolDataProperty,{value:this}),$defineProperty(this,symbolInternalProperty,{value:key}),$defineProperty(this,symbolDescriptionProperty,{value:description}),freeze(this),symbolValues[key]=this}function getOwnHashObject(object){var hashObject=object[hashProperty];return hashObject&&hashObject.self===object?hashObject:$isExtensible(object)?(hashObjectProperties.hash.value=hashCounter++,hashObjectProperties.self.value=object,hashPropertyDescriptor.value=$create(null,hashObjectProperties),$defineProperty(object,hashProperty,hashPropertyDescriptor),hashPropertyDescriptor.value):void 0}function freeze(object){return getOwnHashObject(object),$freeze.apply(this,arguments)}function isSymbolString(s){return symbolValues[s]||privateNames[s]}function toProperty(name){return isShimSymbol(name)?name[symbolInternalProperty]:name}function getOwnPropertySymbols(object){for(var rv=[],names=$getOwnPropertyNames(object),i=0;i<names.length;i++){var symbol=symbolValues[names[i]];symbol&&rv.push(symbol)}return rv}function getOption(name){return global.traceur&&global.traceur.options[name]}function exportStar(object){for(var i=1;i<arguments.length;i++)for(var names=$getOwnPropertyNames(arguments[i]),j=0;j<names.length;j++){var name=names[j];isSymbolString(name)||!function(mod,name){$defineProperty(object,name,{get:function(){return mod[name]},enumerable:!0})}(arguments[i],names[j])}return object}function isObject(x){return null!=x&&("object"===("undefined"==typeof x?"undefined":_typeof(x))||"function"==typeof x)}function toObject(x){if(null==x)throw $TypeError();return $Object(x)}function checkObjectCoercible(argument){if(null==argument)throw new TypeError("Value cannot be converted to an Object");return argument}function polyfillSymbol(global,_Symbol2){global.Symbol||(global.Symbol=_Symbol2,Object.getOwnPropertySymbols=getOwnPropertySymbols),global.Symbol.iterator||(global.Symbol.iterator=_Symbol2("Symbol.iterator"))}function setupGlobals(global){polyfillSymbol(global,_Symbol),global.Reflect=global.Reflect||{},global.Reflect.global=global.Reflect.global||global}if(!global.$traceurRuntime){var $Object=Object,$TypeError=TypeError,$create=$Object.create,$defineProperties=$Object.defineProperties,$defineProperty=$Object.defineProperty,$freeze=$Object.freeze,$getOwnPropertyDescriptor=$Object.getOwnPropertyDescriptor,$getOwnPropertyNames=$Object.getOwnPropertyNames,$keys=$Object.keys,$isExtensible=Object.isExtensible,method=nonEnum,counter=0,symbolInternalProperty=newUniqueString(),symbolDescriptionProperty=newUniqueString(),symbolDataProperty=newUniqueString(),symbolValues=$create(null),privateNames=$create(null);$defineProperty(_Symbol.prototype,"constructor",nonEnum(_Symbol)),$defineProperty(_Symbol.prototype,"toString",method(function(){var symbolValue=this[symbolDataProperty];if(!getOption("symbols"))return symbolValue[symbolInternalProperty];if(!symbolValue)throw TypeError("Conversion from symbol to string");var desc=symbolValue[symbolDescriptionProperty];return void 0===desc&&(desc=""),"Symbol("+desc+")"})),$defineProperty(_Symbol.prototype,"valueOf",method(function(){var symbolValue=this[symbolDataProperty];if(!symbolValue)throw TypeError("Conversion from symbol to string");return getOption("symbols")?symbolValue:symbolValue[symbolInternalProperty]})),$defineProperty(SymbolValue.prototype,"constructor",nonEnum(_Symbol)),$defineProperty(SymbolValue.prototype,"toString",{value:_Symbol.prototype.toString,enumerable:!1}),$defineProperty(SymbolValue.prototype,"valueOf",{value:_Symbol.prototype.valueOf,enumerable:!1});var hashProperty=createPrivateName(),hashPropertyDescriptor={value:void 0},hashObjectProperties={hash:{value:void 0},self:{value:void 0}},hashCounter=0;freeze(SymbolValue.prototype),setupGlobals(global),global.$traceurRuntime={checkObjectCoercible:checkObjectCoercible,createPrivateName:createPrivateName,defineProperties:$defineProperties,defineProperty:$defineProperty,exportStar:exportStar,getOwnHashObject:getOwnHashObject,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,isObject:isObject,isPrivateName:isPrivateName,isSymbolString:isSymbolString,keys:$keys,setupGlobals:setupGlobals,toObject:toObject,toProperty:toProperty,"typeof":typeOf}}}(window),function(){function spread(){for(var iterResult,rv=[],j=0,i=0;i<arguments.length;i++){var valueToSpread=$traceurRuntime.checkObjectCoercible(arguments[i]);"function"!=typeof valueToSpread[$toProperty(Symbol.iterator)]&&(valueToSpread[$toProperty(Symbol.iterator)]=function(){var value=this,length=value.length,index=0;return{next:function(){var result={done:!0};return index<length&&(result.done=!1,result.value=value[index],++index),result}}});for(var iter=valueToSpread[$toProperty(Symbol.iterator)]();!(iterResult=iter.next()).done;)rv[j++]=iterResult.value}return rv}var $toProperty=$traceurRuntime.toProperty;$traceurRuntime.spread=spread}(),function(){function superDescriptor(homeObject,name){var proto=$getPrototypeOf(homeObject);do{var result=$getOwnPropertyDescriptor(proto,name);if(result)return result;proto=$getPrototypeOf(proto)}while(proto)}function superConstructor(ctor){return ctor.__proto__}function superCall(self,homeObject,name,args){return superGet(self,homeObject,name).apply(self,args)}function superGet(self,homeObject,name){var descriptor=superDescriptor(homeObject,name);if(descriptor)return descriptor.get?descriptor.get.call(self):descriptor.value}function superSet(self,homeObject,name,value){var descriptor=superDescriptor(homeObject,name);if(descriptor&&descriptor.set)return descriptor.set.call(self,value),value;throw $TypeError("super has no setter '"+name+"'.")}function getDescriptors(object){for(var descriptors={},names=getOwnPropertyNames(object),i=0;i<names.length;i++){var name=names[i];descriptors[name]=$getOwnPropertyDescriptor(object,name)}for(var symbols=getOwnPropertySymbols(object),i=0;i<symbols.length;i++){var symbol=symbols[i];descriptors[$toProperty(symbol)]=$getOwnPropertyDescriptor(object,$toProperty(symbol))}return descriptors}function createClass(ctor,object,staticObject,superClass){return $defineProperty(object,"constructor",{value:ctor,configurable:!0,enumerable:!1,writable:!0}),arguments.length>3?("function"==typeof superClass&&(ctor.__proto__=superClass),ctor.prototype=$create(getProtoParent(superClass),getDescriptors(object))):ctor.prototype=object,$defineProperty(ctor,"prototype",{configurable:!1,writable:!1}),$defineProperties(ctor,getDescriptors(staticObject))}function getProtoParent(superClass){if("function"==typeof superClass){var prototype=superClass.prototype;if($Object(prototype)===prototype||null===prototype)return superClass.prototype;throw new $TypeError("super prototype must be an Object or null")}if(null===superClass)return null;throw new $TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass))+".")}function defaultSuperCall(self,homeObject,args){null!==$getPrototypeOf(homeObject)&&superCall(self,homeObject,"constructor",args)}var $Object=Object,$TypeError=TypeError,$create=$Object.create,$defineProperties=$traceurRuntime.defineProperties,$defineProperty=$traceurRuntime.defineProperty,$getOwnPropertyDescriptor=$traceurRuntime.getOwnPropertyDescriptor,$getPrototypeOf=Object.getPrototypeOf,$toProperty=$traceurRuntime.toProperty,$__0=Object,getOwnPropertyNames=$__0.getOwnPropertyNames,getOwnPropertySymbols=$__0.getOwnPropertySymbols;$traceurRuntime.createClass=createClass,$traceurRuntime.defaultSuperCall=defaultSuperCall,$traceurRuntime.superCall=superCall,$traceurRuntime.superConstructor=superConstructor,$traceurRuntime.superGet=superGet,$traceurRuntime.superSet=superSet}()},{}],127:[function(_dereq_,module,exports){function TableView(instance){var $__8=this,that=this;this.eventManager=eventManagerObject(instance),this.instance=instance,this.settings=instance.getSettings(),this.selectionMouseDown=!1;var originalStyle=instance.rootElement.getAttribute("style");originalStyle&&instance.rootElement.setAttribute("data-originalstyle",originalStyle),addClass(instance.rootElement,"handsontable");var table=document.createElement("TABLE");addClass(table,"htCore"),instance.getSettings().tableClassName&&addClass(table,instance.getSettings().tableClassName),this.THEAD=document.createElement("THEAD"),table.appendChild(this.THEAD),this.TBODY=document.createElement("TBODY"),table.appendChild(this.TBODY),instance.table=table,instance.container.insertBefore(table,instance.container.firstChild),this.eventManager.addEventListener(instance.rootElement,"mousedown",function(event){this.selectionMouseDown=!0,that.isTextSelectionAllowed(event.target)||(clearTextSelection(),event.preventDefault(),window.focus())}),this.eventManager.addEventListener(instance.rootElement,"mouseup",function(event){this.selectionMouseDown=!1}),this.eventManager.addEventListener(instance.rootElement,"mousemove",function(event){this.selectionMouseDown&&!that.isTextSelectionAllowed(event.target)&&(clearTextSelection(),event.preventDefault())}),this.eventManager.addEventListener(document.documentElement,"keyup",function(event){instance.selection.isInProgress()&&!event.shiftKey&&instance.selection.finish()});var isMouseDown;this.isMouseDown=function(){return isMouseDown},this.eventManager.addEventListener(document.documentElement,"mouseup",function(event){instance.selection.isInProgress()&&1===event.which&&instance.selection.finish(),isMouseDown=!1,isOutsideInput(document.activeElement)&&instance.unlisten()}),this.eventManager.addEventListener(document.documentElement,"mousedown",function(event){var originalTarget=event.target,next=event.target,eventX=event.x||event.clientX,eventY=event.y||event.clientY;if(!isMouseDown&&instance.rootElement){if(next===instance.view.wt.wtTable.holder){var scrollbarWidth=getScrollbarWidth();if(document.elementFromPoint(eventX+scrollbarWidth,eventY)!==instance.view.wt.wtTable.holder||document.elementFromPoint(eventX,eventY+scrollbarWidth)!==instance.view.wt.wtTable.holder)return}else for(;next!==document.documentElement;){if(null===next){if(event.isTargetWebComponent)break;return}if(next===instance.rootElement)return;next=next.parentNode}var outsideClickDeselects="function"==typeof that.settings.outsideClickDeselects?that.settings.outsideClickDeselects(originalTarget):that.settings.outsideClickDeselects;outsideClickDeselects?instance.deselectCell():instance.destroyEditor()}}),this.eventManager.addEventListener(table,"selectstart",function(event){that.settings.fragmentSelection||isInput(event.target)||event.preventDefault()});var clearTextSelection=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},selections=[new WalkontableSelection({className:"current",border:{width:2,color:"#5292F7",cornerVisible:function(){return that.settings.fillHandle&&!that.isCellEdited()&&!instance.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!that.isCellEdited()&&!instance.selection.isMultiple()}}}),new WalkontableSelection({className:"area",border:{width:1,color:"#89AFF9",cornerVisible:function(){return that.settings.fillHandle&&!that.isCellEdited()&&instance.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!that.isCellEdited()&&instance.selection.isMultiple()}}}),new WalkontableSelection({className:"highlight",highlightHeaderClassName:that.settings.currentHeaderClassName,highlightRowClassName:that.settings.currentRowClassName,highlightColumnClassName:that.settings.currentColClassName}),new WalkontableSelection({className:"fill",border:{width:1,color:"red"}})];selections.current=selections[0],selections.area=selections[1],selections.highlight=selections[2],selections.fill=selections[3];var walkontableConfig={debug:function(){return that.settings.debug},externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:table,preventOverflow:function(){return $__8.settings.preventOverflow},stretchH:function(){return that.settings.stretchH},data:instance.getDataAtCell,totalRows:function(){return instance.countRows()},totalColumns:function(){return instance.countCols()},fixedColumnsLeft:function(){return that.settings.fixedColumnsLeft},fixedRowsTop:function(){return that.settings.fixedRowsTop},fixedRowsBottom:function(){return that.settings.fixedRowsBottom},minSpareRows:function(){return that.settings.minSpareRows},renderAllRows:that.settings.renderAllRows,rowHeaders:function(){var headerRenderers=[];return instance.hasRowHeaders()&&headerRenderers.push(function(row,TH){that.appendRowHeader(row,TH)}),Handsontable.hooks.run(instance,"afterGetRowHeaderRenderers",headerRenderers),headerRenderers},columnHeaders:function(){var headerRenderers=[];return instance.hasColHeaders()&&headerRenderers.push(function(column,TH){that.appendColHeader(column,TH)}),Handsontable.hooks.run(instance,"afterGetColumnHeaderRenderers",headerRenderers),headerRenderers},columnWidth:instance.getColWidth,rowHeight:instance.getRowHeight,cellRenderer:function(row,col,TD){var cellProperties=that.instance.getCellMeta(row,col),prop=that.instance.colToProp(col),value=that.instance.getDataAtRowProp(row,prop);that.instance.hasHook("beforeValueRender")&&(value=that.instance.runHooks("beforeValueRender",value)),that.instance.runHooks("beforeRenderer",TD,row,col,prop,value,cellProperties),that.instance.getCellRenderer(cellProperties)(that.instance,TD,row,col,prop,value,cellProperties),that.instance.runHooks("afterRenderer",TD,row,col,prop,value,cellProperties)},selections:selections,hideBorderOnMouseDownOver:function(){return that.settings.fragmentSelection},onCellMouseDown:function(event,coords,TD,wt){var blockCalculations={row:!1,column:!1,cells:!1};if(instance.listen(),that.activeWt=wt,isMouseDown=!0,Handsontable.hooks.run(instance,"beforeOnCellMouseDown",event,coords,TD,blockCalculations),!isImmediatePropagationStopped(event)){var actualSelection=instance.getSelectedRange(),selection=instance.selection,selectedHeader=selection.selectedHeader;if(event.shiftKey&&actualSelection)coords.row>=0&&coords.col>=0&&!blockCalculations.cells?(selection.setSelectedHeaders(!1,!1),selection.setRangeEnd(coords)):(selectedHeader.cols||selectedHeader.rows)&&coords.row>=0&&coords.col>=0&&!blockCalculations.cells?(selection.setSelectedHeaders(!1,!1),selection.setRangeEnd(new WalkontableCellCoords(coords.row,coords.col))):selectedHeader.cols&&coords.row<0&&!blockCalculations.column?selection.setRangeEnd(new WalkontableCellCoords(actualSelection.to.row,coords.col)):selectedHeader.rows&&coords.col<0&&!blockCalculations.row?selection.setRangeEnd(new WalkontableCellCoords(coords.row,actualSelection.to.col)):(!selectedHeader.cols&&!selectedHeader.rows&&coords.col<0||selectedHeader.cols&&coords.col<0)&&!blockCalculations.row?(selection.setSelectedHeaders(!0,!1),selection.setRangeStartOnly(new WalkontableCellCoords(actualSelection.from.row,0)),selection.setRangeEnd(new WalkontableCellCoords(coords.row,instance.countCols()-1))):(!selectedHeader.cols&&!selectedHeader.rows&&coords.row<0||selectedHeader.rows&&coords.row<0)&&!blockCalculations.column&&(selection.setSelectedHeaders(!1,!0),selection.setRangeStartOnly(new WalkontableCellCoords(0,actualSelection.from.col)),selection.setRangeEnd(new WalkontableCellCoords(instance.countRows()-1,coords.col)));else{var doNewSelection=!0;if(actualSelection){var $__9=actualSelection,from=$__9.from,to=$__9.to,coordsNotInSelection=!selection.inInSelection(coords);if(coords.row<0&&selectedHeader.cols){var start=Math.min(from.col,to.col),end=Math.max(from.col,to.col);doNewSelection=coords.col<start||coords.col>end}else if(coords.col<0&&selectedHeader.rows){var start$__10=Math.min(from.row,to.row),end$__11=Math.max(from.row,to.row);doNewSelection=coords.row<start$__10||coords.row>end$__11}else doNewSelection=coordsNotInSelection}var rightClick=isRightClick(event),leftClick=isLeftClick(event)||"touchstart"===event.type;coords.row<0&&coords.col>=0&&!blockCalculations.column?(selection.setSelectedHeaders(!1,!0),(leftClick||rightClick&&doNewSelection)&&(selection.setRangeStartOnly(new WalkontableCellCoords(0,coords.col)),selection.setRangeEnd(new WalkontableCellCoords(Math.max(instance.countRows()-1,0),coords.col),!1))):coords.col<0&&coords.row>=0&&!blockCalculations.row?(selection.setSelectedHeaders(!0,!1),(leftClick||rightClick&&doNewSelection)&&(selection.setRangeStartOnly(new WalkontableCellCoords(coords.row,0)),selection.setRangeEnd(new WalkontableCellCoords(coords.row,Math.max(instance.countCols()-1,0)),!1))):coords.col>=0&&coords.row>=0&&!blockCalculations.cells?(leftClick||rightClick&&doNewSelection)&&(selection.setSelectedHeaders(!1,!1),selection.setRangeStart(coords)):coords.col<0&&coords.row<0&&(coords.row=0,coords.col=0,selection.setSelectedHeaders(!1,!1,!0),selection.setRangeStart(coords))}selection.selectedHeader.rows?(removeClass(instance.rootElement,"ht__selection--columns"),addClass(instance.rootElement,"ht__selection--rows")):selection.selectedHeader.cols?(removeClass(instance.rootElement,"ht__selection--rows"),addClass(instance.rootElement,"ht__selection--columns")):removeClass(instance.rootElement,["ht__selection--rows","ht__selection--columns"]),Handsontable.hooks.run(instance,"afterOnCellMouseDown",event,coords,TD),that.activeWt=that.wt}},onCellMouseOver:function(event,coords,TD,wt){var blockCalculations={row:!1,column:!1,cell:!1};that.activeWt=wt,Handsontable.hooks.run(instance,"beforeOnCellMouseOver",event,coords,TD,blockCalculations),isImmediatePropagationStopped(event)||(0===event.button&&isMouseDown&&(coords.row>=0&&coords.col>=0?instance.selection.selectedHeader.cols&&!blockCalculations.column?instance.selection.setRangeEnd(new WalkontableCellCoords(instance.countRows()-1,coords.col),!1):instance.selection.selectedHeader.rows&&!blockCalculations.row?instance.selection.setRangeEnd(new WalkontableCellCoords(coords.row,instance.countCols()-1),!1):blockCalculations.cell||instance.selection.setRangeEnd(coords):instance.selection.selectedHeader.cols&&!blockCalculations.column?instance.selection.setRangeEnd(new WalkontableCellCoords(instance.countRows()-1,coords.col),!1):instance.selection.selectedHeader.rows&&!blockCalculations.row?instance.selection.setRangeEnd(new WalkontableCellCoords(coords.row,instance.countCols()-1),!1):blockCalculations.cell||instance.selection.setRangeEnd(coords)),Handsontable.hooks.run(instance,"afterOnCellMouseOver",event,coords,TD),that.activeWt=that.wt)},onCellMouseUp:function(event,coords,TD,wt){that.activeWt=wt,Handsontable.hooks.run(instance,"beforeOnCellMouseUp",event,coords,TD),Handsontable.hooks.run(instance,"afterOnCellMouseUp",event,coords,TD),that.activeWt=that.wt},onCellCornerMouseDown:function(event){event.preventDefault(),Handsontable.hooks.run(instance,"afterOnCellCornerMouseDown",event)},onCellCornerDblClick:function(event){event.preventDefault(),Handsontable.hooks.run(instance,"afterOnCellCornerDblClick",event)},beforeDraw:function(force,skipRender){that.beforeRender(force,skipRender)},onDraw:function(force){that.onDraw(force)},onScrollVertically:function(){instance.runHooks("afterScrollVertically")},onScrollHorizontally:function(){instance.runHooks("afterScrollHorizontally")},onBeforeDrawBorders:function(corners,borderClassName){instance.runHooks("beforeDrawBorders",corners,borderClassName)},onBeforeTouchScroll:function(){instance.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){instance.runHooks("afterMomentumScroll")},onBeforeStretchingColumnWidth:function(stretchedWidth,column){return instance.runHooks("beforeStretchingColumnWidth",stretchedWidth,column)},onModifyRowHeaderWidth:function(rowHeaderWidth){return instance.runHooks("modifyRowHeaderWidth",rowHeaderWidth)},viewportRowCalculatorOverride:function(calc){var rows=instance.countRows(),viewportOffset=that.settings.viewportRowRenderingOffset;if("auto"===viewportOffset&&that.settings.fixedRowsTop&&(viewportOffset=10),"number"==typeof viewportOffset&&(calc.startRow=Math.max(calc.startRow-viewportOffset,0),calc.endRow=Math.min(calc.endRow+viewportOffset,rows-1)),"auto"===viewportOffset){var center=calc.startRow+calc.endRow-calc.startRow,offset=Math.ceil(center/rows*12);calc.startRow=Math.max(calc.startRow-offset,0),calc.endRow=Math.min(calc.endRow+offset,rows-1)}instance.runHooks("afterViewportRowCalculatorOverride",calc)},viewportColumnCalculatorOverride:function(calc){var cols=instance.countCols(),viewportOffset=that.settings.viewportColumnRenderingOffset;if("auto"===viewportOffset&&that.settings.fixedColumnsLeft&&(viewportOffset=10),"number"==typeof viewportOffset&&(calc.startColumn=Math.max(calc.startColumn-viewportOffset,0),calc.endColumn=Math.min(calc.endColumn+viewportOffset,cols-1)),"auto"===viewportOffset){var center=calc.startColumn+calc.endColumn-calc.startColumn,offset=Math.ceil(center/cols*12);calc.startRow=Math.max(calc.startColumn-offset,0),calc.endColumn=Math.min(calc.endColumn+offset,cols-1)}instance.runHooks("afterViewportColumnCalculatorOverride",calc)},rowHeaderWidth:function(){return that.settings.rowHeaderWidth},columnHeaderHeight:function columnHeaderHeight(){var columnHeaderHeight=instance.runHooks("modifyColumnHeaderHeight");return that.settings.columnHeaderHeight||columnHeaderHeight}};Handsontable.hooks.run(instance,"beforeInitWalkontable",walkontableConfig),this.wt=new Walkontable(walkontableConfig),this.activeWt=this.wt,this.eventManager.addEventListener(that.wt.wtTable.spreader,"mousedown",function(event){event.target===that.wt.wtTable.spreader&&3===event.which&&stopPropagation(event)}),this.eventManager.addEventListener(that.wt.wtTable.spreader,"contextmenu",function(event){event.target===that.wt.wtTable.spreader&&3===event.which&&stopPropagation(event)}),this.eventManager.addEventListener(document.documentElement,"click",function(){that.settings.observeDOMVisibility&&that.wt.drawInterrupted&&(that.instance.forceFullRender=!0,that.render())})}Object.defineProperties(exports,{TableView:{get:function(){return TableView}},__esModule:{value:!0}});var $__browser__,$__helpers_47_dom_47_element__,$__helpers_47_object__,$__eventManager__,$__helpers_47_dom_47_event__,$__3rdparty_47_walkontable_47_src_47_cell_47_coords__,$__3rdparty_47_walkontable_47_src_47_selection__,$__3rdparty_47_walkontable_47_src_47_core__,Handsontable=($__browser__=_dereq_("browser"),$__browser__&&$__browser__.__esModule&&$__browser__||{"default":$__browser__})["default"],$__1=($__helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$__helpers_47_dom_47_element__&&$__helpers_47_dom_47_element__.__esModule&&$__helpers_47_dom_47_element__||{"default":$__helpers_47_dom_47_element__}),addClass=$__1.addClass,empty=$__1.empty,fastInnerHTML=$__1.fastInnerHTML,fastInnerText=$__1.fastInnerText,getScrollbarWidth=$__1.getScrollbarWidth,hasClass=$__1.hasClass,isChildOf=$__1.isChildOf,isInput=$__1.isInput,isOutsideInput=$__1.isOutsideInput,removeClass=$__1.removeClass,eventManagerObject=(($__helpers_47_object__=_dereq_("helpers/object"),$__helpers_47_object__&&$__helpers_47_object__.__esModule&&$__helpers_47_object__||{"default":$__helpers_47_object__}).createObjectPropListener,($__eventManager__=_dereq_("eventManager"),$__eventManager__&&$__eventManager__.__esModule&&$__eventManager__||{"default":$__eventManager__}).eventManager),$__4=($__helpers_47_dom_47_event__=_dereq_("helpers/dom/event"),$__helpers_47_dom_47_event__&&$__helpers_47_dom_47_event__.__esModule&&$__helpers_47_dom_47_event__||{"default":$__helpers_47_dom_47_event__}),stopPropagation=$__4.stopPropagation,isImmediatePropagationStopped=$__4.isImmediatePropagationStopped,isRightClick=$__4.isRightClick,isLeftClick=$__4.isLeftClick,WalkontableCellCoords=($__3rdparty_47_walkontable_47_src_47_cell_47_coords__=_dereq_("3rdparty/walkontable/src/cell/coords"),$__3rdparty_47_walkontable_47_src_47_cell_47_coords__&&$__3rdparty_47_walkontable_47_src_47_cell_47_coords__.__esModule&&$__3rdparty_47_walkontable_47_src_47_cell_47_coords__||{"default":$__3rdparty_47_walkontable_47_src_47_cell_47_coords__}).WalkontableCellCoords,WalkontableSelection=($__3rdparty_47_walkontable_47_src_47_selection__=_dereq_("3rdparty/walkontable/src/selection"),$__3rdparty_47_walkontable_47_src_47_selection__&&$__3rdparty_47_walkontable_47_src_47_selection__.__esModule&&$__3rdparty_47_walkontable_47_src_47_selection__||{"default":$__3rdparty_47_walkontable_47_src_47_selection__}).WalkontableSelection,Walkontable=($__3rdparty_47_walkontable_47_src_47_core__=_dereq_("3rdparty/walkontable/src/core"),$__3rdparty_47_walkontable_47_src_47_core__&&$__3rdparty_47_walkontable_47_src_47_core__.__esModule&&$__3rdparty_47_walkontable_47_src_47_core__||{"default":$__3rdparty_47_walkontable_47_src_47_core__}).Walkontable;Handsontable.TableView=TableView,TableView.prototype.isTextSelectionAllowed=function(el){if(isInput(el))return!0;var isChildOfTableBody=isChildOf(el,this.instance.view.wt.wtTable.spreader);return!(this.settings.fragmentSelection!==!0||!isChildOfTableBody)||(!("cell"!==this.settings.fragmentSelection||!this.isSelectedOnlyCell()||!isChildOfTableBody)||!(this.settings.fragmentSelection||!this.isCellEdited()||!this.isSelectedOnlyCell()))},TableView.prototype.isSelectedOnlyCell=function(){var $__9=this.instance.getSelected()||[],row=$__9[0],col=$__9[1],rowEnd=$__9[2],colEnd=$__9[3];return void 0!==row&&row===rowEnd&&col===colEnd},TableView.prototype.isCellEdited=function(){var activeEditor=this.instance.getActiveEditor();return activeEditor&&activeEditor.isOpened()},TableView.prototype.beforeRender=function(force,skipRender){force&&Handsontable.hooks.run(this.instance,"beforeRender",this.instance.forceFullRender,skipRender)},TableView.prototype.onDraw=function(force){force&&Handsontable.hooks.run(this.instance,"afterRender",this.instance.forceFullRender)},TableView.prototype.render=function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1},TableView.prototype.getCellAtCoords=function(coords,topmost){var td=this.wt.getCell(coords,topmost);return td<0?null:td},TableView.prototype.scrollViewport=function(coords){this.wt.scrollViewport(coords)},TableView.prototype.appendRowHeader=function(row,TH){if(TH.firstChild){var container=TH.firstChild;if(!hasClass(container,"relative"))return empty(TH),void this.appendRowHeader(row,TH);this.updateCellHeader(container.querySelector(".rowHeader"),row,this.instance.getRowHeader)}else{var div=document.createElement("div"),span=document.createElement("span");div.className="relative",span.className="rowHeader",this.updateCellHeader(span,row,this.instance.getRowHeader),div.appendChild(span),TH.appendChild(div)}Handsontable.hooks.run(this.instance,"afterGetRowHeader",row,TH)},TableView.prototype.appendColHeader=function(col,TH){if(TH.firstChild){var container=TH.firstChild;hasClass(container,"relative")?this.updateCellHeader(container.querySelector(".colHeader"),col,this.instance.getColHeader):(empty(TH),this.appendColHeader(col,TH))}else{var div=document.createElement("div"),span=document.createElement("span");div.className="relative",span.className="colHeader",this.updateCellHeader(span,col,this.instance.getColHeader),div.appendChild(span),TH.appendChild(div)}Handsontable.hooks.run(this.instance,"afterGetColHeader",col,TH)},TableView.prototype.updateCellHeader=function(element,index,content){var renderedIndex=index,parentOverlay=this.wt.wtOverlays.getParentOverlay(element)||this.wt;element.parentNode&&(hasClass(element,"colHeader")?renderedIndex=parentOverlay.wtTable.columnFilter.sourceToRendered(index):hasClass(element,"rowHeader")&&(renderedIndex=parentOverlay.wtTable.rowFilter.sourceToRendered(index))),renderedIndex>-1?fastInnerHTML(element,content(index)):(fastInnerText(element,String.fromCharCode(160)),addClass(element,"cornerHeader"))},TableView.prototype.maximumVisibleElementWidth=function(leftOffset){var workspaceWidth=this.wt.wtViewport.getWorkspaceWidth(),maxWidth=workspaceWidth-leftOffset;return maxWidth>0?maxWidth:0},TableView.prototype.maximumVisibleElementHeight=function(topOffset){var workspaceHeight=this.wt.wtViewport.getWorkspaceHeight(),maxHeight=workspaceHeight-topOffset;return maxHeight>0?maxHeight:0},TableView.prototype.mainViewIsActive=function(){return this.wt===this.activeWt},TableView.prototype.destroy=function(){this.wt.destroy(),this.eventManager.destroy()}},{"3rdparty/walkontable/src/cell/coords":6,"3rdparty/walkontable/src/core":8,"3rdparty/walkontable/src/selection":19,browser:24,eventManager:42,"helpers/dom/element":47,"helpers/dom/event":48,"helpers/object":53}],128:[function(_dereq_,module,exports){Object.defineProperties(exports,{NodeStructure:{get:function(){return NodeStructure}},LinkedList:{get:function(){return LinkedList}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],NodeStructure=function(data){this.data=data,this.next=null,this.prev=null};$traceurRuntime.createClass(NodeStructure,{},{});var LinkedList=function(){this.first=null,this.last=null};$traceurRuntime.createClass(LinkedList,{push:function(data){var node=new NodeStructure(data);if(null===this.first)this.first=this.last=node;else{var temp=this.last;this.last=node,node.prev=temp,temp.next=node}},unshift:function(data){var node=new NodeStructure(data);if(null===this.first)this.first=this.last=node;else{var temp=this.first;this.first=node,node.next=temp,temp.prev=node}},inorder:function(callback){for(var temp=this.first;temp;)callback(temp),temp=temp.next},remove:function(data){if(null===this.first)return!1;for(var next,prev,temp=this.first;temp;){if(temp.data===data)return next=temp.next,prev=temp.prev,next&&(next.prev=prev),prev&&(prev.next=next),temp===this.first&&(this.first=next),temp===this.last&&(this.last=prev),!0;temp=temp.next}return!1},hasCycle:function(){for(var fast=this.first,slow=this.first;;){if(null===fast)return!1;if(fast=fast.next,null===fast)return!1;if(fast=fast.next,slow=slow.next,fast===slow)return!0}},pop:function(){if(null===this.last)return null;var temp=this.last;return this.last=this.last.prev,temp},shift:function(){if(null===this.first)return null;var temp=this.first;return this.first=this.first.next,temp},recursiveReverse:function(){function inverse(current,next){next&&(inverse(next,next.next),next.next=current)}if(this.first){inverse(this.first,this.first.next),
this.first.next=null;var temp=this.first;this.first=this.last,this.last=temp}},reverse:function(){if(this.first&&this.first.next){for(var temp,current=this.first.next,prev=this.first;current;)temp=current.next,current.next=prev,prev.prev=current,prev=current,current=temp;this.first.next=null,this.last.prev=null,temp=this.first,this.first=prev,this.last=temp}}},{}),Handsontable.utils.NodeStructure=NodeStructure,Handsontable.utils.LinkedList=LinkedList},{browser:24}],129:[function(_dereq_,module,exports){Object.defineProperties(exports,{Stack:{get:function(){return Stack}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],Stack=function(){var initial=void 0!==arguments[0]?arguments[0]:[];this.items=initial};$traceurRuntime.createClass(Stack,{push:function(){for(var $__3,items=[],$__2=0;$__2<arguments.length;$__2++)items[$__2]=arguments[$__2];($__3=this.items).push.apply($__3,$traceurRuntime.spread(items))},pop:function(){return this.items.pop()},peek:function(){return this.isEmpty()?void 0:this.items[this.items.length-1]},isEmpty:function(){return!this.size()},size:function(){return this.items.length}},{}),Handsontable.utils.Stack=Stack},{browser:24}],130:[function(_dereq_,module,exports){Object.defineProperties(exports,{GhostTable:{get:function(){return GhostTable}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_helpers_47_dom_47_element__,$___46__46__47_helpers_47_array__,$___46__46__47_helpers_47_object__,$___46__46__47_helpers_47_number__,$___46__46__47_helpers_47_mixed__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],$__1=($___46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47_helpers_47_dom_47_element__&&$___46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47_helpers_47_dom_47_element__}),addClass=$__1.addClass,outerHeight=$__1.outerHeight,outerWidth=$__1.outerWidth,arrayEach=($___46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47_helpers_47_array__&&$___46__46__47_helpers_47_array__.__esModule&&$___46__46__47_helpers_47_array__||{"default":$___46__46__47_helpers_47_array__}).arrayEach,GhostTable=(($___46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47_helpers_47_object__&&$___46__46__47_helpers_47_object__.__esModule&&$___46__46__47_helpers_47_object__||{"default":$___46__46__47_helpers_47_object__}).objectEach,($___46__46__47_helpers_47_number__=_dereq_("helpers/number"),$___46__46__47_helpers_47_number__&&$___46__46__47_helpers_47_number__.__esModule&&$___46__46__47_helpers_47_number__||{"default":$___46__46__47_helpers_47_number__}).rangeEach,($___46__46__47_helpers_47_mixed__=_dereq_("helpers/mixed"),$___46__46__47_helpers_47_mixed__&&$___46__46__47_helpers_47_mixed__.__esModule&&$___46__46__47_helpers_47_mixed__||{"default":$___46__46__47_helpers_47_mixed__}).stringify,function(hotInstance){this.hot=hotInstance,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null,this.settings={useHeaders:!0}});$traceurRuntime.createClass(GhostTable,{addRow:function(row,samples){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var rowObject={row:row};this.rows.push(rowObject),this.samples=samples,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(row)),this.container.container.appendChild(this.table.fragment),rowObject.table=this.table.table},addColumnHeadersRow:function(samples){if(null!=this.hot.getColHeader(0)){var rowObject={row:-1};this.rows.push(rowObject),this.container=this.createContainer(this.hot.rootElement.className),this.samples=samples,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tHead.appendChild(this.createColumnHeadersRow()),this.container.container.appendChild(this.table.fragment),rowObject.table=this.table.table}},addColumn:function(column,samples){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var columnObject={col:column};this.columns.push(columnObject),this.samples=samples,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&null!==this.hot.getColHeader(column)&&this.hot.view.appendColHeader(column,this.table.th),this.table.tBody.appendChild(this.createCol(column)),this.container.container.appendChild(this.table.fragment),columnObject.table=this.table.table},getHeights:function(callback){this.injected||this.injectTable(),arrayEach(this.rows,function(row){callback(row.row,outerHeight(row.table)-1)})},getWidths:function(callback){this.injected||this.injectTable(),arrayEach(this.columns,function(column){callback(column.col,outerWidth(column.table))})},setSettings:function(settings){this.settings=settings},setSetting:function(name,value){this.settings||(this.settings={}),this.settings[name]=value},getSettings:function(){return this.settings},getSetting:function(name){return this.settings?this.settings[name]:null},createColGroupsCol:function(){var $__6=this,d=document,fragment=d.createDocumentFragment();return this.hot.hasRowHeaders()&&fragment.appendChild(this.createColElement(-1)),this.samples.forEach(function(sample){arrayEach(sample.strings,function(string){fragment.appendChild($__6.createColElement(string.col))})}),fragment},createRow:function(row){var $__6=this,d=document,fragment=d.createDocumentFragment(),th=d.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(row,th),fragment.appendChild(th)),this.samples.forEach(function(sample){arrayEach(sample.strings,function(string){var column=string.col,cellProperties=$__6.hot.getCellMeta(row,column);cellProperties.col=column,cellProperties.row=row;var renderer=$__6.hot.getCellRenderer(cellProperties),td=d.createElement("td");renderer($__6.hot,td,row,column,$__6.hot.colToProp(column),string.value,cellProperties),fragment.appendChild(td)})}),fragment},createColumnHeadersRow:function(){var $__6=this,d=document,fragment=d.createDocumentFragment();if(this.hot.hasRowHeaders()){var th=d.createElement("th");this.hot.view.appendColHeader(-1,th),fragment.appendChild(th)}return this.samples.forEach(function(sample){arrayEach(sample.strings,function(string){var column=string.col,th=d.createElement("th");$__6.hot.view.appendColHeader(column,th),fragment.appendChild(th)})}),fragment},createCol:function(column){var $__6=this,d=document,fragment=d.createDocumentFragment();return this.samples.forEach(function(sample){arrayEach(sample.strings,function(string){var row=string.row,cellProperties=$__6.hot.getCellMeta(row,column);cellProperties.col=column,cellProperties.row=row;var renderer=$__6.hot.getCellRenderer(cellProperties),td=d.createElement("td"),tr=d.createElement("tr");renderer($__6.hot,td,row,column,$__6.hot.colToProp(column),string.value,cellProperties),tr.appendChild(td),fragment.appendChild(tr)})}),fragment},clean:function(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()},injectTable:function(){var parent=void 0!==arguments[0]?arguments[0]:null;this.injected||((parent||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)},removeTable:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)},createColElement:function(column){var d=document,col=d.createElement("col");return col.style.width=this.hot.view.wt.wtTable.getStretchedColumnWidth(column)+"px",col},createTable:function(){var className=void 0!==arguments[0]?arguments[0]:"",d=document,fragment=d.createDocumentFragment(),table=d.createElement("table"),tHead=d.createElement("thead"),tBody=d.createElement("tbody"),colGroup=d.createElement("colgroup"),tr=d.createElement("tr"),th=d.createElement("th");return this.isVertical()&&table.appendChild(colGroup),this.isHorizontal()&&(tr.appendChild(th),tHead.appendChild(tr),table.style.tableLayout="auto",table.style.width="auto"),table.appendChild(tHead),this.isVertical()&&tBody.appendChild(tr),table.appendChild(tBody),addClass(table,className),fragment.appendChild(table),{fragment:fragment,table:table,tHead:tHead,tBody:tBody,colGroup:colGroup,tr:tr,th:th}},createContainer:function(){var className=void 0!==arguments[0]?arguments[0]:"",d=document,fragment=d.createDocumentFragment(),container=d.createElement("div");return className="htGhostTable htAutoSize "+className.trim(),addClass(container,className),fragment.appendChild(container),{fragment:fragment,container:container}},isVertical:function(){return!(!this.rows.length||this.columns.length)},isHorizontal:function(){return!(!this.columns.length||this.rows.length)}},{}),Handsontable.utils.GhostTable=GhostTable},{browser:24,"helpers/array":43,"helpers/dom/element":47,"helpers/mixed":51,"helpers/number":52,"helpers/object":53}],131:[function(_dereq_,module,exports){function parseDelay(delay){return"string"==typeof delay&&/fps$/.test(delay)&&(delay=1e3/parseInt(delay.replace("fps","")||0,10)),delay}Object.defineProperties(exports,{Interval:{get:function(){return Interval}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_helpers_47_feature__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],$__1=($___46__46__47_helpers_47_feature__=_dereq_("helpers/feature"),$___46__46__47_helpers_47_feature__&&$___46__46__47_helpers_47_feature__.__esModule&&$___46__46__47_helpers_47_feature__||{"default":$___46__46__47_helpers_47_feature__}),requestAnimationFrame=$__1.requestAnimationFrame,cancelAnimationFrame=$__1.cancelAnimationFrame,Interval=function(func,delay){var $__2=this;this.timer=null,this.func=func,this.delay=parseDelay(delay),this.stopped=!0,this._then=null,this._callback=function(){return $__2.__callback()}},$Interval=Interval;$traceurRuntime.createClass(Interval,{start:function(){return this.stopped&&(this._then=Date.now(),this.stopped=!1,this.timer=requestAnimationFrame(this._callback)),this},stop:function(){return this.stopped||(this.stopped=!0,cancelAnimationFrame(this.timer),this.timer=null),this},__callback:function(){if(this.timer=requestAnimationFrame(this._callback),this.delay){var now=Date.now(),elapsed=now-this._then;elapsed>this.delay&&(this._then=now-elapsed%this.delay,this.func())}else this.func()}},{create:function(func,delay){return new $Interval(func,delay)}}),Handsontable.utils.Interval=Interval},{browser:24,"helpers/feature":49}],132:[function(_dereq_,module,exports){function registerIdentity(identity,hot){identities.set(identity,hot)}function getTranslator(identity){var singleton;if(!(identity instanceof Handsontable.Core)){if(!identities.has(identity))throw Error("Record translator was not registered for this object identity");identity=identities.get(identity)}return translatorSingletons.has(identity)?singleton=translatorSingletons.get(identity):(singleton=new RecordTranslator(identity),translatorSingletons.set(identity,singleton)),singleton}Object.defineProperties(exports,{registerIdentity:{get:function(){return registerIdentity}},getTranslator:{get:function(){return getTranslator}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_helpers_47_object__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],isObject=($___46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47_helpers_47_object__&&$___46__46__47_helpers_47_object__.__esModule&&$___46__46__47_helpers_47_object__||{"default":$___46__46__47_helpers_47_object__}).isObject,RecordTranslator=function(hot){this.hot=hot};$traceurRuntime.createClass(RecordTranslator,{toVisualRow:function(row){return this.hot.runHooks("unmodifyRow",row)},toVisualColumn:function(column){return this.hot.runHooks("unmodifyCol",column)},toVisual:function(row,column){var result;return result=isObject(row)?{row:this.toVisualRow(row.row),column:this.toVisualColumn(row.column)}:[this.toVisualRow(row),this.toVisualColumn(column)]},toPhysicalRow:function(row){return this.hot.runHooks("modifyRow",row)},toPhysicalColumn:function(column){return this.hot.runHooks("modifyCol",column)},toPhysical:function(row,column){var result;return result=isObject(row)?{row:this.toPhysicalRow(row.row),column:this.toPhysicalColumn(row.column)}:[this.toPhysicalRow(row),this.toPhysicalColumn(column)]}},{});var identities=new WeakMap,translatorSingletons=new WeakMap;Handsontable.utils.RecordTranslator=RecordTranslator,Handsontable.utils.RecordTranslatorUtils={registerIdentity:registerIdentity,getTranslator:getTranslator}},{browser:24,"helpers/object":53}],133:[function(_dereq_,module,exports){var $__8;Object.defineProperties(exports,{SamplesGenerator:{get:function(){return SamplesGenerator}},__esModule:{value:!0}});var $___46__46__47_browser__,$___46__46__47_helpers_47_dom_47_element__,$___46__46__47_helpers_47_array__,$___46__46__47_helpers_47_object__,$___46__46__47_helpers_47_number__,$___46__46__47_helpers_47_mixed__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],$__1=($___46__46__47_helpers_47_dom_47_element__=_dereq_("helpers/dom/element"),$___46__46__47_helpers_47_dom_47_element__&&$___46__46__47_helpers_47_dom_47_element__.__esModule&&$___46__46__47_helpers_47_dom_47_element__||{"default":$___46__46__47_helpers_47_dom_47_element__}),$__3=($__1.addClass,$__1.outerHeight,$__1.outerWidth,($___46__46__47_helpers_47_array__=_dereq_("helpers/array"),$___46__46__47_helpers_47_array__&&$___46__46__47_helpers_47_array__.__esModule&&$___46__46__47_helpers_47_array__||{"default":$___46__46__47_helpers_47_array__}).arrayEach,$___46__46__47_helpers_47_object__=_dereq_("helpers/object"),$___46__46__47_helpers_47_object__&&$___46__46__47_helpers_47_object__.__esModule&&$___46__46__47_helpers_47_object__||{"default":$___46__46__47_helpers_47_object__}),isObject=($__3.objectEach,$__3.isObject),rangeEach=($___46__46__47_helpers_47_number__=_dereq_("helpers/number"),$___46__46__47_helpers_47_number__&&$___46__46__47_helpers_47_number__.__esModule&&$___46__46__47_helpers_47_number__||{"default":$___46__46__47_helpers_47_number__}).rangeEach,stringify=($___46__46__47_helpers_47_mixed__=_dereq_("helpers/mixed"),$___46__46__47_helpers_47_mixed__&&$___46__46__47_helpers_47_mixed__.__esModule&&$___46__46__47_helpers_47_mixed__||{"default":$___46__46__47_helpers_47_mixed__}).stringify,SamplesGenerator=function(dataFactory){this.samples=null,this.dataFactory=dataFactory,this.customSampleCount=null,this.allowDuplicates=!1},$SamplesGenerator=SamplesGenerator;$traceurRuntime.createClass(SamplesGenerator,($__8={},Object.defineProperty($__8,"getSampleCount",{value:function(){return this.customSampleCount?this.customSampleCount:$SamplesGenerator.SAMPLE_COUNT},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__8,"setSampleCount",{value:function(sampleCount){this.customSampleCount=sampleCount},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__8,"setAllowDuplicates",{value:function(allowDuplicates){this.allowDuplicates=allowDuplicates},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__8,"generateRowSamples",{value:function(rowRange,colRange){return this.generateSamples("row",colRange,rowRange)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__8,"generateColumnSamples",{value:function(colRange,rowRange){return this.generateSamples("col",rowRange,colRange)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__8,"generateSamples",{value:function(type,range,specifierRange){var $__6=this,samples=new Map;return"number"==typeof specifierRange&&(specifierRange={from:specifierRange,to:specifierRange}),rangeEach(specifierRange.from,specifierRange.to,function(index){var sample=$__6.generateSample(type,range,index);samples.set(index,sample)}),samples},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__8,"generateSample",{value:function(type,range,specifierValue){var length,$__6=this,samples=new Map,sampledValues=[];return rangeEach(range.from,range.to,function(index){var $__8,value;if("row"===type)value=$__6.dataFactory(specifierValue,index);else{if("col"!==type)throw new Error("Unsupported sample type");value=$__6.dataFactory(index,specifierValue)}length=isObject(value)?Object.keys(value).length:Array.isArray(value)?value.length:stringify(value).length,samples.has(length)||samples.set(length,{needed:$__6.getSampleCount(),strings:[]});var sample=samples.get(length);if(sample.needed){var duplicate=sampledValues.indexOf(value)>-1;if(!duplicate||$__6.allowDuplicates){var computedKey="row"===type?"col":"row";sample.strings.push(($__8={},Object.defineProperty($__8,"value",{value:value,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__8,computedKey,{value:index,configurable:!0,enumerable:!0,writable:!0}),$__8)),sampledValues.push(value),sample.needed--}}}),samples},configurable:!0,enumerable:!0,writable:!0}),$__8),{get SAMPLE_COUNT(){return 3}}),Handsontable.utils.SamplesGenerator=SamplesGenerator},{browser:24,"helpers/array":43,"helpers/dom/element":47,"helpers/mixed":51,"helpers/number":52,"helpers/object":53}],134:[function(_dereq_,module,exports){function mergeSort(array){var compareFunction=void 0!==arguments[1]?arguments[1]:defaultCompareFunction,startIndex=void 0!==arguments[2]?arguments[2]:0,endIndex=void 0!==arguments[3]?arguments[3]:array.length;if(Math.abs(endIndex-startIndex)<=1)return[];var middleIndex=Math.ceil((startIndex+endIndex)/2);return mergeSort(array,compareFunction,startIndex,middleIndex),mergeSort(array,compareFunction,middleIndex,endIndex),merge(array,compareFunction,startIndex,middleIndex,endIndex)}function merge(array,compareFunction,startIndex,middleIndex,endIndex){for(var leftElements=new LinkedList,rightElements=new LinkedList,leftSize=middleIndex-startIndex,rightSize=endIndex-middleIndex,maxSize=Math.max(leftSize,rightSize),size=endIndex-startIndex,i$__2=0;i$__2<maxSize;i$__2+=1)i$__2<leftSize&&leftElements.push(array[startIndex+i$__2]),i$__2<rightSize&&rightElements.push(array[middleIndex+i$__2]);for(var i=0;i<size;)leftElements.first&&rightElements.first?compareFunction(leftElements.first.data,rightElements.first.data)>0?array[startIndex+i]=rightElements.shift().data:array[startIndex+i]=leftElements.shift().data:leftElements.first?array[startIndex+i]=leftElements.shift().data:array[startIndex+i]=rightElements.shift().data,i+=1;return array}Object.defineProperties(exports,{mergeSort:{get:function(){return mergeSort}},__esModule:{value:!0}});var $___46__46__47_dataStructures_47_linkedList__,$___46__46__47__46__46__47_browser__,LinkedList=($___46__46__47_dataStructures_47_linkedList__=_dereq_("../dataStructures/linkedList"),$___46__46__47_dataStructures_47_linkedList__&&$___46__46__47_dataStructures_47_linkedList__.__esModule&&$___46__46__47_dataStructures_47_linkedList__||{"default":$___46__46__47_dataStructures_47_linkedList__}).LinkedList,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],defaultCompareFunction=function(a,b){var firstValue=a.toString(),secondValue=b.toString();return firstValue===secondValue?0:firstValue<secondValue?-1:1};Handsontable.utils.mergeSort=mergeSort},{"../dataStructures/linkedList":128,browser:24}],135:[function(_dereq_,module,exports){function process(value,callback){var originalVal=value;return function(source){for(var found=!1,s=0,slen=source.length;s<slen;s++)if(originalVal===source[s]){found=!0;break}callback(found)}}var $___46__46__47_browser__,$___46__46__47_helpers_47_mixed__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"];($___46__46__47_helpers_47_mixed__=_dereq_("helpers/mixed"),$___46__46__47_helpers_47_mixed__&&$___46__46__47_helpers_47_mixed__.__esModule&&$___46__46__47_helpers_47_mixed__||{"default":$___46__46__47_helpers_47_mixed__}).stringify;Handsontable.AutocompleteValidator=function(value,callback){return null==value&&(value=""),this.allowEmpty&&""===value?void callback(!0):void(this.strict&&this.source?"function"==typeof this.source?this.source(value,process(value,callback)):process(value,callback)(this.source):callback(!0))}},{browser:24,"helpers/mixed":51}],136:[function(_dereq_,module,exports){var $___46__46__47_browser__,$__moment__,$___46__46__47_helpers_47_date__,$___46__46__47_editors__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],moment=($__moment__=_dereq_("moment"),$__moment__&&$__moment__.__esModule&&$__moment__||{"default":$__moment__})["default"],getNormalizedDate=($___46__46__47_helpers_47_date__=_dereq_("../helpers/date"),$___46__46__47_helpers_47_date__&&$___46__46__47_helpers_47_date__.__esModule&&$___46__46__47_helpers_47_date__||{"default":$___46__46__47_helpers_47_date__}).getNormalizedDate,getEditor=($___46__46__47_editors__=_dereq_("editors"),$___46__46__47_editors__&&$___46__46__47_editors__.__esModule&&$___46__46__47_editors__||{"default":$___46__46__47_editors__}).getEditor;Handsontable.DateValidator=function(value,callback){var valid=!0,dateEditor=getEditor("date",this.instance);null==value&&(value="");var isValidDate=moment(new Date(value)).isValid()||moment(value,dateEditor.defaultDateFormat).isValid(),isValidFormat=moment(value,this.dateFormat||dateEditor.defaultDateFormat,!0).isValid();if(this.allowEmpty&&""===value&&(isValidDate=!0,isValidFormat=!0),isValidDate||(valid=!1),!isValidDate&&isValidFormat&&(valid=!0),isValidDate&&!isValidFormat)if(this.correctFormat===!0){var correctedValue=correctFormat(value,this.dateFormat),row=this.instance.runHooks("unmodifyRow",this.row),column=this.instance.runHooks("unmodifyCol",this.col);this.instance.setDataAtCell(row,column,correctedValue,"dateValidator"),valid=!0}else valid=!1;callback(valid)};var correctFormat=function(value,dateFormat){var date,dateFromDate=moment(getNormalizedDate(value)),dateFromMoment=moment(value,dateFormat),isAlphanumeric=value.search(/[A-z]/g)>-1;return date=dateFromDate.isValid()&&dateFromDate.format("x")===dateFromMoment.format("x")||!dateFromMoment.isValid()||isAlphanumeric?dateFromDate:dateFromMoment,date.format(dateFormat)}},{"../helpers/date":46,browser:24,editors:30,moment:"moment"}],137:[function(_dereq_,module,exports){var $___46__46__47_browser__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"];Handsontable.NumericValidator=function(value,callback){null==value&&(value=""),callback(this.allowEmpty&&""===value?!0:""===value?!1:/^-?\d*(\.|\,)?\d*$/.test(value))}},{browser:24}],138:[function(_dereq_,module,exports){var $___46__46__47_browser__,$__moment__,Handsontable=($___46__46__47_browser__=_dereq_("browser"),$___46__46__47_browser__&&$___46__46__47_browser__.__esModule&&$___46__46__47_browser__||{"default":$___46__46__47_browser__})["default"],moment=($__moment__=_dereq_("moment"),$__moment__&&$__moment__.__esModule&&$__moment__||{"default":$__moment__})["default"],STRICT_FORMATS=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"];Handsontable.TimeValidator=function(value,callback){var valid=!0,timeFormat=this.timeFormat||"h:mm:ss a";null===value&&(value=""),value=/^\d{3,}$/.test(value)?parseInt(value,10):value;var twoDigitValue=/^\d{1,2}$/.test(value);twoDigitValue&&(value+=":00");var date=moment(value,STRICT_FORMATS,!0).isValid()?moment(value):moment(value,timeFormat),isValidTime=date.isValid(),isValidFormat=moment(value,timeFormat,!0).isValid()&&!twoDigitValue;if(this.allowEmpty&&""===value&&(isValidTime=!0,isValidFormat=!0),isValidTime||(valid=!1),!isValidTime&&isValidFormat&&(valid=!0),isValidTime&&!isValidFormat)if(this.correctFormat===!0){var correctedValue=date.format(timeFormat),row=this.instance.runHooks("unmodifyRow",this.row),column=this.instance.runHooks("unmodifyCol",this.col);this.instance.setDataAtCell(row,column,correctedValue,"timeValidator"),valid=!0}else valid=!1;callback(valid)}},{browser:24,moment:"moment"}],139:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableBottomOverlay:{get:function(){return WalkontableBottomOverlay}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_dom_47_element__,$__handsontable_47_3rdparty_47_walkontable_47_src_47_overlay_47__95_base_46_js__,$__0=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}),addClass=$__0.addClass,getScrollbarWidth=$__0.getScrollbarWidth,getScrollTop=$__0.getScrollTop,getWindowScrollLeft=$__0.getWindowScrollLeft,hasClass=$__0.hasClass,outerHeight=$__0.outerHeight,removeClass=($__0.innerHeight,$__0.removeClass),resetCssTransform=($__0.setOverlayPosition,$__0.resetCssTransform),WalkontableOverlay=($__handsontable_47_3rdparty_47_walkontable_47_src_47_overlay_47__95_base_46_js__=_dereq_("../../../../../node_modules/hot-builder/node_modules/handsontable/src/3rdparty/walkontable/src/overlay/_base.js"),$__handsontable_47_3rdparty_47_walkontable_47_src_47_overlay_47__95_base_46_js__&&$__handsontable_47_3rdparty_47_walkontable_47_src_47_overlay_47__95_base_46_js__.__esModule&&$__handsontable_47_3rdparty_47_walkontable_47_src_47_overlay_47__95_base_46_js__||{"default":$__handsontable_47_3rdparty_47_walkontable_47_src_47_overlay_47__95_base_46_js__}).WalkontableOverlay,WalkontableBottomOverlay=function(wotInstance){$traceurRuntime.superConstructor($WalkontableBottomOverlay).call(this,wotInstance),this.clone=this.makeClone(WalkontableOverlay.CLONE_BOTTOM)},$WalkontableBottomOverlay=WalkontableBottomOverlay;$traceurRuntime.createClass(WalkontableBottomOverlay,{repositionOverlay:function(){var scrollbarWidth=getScrollbarWidth(),cloneRoot=this.clone.wtTable.holder.parentNode;this.wot.wtTable.holder.clientHeight===this.wot.wtTable.holder.offsetHeight&&(scrollbarWidth=0),cloneRoot.style.top="",cloneRoot.style.bottom=scrollbarWidth+"px"},shouldBeRendered:function(){return!!this.wot.getSetting("fixedRowsBottom")},resetFixedPosition:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var overlayRoot=this.clone.wtTable.holder.parentNode,headerPosition=0;if(overlayRoot.style.top="",this.wot.wtOverlays.leftOverlay.trimmingContainer===window){var finalLeft,finalBottom,box=this.wot.wtTable.hider.getBoundingClientRect(),bottom=Math.ceil(box.bottom),bodyHeight=document.body.offsetHeight;finalLeft=this.wot.wtTable.hider.style.left,finalLeft=""===finalLeft?0:finalLeft,finalBottom=bottom>bodyHeight?bottom-bodyHeight:0,headerPosition=finalBottom,finalBottom+="px",overlayRoot.style.top="",overlayRoot.style.left=finalLeft,overlayRoot.style.bottom=finalBottom}else headerPosition=this.getScrollPosition(),resetCssTransform(overlayRoot),this.repositionOverlay();this.adjustHeaderBordersPosition(headerPosition)}},setScrollPosition:function(pos){this.mainTableScrollableElement===window?window.scrollTo(getWindowScrollLeft(),pos):this.mainTableScrollableElement.scrollTop=pos},onScroll:function(){this.wot.getSetting("onScrollVertically")},sumCellSizes:function(from,to){for(var sum=0,defaultRowHeight=this.wot.wtSettings.settings.defaultRowHeight;from<to;){var height=this.wot.wtTable.getRowHeight(from);sum+=void 0===height?defaultRowHeight:height,from++}return sum},adjustElementsSize:function(){var force=void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||force)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),force||(this.areElementSizesAdjusted=!0))},adjustRootElementSize:function(){var tableHeight,masterHolder=this.wot.wtTable.holder,scrollbarWidth=masterHolder.clientWidth===masterHolder.offsetWidth?0:getScrollbarWidth(),overlayRoot=this.clone.wtTable.holder.parentNode,overlayRootStyle=overlayRoot.style;this.trimmingContainer===window?overlayRootStyle.width="":overlayRootStyle.width=this.wot.wtViewport.getWorkspaceWidth()-scrollbarWidth+"px",this.clone.wtTable.holder.style.width=overlayRootStyle.width,tableHeight=outerHeight(this.clone.wtTable.TABLE),overlayRootStyle.height=(0===tableHeight?tableHeight:tableHeight)+"px"},adjustRootChildrenSize:function(){var scrollbarWidth=getScrollbarWidth();this.clone.wtTable.hider.style.width=this.hider.style.width,this.clone.wtTable.holder.style.width=this.clone.wtTable.holder.parentNode.style.width,0===scrollbarWidth&&(scrollbarWidth=30),this.clone.wtTable.holder.style.height=parseInt(this.clone.wtTable.holder.parentNode.style.height,10)+scrollbarWidth+"px"},applyToDOM:function(){var total=this.wot.getSetting("totalRows");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px";else{if(0!==total)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()},syncOverlayOffset:function(){"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.left=""},scrollTo:function(sourceRow,bottomEdge){var newY=this.getTableParentOffset(),sourceInstance=this.wot.cloneSource?this.wot.cloneSource:this.wot,mainHolder=sourceInstance.wtTable.holder,scrollbarCompensation=0;bottomEdge&&mainHolder.offsetHeight!==mainHolder.clientHeight&&(scrollbarCompensation=getScrollbarWidth()),bottomEdge?(newY+=this.sumCellSizes(0,sourceRow+1),newY-=this.wot.wtViewport.getViewportHeight(),newY+=1):newY+=this.sumCellSizes(this.wot.getSetting("fixedRowsBottom"),sourceRow),newY+=scrollbarCompensation,this.setScrollPosition(newY)},getTableParentOffset:function(){return this.mainTableScrollableElement===window?this.wot.wtTable.holderOffset.top:0},getScrollPosition:function(){return getScrollTop(this.mainTableScrollableElement)},adjustHeaderBordersPosition:function(position){if(0===this.wot.getSetting("fixedRowsBottom")&&this.wot.getSetting("columnHeaders").length>0){var masterParent=this.wot.wtTable.holder.parentNode,previousState=hasClass(masterParent,"innerBorderTop");position?addClass(masterParent,"innerBorderTop"):removeClass(masterParent,"innerBorderTop"),
(!previousState&&position||previousState&&!position)&&this.wot.wtOverlays.adjustElementsSize()}if(0===this.wot.getSetting("rowHeaders").length){var secondHeaderCell=this.clone.wtTable.THEAD.querySelector("th:nth-of-type(2)");secondHeaderCell&&(secondHeaderCell.style["border-left-width"]=0)}}},{},WalkontableOverlay),window.WalkontableBottomOverlay=WalkontableBottomOverlay,WalkontableOverlay.registerOverlay(WalkontableOverlay.CLONE_BOTTOM,WalkontableBottomOverlay)},{"../../../../../node_modules/hot-builder/node_modules/handsontable/src/3rdparty/walkontable/src/overlay/_base.js":12,"../../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47}],140:[function(_dereq_,module,exports){Object.defineProperties(exports,{WalkontableBottomLeftCornerOverlay:{get:function(){return WalkontableBottomLeftCornerOverlay}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_dom_47_element__,$__handsontable_47_3rdparty_47_walkontable_47_src_47_overlay_47__95_base_46_js__,$__0=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}),getScrollbarWidth=$__0.getScrollbarWidth,outerHeight=$__0.outerHeight,outerWidth=$__0.outerWidth,resetCssTransform=($__0.setOverlayPosition,$__0.resetCssTransform),WalkontableOverlay=($__handsontable_47_3rdparty_47_walkontable_47_src_47_overlay_47__95_base_46_js__=_dereq_("../../../../../node_modules/hot-builder/node_modules/handsontable/src/3rdparty/walkontable/src/overlay/_base.js"),$__handsontable_47_3rdparty_47_walkontable_47_src_47_overlay_47__95_base_46_js__&&$__handsontable_47_3rdparty_47_walkontable_47_src_47_overlay_47__95_base_46_js__.__esModule&&$__handsontable_47_3rdparty_47_walkontable_47_src_47_overlay_47__95_base_46_js__||{"default":$__handsontable_47_3rdparty_47_walkontable_47_src_47_overlay_47__95_base_46_js__}).WalkontableOverlay,WalkontableBottomLeftCornerOverlay=function(wotInstance){$traceurRuntime.superConstructor($WalkontableBottomLeftCornerOverlay).call(this,wotInstance),this.clone=this.makeClone(WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER)},$WalkontableBottomLeftCornerOverlay=WalkontableBottomLeftCornerOverlay;$traceurRuntime.createClass(WalkontableBottomLeftCornerOverlay,{shouldBeRendered:function(){return!(!this.wot.getSetting("fixedRowsBottom")||!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)},repositionOverlay:function(){var scrollbarWidth=getScrollbarWidth(),cloneRoot=this.clone.wtTable.holder.parentNode;this.wot.wtTable.holder.clientHeight===this.wot.wtTable.holder.offsetHeight&&(scrollbarWidth=0),cloneRoot.style.top="",cloneRoot.style.bottom=scrollbarWidth+"px"},resetFixedPosition:function(){if(this.updateTrimmingContainer(),this.wot.wtTable.holder.parentNode){var overlayRoot=this.clone.wtTable.holder.parentNode,tableHeight=outerHeight(this.clone.wtTable.TABLE),tableWidth=outerWidth(this.clone.wtTable.TABLE);if(overlayRoot.style.top="",this.trimmingContainer===window){var finalLeft,finalBottom,box=this.wot.wtTable.hider.getBoundingClientRect(),bottom=Math.ceil(box.bottom),left=Math.ceil(box.left),bodyHeight=document.body.offsetHeight;finalLeft=left<0?-left:0,finalBottom=bottom>bodyHeight?bottom-bodyHeight:0,finalBottom+="px",finalLeft+="px",overlayRoot.style.top="",overlayRoot.style.left=finalLeft,overlayRoot.style.bottom=finalBottom}else resetCssTransform(overlayRoot),this.repositionOverlay();overlayRoot.style.height=(0===tableHeight?tableHeight:tableHeight)+"px",overlayRoot.style.width=(0===tableWidth?tableWidth:tableWidth)+"px"}}},{},WalkontableOverlay),window.WalkontableBottomLeftCornerOverlay=WalkontableBottomLeftCornerOverlay,WalkontableOverlay.registerOverlay(WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER,WalkontableBottomLeftCornerOverlay)},{"../../../../../node_modules/hot-builder/node_modules/handsontable/src/3rdparty/walkontable/src/overlay/_base.js":12,"../../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47}],141:[function(_dereq_,module,exports){var $__handsontable_47_browser__,$__3rdparty_47_walkontable_47_src_47_overlay_47_bottom__,$__3rdparty_47_walkontable_47_src_47_overlay_47_bottomLeftCorner__,Handsontable=($__handsontable_47_browser__=_dereq_("../node_modules/hot-builder/node_modules/handsontable/src/browser"),$__handsontable_47_browser__&&$__handsontable_47_browser__.__esModule&&$__handsontable_47_browser__||{"default":$__handsontable_47_browser__})["default"];($__3rdparty_47_walkontable_47_src_47_overlay_47_bottom__=_dereq_("3rdparty/walkontable/src/overlay/bottom"),$__3rdparty_47_walkontable_47_src_47_overlay_47_bottom__&&$__3rdparty_47_walkontable_47_src_47_overlay_47_bottom__.__esModule&&$__3rdparty_47_walkontable_47_src_47_overlay_47_bottom__||{"default":$__3rdparty_47_walkontable_47_src_47_overlay_47_bottom__}).WalkontableBottomOverlay,($__3rdparty_47_walkontable_47_src_47_overlay_47_bottomLeftCorner__=_dereq_("3rdparty/walkontable/src/overlay/bottomLeftCorner"),$__3rdparty_47_walkontable_47_src_47_overlay_47_bottomLeftCorner__&&$__3rdparty_47_walkontable_47_src_47_overlay_47_bottomLeftCorner__.__esModule&&$__3rdparty_47_walkontable_47_src_47_overlay_47_bottomLeftCorner__||{"default":$__3rdparty_47_walkontable_47_src_47_overlay_47_bottomLeftCorner__}).WalkontableBottomLeftCornerOverlay;module.exports=Handsontable},{"../node_modules/hot-builder/node_modules/handsontable/src/browser":24,"3rdparty/walkontable/src/overlay/bottom":139,"3rdparty/walkontable/src/overlay/bottomLeftCorner":140}],142:[function(_dereq_,module,exports){Object.defineProperties(exports,{BindRowsWithHeaders:{get:function(){return BindRowsWithHeaders}},__esModule:{value:!0}});var $__handsontable_47_plugins_47__95_base__,$__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_number__,$__handsontable_47_plugins__,$__bindStrategy__,BasePlugin=($__handsontable_47_plugins_47__95_base__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base"),$__handsontable_47_plugins_47__95_base__&&$__handsontable_47_plugins_47__95_base__.__esModule&&$__handsontable_47_plugins_47__95_base__||{"default":$__handsontable_47_plugins_47__95_base__})["default"],rangeEach=(($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,($__handsontable_47_helpers_47_number__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach),registerPlugin=($__handsontable_47_plugins__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins"),$__handsontable_47_plugins__&&$__handsontable_47_plugins__.__esModule&&$__handsontable_47_plugins__||{"default":$__handsontable_47_plugins__}).registerPlugin,BindStrategy=($__bindStrategy__=_dereq_("bindStrategy"),$__bindStrategy__&&$__bindStrategy__.__esModule&&$__bindStrategy__||{"default":$__bindStrategy__}).BindStrategy,BindRowsWithHeaders=function(hotInstance){$traceurRuntime.superConstructor($BindRowsWithHeaders).call(this,hotInstance),this.bindStrategy=new BindStrategy,this.removedRows=[]},$BindRowsWithHeaders=BindRowsWithHeaders;$traceurRuntime.createClass(BindRowsWithHeaders,{isEnabled:function(){return!!this.hot.getSettings().bindRowsWithHeaders},enablePlugin:function(){var $__5=this;if(!this.enabled){var bindStrategy=this.hot.getSettings().bindRowsWithHeaders;"string"!=typeof bindStrategy&&(bindStrategy=BindStrategy.DEFAULT_STRATEGY),this.bindStrategy.setStrategy(bindStrategy),this.bindStrategy.createMap(this.hot.countSourceRows()),this.addHook("modifyRowHeader",function(row){return $__5.onModifyRowHeader(row)}),this.addHook("afterCreateRow",function(index,amount){return $__5.onAfterCreateRow(index,amount)}),this.addHook("beforeRemoveRow",function(index,amount){return $__5.onBeforeRemoveRow(index,amount)}),this.addHook("afterRemoveRow",function(index,amount){return $__5.onAfterRemoveRow(index,amount)}),this.addHook("afterLoadData",function(firstRun){return $__5.onAfterLoadData(firstRun)}),$traceurRuntime.superGet(this,$BindRowsWithHeaders.prototype,"enablePlugin").call(this)}},updatePlugin:function(){$traceurRuntime.superGet(this,$BindRowsWithHeaders.prototype,"updatePlugin").call(this)},disablePlugin:function(){this.removedRows.length=0,this.bindStrategy.clearMap(),$traceurRuntime.superGet(this,$BindRowsWithHeaders.prototype,"disablePlugin").call(this)},onModifyRowHeader:function(row){return this.bindStrategy.translate(this.hot.runHooks("modifyRow",row))},onAfterCreateRow:function(index,amount){this.bindStrategy.createRow(index,amount)},onBeforeRemoveRow:function(index,amount){var $__5=this;this.removedRows.length=0,index!==!1&&rangeEach(index,index+amount-1,function(removedIndex){$__5.removedRows.push($__5.hot.runHooks("modifyRow",removedIndex))})},onAfterRemoveRow:function(index,amount){this.bindStrategy.removeRow(this.removedRows)},onAfterLoadData:function(firstRun){firstRun||this.bindStrategy.createMap(this.hot.countSourceRows())},destroy:function(){this.bindStrategy.destroy(),$traceurRuntime.superGet(this,$BindRowsWithHeaders.prototype,"destroy").call(this)}},{},BasePlugin),registerPlugin("bindRowsWithHeaders",BindRowsWithHeaders)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins":62,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base":63,bindStrategy:143}],143:[function(_dereq_,module,exports){Object.defineProperties(exports,{BindStrategy:{get:function(){return BindStrategy}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$__handsontable_47_mixins_47_arrayMapper__,$__handsontable_47_helpers_47_object__,$__handsontable_47_helpers_47_number__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("../../browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],rangeEach=(($__handsontable_47_mixins_47_arrayMapper__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/arrayMapper"),$__handsontable_47_mixins_47_arrayMapper__&&$__handsontable_47_mixins_47_arrayMapper__.__esModule&&$__handsontable_47_mixins_47_arrayMapper__||{"default":$__handsontable_47_mixins_47_arrayMapper__}).arrayMapper,($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}).mixin,($__handsontable_47_helpers_47_number__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach),strategies={},BindStrategy=function(){this.strategy=null};$traceurRuntime.createClass(BindStrategy,{setStrategy:function(name){var Strategy=strategies[name];if(!Strategy)throw new Error('Bind strategy "'+name+'" does not exist.');this.strategy=new Strategy},createMap:function(length){var strategy=this.strategy,originLength=void 0===length?strategy._arrayMap.length:length;strategy._arrayMap.length=0,rangeEach(originLength-1,function(itemIndex){strategy._arrayMap.push(itemIndex)})},createRow:function(){for(var params=[],$__5=0;$__5<arguments.length;$__5++)params[$__5]=arguments[$__5];this.strategy.createRow.apply(this.strategy,params)},removeRow:function(){for(var params=[],$__6=0;$__6<arguments.length;$__6++)params[$__6]=arguments[$__6];this.strategy.removeRow.apply(this.strategy,params)},translate:function(){for(var params=[],$__7=0;$__7<arguments.length;$__7++)params[$__7]=arguments[$__7];return this.strategy.getValueByIndex.apply(this.strategy,params)},clearMap:function(){this.strategy.clearMap()},destroy:function(){this.strategy&&this.strategy.destroy(),this.strategy=null}},{get DEFAULT_STRATEGY(){return"loose"},registerStrategy:function(name,klass){strategies[name]=klass}}),Handsontable.utils.BindStrategy=BindStrategy},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/arrayMapper":57,"../../browser":141}],144:[function(_dereq_,module,exports){Object.defineProperties(exports,{LooseBindStrategy:{get:function(){return LooseBindStrategy}},__esModule:{value:!0}});var $__handsontable_47_mixins_47_arrayMapper__,$__handsontable_47_helpers_47_object__,$___46__46__47_bindStrategy__,arrayMapper=($__handsontable_47_mixins_47_arrayMapper__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/arrayMapper"),$__handsontable_47_mixins_47_arrayMapper__&&$__handsontable_47_mixins_47_arrayMapper__.__esModule&&$__handsontable_47_mixins_47_arrayMapper__||{"default":$__handsontable_47_mixins_47_arrayMapper__}).arrayMapper,mixin=($__handsontable_47_helpers_47_object__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}).mixin,BindStrategy=($___46__46__47_bindStrategy__=_dereq_("bindStrategy"),$___46__46__47_bindStrategy__&&$___46__46__47_bindStrategy__.__esModule&&$___46__46__47_bindStrategy__||{"default":$___46__46__47_bindStrategy__}).BindStrategy,LooseBindStrategy=function(){};$traceurRuntime.createClass(LooseBindStrategy,{createRow:function(index,amount){this.shiftItems(index,amount)},removeRow:function(index,amount){this.unshiftItems(index,amount)},destroy:function(){this._arrayMap=null}},{get STRATEGY_NAME(){return"loose"}}),mixin(LooseBindStrategy,arrayMapper),BindStrategy.registerStrategy(LooseBindStrategy.STRATEGY_NAME,LooseBindStrategy)},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/arrayMapper":57,bindStrategy:143}],145:[function(_dereq_,module,exports){Object.defineProperties(exports,{StrictBindStrategy:{get:function(){return StrictBindStrategy}},__esModule:{value:!0}});var $__handsontable_47_mixins_47_arrayMapper__,$__handsontable_47_helpers_47_object__,$___46__46__47_bindStrategy__,arrayMapper=($__handsontable_47_mixins_47_arrayMapper__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/arrayMapper"),$__handsontable_47_mixins_47_arrayMapper__&&$__handsontable_47_mixins_47_arrayMapper__.__esModule&&$__handsontable_47_mixins_47_arrayMapper__||{"default":$__handsontable_47_mixins_47_arrayMapper__}).arrayMapper,mixin=($__handsontable_47_helpers_47_object__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}).mixin,BindStrategy=($___46__46__47_bindStrategy__=_dereq_("bindStrategy"),$___46__46__47_bindStrategy__&&$___46__46__47_bindStrategy__.__esModule&&$___46__46__47_bindStrategy__||{"default":$___46__46__47_bindStrategy__}).BindStrategy,StrictBindStrategy=function(){};$traceurRuntime.createClass(StrictBindStrategy,{createRow:function(index,amount){this.insertItems(index,amount)},removeRow:function(index,amount){this.removeItems(index,amount)},destroy:function(){this._arrayMap=null}},{get STRATEGY_NAME(){return"strict"}}),mixin(StrictBindStrategy,arrayMapper),BindStrategy.registerStrategy(StrictBindStrategy.STRATEGY_NAME,StrictBindStrategy)},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/arrayMapper":57,bindStrategy:143}],146:[function(_dereq_,module,exports){Object.defineProperties(exports,{CollapsibleColumns:{get:function(){return CollapsibleColumns}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_object__,$__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_number__,$__handsontable_47_helpers_47_dom_47_element__,$__handsontable_47_eventManager__,$__handsontable_47_plugins__,$__handsontable_47_helpers_47_dom_47_event__,$__handsontable_47_eventManager__,$__handsontable_47_plugins_47__95_base__,objectEach=($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}).objectEach,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,rangeEach=($__handsontable_47_helpers_47_number__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach,$__3=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}),addClass=$__3.addClass,hasClass=$__3.hasClass,fastInnerText=$__3.fastInnerText,$__5=(($__handsontable_47_eventManager__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/eventManager"),$__handsontable_47_eventManager__&&$__handsontable_47_eventManager__.__esModule&&$__handsontable_47_eventManager__||{"default":$__handsontable_47_eventManager__}).EventManager,$__handsontable_47_plugins__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins"),$__handsontable_47_plugins__&&$__handsontable_47_plugins__.__esModule&&$__handsontable_47_plugins__||{"default":$__handsontable_47_plugins__}),registerPlugin=$__5.registerPlugin,stopImmediatePropagation=($__5.getPlugin,($__handsontable_47_helpers_47_dom_47_event__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/event"),$__handsontable_47_helpers_47_dom_47_event__&&$__handsontable_47_helpers_47_dom_47_event__.__esModule&&$__handsontable_47_helpers_47_dom_47_event__||{"default":$__handsontable_47_helpers_47_dom_47_event__}).stopImmediatePropagation),eventManager=($__handsontable_47_eventManager__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/eventManager"),$__handsontable_47_eventManager__&&$__handsontable_47_eventManager__.__esModule&&$__handsontable_47_eventManager__||{"default":$__handsontable_47_eventManager__}).eventManager,BasePlugin=($__handsontable_47_plugins_47__95_base__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base"),$__handsontable_47_plugins_47__95_base__&&$__handsontable_47_plugins_47__95_base__.__esModule&&$__handsontable_47_plugins_47__95_base__||{"default":$__handsontable_47_plugins_47__95_base__})["default"],CollapsibleColumns=function(hotInstance){$traceurRuntime.superConstructor($CollapsibleColumns).call(this,hotInstance),this.settings=null,this.buttonEnabledList={},this.hiddenColumnsPlugin=null,this.nestedHeadersPlugin=null,this.collapsedSections={},this.columnHeaderLevelCount=null,this.eventManager=null},$CollapsibleColumns=CollapsibleColumns;$traceurRuntime.createClass(CollapsibleColumns,{isEnabled:function(){return!!this.hot.getSettings().collapsibleColumns},enablePlugin:function(){var $__9=this;this.enabled||(this.settings=this.hot.getSettings().collapsibleColumns,"boolean"!=typeof this.settings&&this.parseSettings(),this.hiddenColumnsPlugin=this.hot.getPlugin("hiddenColumns"),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.checkDependencies(),this.addHook("afterRender",function(){return $__9.onAfterRender()}),this.addHook("afterInit",function(){return $__9.onAfterInit()}),this.addHook("afterGetColHeader",function(col,TH){return $__9.onAfterGetColHeader(col,TH)}),this.addHook("beforeOnCellMouseDown",function(event,coords,TD){return $__9.onBeforeOnCellMouseDown(event,coords,TD)}),this.eventManager=eventManager(this.hot),$traceurRuntime.superGet(this,$CollapsibleColumns.prototype,"enablePlugin").call(this))},disablePlugin:function(){this.settings=null,this.buttonEnabledList={},this.hiddenColumnsPlugin=null,this.collapsedSections={},this.clearButtons(),$traceurRuntime.superGet(this,$CollapsibleColumns.prototype,"disablePlugin").call(this)},clearButtons:function(){if(this.hot.view){var headerLevels=this.hot.view.wt.getSetting("columnHeaders").length,mainHeaders=this.hot.view.wt.wtTable.THEAD,topHeaders=this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.THEAD,topLeftCornerHeaders=this.hot.view.wt.wtOverlays.topLeftCornerOverlay?this.hot.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.THEAD:null,removeButton=function(button){button&&button.parentNode.removeChild(button)};rangeEach(0,headerLevels-1,function(i){var masterLevel=mainHeaders.childNodes[i],topLevel=topHeaders.childNodes[i],topLeftCornerLevel=topLeftCornerHeaders?topLeftCornerHeaders.childNodes[i]:null;rangeEach(0,masterLevel.childNodes.length-1,function(j){var button=masterLevel.childNodes[j].querySelector(".collapsibleIndicator");removeButton(button),topLevel&&topLevel.childNodes[j]&&(button=topLevel.childNodes[j].querySelector(".collapsibleIndicator"),removeButton(button)),topLeftCornerHeaders&&topLeftCornerLevel&&topLeftCornerLevel.childNodes[j]&&(button=topLeftCornerLevel.childNodes[j].querySelector(".collapsibleIndicator"),removeButton(button))})},!0)}},parseSettings:function(){var $__9=this;objectEach(this.settings,function(val){$__9.buttonEnabledList[val.row]||($__9.buttonEnabledList[val.row]={}),$__9.buttonEnabledList[val.row][val.col]=val.collapsible})},meetsDependencies:function(){var settings=this.hot.getSettings();return settings.nestedHeaders&&settings.hiddenColumns},checkDependencies:function(){var settings=this.hot.getSettings();this.meetsDependencies()||(settings.nestedHeaders||console.warn("You need to configure the Nested Headers plugin in order to use collapsible headers."),settings.hiddenColumns||console.warn("You need to configure the Hidden Columns plugin in order to use collapsible headers."))},generateIndicator:function(col,TH){var TR=TH.parentNode,THEAD=TR.parentNode,row=-1*THEAD.childNodes.length+Array.prototype.indexOf.call(THEAD.childNodes,TR);if(Object.keys(this.buttonEnabledList).length>0&&(!this.buttonEnabledList[row]||!this.buttonEnabledList[row][col]))return null;var divEl=document.createElement("DIV");return addClass(divEl,"collapsibleIndicator"),this.collapsedSections[row]&&this.collapsedSections[row][col]===!0?(addClass(divEl,"collapsed"),fastInnerText(divEl,"+")):(addClass(divEl,"expanded"),fastInnerText(divEl,"-")),divEl},markSectionAs:function(state,row,column,recursive){switch(this.collapsedSections[row]||(this.collapsedSections[row]={}),state){case"collapsed":this.collapsedSections[row][column]=!0;break;case"expanded":this.collapsedSections[row][column]=void 0}if(recursive)for(var nestedHeadersColspans=this.nestedHeadersPlugin.colspanArray,level=this.nestedHeadersPlugin.rowCoordsToLevel(row),childHeaders=this.nestedHeadersPlugin.getChildHeaders(row,column),childColspanLevel=nestedHeadersColspans[level+1],i=1;i<childHeaders.length;i++)childColspanLevel&&childColspanLevel[childHeaders[i]].colspan>1&&this.markSectionAs(state,row+1,childHeaders[i],!0)},expandSection:function(coords){this.markSectionAs("expanded",coords.row,coords.col,!0),this.toggleCollapsibleSection(coords,"expand")},collapseSection:function(coords){this.markSectionAs("collapsed",coords.row,coords.col,!0),this.toggleCollapsibleSection(coords,"collapse")},toggleAllCollapsibleSections:function(action){var $__9=this,nestedHeadersColspanArray=this.nestedHeadersPlugin.colspanArray;this.settings===!0?arrayEach(nestedHeadersColspanArray,function(headerLevel,i){arrayEach(headerLevel,function(header,j){if(header.colspan>1){var row=$__9.nestedHeadersPlugin.levelToRowCoords(i),col=j;$__9.markSectionAs("collapse"===action?"collapsed":"expanded",row,col,!0),$__9.toggleCollapsibleSection({row:row,col:col},action)}})}):objectEach(this.buttonEnabledList,function(headerRow,i){objectEach(headerRow,function(header,j){$__9.markSectionAs("collapse"===action?"collapsed":"expanded",i,j,!0),$__9.toggleCollapsibleSection({row:i,col:j},action)})})},collapseAll:function(){this.toggleAllCollapsibleSections("collapse")},expandAll:function(){this.toggleAllCollapsibleSections("expand")},toggleCollapsibleSection:function(coords,action){var $__9=this;coords.row&&(coords.row=parseInt(coords.row,10)),coords.col&&(coords.col=parseInt(coords.col,10));for(var hiddenColumns=this.hiddenColumnsPlugin.hiddenColumns,colspanArray=this.nestedHeadersPlugin.colspanArray,level=this.nestedHeadersPlugin.rowCoordsToLevel(coords.row),currentHeaderColspan=colspanArray[level][coords.col].colspan,childHeaders=this.nestedHeadersPlugin.getChildHeaders(coords.row,coords.col),nextLevel=level+1,childColspanLevel=colspanArray[nextLevel],firstChildColspan=childColspanLevel?childColspanLevel[childHeaders[0]].colspan||1:1;firstChildColspan===currentHeaderColspan&&nextLevel<this.columnHeaderLevelCount;)nextLevel+=1,childColspanLevel=colspanArray[nextLevel],firstChildColspan=childColspanLevel?childColspanLevel[childHeaders[0]].colspan||1:1;rangeEach(firstChildColspan,currentHeaderColspan-1,function(i){var colToHide=coords.col+i;switch(action){case"collapse":$__9.hiddenColumnsPlugin.isHidden(colToHide)||hiddenColumns.push(colToHide);break;case"expand":$__9.hiddenColumnsPlugin.isHidden(colToHide)&&hiddenColumns.splice(hiddenColumns.indexOf(colToHide),1)}}),this.hot.render()},onAfterGetColHeader:function(column,TH){if(TH.hasAttribute("colspan")&&TH.getAttribute("colspan")>1&&column>=this.hot.getSettings().fixedColumnsLeft){var button=this.generateIndicator(column,TH);null!==button&&TH.querySelector("div:first-child").appendChild(button)}},onBeforeOnCellMouseDown:function(event,coords){if(hasClass(event.target,"collapsibleIndicator"))return hasClass(event.target,"expanded")?(this.collapsedSections[coords.row]||(this.collapsedSections[coords.row]=[]),this.markSectionAs("collapsed",coords.row,coords.col,!0),this.eventManager.fireEvent(event.target,"mouseup"),this.toggleCollapsibleSection(coords,"collapse")):hasClass(event.target,"collapsed")&&(this.markSectionAs("expanded",coords.row,coords.col,!0),this.eventManager.fireEvent(event.target,"mouseup"),this.toggleCollapsibleSection(coords,"expand")),stopImmediatePropagation(event),!1},onAfterInit:function(){this.columnHeaderLevelCount=this.hot.view.wt.getSetting("columnHeaders").length},onAfterRender:function(){this.nestedHeadersPlugin.enabled&&this.hiddenColumnsPlugin.enabled||this.disablePlugin()},destroy:function(){this.settings=null,this.buttonEnabledList=null,this.hiddenColumnsPlugin=null,this.nestedHeadersPlugin=null,this.collapsedSections=null,this.columnHeaderLevelCount=null,$traceurRuntime.superGet(this,$CollapsibleColumns.prototype,"destroy").call(this)}},{},BasePlugin),registerPlugin("collapsibleColumns",CollapsibleColumns)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/eventManager":42,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/event":48,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins":62,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base":63}],147:[function(_dereq_,module,exports){Object.defineProperties(exports,{ColumnSummary:{get:function(){return ColumnSummary}},__esModule:{value:!0}});var $__handsontable_47_plugins_47__95_base_46_js__,$__endpoints__,$__handsontable_47_helpers_47_object__,$__handsontable_47_helpers_47_array__,$__handsontable_47_plugins_46_js__,BasePlugin=($__handsontable_47_plugins_47__95_base_46_js__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base.js"),$__handsontable_47_plugins_47__95_base_46_js__&&$__handsontable_47_plugins_47__95_base_46_js__.__esModule&&$__handsontable_47_plugins_47__95_base_46_js__||{"default":$__handsontable_47_plugins_47__95_base_46_js__})["default"],Endpoints=($__endpoints__=_dereq_("endpoints"),$__endpoints__&&$__endpoints__.__esModule&&$__endpoints__||{"default":$__endpoints__}).Endpoints,$__2=($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}),$__4=($__2.deepClone,$__2.objectEach,($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,$__handsontable_47_plugins_46_js__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins.js"),$__handsontable_47_plugins_46_js__&&$__handsontable_47_plugins_46_js__.__esModule&&$__handsontable_47_plugins_46_js__||{"default":$__handsontable_47_plugins_46_js__}),registerPlugin=$__4.registerPlugin,ColumnSummary=($__4.getPlugin,function(hotInstance){$traceurRuntime.superConstructor($ColumnSummary).call(this,hotInstance),this.endpoints=null}),$ColumnSummary=ColumnSummary;$traceurRuntime.createClass(ColumnSummary,{isEnabled:function(){return!!this.hot.getSettings().columnSummary},enablePlugin:function(){var $__5=this;this.enabled||(this.settings=this.hot.getSettings().columnSummary,this.endpoints=new Endpoints(this,this.settings),this.addHook("afterInit",function(){for(var $__15,args=[],$__7=0;$__7<arguments.length;$__7++)args[$__7]=arguments[$__7];return($__15=$__5).onAfterInit.apply($__15,$traceurRuntime.spread(args))}),this.addHook("afterChange",function(){for(var $__15,args=[],$__8=0;$__8<arguments.length;$__8++)args[$__8]=arguments[$__8];return($__15=$__5).onAfterChange.apply($__15,$traceurRuntime.spread(args))}),this.addHook("beforeCreateRow",function(index,amount,source){
return $__5.endpoints.resetSetupBeforeStructureAlteration("insert_row",index,amount,null,source)}),this.addHook("beforeCreateCol",function(index,amount,source){return $__5.endpoints.resetSetupBeforeStructureAlteration("insert_col",index,amount,null,source)}),this.addHook("beforeRemoveRow",function(){for(var $__15,args=[],$__9=0;$__9<arguments.length;$__9++)args[$__9]=arguments[$__9];return($__15=$__5.endpoints).resetSetupBeforeStructureAlteration.apply($__15,$traceurRuntime.spread(["remove_row"],args))}),this.addHook("beforeRemoveCol",function(){for(var $__15,args=[],$__10=0;$__10<arguments.length;$__10++)args[$__10]=arguments[$__10];return($__15=$__5.endpoints).resetSetupBeforeStructureAlteration.apply($__15,$traceurRuntime.spread(["remove_col"],args))}),this.addHook("beforeRowMove",function(){for(var $__15,args=[],$__11=0;$__11<arguments.length;$__11++)args[$__11]=arguments[$__11];return($__15=$__5).onBeforeRowMove.apply($__15,$traceurRuntime.spread(args))}),this.addHook("afterCreateRow",function(index,amount,source){return $__5.endpoints.resetSetupAfterStructureAlteration("insert_row",index,amount,null,source)}),this.addHook("afterCreateCol",function(index,amount,source){return $__5.endpoints.resetSetupAfterStructureAlteration("insert_col",index,amount,null,source)}),this.addHook("afterRemoveRow",function(){for(var $__15,args=[],$__12=0;$__12<arguments.length;$__12++)args[$__12]=arguments[$__12];return($__15=$__5.endpoints).resetSetupAfterStructureAlteration.apply($__15,$traceurRuntime.spread(["remove_row"],args))}),this.addHook("afterRemoveCol",function(){for(var $__15,args=[],$__13=0;$__13<arguments.length;$__13++)args[$__13]=arguments[$__13];return($__15=$__5.endpoints).resetSetupAfterStructureAlteration.apply($__15,$traceurRuntime.spread(["remove_col"],args))}),this.addHook("afterRowMove",function(){for(var $__15,args=[],$__14=0;$__14<arguments.length;$__14++)args[$__14]=arguments[$__14];return($__15=$__5).onAfterRowMove.apply($__15,$traceurRuntime.spread(args))}),$traceurRuntime.superGet(this,$ColumnSummary.prototype,"enablePlugin").call(this))},disablePlugin:function(){this.endpoints=null,this.settings=null,this.currentEndpoint=null},calculate:function(endpoint){switch(endpoint.type.toLowerCase()){case"sum":endpoint.result=this.calculateSum(endpoint);break;case"min":endpoint.result=this.calculateMinMax(endpoint,endpoint.type);break;case"max":endpoint.result=this.calculateMinMax(endpoint,endpoint.type);break;case"count":endpoint.result=this.countEntries(endpoint);break;case"average":endpoint.result=this.calculateAverage(endpoint);break;case"custom":endpoint.result=endpoint.customFunction.call(this,endpoint)}},calculateSum:function(endpoint){var sum=0;for(var r in endpoint.ranges)endpoint.ranges.hasOwnProperty(r)&&(sum+=this.getPartialSum(endpoint.ranges[r],endpoint.sourceColumn));return sum},getPartialSum:function(rowRange,col){var sum=0,i=rowRange[1]||rowRange[0],cellValue=null,biggestDecimalPlacesCount=0;do{cellValue=this.getCellValue(i,col)||0;var decimalPlaces=((cellValue+"").split(".")[1]||[]).length||1;decimalPlaces>biggestDecimalPlacesCount&&(biggestDecimalPlacesCount=decimalPlaces),sum+=cellValue||0,i--}while(i>=rowRange[0]);return Math.round(sum*Math.pow(10,biggestDecimalPlacesCount))/Math.pow(10,biggestDecimalPlacesCount)},calculateMinMax:function(endpoint,type){var result=null;for(var r in endpoint.ranges)if(endpoint.ranges.hasOwnProperty(r)){var partialResult=this.getPartialMinMax(endpoint.ranges[r],endpoint.sourceColumn,type);if(null===result&&null!==partialResult&&(result=partialResult),null!==partialResult)switch(type){case"min":result=Math.min(result,partialResult);break;case"max":result=Math.max(result,partialResult)}}return null===result?"Not enough data":result},getPartialMinMax:function(rowRange,col,type){var cellValue,result=null,i=rowRange[1]||rowRange[0];do{if(cellValue=this.getCellValue(i,col)||null,null===result)result=cellValue;else if(null!==cellValue)switch(type){case"min":result=Math.min(result,cellValue);break;case"max":result=Math.max(result,cellValue)}i--}while(i>=rowRange[0]);return result},countEmpty:function(rowRange,col){var cellValue,counter=0,i=rowRange[1]||rowRange[0];do cellValue=this.getCellValue(i,col),cellValue||counter++,i--;while(i>=rowRange[0]);return counter},countEntries:function(endpoint){var result=0,ranges=endpoint.ranges;for(var r in ranges)if(ranges.hasOwnProperty(r)){var partial=void 0===ranges[r][1]?1:ranges[r][1]-ranges[r][0]+1,emptyCount=this.countEmpty(ranges[r],endpoint.sourceColumn);result+=partial,result-=emptyCount}return result},calculateAverage:function(endpoint){var sum=this.calculateSum(endpoint),entriesCount=this.countEntries(endpoint);return sum/entriesCount},getCellValue:function(row,col){var visualRowIndex=this.endpoints.getVisualRowIndex(row),visualColumnIndex=this.endpoints.getVisualColumnIndex(col),cellValue=this.hot.getSourceDataAtCell(row,col),cellClassName=this.hot.getCellMeta(visualRowIndex,visualColumnIndex).className||"";if(cellClassName.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&("string"==typeof cellValue&&(cellValue=cellValue.replace(/,/,".")),cellValue=parseFloat(cellValue)),isNaN(cellValue)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error("ColumnSummary plugin: cell at ("+row+", "+col+") is not in a numeric format. Cannot do the calculation.");return cellValue},onAfterInit:function(){this.endpoints.endpoints=this.endpoints.parseSettings(),this.endpoints.refreshAllEndpoints(!0)},onAfterChange:function(changes,source){changes&&"ColumnSummary.reset"!==source&&"ColumnSummary.set"!==source&&"loadData"!==source&&this.endpoints.refreshChangedEndpoints(changes)},onBeforeRowMove:function(rows,target){this.endpoints.resetSetupBeforeStructureAlteration("move_row",rows[0],rows.length,rows,this.pluginName)},onAfterRowMove:function(rows,target){this.endpoints.resetSetupAfterStructureAlteration("move_row",target,rows.length,rows,this.pluginName)}},{},BasePlugin),registerPlugin("columnSummary",ColumnSummary)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins.js":62,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base.js":63,endpoints:148}],148:[function(_dereq_,module,exports){Object.defineProperties(exports,{Endpoints:{get:function(){return Endpoints}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_object__,$__handsontable_47_utils_47_recordTranslator__,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,getTranslator=(($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}).deepClone,($__handsontable_47_utils_47_recordTranslator__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/utils/recordTranslator"),$__handsontable_47_utils_47_recordTranslator__&&$__handsontable_47_utils_47_recordTranslator__.__esModule&&$__handsontable_47_utils_47_recordTranslator__||{"default":$__handsontable_47_utils_47_recordTranslator__}).getTranslator),Endpoints=function(plugin,settings){this.plugin=plugin,this.hot=this.plugin.hot,this.endpoints=[],this.settings=settings,this.settingsType="array",this.currentEndpoint=null,this.cellsToSetCache=[],this.recordTranslator=getTranslator(this.hot)};$traceurRuntime.createClass(Endpoints,{getEndpoint:function(index){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings)[index]:this.endpoints[index]},getAllEndpoints:function(){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings):this.endpoints},fillMissingEndpointData:function(func){return this.parseSettings(func.call(this))},parseSettings:function(settings){var $__3=this,endpointsArray=[];return settings||"function"!=typeof this.settings?(settings||(settings=this.settings),arrayEach(settings,function(val){var newEndpoint={};$__3.assignSetting(val,newEndpoint,"ranges",[[0,$__3.hot.countRows()-1]]),$__3.assignSetting(val,newEndpoint,"reversedRowCoords",!1),$__3.assignSetting(val,newEndpoint,"destinationRow",new Error("You must provide a destination row for the Column Summary plugin in order to work properly!")),$__3.assignSetting(val,newEndpoint,"destinationColumn",new Error("You must provide a destination column for the Column Summary plugin in order to work properly!")),$__3.assignSetting(val,newEndpoint,"sourceColumn",val.destinationColumn),$__3.assignSetting(val,newEndpoint,"type","sum"),$__3.assignSetting(val,newEndpoint,"forceNumeric",!1),$__3.assignSetting(val,newEndpoint,"suppressDataTypeErrors",!0),$__3.assignSetting(val,newEndpoint,"suppressDataTypeErrors",!0),$__3.assignSetting(val,newEndpoint,"customFunction",null),$__3.assignSetting(val,newEndpoint,"readOnly",!0),$__3.assignSetting(val,newEndpoint,"roundFloat",!1),endpointsArray.push(newEndpoint)}),endpointsArray):void(this.settingsType="function")},assignSetting:function(settings,endpoint,name,defaultValue){if("ranges"===name&&void 0===settings[name])return void(endpoint[name]=defaultValue);if("ranges"!==name||0!==settings[name].length)if(void 0===settings[name]){if(defaultValue instanceof Error)throw defaultValue;endpoint[name]=defaultValue}else"destinationRow"===name&&endpoint.reversedRowCoords?endpoint[name]=this.hot.countRows()-settings[name]-1:endpoint[name]=settings[name]},resetSetupBeforeStructureAlteration:function(action,index,number,logicRows,source){if("function"===this.settingsType){var type=action.indexOf("row")>-1?"row":"col",endpoints=this.getAllEndpoints();arrayEach(endpoints,function(val,key,obj){"row"===type&&val.destinationRow>=index&&("insert_row"===action?val.alterRowOffset=number:"remove_row"===action&&(val.alterRowOffset=-1*number)),"col"===type&&val.destinationColumn>=index&&("insert_col"===action?val.alterColumnOffset=number:"remove_col"===action&&(val.alterColumnOffset=-1*number))}),this.resetAllEndpoints(endpoints,!1)}},resetSetupAfterStructureAlteration:function(action,index,number,logicRows,source){var forceRefresh=void 0===arguments[5]||arguments[5],$__3=this;if("function"===this.settingsType){var beforeRenderCallback=function beforeRenderCallback(){return $__3.hot.removeHook("beforeRender",beforeRenderCallback),$__3.refreshAllEndpoints(!0)};return void this.hot.addHookOnce("beforeRender",beforeRenderCallback)}var type=action.indexOf("row")>-1?"row":"col",multiplier=action.indexOf("remove")>-1?-1:1,endpoints=this.getAllEndpoints(),rowMoving=0===action.indexOf("move_row"),placeOfAlteration=index;arrayEach(endpoints,function(val,key,obj){"row"===type&&val.destinationRow>=placeOfAlteration&&(val.alterRowOffset=multiplier*number),"col"===type&&val.destinationColumn>=placeOfAlteration&&(val.alterColumnOffset=multiplier*number)}),this.resetAllEndpoints(endpoints,!rowMoving),rowMoving?arrayEach(endpoints,function(endpoint,key,obj){$__3.extendEndpointRanges(endpoint,placeOfAlteration,logicRows[0],logicRows.length),$__3.recreatePhysicalRanges(endpoint),$__3.clearOffsetInformation(endpoint)}):arrayEach(endpoints,function(endpoint,key,obj){$__3.shiftEndpointCoordinates(endpoint,placeOfAlteration)}),forceRefresh&&this.refreshAllEndpoints(!0)},clearOffsetInformation:function(endpoint){endpoint.alterRowOffset=void 0,endpoint.alterColumnOffset=void 0},extendEndpointRanges:function(endpoint,placeOfAlteration,previousPosition,offset){arrayEach(endpoint.ranges,function(range,i){range[1]&&(placeOfAlteration>=range[0]&&placeOfAlteration<=range[1]?previousPosition>range[1]?range[1]+=offset:previousPosition<range[0]&&(range[0]-=offset):previousPosition>=range[0]&&previousPosition<=range[1]&&(range[1]-=offset,placeOfAlteration<=range[0]&&(range[0]++,range[1]++)))})},recreatePhysicalRanges:function(endpoint){var $__3=this,ranges=endpoint.ranges,newRanges=[],allIndexes=[];arrayEach(ranges,function(range){var newRange=[];if(range[1])for(var i=range[0];i<=range[1];i++)newRange.push($__3.recordTranslator.toPhysicalRow(i));else newRange.push($__3.recordTranslator.toPhysicalRow(range[0]));allIndexes.push(newRange)}),arrayEach(allIndexes,function(range){var newRange=[];arrayEach(range,function(coord,index){0===index?newRange.push(coord):range[index]!==range[index-1]+1&&(newRange.push(range[index-1]),newRanges.push(newRange),newRange=[],newRange.push(coord)),index===range.length-1&&(newRange.push(coord),newRanges.push(newRange))})}),endpoint.ranges=newRanges},shiftEndpointCoordinates:function(endpoint,offsetStartIndex){endpoint.alterRowOffset&&0!==endpoint.alterRowOffset?(endpoint.destinationRow+=endpoint.alterRowOffset||0,arrayEach(endpoint.ranges,function(element,i){arrayEach(element,function(subElement,j){subElement>=offsetStartIndex&&(element[j]+=endpoint.alterRowOffset||0)})})):endpoint.alterColumnOffset&&0!==endpoint.alterColumnOffset&&(endpoint.destinationColumn+=endpoint.alterColumnOffset||0,endpoint.sourceColumn+=endpoint.alterColumnOffset||0)},resetAllEndpoints:function(endpoints){var useOffset=void 0===arguments[1]||arguments[1],$__3=this;this.cellsToSetCache=[],endpoints||(endpoints=this.getAllEndpoints()),arrayEach(endpoints,function(value){$__3.resetEndpointValue(value,useOffset)}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]},refreshAllEndpoints:function(init){var $__3=this;this.cellsToSetCache=[],arrayEach(this.getAllEndpoints(),function(value){$__3.currentEndpoint=value,$__3.plugin.calculate(value),$__3.setEndpointValue(value,"init")}),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]},refreshChangedEndpoints:function(changes){var $__3=this,needToRefresh=[];this.cellsToSetCache=[],arrayEach(changes,function(value,key,changes){(value[2]||"")+""!=value[3]+""&&arrayEach($__3.getAllEndpoints(),function(value,j){$__3.hot.propToCol(changes[key][1])===value.sourceColumn&&needToRefresh.indexOf(j)===-1&&needToRefresh.push(j)})}),arrayEach(needToRefresh,function(value){$__3.refreshEndpoint($__3.getEndpoint(value))}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]},refreshEndpoint:function(endpoint){this.currentEndpoint=endpoint,this.plugin.calculate(endpoint),this.setEndpointValue(endpoint),this.currentEndpoint=null},resetEndpointValue:function(endpoint){var $__5,visualRowIndex,visualColumnIndex,useOffset=void 0===arguments[1]||arguments[1],alterRowOffset=endpoint.alterRowOffset||0,alterColOffset=endpoint.alterColumnOffset||0;$__5=this.recordTranslator.toVisual(endpoint.destinationRow,endpoint.destinationColumn),visualRowIndex=$__5[0],visualColumnIndex=$__5[1],$__5;var cellMeta=this.hot.getCellMeta(visualRowIndex,visualColumnIndex);cellMeta.readOnly=!1,cellMeta.className="",this.cellsToSetCache.push([this.recordTranslator.toVisualRow(endpoint.destinationRow+(useOffset?alterRowOffset:0)),this.recordTranslator.toVisualColumn(endpoint.destinationColumn+(useOffset?alterColOffset:0)),""])},setEndpointValue:function(endpoint,source){var render=void 0!==arguments[2]&&arguments[2],reverseRowOffset=-1*endpoint.alterRowOffset||0,reverseColOffset=-1*endpoint.alterColumnOffset||0,visualEndpointRowIndex=this.getVisualRowIndex(endpoint.destinationRow),cellMeta=this.hot.getCellMeta(this.getVisualRowIndex(endpoint.destinationRow+reverseRowOffset),endpoint.destinationColumn+reverseColOffset);return visualEndpointRowIndex>this.hot.countRows()||endpoint.destinationColumn>this.hot.countCols()?void this.throwOutOfBoundsWarning():("init"!==source&&cellMeta.readOnly===endpoint.readOnly||(cellMeta.readOnly=endpoint.readOnly,cellMeta.className="columnSummaryResult"),endpoint.roundFloat&&!isNaN(endpoint.result)&&(endpoint.result=endpoint.result.toFixed(endpoint.roundFloat)),render?this.hot.setDataAtCell(visualEndpointRowIndex,endpoint.destinationColumn,endpoint.result,"ColumnSummary.set"):this.cellsToSetCache.push([visualEndpointRowIndex,endpoint.destinationColumn,endpoint.result]),endpoint.alterRowOffset=void 0,void(endpoint.alterColumnOffset=void 0))},getVisualRowIndex:function(row){return this.hot.runHooks("unmodifyRow",row,"columnSummary")},getVisualColumnIndex:function(column){return this.hot.runHooks("unmodifyCol",column,"columnSummary")},throwOutOfBoundsWarning:function(){console.warn("One of the  Column Summary plugins' destination points you provided is beyond the table boundaries!")}},{})},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../node_modules/hot-builder/node_modules/handsontable/src/utils/recordTranslator":132}],149:[function(_dereq_,module,exports){Object.defineProperties(exports,{DropdownMenu:{get:function(){return DropdownMenu}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$__handsontable_47_plugins_47__95_base__,$__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_object__,$__handsontable_47_plugins_47_contextMenu_47_commandExecutor__,$__handsontable_47_eventManager__,$__handsontable_47_helpers_47_dom_47_element__,$__handsontable_47_plugins_47_contextMenu_47_itemsFactory__,$__handsontable_47_plugins_47_contextMenu_47_menu__,$__handsontable_47_plugins__,$__handsontable_47_helpers_47_dom_47_event__,$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("../../browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],BasePlugin=($__handsontable_47_plugins_47__95_base__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base"),$__handsontable_47_plugins_47__95_base__&&$__handsontable_47_plugins_47__95_base__.__esModule&&$__handsontable_47_plugins_47__95_base__||{"default":$__handsontable_47_plugins_47__95_base__})["default"],arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,CommandExecutor=(($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}).objectEach,($__handsontable_47_plugins_47_contextMenu_47_commandExecutor__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/commandExecutor"),$__handsontable_47_plugins_47_contextMenu_47_commandExecutor__&&$__handsontable_47_plugins_47_contextMenu_47_commandExecutor__.__esModule&&$__handsontable_47_plugins_47_contextMenu_47_commandExecutor__||{"default":$__handsontable_47_plugins_47_contextMenu_47_commandExecutor__}).CommandExecutor),EventManager=($__handsontable_47_eventManager__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/eventManager"),$__handsontable_47_eventManager__&&$__handsontable_47_eventManager__.__esModule&&$__handsontable_47_eventManager__||{"default":$__handsontable_47_eventManager__}).EventManager,$__6=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}),hasClass=($__6.getWindowScrollTop,$__6.getWindowScrollLeft,$__6.hasClass),ItemsFactory=($__6.closest,($__handsontable_47_plugins_47_contextMenu_47_itemsFactory__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/itemsFactory"),$__handsontable_47_plugins_47_contextMenu_47_itemsFactory__&&$__handsontable_47_plugins_47_contextMenu_47_itemsFactory__.__esModule&&$__handsontable_47_plugins_47_contextMenu_47_itemsFactory__||{"default":$__handsontable_47_plugins_47_contextMenu_47_itemsFactory__}).ItemsFactory),Menu=($__handsontable_47_plugins_47_contextMenu_47_menu__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/menu"),$__handsontable_47_plugins_47_contextMenu_47_menu__&&$__handsontable_47_plugins_47_contextMenu_47_menu__.__esModule&&$__handsontable_47_plugins_47_contextMenu_47_menu__||{"default":$__handsontable_47_plugins_47_contextMenu_47_menu__}).Menu,registerPlugin=($__handsontable_47_plugins__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins"),$__handsontable_47_plugins__&&$__handsontable_47_plugins__.__esModule&&$__handsontable_47_plugins__||{"default":$__handsontable_47_plugins__}).registerPlugin,stopPropagation=($__handsontable_47_helpers_47_dom_47_event__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/event"),$__handsontable_47_helpers_47_dom_47_event__&&$__handsontable_47_helpers_47_dom_47_event__.__esModule&&$__handsontable_47_helpers_47_dom_47_event__||{"default":$__handsontable_47_helpers_47_dom_47_event__}).stopPropagation,$__11=($__handsontable_47_plugins_47_contextMenu_47_predefinedItems__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/predefinedItems"),$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__&&$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__.__esModule&&$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__||{"default":$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__}),COLUMN_LEFT=$__11.COLUMN_LEFT,COLUMN_RIGHT=$__11.COLUMN_RIGHT,REMOVE_COLUMN=$__11.REMOVE_COLUMN,CLEAR_COLUMN=$__11.CLEAR_COLUMN,READ_ONLY=$__11.READ_ONLY,ALIGNMENT=$__11.ALIGNMENT,SEPARATOR=$__11.SEPARATOR,BUTTON_CLASS_NAME="changeType",DropdownMenu=function(hotInstance){var $__12=this;$traceurRuntime.superConstructor($DropdownMenu).call(this,hotInstance),this.eventManager=new EventManager(this),this.commandExecutor=new CommandExecutor(this.hot),this.itemsFactory=null,this.menu=null,this.hot.addHook("afterGetColHeader",function(col,TH){return $__12.onAfterGetColHeader(col,TH)})},$DropdownMenu=DropdownMenu;$traceurRuntime.createClass(DropdownMenu,{isEnabled:function(){return this.hot.getSettings().dropdownMenu},enablePlugin:function(){var $__12=this;if(!this.enabled){this.itemsFactory=new ItemsFactory(this.hot,$DropdownMenu.DEFAULT_ITEMS);var settings=this.hot.getSettings().dropdownMenu,predefinedItems={items:this.itemsFactory.getItems(settings)};this.registerEvents(),"function"==typeof settings.callback&&this.commandExecutor.setCommonCallback(settings.callback),$traceurRuntime.superGet(this,$DropdownMenu.prototype,"enablePlugin").call(this),this.callOnPluginsReady(function(){$__12.hot.runHooks("afterDropdownMenuDefaultOptions",predefinedItems),$__12.itemsFactory.setPredefinedItems(predefinedItems.items);var menuItems=$__12.itemsFactory.getItems(settings);$__12.menu=new Menu($__12.hot,{className:"htDropdownMenu",keepInViewport:!0}),$__12.hot.runHooks("beforeDropdownMenuSetItems",menuItems),$__12.menu.setMenuItems(menuItems),$__12.menu.addLocalHook("afterOpen",function(){return $__12.onMenuAfterOpen()}),$__12.menu.addLocalHook("afterClose",function(){return $__12.onMenuAfterClose()}),$__12.menu.addLocalHook("executeCommand",function(){for(var params=[],$__14=0;$__14<arguments.length;$__14++)params[$__14]=arguments[$__14];return $__12.executeCommand.apply($__12,params)}),arrayEach(menuItems,function(command){return $__12.commandExecutor.registerCommand(command.key,command)})})}},updatePlugin:function(){this.disablePlugin(),this.enablePlugin(),$traceurRuntime.superGet(this,$DropdownMenu.prototype,"updatePlugin").call(this)},disablePlugin:function(){this.close(),this.menu&&this.menu.destroy(),$traceurRuntime.superGet(this,$DropdownMenu.prototype,"disablePlugin").call(this)},registerEvents:function(){var $__12=this;this.eventManager.addEventListener(this.hot.rootElement,"click",function(event){return $__12.onTableClick(event)})},open:function(event){this.menu&&(this.menu.open(),event.width&&this.menu.setOffset("left",event.width),this.menu.setPosition(event),this.menu.hotMenu.isHotTableEnv=this.hot.isHotTableEnv,Handsontable.eventManager.isHotTableEnv=this.hot.isHotTableEnv)},close:function(){this.menu&&this.menu.close()},executeCommand:function(){for(var params=[],$__14=0;$__14<arguments.length;$__14++)params[$__14]=arguments[$__14];this.commandExecutor.execute.apply(this.commandExecutor,params)},onTableClick:function(event){if(stopPropagation(event),hasClass(event.target,BUTTON_CLASS_NAME)&&!this.menu.isOpened()){var rect=event.target.getBoundingClientRect();this.open({left:rect.left,top:rect.top+event.target.offsetHeight+3,width:rect.width,height:rect.height})}},onAfterGetColHeader:function(col,TH){var headerRow=TH.parentNode;if(headerRow){var headerRowList=headerRow.parentNode.childNodes,level=Array.prototype.indexOf.call(headerRowList,headerRow);if(!(col<0||level!==headerRowList.length-1)){var existingButton=TH.querySelector("."+BUTTON_CLASS_NAME);if(!this.enabled||!existingButton){if(!this.enabled)return void(existingButton&&existingButton.parentNode.removeChild(existingButton));var button=document.createElement("button");button.className=BUTTON_CLASS_NAME,button.onclick=function(){return!1},TH.firstChild.insertBefore(button,TH.firstChild.firstChild)}}}},onMenuAfterOpen:function(){this.hot.runHooks("afterDropdownMenuShow",this)},onMenuAfterClose:function(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)},destroy:function(){this.close(),this.menu&&this.menu.destroy(),$traceurRuntime.superGet(this,$DropdownMenu.prototype,"destroy").call(this)}},{get DEFAULT_ITEMS(){return[COLUMN_LEFT,COLUMN_RIGHT,SEPARATOR,REMOVE_COLUMN,SEPARATOR,CLEAR_COLUMN,SEPARATOR,READ_ONLY,SEPARATOR,ALIGNMENT]}},BasePlugin),DropdownMenu.SEPARATOR={name:SEPARATOR},Handsontable.hooks.register("afterDropdownMenuDefaultOptions"),Handsontable.hooks.register("afterDropdownMenuShow"),Handsontable.hooks.register("afterDropdownMenuHide"),Handsontable.hooks.register("afterDropdownMenuExecute"),registerPlugin("dropdownMenu",DropdownMenu)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/eventManager":42,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/event":48,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins":62,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base":63,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/commandExecutor":71,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/itemsFactory":74,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/menu":75,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/predefinedItems":76,"../../browser":141}],150:[function(_dereq_,module,exports){Object.defineProperties(exports,{DataProvider:{get:function(){return DataProvider}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_object__,$__handsontable_47_helpers_47_number__,$__1=(($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,$__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}),rangeEach=($__1.extend,$__1.clone,($__handsontable_47_helpers_47_number__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach),DataProvider=function(hotInstance){this.hot=hotInstance,this.options={}};$traceurRuntime.createClass(DataProvider,{setOptions:function(options){this.options=options},getData:function(){var $__3=this,$__5=this._getDataRange(),startRow=$__5.startRow,startCol=$__5.startCol,endRow=$__5.endRow,endCol=$__5.endCol,options=this.options,data=[];return rangeEach(startRow,endRow,function(rowIndex){var row=[];!options.exportHiddenRows&&$__3._isHiddenRow(rowIndex)||(rangeEach(startCol,endCol,function(colIndex){!options.exportHiddenColumns&&$__3._isHiddenColumn(colIndex)||row.push($__3.hot.getDataAtCell(rowIndex,colIndex))}),data.push(row))}),data},getRowHeaders:function(){var $__3=this,headers=[];if(this.options.rowHeaders){var $__5=this._getDataRange(),startRow=$__5.startRow,endRow=$__5.endRow,rowHeaders=this.hot.getRowHeader();rangeEach(startRow,endRow,function(row){!$__3.options.exportHiddenRows&&$__3._isHiddenRow(row)||headers.push(rowHeaders[row])})}return headers},getColumnHeaders:function(){var $__3=this,headers=[];if(this.options.columnHeaders){var $__5=this._getDataRange(),startCol=$__5.startCol,endCol=$__5.endCol,colHeaders=this.hot.getColHeader();rangeEach(startCol,endCol,function(column){!$__3.options.exportHiddenColumns&&$__3._isHiddenColumn(column)||headers.push(colHeaders[column])})}return headers},_getDataRange:function(){var $__6,$__7,$__8,$__9,cols=this.hot.countCols()-1,rows=this.hot.countRows()-1,$__5=this.options.range,startRow=void 0===($__6=$__5[0])?0:$__6,startCol=void 0===($__7=$__5[1])?0:$__7,endRow=void 0===($__8=$__5[2])?rows:$__8,endCol=void 0===($__9=$__5[3])?cols:$__9;return startRow=Math.max(startRow,0),startCol=Math.max(startCol,0),endRow=Math.min(endRow,rows),endCol=Math.min(endCol,cols),{startRow:startRow,startCol:startCol,endRow:endRow,endCol:endCol}},_isHiddenRow:function(row){return this.hot.hasHook("hiddenRow")&&this.hot.runHooks("hiddenRow",row)},_isHiddenColumn:function(column){return this.hot.hasHook("hiddenColumn")&&this.hot.runHooks("hiddenColumn",column)}},{})},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53}],151:[function(_dereq_,module,exports){Object.defineProperties(exports,{ExportFile:{get:function(){return ExportFile}},__esModule:{value:!0}});var $__handsontable_47_plugins_47__95_base__,$__handsontable_47_helpers_47_object__,$__handsontable_47_plugins__,$__dataProvider__,$__typeFactory__,BasePlugin=($__handsontable_47_plugins_47__95_base__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base"),
$__handsontable_47_plugins_47__95_base__&&$__handsontable_47_plugins_47__95_base__.__esModule&&$__handsontable_47_plugins_47__95_base__||{"default":$__handsontable_47_plugins_47__95_base__})["default"],$__1=($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}),registerPlugin=($__1.objectEach,$__1.extend,$__1.clone,($__handsontable_47_plugins__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins"),$__handsontable_47_plugins__&&$__handsontable_47_plugins__.__esModule&&$__handsontable_47_plugins__||{"default":$__handsontable_47_plugins__}).registerPlugin),DataProvider=($__dataProvider__=_dereq_("dataProvider"),$__dataProvider__&&$__dataProvider__.__esModule&&$__dataProvider__||{"default":$__dataProvider__}).DataProvider,$__4=($__typeFactory__=_dereq_("typeFactory"),$__typeFactory__&&$__typeFactory__.__esModule&&$__typeFactory__||{"default":$__typeFactory__}),typeFactory=$__4.typeFactory,EXPORT_TYPES=$__4.EXPORT_TYPES,ExportFile=function(hotInstance){$traceurRuntime.superConstructor($ExportFile).call(this,hotInstance)},$ExportFile=ExportFile;$traceurRuntime.createClass(ExportFile,{isEnabled:function(){return!0},exportAsString:function(format){var options=void 0!==arguments[1]?arguments[1]:{};return this._createTypeFormatter(format,options)["export"]()},exportAsBlob:function(format){var options=void 0!==arguments[1]?arguments[1]:{};return this._createBlob(this._createTypeFormatter(format,options))},downloadFile:function(format){var options=void 0!==arguments[1]?arguments[1]:{},formatter=this._createTypeFormatter(format,options),blob=this._createBlob(formatter),URL=window.URL||window.webkitURL,a=document.createElement("a"),name=formatter.options.filename+"."+formatter.options.fileExtension;if(void 0!==a.download){var url=URL.createObjectURL(blob);a.style.display="none",a.setAttribute("href",url),a.setAttribute("download",name),document.body.appendChild(a),a.dispatchEvent(new MouseEvent("click")),document.body.removeChild(a),setTimeout(function(){URL.revokeObjectURL(url)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(blob,name)},_createTypeFormatter:function(format){var options=void 0!==arguments[1]?arguments[1]:{};if(!EXPORT_TYPES[format])throw new Error('Export format type "'+format+'" is not supported.');return typeFactory(format,new DataProvider(this.hot),options)},_createBlob:function(typeFormatter){var formatter=null;return"undefined"!=typeof Blob&&(formatter=new Blob([typeFormatter["export"]()],{type:typeFormatter.options.mimeType+";charset="+typeFormatter.options.encoding})),formatter}},{},BasePlugin),registerPlugin("exportFile",ExportFile)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins":62,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base":63,dataProvider:150,typeFactory:152}],152:[function(_dereq_,module,exports){function typeFactory(type,dataProvider,options){return"function"==typeof EXPORT_TYPES[type]?new EXPORT_TYPES[type](dataProvider,options):null}var $__1;Object.defineProperties(exports,{TYPE_CSV:{get:function(){return TYPE_CSV}},TYPE_EXCEL:{get:function(){return TYPE_EXCEL}},TYPE_PDF:{get:function(){return TYPE_PDF}},EXPORT_TYPES:{get:function(){return EXPORT_TYPES}},typeFactory:{get:function(){return typeFactory}},__esModule:{value:!0}});var $__types_47_csv_46_js__,Csv=($__types_47_csv_46_js__=_dereq_("types/csv.js"),$__types_47_csv_46_js__&&$__types_47_csv_46_js__.__esModule&&$__types_47_csv_46_js__||{"default":$__types_47_csv_46_js__}).Csv,TYPE_CSV="csv",TYPE_EXCEL="excel",TYPE_PDF="pdf",EXPORT_TYPES=($__1={},Object.defineProperty($__1,TYPE_CSV,{value:Csv,configurable:!0,enumerable:!0,writable:!0}),$__1)},{"types/csv.js":154}],153:[function(_dereq_,module,exports){Object.defineProperties(exports,{BaseType:{get:function(){return BaseType}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_object__,$__handsontable_47_helpers_47_number__,$__handsontable_47_helpers_47_string__,$__1=(($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,$__handsontable_47_helpers_47_object__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}),extend=$__1.extend,clone=$__1.clone,$__3=(($__handsontable_47_helpers_47_number__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach,$__handsontable_47_helpers_47_string__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/string"),$__handsontable_47_helpers_47_string__&&$__handsontable_47_helpers_47_string__.__esModule&&$__handsontable_47_helpers_47_string__||{"default":$__handsontable_47_helpers_47_string__}),substitute=$__3.substitute,padStart=$__3.padStart,BaseType=function(dataProvider,options){this.dataProvider=dataProvider,this.options=this._mergeOptions(options),this.dataProvider.setOptions(this.options)},$BaseType=BaseType;$traceurRuntime.createClass(BaseType,{_mergeOptions:function(options){var _options=clone(this.constructor.DEFAULT_OPTIONS),date=new Date;return _options=extend(clone($BaseType.DEFAULT_OPTIONS),_options),_options=extend(_options,options),_options.filename=substitute(_options.filename,{YYYY:date.getFullYear(),MM:padStart(date.getMonth()+1,2,"0"),DD:padStart(date.getDate(),2,"0")}),_options}},{get DEFAULT_OPTIONS(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}})},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/string":55}],154:[function(_dereq_,module,exports){Object.defineProperties(exports,{Csv:{get:function(){return Csv}},__esModule:{value:!0}});var $___95_base_46_js__,$__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_mixed__,BaseType=($___95_base_46_js__=_dereq_("_base.js"),$___95_base_46_js__&&$___95_base_46_js__.__esModule&&$___95_base_46_js__||{"default":$___95_base_46_js__}).BaseType,$__1=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}),arrayEach=$__1.arrayEach,arrayMap=$__1.arrayMap,stringify=($__handsontable_47_helpers_47_mixed__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/mixed"),$__handsontable_47_helpers_47_mixed__&&$__handsontable_47_helpers_47_mixed__.__esModule&&$__handsontable_47_helpers_47_mixed__||{"default":$__handsontable_47_helpers_47_mixed__}).stringify,CHAR_CARRIAGE_RETURN=String.fromCharCode(13),CHAR_DOUBLE_QUOTES=String.fromCharCode(34),CHAR_LINE_FEED=String.fromCharCode(10),Csv=function(dataProvider,options){$traceurRuntime.superConstructor($Csv).call(this,dataProvider,options)},$Csv=Csv;$traceurRuntime.createClass(Csv,{"export":function(){var $__3=this,options=this.options,data=this.dataProvider.getData(),columnHeaders=this.dataProvider.getColumnHeaders(),hasColumnHeaders=columnHeaders.length>0,rowHeaders=this.dataProvider.getRowHeaders(),hasRowHeaders=rowHeaders.length>0,result="\ufeff";return hasColumnHeaders&&(columnHeaders=arrayMap(columnHeaders,function(value){return $__3._escapeCell(value,!0)}),hasRowHeaders&&(result+=options.columnDelimiter),result+=columnHeaders.join(options.columnDelimiter),result+=options.rowDelimiter),arrayEach(data,function(value,index){index>0&&(result+=options.rowDelimiter),hasRowHeaders&&(result+=$__3._escapeCell(rowHeaders[index])+options.columnDelimiter),result+=value.map(function(value){return $__3._escapeCell(value)}).join(options.columnDelimiter)}),result},_escapeCell:function(value){var force=void 0!==arguments[1]&&arguments[1];return value=stringify(value),""!==value&&(force||value.indexOf(CHAR_CARRIAGE_RETURN)>=0||value.indexOf(CHAR_DOUBLE_QUOTES)>=0||value.indexOf(CHAR_LINE_FEED)>=0||value.indexOf(this.options.columnDelimiter)>=0)&&(value=value.replace(new RegExp('"',"g"),'""'),value='"'+value+'"'),value}},{get DEFAULT_OPTIONS(){return{mimeType:"text/csv",fileExtension:"csv",columnDelimiter:",",rowDelimiter:"\r\n"}}},BaseType)},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/mixed":51,"_base.js":153}],155:[function(_dereq_,module,exports){Object.defineProperties(exports,{BaseComponent:{get:function(){return BaseComponent}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_object__,$__handsontable_47_mixins_47_localHooks__,$__handsontable_47_mixins_47_stateSaver__,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,mixin=($__handsontable_47_helpers_47_object__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}).mixin,localHooks=($__handsontable_47_mixins_47_localHooks__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/localHooks"),$__handsontable_47_mixins_47_localHooks__&&$__handsontable_47_mixins_47_localHooks__.__esModule&&$__handsontable_47_mixins_47_localHooks__||{"default":$__handsontable_47_mixins_47_localHooks__}).localHooks,stateSaver=($__handsontable_47_mixins_47_stateSaver__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/stateSaver"),$__handsontable_47_mixins_47_stateSaver__&&$__handsontable_47_mixins_47_stateSaver__.__esModule&&$__handsontable_47_mixins_47_stateSaver__||{"default":$__handsontable_47_mixins_47_stateSaver__}).stateSaver,BaseComponent=function(hotInstance){this.hot=hotInstance,this.elements=[],this.hidden=!1};$traceurRuntime.createClass(BaseComponent,{reset:function(){arrayEach(this.elements,function(ui){return ui.reset()})},hide:function(){this.hidden=!0},show:function(){this.hidden=!1},isHidden:function(){return this.hidden},destroy:function(){this.clearLocalHooks(),arrayEach(this.elements,function(ui){return ui.destroy()}),this.elements=null,this.hot=null}},{}),mixin(BaseComponent,localHooks),mixin(BaseComponent,stateSaver)},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/localHooks":58,"../../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/stateSaver":59}],156:[function(_dereq_,module,exports){Object.defineProperties(exports,{ActionBarComponent:{get:function(){return ActionBarComponent}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_dom_47_element__,$__handsontable_47_helpers_47_array__,$___95_base__,$___46__46__47_ui_47_input__,$___46__46__47_ui_47_select__,addClass=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}).addClass,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,BaseComponent=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).BaseComponent,InputUI=($___46__46__47_ui_47_input__=_dereq_("ui/input"),$___46__46__47_ui_47_input__&&$___46__46__47_ui_47_input__.__esModule&&$___46__46__47_ui_47_input__||{"default":$___46__46__47_ui_47_input__}).InputUI,ActionBarComponent=(($___46__46__47_ui_47_select__=_dereq_("ui/select"),$___46__46__47_ui_47_select__&&$___46__46__47_ui_47_select__.__esModule&&$___46__46__47_ui_47_select__||{"default":$___46__46__47_ui_47_select__}).SelectUI,function(hotInstance){$traceurRuntime.superConstructor($ActionBarComponent).call(this,hotInstance),this.elements.push(new InputUI(this.hot,{type:"button",value:"OK",className:"htUIButton htUIButtonOK",identifier:$ActionBarComponent.BUTTON_OK})),this.elements.push(new InputUI(this.hot,{type:"button",value:"Cancel",className:"htUIButton htUIButtonCancel",identifier:$ActionBarComponent.BUTTON_CANCEL})),this.registerHooks()}),$ActionBarComponent=ActionBarComponent;$traceurRuntime.createClass(ActionBarComponent,{registerHooks:function(){var $__5=this;arrayEach(this.elements,function(element){element.addLocalHook("click",function(event,button){return $__5.onButtonClick(event,button)})})},getMenuItemDescriptor:function(){var $__5=this;return{key:"filter_action_bar",name:"Action bar",isCommand:!1,disableSelection:!0,hidden:function(){return $__5.isHidden()},renderer:function(hot,wrapper,row,col,prop,value){return addClass(wrapper.parentNode,"htFiltersMenuActionBar"),arrayEach($__5.elements,function(ui){return wrapper.appendChild(ui.element)}),wrapper}}},accept:function(){this.runLocalHooks("accept")},cancel:function(){this.runLocalHooks("cancel")},onButtonClick:function(event,button){button.options.identifier===$ActionBarComponent.BUTTON_OK?this.accept():this.cancel()}},{get BUTTON_OK(){return"ok"},get BUTTON_CANCEL(){return"cancel"}},BaseComponent)},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47,_base:155,"ui/input":187,"ui/select":189}],157:[function(_dereq_,module,exports){Object.defineProperties(exports,{ConditionComponent:{get:function(){return ConditionComponent}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_dom_47_element__,$__handsontable_47_helpers_47_dom_47_event__,$__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_object__,$__handsontable_47_helpers_47_unicode__,$___95_base__,$___46__46__47_constants__,$___46__46__47_ui_47_input__,$___46__46__47_ui_47_select__,$___46__46__47_formulaRegisterer__,addClass=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}).addClass,stopImmediatePropagation=($__handsontable_47_helpers_47_dom_47_event__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/event"),$__handsontable_47_helpers_47_dom_47_event__&&$__handsontable_47_helpers_47_dom_47_event__.__esModule&&$__handsontable_47_helpers_47_dom_47_event__||{"default":$__handsontable_47_helpers_47_dom_47_event__}).stopImmediatePropagation,$__2=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}),arrayEach=$__2.arrayEach,arrayFilter=$__2.arrayFilter,isKey=(($__handsontable_47_helpers_47_object__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}).extend,($__handsontable_47_helpers_47_unicode__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/unicode"),$__handsontable_47_helpers_47_unicode__&&$__handsontable_47_helpers_47_unicode__.__esModule&&$__handsontable_47_helpers_47_unicode__||{"default":$__handsontable_47_helpers_47_unicode__}).isKey),BaseComponent=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).BaseComponent,$__6=($___46__46__47_constants__=_dereq_("constants"),$___46__46__47_constants__&&$___46__46__47_constants__.__esModule&&$___46__46__47_constants__||{"default":$___46__46__47_constants__}),getOptionsList=$__6.getOptionsList,FORMULA_NONE=$__6.FORMULA_NONE,FORMULA_BY_VALUE=$__6.FORMULA_BY_VALUE,InputUI=($___46__46__47_ui_47_input__=_dereq_("ui/input"),$___46__46__47_ui_47_input__&&$___46__46__47_ui_47_input__.__esModule&&$___46__46__47_ui_47_input__||{"default":$___46__46__47_ui_47_input__}).InputUI,SelectUI=($___46__46__47_ui_47_select__=_dereq_("ui/select"),$___46__46__47_ui_47_select__&&$___46__46__47_ui_47_select__.__esModule&&$___46__46__47_ui_47_select__||{"default":$___46__46__47_ui_47_select__}).SelectUI,getFormulaDescriptor=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}).getFormulaDescriptor,ConditionComponent=function(hotInstance){$traceurRuntime.superConstructor($ConditionComponent).call(this,hotInstance),this.elements.push(new SelectUI(this.hot)),this.elements.push(new InputUI(this.hot,{placeholder:"Value"})),this.elements.push(new InputUI(this.hot,{placeholder:"Second value"})),this.registerHooks()},$ConditionComponent=ConditionComponent;$traceurRuntime.createClass(ConditionComponent,{registerHooks:function(){var $__10=this;this.getSelectElement().addLocalHook("select",function(command){return $__10.onConditionSelect(command)}),arrayEach(this.getInputElements(),function(input){input.addLocalHook("keydown",function(event){return $__10.onInputKeyDown(event)})})},setState:function(value){var $__10=this;this.reset(),value&&(this.getSelectElement().setValue(value.command),arrayEach(value.args,function(arg,index){var element=$__10.getInputElement(index);element.setValue(arg),element[value.command.inputsCount>index?"show":"hide"](),index||setTimeout(function(){return element.focus()},10)}))},getState:function(){var command=this.getSelectElement().getValue()||getFormulaDescriptor(FORMULA_NONE),args=[];return arrayEach(this.getInputElements(),function(element,index){command.inputsCount>index&&args.push(element.getValue())}),{command:command,args:args}},updateState:function($__12){var $__13=$__12,column=$__13.column,currentFormulas=$__13.formulas,formula=arrayFilter(currentFormulas,function(formula){return formula.name!==FORMULA_BY_VALUE})[0];formula&&formula.name===FORMULA_BY_VALUE||this.setCachedState(column,{command:getFormulaDescriptor(formula?formula.name:FORMULA_NONE),args:formula?formula.args:[]})},getSelectElement:function(){return this.elements.filter(function(element){return element instanceof SelectUI})[0]},getInputElement:function(){var index=void 0!==arguments[0]?arguments[0]:0;return this.getInputElements()[index]},getInputElements:function(){return this.elements.filter(function(element){return element instanceof InputUI})},getMenuItemDescriptor:function(){var $__10=this;return{key:"filter_by_condition",name:"",isCommand:!1,disableSelection:!0,hidden:function(){return $__10.isHidden()},renderer:function(hot,wrapper,row,col,prop,value){addClass(wrapper.parentNode,"htFiltersMenuCondition");var label=document.createElement("div");return addClass(label,"htFiltersMenuLabel"),label.textContent="Filter by condition:",wrapper.appendChild(label),arrayEach($__10.elements,function(ui){return wrapper.appendChild(ui.element)}),wrapper}}},reset:function(){var lastSelectedColumn=this.hot.getPlugin("filters").getSelectedColumn(),columnType=this.hot.getDataType.apply(this.hot,this.hot.getSelected()||[0,lastSelectedColumn]),items=getOptionsList(columnType);arrayEach(this.getInputElements(),function(element){return element.hide()}),this.getSelectElement().setItems(items),$traceurRuntime.superGet(this,$ConditionComponent.prototype,"reset").call(this),this.getSelectElement().setValue(items[0])},onConditionSelect:function(command){arrayEach(this.getInputElements(),function(element,index){element[command.inputsCount>index?"show":"hide"](),index||setTimeout(function(){return element.focus()},10)})},onInputKeyDown:function(event){isKey(event.keyCode,"ENTER")?(this.runLocalHooks("accept"),stopImmediatePropagation(event)):isKey(event.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),stopImmediatePropagation(event))}},{},BaseComponent)},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/event":48,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/unicode":56,_base:155,constants:159,formulaRegisterer:184,"ui/input":187,"ui/select":189}],158:[function(_dereq_,module,exports){Object.defineProperties(exports,{ValueComponent:{get:function(){return ValueComponent}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_dom_47_element__,$__handsontable_47_helpers_47_dom_47_event__,$__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_string__,$___46__46__47_utils__,$___95_base__,$__handsontable_47_helpers_47_unicode__,$___46__46__47_ui_47_multipleSelect__,$___46__46__47_constants__,$___46__46__47_formulaRegisterer__,addClass=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}).addClass,stopImmediatePropagation=($__handsontable_47_helpers_47_dom_47_event__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/event"),$__handsontable_47_helpers_47_dom_47_event__&&$__handsontable_47_helpers_47_dom_47_event__.__esModule&&$__handsontable_47_helpers_47_dom_47_event__||{"default":$__handsontable_47_helpers_47_dom_47_event__}).stopImmediatePropagation,$__2=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}),arrayEach=$__2.arrayEach,arrayFilter=($__2.arrayUnique,$__2.arrayFilter),arrayMap=$__2.arrayMap,$__4=(($__handsontable_47_helpers_47_string__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/string"),$__handsontable_47_helpers_47_string__&&$__handsontable_47_helpers_47_string__.__esModule&&$__handsontable_47_helpers_47_string__||{"default":$__handsontable_47_helpers_47_string__}).stringify,$___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}),unifyColumnValues=$__4.unifyColumnValues,intersectValues=$__4.intersectValues,toEmptyString=$__4.toEmptyString,BaseComponent=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).BaseComponent,isKey=($__handsontable_47_helpers_47_unicode__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/unicode"),$__handsontable_47_helpers_47_unicode__&&$__handsontable_47_helpers_47_unicode__.__esModule&&$__handsontable_47_helpers_47_unicode__||{"default":$__handsontable_47_helpers_47_unicode__}).isKey,MultipleSelectUI=($___46__46__47_ui_47_multipleSelect__=_dereq_("ui/multipleSelect"),$___46__46__47_ui_47_multipleSelect__&&$___46__46__47_ui_47_multipleSelect__.__esModule&&$___46__46__47_ui_47_multipleSelect__||{"default":$___46__46__47_ui_47_multipleSelect__}).MultipleSelectUI,$__8=($___46__46__47_constants__=_dereq_("constants"),$___46__46__47_constants__&&$___46__46__47_constants__.__esModule&&$___46__46__47_constants__||{"default":$___46__46__47_constants__}),FORMULA_BY_VALUE=$__8.FORMULA_BY_VALUE,FORMULA_NONE=$__8.FORMULA_NONE,getFormulaDescriptor=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}).getFormulaDescriptor,ValueComponent=function(hotInstance){$traceurRuntime.superConstructor($ValueComponent).call(this,hotInstance),this.elements.push(new MultipleSelectUI(this.hot)),this.registerHooks()},$ValueComponent=ValueComponent;$traceurRuntime.createClass(ValueComponent,{registerHooks:function(){var $__10=this;this.getMultipleSelectElement().addLocalHook("keydown",function(event){return $__10.onInputKeyDown(event)})},setState:function(value){if(this.reset(),value&&value.command.key===FORMULA_BY_VALUE){var select=this.getMultipleSelectElement();select.setItems(value.itemsSnapshot),select.setValue(value.args[0])}},getState:function(){var select=this.getMultipleSelectElement(),availableItems=select.getItems();return{command:{key:select.isSelectedAllValues()||!availableItems.length?FORMULA_NONE:FORMULA_BY_VALUE},args:[select.getValue()],itemsSnapshot:availableItems}},updateState:function(editedFormulaStack,dependentFormulaStacks,filteredRowsFactory){var $__10=this,$__12=editedFormulaStack,column=$__12.column,formulas=$__12.formulas,updateColumnState=function(column,formulas,formulasStack){var formula=arrayFilter(formulas,function(formula){return formula.name===FORMULA_BY_VALUE})[0],state={};if(formula){var rowValues=arrayMap(filteredRowsFactory(column,formulasStack),function(row){return row.value});rowValues=unifyColumnValues(rowValues);var selectedValues=[],itemsSnapshot=intersectValues(rowValues,formula.args[0],function(item){item.checked&&selectedValues.push(item.value)});state.args=[selectedValues],state.command=getFormulaDescriptor(FORMULA_BY_VALUE),state.itemsSnapshot=itemsSnapshot}else state.args=[],state.command=getFormulaDescriptor(FORMULA_NONE);$__10.setCachedState(column,state)};if(updateColumnState(column,formulas),dependentFormulaStacks.length){var $__13=dependentFormulaStacks[0],column$__14=$__13.column,formulas$__15=$__13.formulas;updateColumnState(column$__14,formulas$__15,editedFormulaStack)}},getMultipleSelectElement:function(){return this.elements.filter(function(element){return element instanceof MultipleSelectUI})[0]},getMenuItemDescriptor:function(){var $__10=this;return{key:"filter_by_value",name:"Filter by value",isCommand:!1,disableSelection:!0,hidden:function(){return $__10.isHidden()},renderer:function(hot,wrapper,row,col,prop,value){addClass(wrapper.parentNode,"htFiltersMenuValue");var label=document.createElement("div");return addClass(label,"htFiltersMenuLabel"),label.textContent="Filter by value:",wrapper.appendChild(label),arrayEach($__10.elements,function(ui){return wrapper.appendChild(ui.element)}),wrapper}}},reset:function(){var values=unifyColumnValues(this._getColumnVisibleValues()),items=intersectValues(values,values);this.getMultipleSelectElement().setItems(items),$traceurRuntime.superGet(this,$ValueComponent.prototype,"reset").call(this),this.getMultipleSelectElement().setValue(values)},onInputKeyDown:function(event){isKey(event.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),stopImmediatePropagation(event))},_getColumnVisibleValues:function(){var lastSelectedColumn=this.hot.getPlugin("filters").getSelectedColumn();return arrayMap(this.hot.getDataAtCol(lastSelectedColumn),function(v){return toEmptyString(v)})}},{},BaseComponent)},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/event":48,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/string":55,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/unicode":56,_base:155,constants:159,formulaRegisterer:184,"ui/multipleSelect":188,utils:190}],159:[function(_dereq_,module,exports){function getOptionsList(type){var items=[];return TYPES[type]||(type=TYPE_TEXT),arrayEach(TYPES[type],function(type){var option;option=type===SEPARATOR?{name:SEPARATOR}:clone(getFormulaDescriptor(type)),items.push(option)}),items}var $__25;Object.defineProperties(exports,{FORMULA_NONE:{get:function(){return FORMULA_NONE}},FORMULA_EMPTY:{get:function(){return FORMULA_EMPTY}},FORMULA_NOT_EMPTY:{get:function(){return FORMULA_NOT_EMPTY}},FORMULA_EQUAL:{get:function(){return FORMULA_EQUAL}},FORMULA_NOT_EQUAL:{get:function(){return FORMULA_NOT_EQUAL}},FORMULA_GREATER_THAN:{get:function(){return FORMULA_GREATER_THAN}},FORMULA_GREATER_THAN_OR_EQUAL:{get:function(){return FORMULA_GREATER_THAN_OR_EQUAL}},FORMULA_LESS_THAN:{get:function(){return FORMULA_LESS_THAN}},FORMULA_LESS_THAN_OR_EQUAL:{get:function(){return FORMULA_LESS_THAN_OR_EQUAL}},FORMULA_BETWEEN:{get:function(){return FORMULA_BETWEEN}},FORMULA_NOT_BETWEEN:{get:function(){return FORMULA_NOT_BETWEEN}},FORMULA_BEGINS_WITH:{get:function(){return FORMULA_BEGINS_WITH}},FORMULA_ENDS_WITH:{get:function(){return FORMULA_ENDS_WITH}},FORMULA_CONTAINS:{get:function(){return FORMULA_CONTAINS}},FORMULA_NOT_CONTAINS:{get:function(){return FORMULA_NOT_CONTAINS}},FORMULA_DATE_BEFORE:{get:function(){return FORMULA_DATE_BEFORE}},FORMULA_DATE_AFTER:{get:function(){return FORMULA_DATE_AFTER}},FORMULA_TOMORROW:{get:function(){return FORMULA_TOMORROW}},FORMULA_TODAY:{get:function(){return FORMULA_TODAY}},FORMULA_YESTERDAY:{get:function(){return FORMULA_YESTERDAY}},FORMULA_BY_VALUE:{get:function(){return FORMULA_BY_VALUE}},TYPE_NUMERIC:{get:function(){return TYPE_NUMERIC}},TYPE_TEXT:{get:function(){return TYPE_TEXT}},TYPE_DATE:{get:function(){return TYPE_DATE}},TYPES:{get:function(){return TYPES}},getOptionsList:{get:function(){return getOptionsList}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_object__,$__handsontable_47_helpers_47_array__,$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__,$__formulaRegisterer__,$__formula_47_none__,$__formula_47_empty__,$__formula_47_notEmpty__,$__formula_47_equal__,$__formula_47_notEqual__,$__formula_47_greaterThan__,$__formula_47_greaterThanOrEqual__,$__formula_47_lessThan__,$__formula_47_lessThanOrEqual__,$__formula_47_between__,$__formula_47_notBetween__,$__formula_47_beginsWith__,$__formula_47_endsWith__,$__formula_47_contains__,$__formula_47_notContains__,$__formula_47_date_47_before__,$__formula_47_date_47_after__,$__formula_47_date_47_tomorrow__,$__formula_47_date_47_today__,$__formula_47_date_47_yesterday__,$__formula_47_byValue__,clone=($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),
$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}).clone,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,SEPARATOR=($__handsontable_47_plugins_47_contextMenu_47_predefinedItems__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/predefinedItems"),$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__&&$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__.__esModule&&$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__||{"default":$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__}).SEPARATOR,getFormulaDescriptor=($__formulaRegisterer__=_dereq_("formulaRegisterer"),$__formulaRegisterer__&&$__formulaRegisterer__.__esModule&&$__formulaRegisterer__||{"default":$__formulaRegisterer__}).getFormulaDescriptor,FORMULA_NONE=($__formula_47_none__=_dereq_("formula/none"),$__formula_47_none__&&$__formula_47_none__.__esModule&&$__formula_47_none__||{"default":$__formula_47_none__}).FORMULA_NAME,FORMULA_EMPTY=($__formula_47_empty__=_dereq_("formula/empty"),$__formula_47_empty__&&$__formula_47_empty__.__esModule&&$__formula_47_empty__||{"default":$__formula_47_empty__}).FORMULA_NAME,FORMULA_NOT_EMPTY=($__formula_47_notEmpty__=_dereq_("formula/notEmpty"),$__formula_47_notEmpty__&&$__formula_47_notEmpty__.__esModule&&$__formula_47_notEmpty__||{"default":$__formula_47_notEmpty__}).FORMULA_NAME,FORMULA_EQUAL=($__formula_47_equal__=_dereq_("formula/equal"),$__formula_47_equal__&&$__formula_47_equal__.__esModule&&$__formula_47_equal__||{"default":$__formula_47_equal__}).FORMULA_NAME,FORMULA_NOT_EQUAL=($__formula_47_notEqual__=_dereq_("formula/notEqual"),$__formula_47_notEqual__&&$__formula_47_notEqual__.__esModule&&$__formula_47_notEqual__||{"default":$__formula_47_notEqual__}).FORMULA_NAME,FORMULA_GREATER_THAN=($__formula_47_greaterThan__=_dereq_("formula/greaterThan"),$__formula_47_greaterThan__&&$__formula_47_greaterThan__.__esModule&&$__formula_47_greaterThan__||{"default":$__formula_47_greaterThan__}).FORMULA_NAME,FORMULA_GREATER_THAN_OR_EQUAL=($__formula_47_greaterThanOrEqual__=_dereq_("formula/greaterThanOrEqual"),$__formula_47_greaterThanOrEqual__&&$__formula_47_greaterThanOrEqual__.__esModule&&$__formula_47_greaterThanOrEqual__||{"default":$__formula_47_greaterThanOrEqual__}).FORMULA_NAME,FORMULA_LESS_THAN=($__formula_47_lessThan__=_dereq_("formula/lessThan"),$__formula_47_lessThan__&&$__formula_47_lessThan__.__esModule&&$__formula_47_lessThan__||{"default":$__formula_47_lessThan__}).FORMULA_NAME,FORMULA_LESS_THAN_OR_EQUAL=($__formula_47_lessThanOrEqual__=_dereq_("formula/lessThanOrEqual"),$__formula_47_lessThanOrEqual__&&$__formula_47_lessThanOrEqual__.__esModule&&$__formula_47_lessThanOrEqual__||{"default":$__formula_47_lessThanOrEqual__}).FORMULA_NAME,FORMULA_BETWEEN=($__formula_47_between__=_dereq_("formula/between"),$__formula_47_between__&&$__formula_47_between__.__esModule&&$__formula_47_between__||{"default":$__formula_47_between__}).FORMULA_NAME,FORMULA_NOT_BETWEEN=($__formula_47_notBetween__=_dereq_("formula/notBetween"),$__formula_47_notBetween__&&$__formula_47_notBetween__.__esModule&&$__formula_47_notBetween__||{"default":$__formula_47_notBetween__}).FORMULA_NAME,FORMULA_BEGINS_WITH=($__formula_47_beginsWith__=_dereq_("formula/beginsWith"),$__formula_47_beginsWith__&&$__formula_47_beginsWith__.__esModule&&$__formula_47_beginsWith__||{"default":$__formula_47_beginsWith__}).FORMULA_NAME,FORMULA_ENDS_WITH=($__formula_47_endsWith__=_dereq_("formula/endsWith"),$__formula_47_endsWith__&&$__formula_47_endsWith__.__esModule&&$__formula_47_endsWith__||{"default":$__formula_47_endsWith__}).FORMULA_NAME,FORMULA_CONTAINS=($__formula_47_contains__=_dereq_("formula/contains"),$__formula_47_contains__&&$__formula_47_contains__.__esModule&&$__formula_47_contains__||{"default":$__formula_47_contains__}).FORMULA_NAME,FORMULA_NOT_CONTAINS=($__formula_47_notContains__=_dereq_("formula/notContains"),$__formula_47_notContains__&&$__formula_47_notContains__.__esModule&&$__formula_47_notContains__||{"default":$__formula_47_notContains__}).FORMULA_NAME,FORMULA_DATE_BEFORE=($__formula_47_date_47_before__=_dereq_("formula/date/before"),$__formula_47_date_47_before__&&$__formula_47_date_47_before__.__esModule&&$__formula_47_date_47_before__||{"default":$__formula_47_date_47_before__}).FORMULA_NAME,FORMULA_DATE_AFTER=($__formula_47_date_47_after__=_dereq_("formula/date/after"),$__formula_47_date_47_after__&&$__formula_47_date_47_after__.__esModule&&$__formula_47_date_47_after__||{"default":$__formula_47_date_47_after__}).FORMULA_NAME,FORMULA_TOMORROW=($__formula_47_date_47_tomorrow__=_dereq_("formula/date/tomorrow"),$__formula_47_date_47_tomorrow__&&$__formula_47_date_47_tomorrow__.__esModule&&$__formula_47_date_47_tomorrow__||{"default":$__formula_47_date_47_tomorrow__}).FORMULA_NAME,FORMULA_TODAY=($__formula_47_date_47_today__=_dereq_("formula/date/today"),$__formula_47_date_47_today__&&$__formula_47_date_47_today__.__esModule&&$__formula_47_date_47_today__||{"default":$__formula_47_date_47_today__}).FORMULA_NAME,FORMULA_YESTERDAY=($__formula_47_date_47_yesterday__=_dereq_("formula/date/yesterday"),$__formula_47_date_47_yesterday__&&$__formula_47_date_47_yesterday__.__esModule&&$__formula_47_date_47_yesterday__||{"default":$__formula_47_date_47_yesterday__}).FORMULA_NAME,FORMULA_BY_VALUE=($__formula_47_byValue__=_dereq_("formula/byValue"),$__formula_47_byValue__&&$__formula_47_byValue__.__esModule&&$__formula_47_byValue__||{"default":$__formula_47_byValue__}).FORMULA_NAME,TYPE_NUMERIC="numeric",TYPE_TEXT="text",TYPE_DATE="date",TYPES=($__25={},Object.defineProperty($__25,TYPE_NUMERIC,{value:[FORMULA_NONE,SEPARATOR,FORMULA_EMPTY,FORMULA_NOT_EMPTY,SEPARATOR,FORMULA_EQUAL,FORMULA_NOT_EQUAL,SEPARATOR,FORMULA_GREATER_THAN,FORMULA_GREATER_THAN_OR_EQUAL,FORMULA_LESS_THAN,FORMULA_LESS_THAN_OR_EQUAL,FORMULA_BETWEEN,FORMULA_NOT_BETWEEN],configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__25,TYPE_TEXT,{value:[FORMULA_NONE,SEPARATOR,FORMULA_EMPTY,FORMULA_NOT_EMPTY,SEPARATOR,FORMULA_EQUAL,FORMULA_NOT_EQUAL,SEPARATOR,FORMULA_BEGINS_WITH,FORMULA_ENDS_WITH,SEPARATOR,FORMULA_CONTAINS,FORMULA_NOT_CONTAINS],configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__25,TYPE_DATE,{value:[FORMULA_NONE,SEPARATOR,FORMULA_EMPTY,FORMULA_NOT_EMPTY,SEPARATOR,FORMULA_EQUAL,FORMULA_NOT_EQUAL,SEPARATOR,FORMULA_DATE_BEFORE,FORMULA_DATE_AFTER,FORMULA_BETWEEN,SEPARATOR,FORMULA_TOMORROW,FORMULA_TODAY,FORMULA_YESTERDAY],configurable:!0,enumerable:!0,writable:!0}),$__25)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/predefinedItems":76,"formula/beginsWith":162,"formula/between":163,"formula/byValue":164,"formula/contains":165,"formula/date/after":166,"formula/date/before":167,"formula/date/today":168,"formula/date/tomorrow":169,"formula/date/yesterday":170,"formula/empty":171,"formula/endsWith":172,"formula/equal":173,"formula/greaterThan":174,"formula/greaterThanOrEqual":175,"formula/lessThan":176,"formula/lessThanOrEqual":177,"formula/none":178,"formula/notBetween":179,"formula/notContains":180,"formula/notEmpty":181,"formula/notEqual":182,formulaRegisterer:184}],160:[function(_dereq_,module,exports){Object.defineProperties(exports,{DataFilter:{get:function(){return DataFilter}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$__handsontable_47_helpers_47_array__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("../../browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,DataFilter=function(formulaCollection){var columnDataFactory=void 0!==arguments[1]?arguments[1]:function(column){return[]};this.formulaCollection=formulaCollection,this.columnDataFactory=columnDataFactory};$traceurRuntime.createClass(DataFilter,{filter:function(){var $__2=this,filteredData=[];return this.formulaCollection.isEmpty()||arrayEach(this.formulaCollection.orderStack,function(column,index){var columnData=$__2.columnDataFactory(column);index&&(columnData=$__2._getIntersectData(columnData,filteredData)),filteredData=$__2.filterByColumn(column,columnData)}),filteredData},filterByColumn:function(column){var dataSource=void 0!==arguments[1]?arguments[1]:[],$__2=this,filteredData=[];return arrayEach(dataSource,function(dataRow){void 0!==dataRow&&$__2.formulaCollection.isMatch(dataRow,column)&&filteredData.push(dataRow)}),filteredData},_getIntersectData:function(data,needles){var result=[];return arrayEach(needles,function(needleRow){var row=needleRow.meta.visualRow;void 0!==data[row]&&(result[row]=data[row])}),result}},{}),Handsontable.utils.FiltersDataFilter=DataFilter},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../browser":141}],161:[function(_dereq_,module,exports){Object.defineProperties(exports,{Filters:{get:function(){return Filters}},__esModule:{value:!0}});var $__handsontable_47_plugins_47__95_base__,$__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_number__,$__handsontable_47_eventManager__,$__handsontable_47_helpers_47_dom_47_element__,$__handsontable_47_plugins__,$__component_47_condition__,$__component_47_value__,$__component_47_actionBar__,$__formulaCollection__,$__dataFilter__,$__formulaUpdateObserver__,$__utils__,$__constants__,$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__,BasePlugin=($__handsontable_47_plugins_47__95_base__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base"),$__handsontable_47_plugins_47__95_base__&&$__handsontable_47_plugins_47__95_base__.__esModule&&$__handsontable_47_plugins_47__95_base__||{"default":$__handsontable_47_plugins_47__95_base__})["default"],$__1=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}),arrayEach=$__1.arrayEach,arrayMap=$__1.arrayMap,rangeEach=($__handsontable_47_helpers_47_number__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach,EventManager=($__handsontable_47_eventManager__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/eventManager"),$__handsontable_47_eventManager__&&$__handsontable_47_eventManager__.__esModule&&$__handsontable_47_eventManager__||{"default":$__handsontable_47_eventManager__}).EventManager,$__4=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}),addClass=$__4.addClass,removeClass=$__4.removeClass,closest=$__4.closest,registerPlugin=($__handsontable_47_plugins__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins"),$__handsontable_47_plugins__&&$__handsontable_47_plugins__.__esModule&&$__handsontable_47_plugins__||{"default":$__handsontable_47_plugins__}).registerPlugin,ConditionComponent=($__component_47_condition__=_dereq_("component/condition"),$__component_47_condition__&&$__component_47_condition__.__esModule&&$__component_47_condition__||{"default":$__component_47_condition__}).ConditionComponent,ValueComponent=($__component_47_value__=_dereq_("component/value"),$__component_47_value__&&$__component_47_value__.__esModule&&$__component_47_value__||{"default":$__component_47_value__}).ValueComponent,ActionBarComponent=($__component_47_actionBar__=_dereq_("component/actionBar"),$__component_47_actionBar__&&$__component_47_actionBar__.__esModule&&$__component_47_actionBar__||{"default":$__component_47_actionBar__}).ActionBarComponent,FormulaCollection=($__formulaCollection__=_dereq_("formulaCollection"),$__formulaCollection__&&$__formulaCollection__.__esModule&&$__formulaCollection__||{"default":$__formulaCollection__}).FormulaCollection,DataFilter=($__dataFilter__=_dereq_("dataFilter"),$__dataFilter__&&$__dataFilter__.__esModule&&$__dataFilter__||{"default":$__dataFilter__}).DataFilter,FormulaUpdateObserver=($__formulaUpdateObserver__=_dereq_("formulaUpdateObserver"),$__formulaUpdateObserver__&&$__formulaUpdateObserver__.__esModule&&$__formulaUpdateObserver__||{"default":$__formulaUpdateObserver__}).FormulaUpdateObserver,$__12=($__utils__=_dereq_("utils"),$__utils__&&$__utils__.__esModule&&$__utils__||{"default":$__utils__}),createArrayAssertion=$__12.createArrayAssertion,toEmptyString=$__12.toEmptyString,FORMULA_NONE=($__constants__=_dereq_("constants"),$__constants__&&$__constants__.__esModule&&$__constants__||{"default":$__constants__}).FORMULA_NONE,SEPARATOR=($__handsontable_47_plugins_47_contextMenu_47_predefinedItems__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/predefinedItems"),$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__&&$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__.__esModule&&$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__||{"default":$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__}).SEPARATOR,Filters=function(hotInstance){var $__15=this;$traceurRuntime.superConstructor($Filters).call(this,hotInstance),this.eventManager=new EventManager(this),this.trimRowsPlugin=null,this.dropdownMenuPlugin=null,this.formulaCollection=null,this.formulaUpdateObserver=null,this.conditionComponent=null,this.valueComponent=null,this.actionBarComponent=null,this.lastSelectedColumn=null,this.hot.addHook("afterGetColHeader",function(col,TH){return $__15.onAfterGetColHeader(col,TH)})},$Filters=Filters;$traceurRuntime.createClass(Filters,{isEnabled:function(){return!!this.hot.getSettings().filters},enablePlugin:function(){var $__15=this;if(!this.enabled){this.trimRowsPlugin=this.hot.getPlugin("trimRows"),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");var addConfirmationHooks=function(component){return component.addLocalHook("accept",function(){return $__15.onActionBarSubmit("accept")}),component.addLocalHook("cancel",function(){return $__15.onActionBarSubmit("cancel")}),component};this.conditionComponent||(this.conditionComponent=addConfirmationHooks(new ConditionComponent(this.hot))),this.valueComponent||(this.valueComponent=addConfirmationHooks(new ValueComponent(this.hot))),this.actionBarComponent||(this.actionBarComponent=addConfirmationHooks(new ActionBarComponent(this.hot))),this.formulaCollection||(this.formulaCollection=new FormulaCollection),this.formulaUpdateObserver||(this.formulaUpdateObserver=new FormulaUpdateObserver(this.formulaCollection,function(column){return $__15.getDataMapAtColumn(column)}),this.formulaUpdateObserver.addLocalHook("update",function(){for(var $__20,params=[],$__17=0;$__17<arguments.length;$__17++)params[$__17]=arguments[$__17];return($__20=$__15.conditionComponent).updateState.apply($__20,$traceurRuntime.spread(params))}),this.formulaUpdateObserver.addLocalHook("update",function(){for(var $__20,params=[],$__18=0;$__18<arguments.length;$__18++)params[$__18]=arguments[$__18];return($__20=$__15.valueComponent).updateState.apply($__20,$traceurRuntime.spread(params))})),this.conditionComponent.show(),this.valueComponent.show(),this.actionBarComponent.show(),this.registerEvents(),this.addHook("beforeDropdownMenuSetItems",function(items){return $__15.onBeforeDropdownMenuSetItems(items)}),this.addHook("afterDropdownMenuDefaultOptions",function(defaultOptions){return $__15.onAfterDropdownMenuDefaultOptions(defaultOptions)}),this.addHook("afterDropdownMenuShow",function(){return $__15.onAfterDropdownMenuShow()}),this.addHook("afterDropdownMenuHide",function(){return $__15.onAfterDropdownMenuHide()}),this.hot.getSettings().trimRows=!0,this.trimRowsPlugin.enablePlugin(),this.hot.getSettings().dropdownMenu&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),$traceurRuntime.superGet(this,$Filters.prototype,"enablePlugin").call(this)}},registerEvents:function(){var $__15=this;this.eventManager.addEventListener(this.hot.rootElement,"click",function(event){return $__15.onTableClick(event)})},disablePlugin:function(){this.enabled&&(this.conditionComponent.hide(),this.valueComponent.hide(),this.actionBarComponent.hide(),this.formulaCollection.clean(),this.trimRowsPlugin.untrimAll()),$traceurRuntime.superGet(this,$Filters.prototype,"disablePlugin").call(this)},addFormula:function(column,name,args){this.formulaCollection.addFormula(column,{command:{key:name},args:args})},removeFormulas:function(column){this.formulaCollection.removeFormulas(column)},clearFormulas:function(column){void 0===column?this.formulaCollection.clean():this.formulaCollection.clearFormulas(column)},filter:function(){var dataFilter=this._createDataFilter(),needToFilter=!this.formulaCollection.isEmpty(),visibleVisualRows=[],formulas=this.formulaCollection.exportAllFormulas(),allowFiltering=this.hot.runHooks("beforeFilter",formulas);if(allowFiltering!==!1)if(needToFilter){var trimmedRows=[];this.trimRowsPlugin.trimmedRows.length=0,visibleVisualRows=arrayMap(dataFilter.filter(),function(rowData){return rowData.meta.visualRow});var visibleVisualRowsAssertion=createArrayAssertion(visibleVisualRows);rangeEach(this.hot.countSourceRows()-1,function(row){visibleVisualRowsAssertion(row)||trimmedRows.push(row)}),this.trimRowsPlugin.trimRows(trimmedRows),visibleVisualRows.length||this.hot.deselectCell()}else this.trimRowsPlugin.untrimAll();this.hot.view.wt.wtOverlays.adjustElementsSize(!0),this.hot.render(),this.clearColumnSelection(),this.hot.runHooks("afterFilter",formulas)},getSelectedColumn:function(){return this.lastSelectedColumn},clearColumnSelection:function(){var $__19=this.hot.getSelected()||[],row=$__19[0],col=$__19[1];void 0!==row&&void 0!==col&&this.hot.selectCell(row,col)},getDataMapAtColumn:function(column){var $__15=this,data=[];return arrayEach(this.hot.getSourceDataAtCol(column),function(value,rowIndex){var $__19=$__15.hot.getCellMeta(rowIndex,column),row=$__19.row,col=$__19.col,visualCol=$__19.visualCol,visualRow=$__19.visualRow,type=$__19.type,instance=$__19.instance,dateFormat=$__19.dateFormat;data.push({meta:{row:row,col:col,visualCol:visualCol,visualRow:visualRow,type:type,instance:instance,dateFormat:dateFormat},value:toEmptyString(value)})}),data},onAfterDropdownMenuShow:function(){var column=this.getSelectedColumn(),conditionComponent=this.conditionComponent,valueComponent=this.valueComponent;conditionComponent.isHidden()||conditionComponent.restoreState(column),valueComponent.isHidden()||valueComponent.restoreState(column)},onAfterDropdownMenuHide:function(){this.conditionComponent.getSelectElement().closeOptions()},onBeforeDropdownMenuSetItems:function(items){var menuKeys=arrayMap(items,function(item){return item.key}),conditionComponent=this.conditionComponent,valueComponent=this.valueComponent;conditionComponent[menuKeys.indexOf(conditionComponent.getMenuItemDescriptor().key)===-1?"hide":"show"](),valueComponent[menuKeys.indexOf(valueComponent.getMenuItemDescriptor().key)===-1?"hide":"show"]()},onAfterDropdownMenuDefaultOptions:function(defaultOptions){defaultOptions.items.push({name:SEPARATOR}),defaultOptions.items.push(this.conditionComponent.getMenuItemDescriptor()),defaultOptions.items.push(this.valueComponent.getMenuItemDescriptor()),defaultOptions.items.push(this.actionBarComponent.getMenuItemDescriptor())},onActionBarSubmit:function(submitType){if("accept"===submitType){var column=this.getSelectedColumn(),byConditionState=this.conditionComponent.getState(),byValueState=this.valueComponent.getState();this.formulaUpdateObserver.groupChanges(),this.formulaCollection.clearFormulas(column),byConditionState.command.key===FORMULA_NONE&&byValueState.command.key===FORMULA_NONE&&this.formulaCollection.removeFormulas(column),byConditionState.command.key!==FORMULA_NONE&&this.formulaCollection.addFormula(column,byConditionState),byValueState.command.key!==FORMULA_NONE&&this.formulaCollection.addFormula(column,byValueState),this.formulaUpdateObserver.flush(),this.conditionComponent.saveState(column),this.valueComponent.saveState(column),this.filter()}this.dropdownMenuPlugin.close()},onAfterGetColHeader:function(col,TH){this.enabled&&this.formulaCollection.hasFormulas(col)?addClass(TH,"htFiltersActive"):removeClass(TH,"htFiltersActive")},onTableClick:function(event){var th=closest(event.target,"TH");th&&(this.lastSelectedColumn=this.hot.getCoords(th).col)},destroy:function(){this.enabled&&(this.conditionComponent.destroy(),this.valueComponent.destroy(),this.actionBarComponent.destroy(),this.formulaCollection.destroy(),this.formulaUpdateObserver.destroy()),$traceurRuntime.superGet(this,$Filters.prototype,"destroy").call(this)},_createDataFilter:function(){var formulaCollection=void 0!==arguments[0]?arguments[0]:this.formulaCollection,$__15=this;return new DataFilter(formulaCollection,function(column){return $__15.getDataMapAtColumn(column)})}},{},BasePlugin),registerPlugin("filters",Filters)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/eventManager":42,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins":62,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base":63,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/predefinedItems":76,"component/actionBar":156,"component/condition":157,"component/value":158,constants:159,dataFilter:160,formulaCollection:183,formulaUpdateObserver:185,utils:190}],162:[function(_dereq_,module,exports){function formula(dataRow){var value=(void 0!==arguments[1]?arguments[1]:inputValues)[0];return startsWith(stringify(dataRow.value).toLowerCase(),stringify(value))}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47_formulaRegisterer__,$__handsontable_47_helpers_47_string__,$__handsontable_47_helpers_47_mixed__,registerFormula=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}).registerFormula,startsWith=($__handsontable_47_helpers_47_string__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/string"),$__handsontable_47_helpers_47_string__&&$__handsontable_47_helpers_47_string__.__esModule&&$__handsontable_47_helpers_47_string__||{"default":$__handsontable_47_helpers_47_string__}).startsWith,stringify=($__handsontable_47_helpers_47_mixed__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/mixed"),$__handsontable_47_helpers_47_mixed__&&$__handsontable_47_helpers_47_mixed__.__esModule&&$__handsontable_47_helpers_47_mixed__||{"default":$__handsontable_47_helpers_47_mixed__}).stringify,FORMULA_NAME="begins_with";registerFormula(FORMULA_NAME,formula,{name:"Begins with",inputsCount:1})},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/mixed":51,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/string":55,formulaRegisterer:184}],163:[function(_dereq_,module,exports){function formula(dataRow){var $__3=void 0!==arguments[1]?arguments[1]:inputValues,from=$__3[0],to=$__3[1];if("numeric"===dataRow.meta.type){var _from=parseFloat(from,10),_to=parseFloat(to,10);from=Math.min(_from,_to),to=Math.max(_from,_to)}else if("date"===dataRow.meta.type){var dateBefore=getFormula(FORMULA_DATE_BEFORE,[to]),dateAfter=getFormula(FORMULA_DATE_AFTER,[from]);return dateBefore(dataRow)&&dateAfter(dataRow)}return dataRow.value>=from&&dataRow.value<=to}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47_formulaRegisterer__,$__date_47_after__,$__date_47_before__,$__0=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}),registerFormula=$__0.registerFormula,getFormula=$__0.getFormula,FORMULA_DATE_AFTER=($__date_47_after__=_dereq_("date/after"),$__date_47_after__&&$__date_47_after__.__esModule&&$__date_47_after__||{"default":$__date_47_after__}).FORMULA_NAME,FORMULA_DATE_BEFORE=($__date_47_before__=_dereq_("date/before"),$__date_47_before__&&$__date_47_before__.__esModule&&$__date_47_before__||{"default":$__date_47_before__}).FORMULA_NAME,FORMULA_NAME="between";registerFormula(FORMULA_NAME,formula,{name:"Is between",inputsCount:2})},{"date/after":166,"date/before":167,formulaRegisterer:184}],164:[function(_dereq_,module,exports){function formula(dataRow){var value=(void 0!==arguments[1]?arguments[1]:inputValues)[0];return value(dataRow.value)}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47_formulaRegisterer__,$___46__46__47_utils__,registerFormula=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}).registerFormula,createArrayAssertion=($___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}).createArrayAssertion,FORMULA_NAME="by_value";registerFormula(FORMULA_NAME,formula,{name:"By value",inputsCount:0,inputValuesDecorator:function(){var data=(void 0!==arguments[0]?arguments[0]:inputValues)[0];return[createArrayAssertion(data)]}})},{formulaRegisterer:184,utils:190}],165:[function(_dereq_,module,exports){function formula(dataRow){var value=(void 0!==arguments[1]?arguments[1]:inputValues)[0];return stringify(dataRow.value).toLowerCase().indexOf(stringify(value))>=0}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47_formulaRegisterer__,$__handsontable_47_helpers_47_mixed__,registerFormula=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}).registerFormula,stringify=($__handsontable_47_helpers_47_mixed__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/mixed"),$__handsontable_47_helpers_47_mixed__&&$__handsontable_47_helpers_47_mixed__.__esModule&&$__handsontable_47_helpers_47_mixed__||{"default":$__handsontable_47_helpers_47_mixed__}).stringify,FORMULA_NAME="contains";registerFormula(FORMULA_NAME,formula,{name:"Contains",inputsCount:1})},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/mixed":51,formulaRegisterer:184}],166:[function(_dereq_,module,exports){function formula(dataRow){var value=(void 0!==arguments[1]?arguments[1]:inputValues)[0],date=moment(dataRow.value,dataRow.meta.dateFormat),inputDate=moment(value,dataRow.meta.dateFormat);return!(!date.isValid()||!inputDate.isValid())&&date.diff(inputDate)>=0}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47__46__46__47_formulaRegisterer__,$__moment__,registerFormula=($___46__46__47__46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47__46__46__47_formulaRegisterer__&&$___46__46__47__46__46__47_formulaRegisterer__.__esModule&&$___46__46__47__46__46__47_formulaRegisterer__||{"default":$___46__46__47__46__46__47_formulaRegisterer__}).registerFormula,moment=($__moment__=_dereq_("moment"),$__moment__&&$__moment__.__esModule&&$__moment__||{"default":$__moment__})["default"],FORMULA_NAME="date_after";registerFormula(FORMULA_NAME,formula,{name:"After",inputsCount:1})},{formulaRegisterer:184,moment:"moment"}],167:[function(_dereq_,module,exports){function formula(dataRow){var value=(void 0!==arguments[1]?arguments[1]:inputValues)[0],date=moment(dataRow.value,dataRow.meta.dateFormat),inputDate=moment(value,dataRow.meta.dateFormat);return!(!date.isValid()||!inputDate.isValid())&&date.diff(inputDate)<=0}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47__46__46__47_formulaRegisterer__,$__moment__,registerFormula=($___46__46__47__46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47__46__46__47_formulaRegisterer__&&$___46__46__47__46__46__47_formulaRegisterer__.__esModule&&$___46__46__47__46__46__47_formulaRegisterer__||{"default":$___46__46__47__46__46__47_formulaRegisterer__}).registerFormula,moment=($__moment__=_dereq_("moment"),$__moment__&&$__moment__.__esModule&&$__moment__||{"default":$__moment__})["default"],FORMULA_NAME="date_before";registerFormula(FORMULA_NAME,formula,{name:"Before",inputsCount:1})},{formulaRegisterer:184,moment:"moment"}],168:[function(_dereq_,module,exports){function formula(dataRow){var date=moment(dataRow.value,dataRow.meta.dateFormat);return!!date.isValid()&&date.isSame(moment().startOf("day"),"d")}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47__46__46__47_formulaRegisterer__,$__moment__,registerFormula=($___46__46__47__46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47__46__46__47_formulaRegisterer__&&$___46__46__47__46__46__47_formulaRegisterer__.__esModule&&$___46__46__47__46__46__47_formulaRegisterer__||{"default":$___46__46__47__46__46__47_formulaRegisterer__}).registerFormula,moment=($__moment__=_dereq_("moment"),$__moment__&&$__moment__.__esModule&&$__moment__||{"default":$__moment__})["default"],FORMULA_NAME="date_today";registerFormula(FORMULA_NAME,formula,{name:"Today",inputsCount:0})},{formulaRegisterer:184,moment:"moment"}],169:[function(_dereq_,module,exports){function formula(dataRow){var date=moment(dataRow.value,dataRow.meta.dateFormat);return!!date.isValid()&&date.isSame(moment().subtract(-1,"days").startOf("day"),"d")}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47__46__46__47_formulaRegisterer__,$__moment__,registerFormula=($___46__46__47__46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),
$___46__46__47__46__46__47_formulaRegisterer__&&$___46__46__47__46__46__47_formulaRegisterer__.__esModule&&$___46__46__47__46__46__47_formulaRegisterer__||{"default":$___46__46__47__46__46__47_formulaRegisterer__}).registerFormula,moment=($__moment__=_dereq_("moment"),$__moment__&&$__moment__.__esModule&&$__moment__||{"default":$__moment__})["default"],FORMULA_NAME="date_tomorrow";registerFormula(FORMULA_NAME,formula,{name:"Tomorrow",inputsCount:0})},{formulaRegisterer:184,moment:"moment"}],170:[function(_dereq_,module,exports){function formula(dataRow){var date=moment(dataRow.value,dataRow.meta.dateFormat);return!!date.isValid()&&date.isSame(moment().subtract(1,"days").startOf("day"),"d")}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47__46__46__47_formulaRegisterer__,$__moment__,registerFormula=($___46__46__47__46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47__46__46__47_formulaRegisterer__&&$___46__46__47__46__46__47_formulaRegisterer__.__esModule&&$___46__46__47__46__46__47_formulaRegisterer__||{"default":$___46__46__47__46__46__47_formulaRegisterer__}).registerFormula,moment=($__moment__=_dereq_("moment"),$__moment__&&$__moment__.__esModule&&$__moment__||{"default":$__moment__})["default"],FORMULA_NAME="date_yesterday";registerFormula(FORMULA_NAME,formula,{name:"Yesterday",inputsCount:0})},{formulaRegisterer:184,moment:"moment"}],171:[function(_dereq_,module,exports){function formula(dataRow){return""===dataRow.value||null===dataRow.value||void 0===dataRow.value}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47_formulaRegisterer__,registerFormula=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}).registerFormula,FORMULA_NAME="empty";registerFormula(FORMULA_NAME,formula,{name:"Is empty",inputsCount:0})},{formulaRegisterer:184}],172:[function(_dereq_,module,exports){function formula(dataRow){var value=(void 0!==arguments[1]?arguments[1]:inputValues)[0];return endsWith(stringify(dataRow.value).toLowerCase(),stringify(value))}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47_formulaRegisterer__,$__handsontable_47_helpers_47_string__,$__handsontable_47_helpers_47_mixed__,registerFormula=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}).registerFormula,endsWith=($__handsontable_47_helpers_47_string__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/string"),$__handsontable_47_helpers_47_string__&&$__handsontable_47_helpers_47_string__.__esModule&&$__handsontable_47_helpers_47_string__||{"default":$__handsontable_47_helpers_47_string__}).endsWith,stringify=($__handsontable_47_helpers_47_mixed__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/mixed"),$__handsontable_47_helpers_47_mixed__&&$__handsontable_47_helpers_47_mixed__.__esModule&&$__handsontable_47_helpers_47_mixed__||{"default":$__handsontable_47_helpers_47_mixed__}).stringify,FORMULA_NAME="ends_with";registerFormula(FORMULA_NAME,formula,{name:"Ends with",inputsCount:1})},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/mixed":51,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/string":55,formulaRegisterer:184}],173:[function(_dereq_,module,exports){function formula(dataRow){var value=(void 0!==arguments[1]?arguments[1]:inputValues)[0];return stringify(dataRow.value).toLowerCase()===stringify(value)}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_mixed__,$___46__46__47_formulaRegisterer__,stringify=($__handsontable_47_helpers_47_mixed__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/mixed"),$__handsontable_47_helpers_47_mixed__&&$__handsontable_47_helpers_47_mixed__.__esModule&&$__handsontable_47_helpers_47_mixed__||{"default":$__handsontable_47_helpers_47_mixed__}).stringify,registerFormula=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}).registerFormula,FORMULA_NAME="eq";registerFormula(FORMULA_NAME,formula,{name:"Is equal to",inputsCount:1})},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/mixed":51,formulaRegisterer:184}],174:[function(_dereq_,module,exports){function formula(dataRow){var value=(void 0!==arguments[1]?arguments[1]:inputValues)[0];return"numeric"===dataRow.meta.type&&(value=parseFloat(value,10)),dataRow.value>value}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47_formulaRegisterer__,registerFormula=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}).registerFormula,FORMULA_NAME="gt";registerFormula(FORMULA_NAME,formula,{name:"Greater than",inputsCount:1})},{formulaRegisterer:184}],175:[function(_dereq_,module,exports){function formula(dataRow){var value=(void 0!==arguments[1]?arguments[1]:inputValues)[0];return"numeric"===dataRow.meta.type&&(value=parseFloat(value,10)),dataRow.value>=value}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47_formulaRegisterer__,registerFormula=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}).registerFormula,FORMULA_NAME="gte";registerFormula(FORMULA_NAME,formula,{name:"Greater than or equal to",inputsCount:1})},{formulaRegisterer:184}],176:[function(_dereq_,module,exports){function formula(dataRow){var value=(void 0!==arguments[1]?arguments[1]:inputValues)[0];return"numeric"===dataRow.meta.type&&(value=parseFloat(value,10)),dataRow.value<value}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47_formulaRegisterer__,registerFormula=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}).registerFormula,FORMULA_NAME="lt";registerFormula(FORMULA_NAME,formula,{name:"Less than",inputsCount:1})},{formulaRegisterer:184}],177:[function(_dereq_,module,exports){function formula(dataRow){var value=(void 0!==arguments[1]?arguments[1]:inputValues)[0];return"numeric"===dataRow.meta.type&&(value=parseFloat(value,10)),dataRow.value<=value}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47_formulaRegisterer__,registerFormula=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}).registerFormula,FORMULA_NAME="lte";registerFormula(FORMULA_NAME,formula,{name:"Less than or equal to",inputsCount:1})},{formulaRegisterer:184}],178:[function(_dereq_,module,exports){function formula(){return!0}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47_formulaRegisterer__,registerFormula=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}).registerFormula,FORMULA_NAME="none";registerFormula(FORMULA_NAME,formula,{name:"None",inputsCount:0})},{formulaRegisterer:184}],179:[function(_dereq_,module,exports){function formula(dataRow,inputValues){return!getFormula(FORMULA_BETWEEN,inputValues)(dataRow)}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47_formulaRegisterer__,$__between__,$__0=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}),registerFormula=$__0.registerFormula,getFormula=$__0.getFormula,FORMULA_BETWEEN=($__between__=_dereq_("between"),$__between__&&$__between__.__esModule&&$__between__||{"default":$__between__}).FORMULA_NAME,FORMULA_NAME="not_between";registerFormula(FORMULA_NAME,formula,{name:"Is not between",inputsCount:2})},{between:163,formulaRegisterer:184}],180:[function(_dereq_,module,exports){function formula(dataRow,inputValues){return!getFormula(FORMULA_CONTAINS,inputValues)(dataRow)}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47_formulaRegisterer__,$__contains__,$__0=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}),registerFormula=$__0.registerFormula,getFormula=$__0.getFormula,FORMULA_CONTAINS=($__contains__=_dereq_("contains"),$__contains__&&$__contains__.__esModule&&$__contains__||{"default":$__contains__}).FORMULA_NAME,FORMULA_NAME="not_contains";registerFormula(FORMULA_NAME,formula,{name:"Does not contain",inputsCount:1})},{contains:165,formulaRegisterer:184}],181:[function(_dereq_,module,exports){function formula(dataRow,inputValues){return!getFormula(FORMULA_EMPTY,inputValues)(dataRow)}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47_formulaRegisterer__,$__empty__,$__0=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}),registerFormula=$__0.registerFormula,getFormula=$__0.getFormula,FORMULA_EMPTY=($__empty__=_dereq_("empty"),$__empty__&&$__empty__.__esModule&&$__empty__||{"default":$__empty__}).FORMULA_NAME,FORMULA_NAME="not_empty";registerFormula(FORMULA_NAME,formula,{name:"Is not empty",inputsCount:0})},{empty:171,formulaRegisterer:184}],182:[function(_dereq_,module,exports){function formula(dataRow,inputValues){return!getFormula(FORMULA_EQUAL,inputValues)(dataRow)}Object.defineProperties(exports,{FORMULA_NAME:{get:function(){return FORMULA_NAME}},__esModule:{value:!0}});var $___46__46__47_formulaRegisterer__,$__equal__,$__0=($___46__46__47_formulaRegisterer__=_dereq_("formulaRegisterer"),$___46__46__47_formulaRegisterer__&&$___46__46__47_formulaRegisterer__.__esModule&&$___46__46__47_formulaRegisterer__||{"default":$___46__46__47_formulaRegisterer__}),registerFormula=$__0.registerFormula,getFormula=$__0.getFormula,FORMULA_EQUAL=($__equal__=_dereq_("equal"),$__equal__&&$__equal__.__esModule&&$__equal__||{"default":$__equal__}).FORMULA_NAME,FORMULA_NAME="neq";registerFormula(FORMULA_NAME,formula,{name:"Is not equal to",inputsCount:1})},{equal:173,formulaRegisterer:184}],183:[function(_dereq_,module,exports){Object.defineProperties(exports,{FormulaCollection:{get:function(){return FormulaCollection}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_object__,$__formulaRegisterer__,$__handsontable_47_mixins_47_localHooks__,$__0=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}),arrayEach=$__0.arrayEach,arrayMap=$__0.arrayMap,arrayFilter=$__0.arrayFilter,$__1=($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}),objectEach=$__1.objectEach,mixin=$__1.mixin,getFormula=($__formulaRegisterer__=_dereq_("formulaRegisterer"),$__formulaRegisterer__&&$__formulaRegisterer__.__esModule&&$__formulaRegisterer__||{"default":$__formulaRegisterer__}).getFormula,localHooks=($__handsontable_47_mixins_47_localHooks__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/localHooks"),$__handsontable_47_mixins_47_localHooks__&&$__handsontable_47_mixins_47_localHooks__.__esModule&&$__handsontable_47_mixins_47_localHooks__||{"default":$__handsontable_47_mixins_47_localHooks__}).localHooks,FormulaCollection=function(){this.formulas=Object.create(null),this.orderStack=[]};$traceurRuntime.createClass(FormulaCollection,{isEmpty:function(){return!this.orderStack.length},isMatch:function(value,column){var $__4=this,result=!0;return void 0===column?objectEach(this.formulas,function(formulas){return result=$__4.isMatchInFormulas(formulas,value)}):result=this.isMatchInFormulas(this.getFormulas(column),value),result},isMatchInFormulas:function(formulas,value){var result=!1;return formulas.length?arrayEach(formulas,function(formula){return result=formula.func(value)}):result=!0,result},addFormula:function(column,formulaDefinition){var args=arrayMap(formulaDefinition.args,function(v){return"string"==typeof v?v.toLowerCase():v}),name=formulaDefinition.name||formulaDefinition.command.key;this.runLocalHooks("beforeAdd",column),this.orderStack.indexOf(column)===-1&&this.orderStack.push(column),this.hasFormulas(column,name)?arrayEach(this.getFormulas(column),function(formula){if(formula.name===name)return formula.func=getFormula(formula.name,args),formula.args=args,!1}):this.getFormulas(column).push({name:name,args:args,func:getFormula(name,args)}),this.runLocalHooks("afterAdd",column)},getFormulas:function(column){return this.formulas[column]||(this.formulas[column]=[]),this.formulas[column]},exportAllFormulas:function(){var $__4=this,result=[];return arrayEach(this.orderStack,function(column){var formulas=arrayMap($__4.getFormulas(column),function(){var $__6=void 0!==arguments[0]?arguments[0]:formula,name=$__6.name,args=$__6.args;return{name:name,args:args}});result.push({column:column,formulas:formulas})}),result},importAllFormulas:function(formulas){var $__4=this;this.clean(),arrayEach(formulas,function(stack){$__4.orderStack.push(stack.column),arrayEach(stack.formulas,function(formula){return $__4.addFormula(stack.column,formula)})})},removeFormulas:function(column){this.runLocalHooks("beforeRemove",column),this.orderStack.indexOf(column)>=0&&this.orderStack.splice(this.orderStack.indexOf(column),1),this.clearFormulas(column),this.runLocalHooks("afterRemove",column)},clearFormulas:function(column){this.runLocalHooks("beforeClear",column),this.getFormulas(column).length=0,this.runLocalHooks("afterClear",column)},hasFormulas:function(column,name){var result=!1,formulas=this.getFormulas(column);return result=name?arrayFilter(formulas,function(formula){return formula.name===name}).length>0:formulas.length>0},clean:function(){this.runLocalHooks("beforeClean"),this.formulas=Object.create(null),this.orderStack.length=0,this.runLocalHooks("afterClean")},destroy:function(){this.clearLocalHooks(),this.formulas=null,this.orderStack=null}},{}),mixin(FormulaCollection,localHooks)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/localHooks":58,formulaRegisterer:184}],184:[function(_dereq_,module,exports){function getFormula(name,args){if(!formulas[name])throw Error('Filter formula "'+name+'" does not exist.');var $__1=formulas[name],formula=$__1.formula,descriptor=$__1.descriptor;return descriptor.inputValuesDecorator&&(args=descriptor.inputValuesDecorator(args)),function(dataRow){return formula.apply(dataRow.meta.instance,[].concat([dataRow],[args]))}}function getFormulaDescriptor(name){if(!formulas[name])throw Error('Filter formula "'+name+'" does not exist.');return formulas[name].descriptor}function registerFormula(name,formula,descriptor){descriptor.key=name,formulas[name]={formula:formula,descriptor:descriptor}}Object.defineProperties(exports,{getFormula:{get:function(){return getFormula}},getFormulaDescriptor:{get:function(){return getFormulaDescriptor}},registerFormula:{get:function(){return registerFormula}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("../../browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],formulas={};Handsontable.utils.FiltersFormulaRegisterer={getFormula:getFormula,registerFormula:registerFormula,getFormulaDescriptor:getFormulaDescriptor,formulas:formulas}},{"../../browser":141}],185:[function(_dereq_,module,exports){Object.defineProperties(exports,{FormulaUpdateObserver:{get:function(){return FormulaUpdateObserver}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$__formulaCollection__,$__dataFilter__,$__utils__,$__handsontable_47_helpers_47_object__,$__handsontable_47_helpers_47_function__,$__handsontable_47_mixins_47_localHooks__,$__0=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}),arrayEach=$__0.arrayEach,arrayMap=$__0.arrayMap,arrayFilter=$__0.arrayFilter,FormulaCollection=($__formulaCollection__=_dereq_("formulaCollection"),$__formulaCollection__&&$__formulaCollection__.__esModule&&$__formulaCollection__||{"default":$__formulaCollection__}).FormulaCollection,DataFilter=($__dataFilter__=_dereq_("dataFilter"),$__dataFilter__&&$__dataFilter__.__esModule&&$__dataFilter__||{"default":$__dataFilter__}).DataFilter,createArrayAssertion=($__utils__=_dereq_("utils"),$__utils__&&$__utils__.__esModule&&$__utils__||{"default":$__utils__}).createArrayAssertion,$__4=($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}),mixin=$__4.mixin,objectEach=$__4.objectEach,$__5=($__handsontable_47_helpers_47_function__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/function"),$__handsontable_47_helpers_47_function__&&$__handsontable_47_helpers_47_function__.__esModule&&$__handsontable_47_helpers_47_function__||{"default":$__handsontable_47_helpers_47_function__}),curry=$__5.curry,localHooks=($__5.debounce,($__handsontable_47_mixins_47_localHooks__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/localHooks"),$__handsontable_47_mixins_47_localHooks__&&$__handsontable_47_mixins_47_localHooks__.__esModule&&$__handsontable_47_mixins_47_localHooks__||{"default":$__handsontable_47_mixins_47_localHooks__}).localHooks),FormulaUpdateObserver=function(formulaCollection){var columnDataFactory=void 0!==arguments[1]?arguments[1]:function(column){return[]},$__7=this;this.formulaCollection=formulaCollection,this.columnDataFactory=columnDataFactory,this.changes=[],this.grouping=!1,this.latestEditedColumnPosition=-1,this.latestOrderStack=[],this.formulaCollection.addLocalHook("beforeRemove",function(column){return $__7._onFormulaBeforeModify(column)}),this.formulaCollection.addLocalHook("afterAdd",function(column){return $__7._onFormulaAfterModify(column)}),this.formulaCollection.addLocalHook("afterClear",function(column){return $__7._onFormulaAfterModify(column)}),this.formulaCollection.addLocalHook("beforeClean",function(){return $__7._onFormulaBeforeClean()}),this.formulaCollection.addLocalHook("afterClean",function(){return $__7._onFormulaAfterClean()})};$traceurRuntime.createClass(FormulaUpdateObserver,{groupChanges:function(){this.grouping=!0},flush:function(){var $__7=this;this.grouping=!1,arrayEach(this.changes,function(column){return $__7._onFormulaAfterModify(column)}),this.changes.length=0},_onFormulaBeforeModify:function(column){this.latestEditedColumnPosition=this.formulaCollection.orderStack.indexOf(column)},_onFormulaAfterModify:function(column){var $__7=this;if(this.grouping)return void(this.changes.indexOf(column)===-1&&this.changes.push(column));var allFormulas=this.formulaCollection.exportAllFormulas(),editedColumnPosition=this.formulaCollection.orderStack.indexOf(column);editedColumnPosition===-1&&(editedColumnPosition=this.latestEditedColumnPosition);var formulasBefore=allFormulas.slice(0,editedColumnPosition),formulasAfter=allFormulas.slice(editedColumnPosition);formulasAfter.length&&formulasAfter[0].column===column&&formulasAfter.shift();var visibleDataFactory=curry(function(formulasBefore,column){var formulasStack=void 0!==arguments[2]?arguments[2]:[],splitFormulaCollection=new FormulaCollection;formulasBefore=[].concat(formulasBefore,formulasStack),splitFormulaCollection.importAllFormulas(formulasBefore);var visibleRows,allRows=$__7.columnDataFactory(column);visibleRows=splitFormulaCollection.isEmpty()?allRows:new DataFilter(splitFormulaCollection,function(column){return $__7.columnDataFactory(column)}).filter(),visibleRows=arrayMap(visibleRows,function(rowData){return rowData.meta.visualRow});var visibleRowsAssertion=createArrayAssertion(visibleRows);return arrayFilter(allRows,function(rowData){return visibleRowsAssertion(rowData.meta.visualRow)})})(formulasBefore),editedFormulas=[].concat(this.formulaCollection.getFormulas(column));this.runLocalHooks("update",{column:column,formulas:editedFormulas},formulasAfter,visibleDataFactory)},_onFormulaBeforeClean:function(){this.latestOrderStack=[].concat(this.formulaCollection.orderStack)},_onFormulaAfterClean:function(){var $__7=this;arrayEach(this.latestOrderStack,function(column){return $__7._onFormulaAfterModify(column)})},destroy:function(){var $__7=this;this.clearLocalHooks(),objectEach(this,function(value,property){return $__7[property]=null})}},{}),mixin(FormulaUpdateObserver,localHooks)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/function":50,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/localHooks":58,dataFilter:160,formulaCollection:183,utils:190}],186:[function(_dereq_,module,exports){Object.defineProperties(exports,{BaseUI:{get:function(){return BaseUI}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_object__,$__handsontable_47_mixins_47_localHooks__,$__handsontable_47_eventManager__,$__handsontable_47_helpers_47_dom_47_element__,$__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_object__,$__0=($__handsontable_47_helpers_47_object__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}),clone=$__0.clone,extend=$__0.extend,mixin=$__0.mixin,localHooks=($__handsontable_47_mixins_47_localHooks__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/localHooks"),$__handsontable_47_mixins_47_localHooks__&&$__handsontable_47_mixins_47_localHooks__.__esModule&&$__handsontable_47_mixins_47_localHooks__||{"default":$__handsontable_47_mixins_47_localHooks__}).localHooks,EventManager=($__handsontable_47_eventManager__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/eventManager"),$__handsontable_47_eventManager__&&$__handsontable_47_eventManager__.__esModule&&$__handsontable_47_eventManager__||{"default":$__handsontable_47_eventManager__}).EventManager,addClass=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}).addClass,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,objectEach=($__handsontable_47_helpers_47_object__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}).objectEach,STATE_BUILT="built",STATE_BUILDING="building",EVENTS_TO_REGISTER=["click","input","keydown","keypress","keyup","focus","blur"],BaseUI=function(hotInstance,options){this.hot=hotInstance,this.eventManager=new EventManager(this),this.options=extend($BaseUI.DEFAULTS,options),this._element=document.createElement(this.options.wrapIt?"div":this.options.tagName),this.buildState=!1},$BaseUI=BaseUI;$traceurRuntime.createClass(BaseUI,{setValue:function(value){this.options.value=value,this.update()},getValue:function(){return this.options.value},get element(){return this.buildState===STATE_BUILDING?this._element:this.buildState===STATE_BUILT?(this.update(),this._element):(this.buildState=STATE_BUILDING,this.build(),this.buildState=STATE_BUILT,this._element)},isBuilt:function(){return this.buildState===STATE_BUILT},build:function(){var $__6=this,registerEvent=function(element,eventName){$__6.eventManager.addEventListener(element,eventName,function(event){return $__6.runLocalHooks(eventName,event,$__6)})};if(this.buildState||(this.buildState=STATE_BUILDING),this.options.className&&addClass(this._element,this.options.className),this.options.children.length)arrayEach(this.options.children,function(element){return $__6._element.appendChild(element.element)});else if(this.options.wrapIt){var element=document.createElement(this.options.tagName);objectEach(this.options,function(value,key){void 0!==element[key]&&"className"!==key&&"tagName"!==key&&"children"!==key&&(element[key]=value)}),this._element.appendChild(element),arrayEach(EVENTS_TO_REGISTER,function(eventName){return registerEvent(element,eventName)})}else arrayEach(EVENTS_TO_REGISTER,function(eventName){return registerEvent($__6._element,eventName)})},update:function(){},reset:function(){this.options.value="",this.update()},show:function(){this.element.style.display=""},hide:function(){this.element.style.display="none"},focus:function(){},destroy:function(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}},{get DEFAULTS(){return clone({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}}),mixin(BaseUI,localHooks)},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/eventManager":42,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/localHooks":58}],187:[function(_dereq_,module,exports){Object.defineProperties(exports,{InputUI:{get:function(){return InputUI}},__esModule:{value:!0}});var $___95_base__,$__handsontable_47_helpers_47_dom_47_element__,$__handsontable_47_helpers_47_object__,$__handsontable_47_helpers_47_array__,BaseUI=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).BaseUI,addClass=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}).addClass,$__2=($__handsontable_47_helpers_47_object__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}),clone=$__2.clone,extend=$__2.extend,privatePool=(($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,new WeakMap),InputUI=function(hotInstance,options){privatePool.set(this,{}),$traceurRuntime.superConstructor($InputUI).call(this,hotInstance,extend($InputUI.DEFAULTS,options)),this.registerHooks()},$InputUI=InputUI;$traceurRuntime.createClass(InputUI,{registerHooks:function(){var $__4=this;this.addLocalHook("click",function(event){return $__4.onClick(event)}),this.addLocalHook("keyup",function(event){return $__4.onKeyup(event)})},build:function(){$traceurRuntime.superGet(this,$InputUI.prototype,"build").call(this);var priv=privatePool.get(this),icon=document.createElement("div");priv.input=this._element.firstChild,addClass(this._element,"htUIInput"),addClass(icon,"htUIInputIcon"),this._element.appendChild(icon),this.update()},update:function(){if(this.isBuilt()){var input=privatePool.get(this).input;input.type=this.options.type,input.value=this.options.value}},focus:function(){this.isBuilt()&&privatePool.get(this).input.focus()},onClick:function(event){},onKeyup:function(event){this.options.value=event.target.value}},{get DEFAULTS(){return clone({placeholder:"",type:"text",tagName:"input"})}},BaseUI)},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,_base:186}],188:[function(_dereq_,module,exports){function valueToItems(availableItems,selectedValue){var arrayAssertion=createArrayAssertion(selectedValue);return arrayMap(availableItems,function(item){return item.checked=arrayAssertion(item.value),
item})}function itemsToValue(availableItems){var items=[];return arrayEach(availableItems,function(item){item.checked&&items.push(item.value)}),items}Object.defineProperties(exports,{MultipleSelectUI:{get:function(){return MultipleSelectUI}},__esModule:{value:!0}});var $___46__46__47__46__46__47__46__46__47_browser__,$___95_base__,$__handsontable_47_helpers_47_dom_47_element__,$__handsontable_47_plugins_47_contextMenu_47_menu__,$__handsontable_47_helpers_47_object__,$__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_string__,$__handsontable_47_helpers_47_unicode__,$__handsontable_47_helpers_47_function__,$__handsontable_47_helpers_47_dom_47_event__,$__input__,$___46__46__47_utils__,Handsontable=($___46__46__47__46__46__47__46__46__47_browser__=_dereq_("../../../browser"),$___46__46__47__46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47__46__46__47_browser__})["default"],BaseUI=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).BaseUI,addClass=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}).addClass,$__4=(($__handsontable_47_plugins_47_contextMenu_47_menu__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/menu"),$__handsontable_47_plugins_47_contextMenu_47_menu__&&$__handsontable_47_plugins_47_contextMenu_47_menu__.__esModule&&$__handsontable_47_plugins_47_contextMenu_47_menu__||{"default":$__handsontable_47_plugins_47_contextMenu_47_menu__}).Menu,$__handsontable_47_helpers_47_object__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}),clone=$__4.clone,extend=$__4.extend,$__5=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}),arrayFilter=$__5.arrayFilter,arrayMap=$__5.arrayMap,arrayEach=$__5.arrayEach,isKey=(($__handsontable_47_helpers_47_string__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/string"),$__handsontable_47_helpers_47_string__&&$__handsontable_47_helpers_47_string__.__esModule&&$__handsontable_47_helpers_47_string__||{"default":$__handsontable_47_helpers_47_string__}).startsWith,($__handsontable_47_helpers_47_unicode__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/unicode"),$__handsontable_47_helpers_47_unicode__&&$__handsontable_47_helpers_47_unicode__.__esModule&&$__handsontable_47_helpers_47_unicode__||{"default":$__handsontable_47_helpers_47_unicode__}).isKey),partial=($__handsontable_47_helpers_47_function__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/function"),$__handsontable_47_helpers_47_function__&&$__handsontable_47_helpers_47_function__.__esModule&&$__handsontable_47_helpers_47_function__||{"default":$__handsontable_47_helpers_47_function__}).partial,stopImmediatePropagation=($__handsontable_47_helpers_47_dom_47_event__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/event"),$__handsontable_47_helpers_47_dom_47_event__&&$__handsontable_47_helpers_47_dom_47_event__.__esModule&&$__handsontable_47_helpers_47_dom_47_event__||{"default":$__handsontable_47_helpers_47_dom_47_event__}).stopImmediatePropagation,InputUI=($__input__=_dereq_("input"),$__input__&&$__input__.__esModule&&$__input__||{"default":$__input__}).InputUI,createArrayAssertion=($___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}).createArrayAssertion,privatePool=new WeakMap,MultipleSelectUI=function(hotInstance,options){privatePool.set(this,{}),$traceurRuntime.superConstructor($MultipleSelectUI).call(this,hotInstance,extend($MultipleSelectUI.DEFAULTS,options)),this.searchInput=new InputUI(this.hot,{placeholder:"Search...",className:"htUIMultipleSelectSearch"}),this.selectAllUI=new BaseUI(this.hot,{tagName:"a",textContent:"Select all",href:"#",className:"htUISelectAll"}),this.clearAllUI=new BaseUI(this.hot,{tagName:"a",textContent:"Clear",href:"#",className:"htUIClearAll"}),this.items=[],this.itemsBox=null,this.registerHooks()},$MultipleSelectUI=MultipleSelectUI;$traceurRuntime.createClass(MultipleSelectUI,{registerHooks:function(){var $__12=this;this.searchInput.addLocalHook("keydown",function(event){return $__12.onInputKeyDown(event)}),this.searchInput.addLocalHook("input",function(event){return $__12.onInput(event)}),this.selectAllUI.addLocalHook("click",function(event){return $__12.onSelectAllClick(event)}),this.clearAllUI.addLocalHook("click",function(event){return $__12.onClearAllClick(event)})},setItems:function(items){this.items=items,this.itemsBox&&this.itemsBox.loadData(this.items)},getItems:function(){return $traceurRuntime.spread(this.items)},getValue:function(){return itemsToValue(this.items)},isSelectedAllValues:function(){return this.items.length===this.getValue().length},build:function(){var $__12=this;$traceurRuntime.superGet(this,$MultipleSelectUI.prototype,"build").call(this);var itemsBoxWrapper=document.createElement("div"),selectionControl=new BaseUI(this.hot,{className:"htUISelectionControls",children:[this.selectAllUI,this.clearAllUI]});this._element.appendChild(this.searchInput.element),this._element.appendChild(selectionControl.element),this._element.appendChild(itemsBoxWrapper);var hotInitializer=function(wrapper){$__12._element&&($__12.itemsBox&&$__12.itemsBox.destroy(),addClass(wrapper,"htUIMultipleSelectHot"),$__12.itemsBox=new Handsontable(wrapper,{data:$__12.items,columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],autoWrapCol:!0,colWidths:150,height:110,width:168,copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},beforeKeyDown:function(event){return $__12.onItemsBoxBeforeKeyDown(event)}}))};hotInitializer(itemsBoxWrapper),setTimeout(function(){return hotInitializer(itemsBoxWrapper)},100)},reset:function(){this.searchInput.reset()},update:function(){this.isBuilt()&&(this.itemsBox.loadData(valueToItems(this.items,this.options.value)),$traceurRuntime.superGet(this,$MultipleSelectUI.prototype,"update").call(this))},destroy:function(){this.itemsBox&&this.itemsBox.destroy(),this.itemsBox=null,this.searchInput=null,this.items=null,$traceurRuntime.superGet(this,$MultipleSelectUI.prototype,"destroy").call(this)},onInput:function(event){var filteredItems,value=event.target.value.toLowerCase();filteredItems=""===value?$traceurRuntime.spread(this.items):arrayFilter(this.items,function(item){return(item.value+"").toLowerCase().indexOf(value)>=0}),this.itemsBox.loadData(filteredItems)},onInputKeyDown:function(event){this.runLocalHooks("keydown",event,this);var isKeyCode=partial(isKey,event.keyCode);isKeyCode("ARROW_DOWN|TAB")&&!this.itemsBox.isListening()&&(stopImmediatePropagation(event),this.itemsBox.listen(),this.itemsBox.selectCell(0,0))},onItemsBoxBeforeKeyDown:function(event){var isKeyCode=partial(isKey,event.keyCode);isKeyCode("ESCAPE")&&this.runLocalHooks("keydown",event,this),isKeyCode("ARROW_UP|ARROW_DOWN|ARROW_LEFT|ARROW_RIGHT|TAB|SPACE|ENTER")||(stopImmediatePropagation(event),this.itemsBox.unlisten(),this.itemsBox.deselectCell(),this.searchInput.focus())},onSelectAllClick:function(event){event.preventDefault(),arrayEach(this.itemsBox.getSourceData(),function(row){row.checked=!0}),this.itemsBox.render()},onClearAllClick:function(event){event.preventDefault(),arrayEach(this.itemsBox.getSourceData(),function(row){row.checked=!1}),this.itemsBox.render()}},{get DEFAULTS(){return clone({className:"htUIMultipleSelect",value:[]})}},BaseUI)},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/event":48,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/function":50,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/string":55,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/unicode":56,"../../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/menu":75,"../../../browser":141,_base:186,input:187,utils:190}],189:[function(_dereq_,module,exports){Object.defineProperties(exports,{SelectUI:{get:function(){return SelectUI}},__esModule:{value:!0}});var $___95_base__,$__handsontable_47_helpers_47_dom_47_element__,$__handsontable_47_plugins_47_contextMenu_47_menu__,$__handsontable_47_helpers_47_object__,$__handsontable_47_helpers_47_array__,$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__,BaseUI=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).BaseUI,$__1=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}),Menu=($__1.addClass,$__1.getWindowScrollTop,$__1.getWindowScrollLeft,($__handsontable_47_plugins_47_contextMenu_47_menu__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/menu"),$__handsontable_47_plugins_47_contextMenu_47_menu__&&$__handsontable_47_plugins_47_contextMenu_47_menu__.__esModule&&$__handsontable_47_plugins_47_contextMenu_47_menu__||{"default":$__handsontable_47_plugins_47_contextMenu_47_menu__}).Menu),$__3=($__handsontable_47_helpers_47_object__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}),clone=$__3.clone,extend=$__3.extend,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,SEPARATOR=($__handsontable_47_plugins_47_contextMenu_47_predefinedItems__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/predefinedItems"),$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__&&$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__.__esModule&&$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__||{"default":$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__}).SEPARATOR,privatePool=new WeakMap,SelectUI=function(hotInstance,options){privatePool.set(this,{}),$traceurRuntime.superConstructor($SelectUI).call(this,hotInstance,extend($SelectUI.DEFAULTS,options)),this.menu=null,this.items=[],this.registerHooks()},$SelectUI=SelectUI;$traceurRuntime.createClass(SelectUI,{registerHooks:function(){var $__6=this;this.addLocalHook("click",function(event){return $__6.onClick(event)})},setItems:function(items){this.items=items,this.menu&&this.menu.setMenuItems(this.items)},build:function(){var $__6=this;$traceurRuntime.superGet(this,$SelectUI.prototype,"build").call(this),this.menu=new Menu(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0}),this.menu.setMenuItems(this.items);var caption=new BaseUI(this.hot,{className:"htUISelectCaption"}),dropdown=new BaseUI(this.hot,{className:"htUISelectDropdown"});privatePool.get(this).caption=caption.element,arrayEach([caption,dropdown],function(element){return $__6._element.appendChild(element.element)}),this.menu.addLocalHook("select",function(command){return $__6.onMenuSelect(command)}),this.update()},update:function(){this.isBuilt()&&(privatePool.get(this).caption.textContent=this.options.value?this.options.value.name:"None",$traceurRuntime.superGet(this,$SelectUI.prototype,"update").call(this))},openOptions:function(){var rect=this.element.getBoundingClientRect();this.menu&&(this.menu.open(),this.menu.setPosition({left:rect.left-5,top:rect.top,width:rect.width,height:rect.height}))},closeOptions:function(){this.menu&&this.menu.close()},onMenuSelect:function(command){command.name!==SEPARATOR&&(this.options.value=command,this.closeOptions(),this.update(),this.runLocalHooks("select",this.options.value))},onClick:function(event){this.openOptions()},destroy:function(){this.menu&&(this.menu.destroy(),this.menu=null),$traceurRuntime.superGet(this,$SelectUI.prototype,"destroy").call(this)}},{get DEFAULTS(){return clone({className:"htUISelect",wrapIt:!1})}},BaseUI)},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/menu":75,"../../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/predefinedItems":76,_base:186}],190:[function(_dereq_,module,exports){function sortComparison(a,b){return"number"==typeof a&&"number"==typeof b?a-b:sortCompare(a,b)}function toVisualValue(value){return""===value&&(value="(Blank cells)"),value}function createArrayAssertion(initialData){return SUPPORT_SET_CONSTRUCTOR&&(initialData=new Set(initialData)),function(value){var result;return result=SUPPORT_SET_CONSTRUCTOR?initialData.has(value):!!~initialData.indexOf(value)}}function toEmptyString(value){return null==value?"":value}function unifyColumnValues(values){return values=SUPPORT_FAST_DEDUPE?Array.from(new Set(values)):arrayUnique(values),values=values.sort(function(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a===b?0:a>b?1:-1})}function intersectValues(base,selected,callback){var selectedItemsAssertion,result=[],same=base===selected;return same||(selectedItemsAssertion=createArrayAssertion(selected)),arrayEach(base,function(value){var checked=!1;(same||selectedItemsAssertion(value))&&(checked=!0);var item={checked:checked,value:value,visualValue:toVisualValue(value)};callback&&callback(item),result.push(item)}),result}Object.defineProperties(exports,{sortComparison:{get:function(){return sortComparison}},toVisualValue:{get:function(){return toVisualValue}},createArrayAssertion:{get:function(){return createArrayAssertion}},toEmptyString:{get:function(){return toEmptyString}},unifyColumnValues:{get:function(){return unifyColumnValues}},intersectValues:{get:function(){return intersectValues}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_feature__,$__handsontable_47_helpers_47_array__,getComparisonFunction=($__handsontable_47_helpers_47_feature__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/feature"),$__handsontable_47_helpers_47_feature__&&$__handsontable_47_helpers_47_feature__.__esModule&&$__handsontable_47_helpers_47_feature__||{"default":$__handsontable_47_helpers_47_feature__}).getComparisonFunction,$__1=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}),arrayUnique=($__1.arrayMap,$__1.arrayUnique),arrayEach=$__1.arrayEach,sortCompare=getComparisonFunction(),SUPPORT_SET_CONSTRUCTOR=new Set([1]).has(1),SUPPORT_FAST_DEDUPE=SUPPORT_SET_CONSTRUCTOR&&"function"==typeof Array.from},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/feature":49}],191:[function(_dereq_,module,exports){function registerOperation(name,descriptor){operations.has(name)||operations.set(name,{prepare:descriptor.prepare||empty,operate:descriptor.operate||empty})}Object.defineProperties(exports,{AlterManager:{get:function(){return AlterManager}},registerOperation:{get:function(){return registerOperation}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_object__,$__handsontable_47_mixins_47_localHooks__,$__alterOperation_47_columnSorting__,$__alterOperation_47_insertColumn__,$__alterOperation_47_insertRow__,$__alterOperation_47_removeColumn__,$__alterOperation_47_removeRow__,mixin=(($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}).mixin),localHooks=($__handsontable_47_mixins_47_localHooks__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/localHooks"),$__handsontable_47_mixins_47_localHooks__&&$__handsontable_47_mixins_47_localHooks__.__esModule&&$__handsontable_47_mixins_47_localHooks__||{"default":$__handsontable_47_mixins_47_localHooks__}).localHooks,columnSorting=($__alterOperation_47_columnSorting__=_dereq_("alterOperation/columnSorting"),$__alterOperation_47_columnSorting__&&$__alterOperation_47_columnSorting__.__esModule&&$__alterOperation_47_columnSorting__||{"default":$__alterOperation_47_columnSorting__}),insertColumn=($__alterOperation_47_insertColumn__=_dereq_("alterOperation/insertColumn"),$__alterOperation_47_insertColumn__&&$__alterOperation_47_insertColumn__.__esModule&&$__alterOperation_47_insertColumn__||{"default":$__alterOperation_47_insertColumn__}),insertRow=($__alterOperation_47_insertRow__=_dereq_("alterOperation/insertRow"),$__alterOperation_47_insertRow__&&$__alterOperation_47_insertRow__.__esModule&&$__alterOperation_47_insertRow__||{"default":$__alterOperation_47_insertRow__}),removeColumn=($__alterOperation_47_removeColumn__=_dereq_("alterOperation/removeColumn"),$__alterOperation_47_removeColumn__&&$__alterOperation_47_removeColumn__.__esModule&&$__alterOperation_47_removeColumn__||{"default":$__alterOperation_47_removeColumn__}),removeRow=($__alterOperation_47_removeRow__=_dereq_("alterOperation/removeRow"),$__alterOperation_47_removeRow__&&$__alterOperation_47_removeRow__.__esModule&&$__alterOperation_47_removeRow__||{"default":$__alterOperation_47_removeRow__}),operations=new Map;registerOperation(columnSorting.OPERATION_NAME,columnSorting),registerOperation(insertColumn.OPERATION_NAME,insertColumn),registerOperation(insertRow.OPERATION_NAME,insertRow),registerOperation(removeColumn.OPERATION_NAME,removeColumn),registerOperation(removeRow.OPERATION_NAME,removeRow);var AlterManager=function(sheet){this.sheet=sheet,this.hot=sheet.hot,this.dataProvider=sheet.dataProvider,this.matrix=sheet.matrix};$traceurRuntime.createClass(AlterManager,{prepareAlter:function(action){for(var args=[],$__4=1;$__4<arguments.length;$__4++)args[$__4-1]=arguments[$__4];if(!operations.has(action))throw Error('Alter operation "'+action+'" not exist.');operations.get(action).prepare.apply(this,args)},triggerAlter:function(action){for(var $__6,args=[],$__5=1;$__5<arguments.length;$__5++)args[$__5-1]=arguments[$__5];if(!operations.has(action))throw Error('Alter operation "'+action+'" not exist.');operations.get(action).operate.apply(this,args),($__6=this).runLocalHooks.apply($__6,$traceurRuntime.spread(["afterAlter"],args))},destroy:function(){this.sheet=null,this.hot=null,this.dataProvider=null,this.matrix=null}},{}),mixin(AlterManager,localHooks);var empty=function(){}},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/localHooks":58,"alterOperation/columnSorting":192,"alterOperation/insertColumn":193,"alterOperation/insertRow":194,"alterOperation/removeColumn":195,"alterOperation/removeRow":196}],192:[function(_dereq_,module,exports){function prepare(){var $__4=this,matrix=$__4.matrix,dataProvider=$__4.dataProvider;visualRows=new WeakMap,arrayEach(matrix.data,function(cell){visualRows.set(cell,dataProvider.t.toVisualRow(cell.row))})}function operate(){var $__4=this,matrix=$__4.matrix,dataProvider=$__4.dataProvider;matrix.cellReferences.length=0,arrayEach(matrix.data,function(cell){cell.setState(CellValue.STATE_OUT_OFF_DATE),cell.clearPrecedents();var $__5=cell,row=$__5.row,column=$__5.column,value=dataProvider.getSourceDataAtCell(row,column);if(isFormulaExpression(value)){var prevRow=visualRows.get(cell),expModifier=new ExpressionModifier(value);expModifier.translate({row:dataProvider.t.toVisualRow(row)-prevRow}),dataProvider.updateSourceData(row,column,expModifier.toString())}}),visualRows=null}Object.defineProperties(exports,{OPERATION_NAME:{get:function(){return OPERATION_NAME}},prepare:{get:function(){return prepare}},operate:{get:function(){return operate}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$___46__46__47_utils__,$___46__46__47_cell_47_value__,$___46__46__47_expressionModifier__,visualRows,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,isFormulaExpression=($___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}).isFormulaExpression,CellValue=($___46__46__47_cell_47_value__=_dereq_("cell/value"),$___46__46__47_cell_47_value__&&$___46__46__47_cell_47_value__.__esModule&&$___46__46__47_cell_47_value__||{"default":$___46__46__47_cell_47_value__}).CellValue,ExpressionModifier=($___46__46__47_expressionModifier__=_dereq_("expressionModifier"),$___46__46__47_expressionModifier__&&$___46__46__47_expressionModifier__.__esModule&&$___46__46__47_expressionModifier__||{"default":$___46__46__47_expressionModifier__}).ExpressionModifier,OPERATION_NAME="column_sorting"},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"cell/value":199,expressionModifier:201,utils:206}],193:[function(_dereq_,module,exports){function operate(start,amount){var modifyFormula=void 0===arguments[2]||arguments[2],$__4=this,matrix=$__4.matrix,dataProvider=$__4.dataProvider,translate=[0,amount];arrayEach(matrix.cellReferences,function(cell){var $__7;cell.column>=start&&($__7=cell).translateTo.apply($__7,$traceurRuntime.spread(translate))}),arrayEach(matrix.data,function(cell){var $__7,$__5=cell,origRow=$__5.row,origColumn=$__5.column;if(cell.column>=start&&(($__7=cell).translateTo.apply($__7,$traceurRuntime.spread(translate)),cell.setState(CellValue.STATE_OUT_OFF_DATE)),modifyFormula){var $__6=cell,row=$__6.row,column=$__6.column,value=dataProvider.getSourceDataAtCell(row,column);if(isFormulaExpression(value)){var startCoord=cellCoordFactory("column",start),expModifier=new ExpressionModifier(value);expModifier.useCustomModifier(customTranslateModifier),expModifier.translate({column:amount},startCoord({row:origRow,column:origColumn})),dataProvider.updateSourceData(row,column,expModifier.toString())}}})}function customTranslateModifier(cell,axis,delta,startFromIndex){var $__4=cell,start=$__4.start,end=$__4.end,startIndex=start[axis].index,endIndex=end[axis].index,deltaStart=delta,deltaEnd=delta;return startFromIndex>startIndex&&(deltaStart=0),startFromIndex>endIndex&&(deltaEnd=0),[deltaStart,deltaEnd,!1]}Object.defineProperties(exports,{OPERATION_NAME:{get:function(){return OPERATION_NAME}},operate:{get:function(){return operate}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$___46__46__47_utils__,$___46__46__47_cell_47_value__,$___46__46__47_expressionModifier__,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,$__1=($___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}),cellCoordFactory=$__1.cellCoordFactory,isFormulaExpression=$__1.isFormulaExpression,CellValue=($___46__46__47_cell_47_value__=_dereq_("cell/value"),$___46__46__47_cell_47_value__&&$___46__46__47_cell_47_value__.__esModule&&$___46__46__47_cell_47_value__||{"default":$___46__46__47_cell_47_value__}).CellValue,ExpressionModifier=($___46__46__47_expressionModifier__=_dereq_("expressionModifier"),$___46__46__47_expressionModifier__&&$___46__46__47_expressionModifier__.__esModule&&$___46__46__47_expressionModifier__||{"default":$___46__46__47_expressionModifier__}).ExpressionModifier,OPERATION_NAME="insert_column"},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"cell/value":199,expressionModifier:201,utils:206}],194:[function(_dereq_,module,exports){function operate(start,amount){var modifyFormula=void 0===arguments[2]||arguments[2],$__4=this,matrix=$__4.matrix,dataProvider=$__4.dataProvider,translate=[amount,0];arrayEach(matrix.cellReferences,function(cell){var $__7;cell.row>=start&&($__7=cell).translateTo.apply($__7,$traceurRuntime.spread(translate))}),arrayEach(matrix.data,function(cell){var $__7,$__5=cell,origRow=$__5.row,origColumn=$__5.column;if(cell.row>=start&&(($__7=cell).translateTo.apply($__7,$traceurRuntime.spread(translate)),cell.setState(CellValue.STATE_OUT_OFF_DATE)),modifyFormula){var $__6=cell,row=$__6.row,column=$__6.column,value=dataProvider.getSourceDataAtCell(row,column);if(isFormulaExpression(value)){var startCoord=cellCoordFactory("row",start),expModifier=new ExpressionModifier(value);expModifier.useCustomModifier(customTranslateModifier),expModifier.translate({row:amount},startCoord({row:origRow,column:origColumn})),dataProvider.updateSourceData(row,column,expModifier.toString())}}})}function customTranslateModifier(cell,axis,delta,startFromIndex){var $__4=cell,start=$__4.start,end=$__4.end,startIndex=start[axis].index,endIndex=end[axis].index,deltaStart=delta,deltaEnd=delta;return startFromIndex>startIndex&&(deltaStart=0),startFromIndex>endIndex&&(deltaEnd=0),[deltaStart,deltaEnd,!1]}Object.defineProperties(exports,{OPERATION_NAME:{get:function(){return OPERATION_NAME}},operate:{get:function(){return operate}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$___46__46__47_utils__,$___46__46__47_cell_47_value__,$___46__46__47_expressionModifier__,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,$__1=($___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}),cellCoordFactory=$__1.cellCoordFactory,isFormulaExpression=$__1.isFormulaExpression,CellValue=($___46__46__47_cell_47_value__=_dereq_("cell/value"),$___46__46__47_cell_47_value__&&$___46__46__47_cell_47_value__.__esModule&&$___46__46__47_cell_47_value__||{"default":$___46__46__47_cell_47_value__}).CellValue,ExpressionModifier=($___46__46__47_expressionModifier__=_dereq_("expressionModifier"),$___46__46__47_expressionModifier__&&$___46__46__47_expressionModifier__.__esModule&&$___46__46__47_expressionModifier__||{"default":$___46__46__47_expressionModifier__}).ExpressionModifier,OPERATION_NAME="insert_row"},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"cell/value":199,expressionModifier:201,utils:206}],195:[function(_dereq_,module,exports){function operate(start,amount){var modifyFormula=void 0===arguments[2]||arguments[2];amount=-amount;var $__4=this,matrix=$__4.matrix,dataProvider=$__4.dataProvider,sheet=$__4.sheet,translate=[0,amount],indexOffset=Math.abs(amount)-1,removedCellRef=matrix.removeCellRefsAtRange({column:start},{column:start+indexOffset}),toRemove=[];arrayEach(matrix.data,function(cell){arrayEach(removedCellRef,function(cellRef){cell.hasPrecedent(cellRef)&&(cell.removePrecedent(cellRef),cell.setState(CellValue.STATE_OUT_OFF_DATE),arrayEach(sheet.getCellDependencies(cell.row,cell.column),function(cellValue){cellValue.setState(CellValue.STATE_OUT_OFF_DATE)}))}),cell.column>=start&&cell.column<=start+indexOffset&&toRemove.push(cell)}),matrix.remove(toRemove),arrayEach(matrix.cellReferences,function(cell){var $__7;cell.column>=start&&($__7=cell).translateTo.apply($__7,$traceurRuntime.spread(translate))}),arrayEach(matrix.data,function(cell){var $__7,$__5=cell,origRow=$__5.row,origColumn=$__5.column;if(cell.column>=start&&(($__7=cell).translateTo.apply($__7,$traceurRuntime.spread(translate)),cell.setState(CellValue.STATE_OUT_OFF_DATE)),modifyFormula){var $__6=cell,row=$__6.row,column=$__6.column,value=dataProvider.getSourceDataAtCell(row,column);if(isFormulaExpression(value)){var startCoord=cellCoordFactory("column",start),expModifier=new ExpressionModifier(value);expModifier.useCustomModifier(customTranslateModifier),expModifier.translate({column:amount},startCoord({row:origRow,column:origColumn})),dataProvider.updateSourceData(row,column,expModifier.toString())}}})}function customTranslateModifier(cell,axis,delta,startFromIndex){var $__4=cell,start=$__4.start,end=$__4.end,type=$__4.type,startIndex=start[axis].index,endIndex=end[axis].index,indexOffset=Math.abs(delta)-1,deltaStart=delta,deltaEnd=delta,refError=!1;return startIndex>=startFromIndex&&endIndex<=startFromIndex+indexOffset&&(refError=!0),refError||"cell"!==type||startFromIndex>=startIndex&&(deltaStart=0,deltaEnd=0),refError||"range"!==type||(startFromIndex>=startIndex&&(deltaStart=0),startFromIndex>endIndex?deltaEnd=0:endIndex<=startFromIndex+indexOffset&&(deltaEnd-=Math.min(endIndex-(startFromIndex+indexOffset),0))),startIndex+deltaStart<0&&(deltaStart-=startIndex+deltaStart),[deltaStart,deltaEnd,refError]}Object.defineProperties(exports,{OPERATION_NAME:{get:function(){return OPERATION_NAME}},operate:{get:function(){return operate;
}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$___46__46__47_utils__,$___46__46__47_cell_47_value__,$___46__46__47_expressionModifier__,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,$__1=($___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}),cellCoordFactory=$__1.cellCoordFactory,isFormulaExpression=$__1.isFormulaExpression,CellValue=($___46__46__47_cell_47_value__=_dereq_("cell/value"),$___46__46__47_cell_47_value__&&$___46__46__47_cell_47_value__.__esModule&&$___46__46__47_cell_47_value__||{"default":$___46__46__47_cell_47_value__}).CellValue,ExpressionModifier=($___46__46__47_expressionModifier__=_dereq_("expressionModifier"),$___46__46__47_expressionModifier__&&$___46__46__47_expressionModifier__.__esModule&&$___46__46__47_expressionModifier__||{"default":$___46__46__47_expressionModifier__}).ExpressionModifier,OPERATION_NAME="remove_column"},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"cell/value":199,expressionModifier:201,utils:206}],196:[function(_dereq_,module,exports){function operate(start,amount){var modifyFormula=void 0===arguments[2]||arguments[2];amount=-amount;var $__4=this,matrix=$__4.matrix,dataProvider=$__4.dataProvider,sheet=$__4.sheet,translate=[amount,0],indexOffset=Math.abs(amount)-1,removedCellRef=matrix.removeCellRefsAtRange({row:start},{row:start+indexOffset}),toRemove=[];arrayEach(matrix.data,function(cell){arrayEach(removedCellRef,function(cellRef){cell.hasPrecedent(cellRef)&&(cell.removePrecedent(cellRef),cell.setState(CellValue.STATE_OUT_OFF_DATE),arrayEach(sheet.getCellDependencies(cell.row,cell.column),function(cellValue){cellValue.setState(CellValue.STATE_OUT_OFF_DATE)}))}),cell.row>=start&&cell.row<=start+indexOffset&&toRemove.push(cell)}),matrix.remove(toRemove),arrayEach(matrix.cellReferences,function(cell){var $__7;cell.row>=start&&($__7=cell).translateTo.apply($__7,$traceurRuntime.spread(translate))}),arrayEach(matrix.data,function(cell){var $__7,$__5=cell,origRow=$__5.row,origColumn=$__5.column;if(cell.row>=start&&(($__7=cell).translateTo.apply($__7,$traceurRuntime.spread(translate)),cell.setState(CellValue.STATE_OUT_OFF_DATE)),modifyFormula){var $__6=cell,row=$__6.row,column=$__6.column,value=dataProvider.getSourceDataAtCell(row,column);if(isFormulaExpression(value)){var startCoord=cellCoordFactory("row",start),expModifier=new ExpressionModifier(value);expModifier.useCustomModifier(customTranslateModifier),expModifier.translate({row:amount},startCoord({row:origRow,column:origColumn})),dataProvider.updateSourceData(row,column,expModifier.toString())}}})}function customTranslateModifier(cell,axis,delta,startFromIndex){var $__4=cell,start=$__4.start,end=$__4.end,type=$__4.type,startIndex=start[axis].index,endIndex=end[axis].index,indexOffset=Math.abs(delta)-1,deltaStart=delta,deltaEnd=delta,refError=!1;return startIndex>=startFromIndex&&endIndex<=startFromIndex+indexOffset&&(refError=!0),refError||"cell"!==type||startFromIndex>=startIndex&&(deltaStart=0,deltaEnd=0),refError||"range"!==type||(startFromIndex>=startIndex&&(deltaStart=0),startFromIndex>endIndex?deltaEnd=0:endIndex<=startFromIndex+indexOffset&&(deltaEnd-=Math.min(endIndex-(startFromIndex+indexOffset),0))),startIndex+deltaStart<0&&(deltaStart-=startIndex+deltaStart),[deltaStart,deltaEnd,refError]}Object.defineProperties(exports,{OPERATION_NAME:{get:function(){return OPERATION_NAME}},operate:{get:function(){return operate}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$___46__46__47_utils__,$___46__46__47_cell_47_value__,$___46__46__47_expressionModifier__,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,$__1=($___46__46__47_utils__=_dereq_("utils"),$___46__46__47_utils__&&$___46__46__47_utils__.__esModule&&$___46__46__47_utils__||{"default":$___46__46__47_utils__}),cellCoordFactory=$__1.cellCoordFactory,isFormulaExpression=$__1.isFormulaExpression,CellValue=($___46__46__47_cell_47_value__=_dereq_("cell/value"),$___46__46__47_cell_47_value__&&$___46__46__47_cell_47_value__.__esModule&&$___46__46__47_cell_47_value__||{"default":$___46__46__47_cell_47_value__}).CellValue,ExpressionModifier=($___46__46__47_expressionModifier__=_dereq_("expressionModifier"),$___46__46__47_expressionModifier__&&$___46__46__47_expressionModifier__.__esModule&&$___46__46__47_expressionModifier__||{"default":$___46__46__47_expressionModifier__}).ExpressionModifier,OPERATION_NAME="remove_row"},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"cell/value":199,expressionModifier:201,utils:206}],197:[function(_dereq_,module,exports){Object.defineProperties(exports,{BaseCell:{get:function(){return BaseCell}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_object__,$__hot_45_formula_45_parser__,isObject=($__handsontable_47_helpers_47_object__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}).isObject,toLabel=($__hot_45_formula_45_parser__=_dereq_("hot-formula-parser"),$__hot_45_formula_45_parser__&&$__hot_45_formula_45_parser__.__esModule&&$__hot_45_formula_45_parser__||{"default":$__hot_45_formula_45_parser__}).toLabel,BaseCell=function(row,column){var rowObject=isObject(row),columnObject=isObject(column);this._row=rowObject?row.index:row,this.rowAbsolute=!rowObject||row.isAbsolute,this._column=columnObject?column.index:column,this.columnAbsolute=!columnObject||column.isAbsolute,this.rowOffset=0,this.columnOffset=0,Object.defineProperty(this,"row",{get:function(){return this.rowOffset+this._row},set:function(row){this._row=row},enumerable:!0,configurable:!0}),Object.defineProperty(this,"column",{get:function(){return this.columnOffset+this._column},set:function(column){this._column=column},enumerable:!0,configurable:!0})};$traceurRuntime.createClass(BaseCell,{translateTo:function(rowOffset,columnOffset){this.row=this.row+rowOffset,this.column=this.column+columnOffset},isEqual:function(cell){return cell.row===this.row&&cell.column===this.column},toString:function(){return toLabel({index:this.row,isAbsolute:this.rowAbsolute},{index:this.column,isAbsolute:this.columnAbsolute})}},{})},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"hot-formula-parser":"hot-formula-parser"}],198:[function(_dereq_,module,exports){Object.defineProperties(exports,{CellReference:{get:function(){return CellReference}},__esModule:{value:!0}});var $___95_base__,$__hot_45_formula_45_parser__,BaseCell=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).BaseCell,toLabel=($__hot_45_formula_45_parser__=_dereq_("hot-formula-parser"),$__hot_45_formula_45_parser__&&$__hot_45_formula_45_parser__.__esModule&&$__hot_45_formula_45_parser__||{"default":$__hot_45_formula_45_parser__}).toLabel,CellReference=function(row,column){$traceurRuntime.superConstructor($CellReference).call(this,row,column)},$CellReference=CellReference;$traceurRuntime.createClass(CellReference,{toString:function(){return toLabel({index:this.row,isAbsolute:!1},{index:this.column,isAbsolute:!1})}},{},BaseCell)},{_base:197,"hot-formula-parser":"hot-formula-parser"}],199:[function(_dereq_,module,exports){Object.defineProperties(exports,{CellValue:{get:function(){return CellValue}},__esModule:{value:!0}});var $___95_base__,$__handsontable_47_helpers_47_array__,$__hot_45_formula_45_parser__,BaseCell=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).BaseCell,arrayFilter=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayFilter,ERROR_REF=($__hot_45_formula_45_parser__=_dereq_("hot-formula-parser"),$__hot_45_formula_45_parser__&&$__hot_45_formula_45_parser__.__esModule&&$__hot_45_formula_45_parser__||{"default":$__hot_45_formula_45_parser__}).ERROR_REF,STATE_OUT_OFF_DATE=1,STATE_COMPUTING=2,STATE_UP_TO_DATE=3,states=[STATE_OUT_OFF_DATE,STATE_COMPUTING,STATE_UP_TO_DATE],CellValue=function(row,column){$traceurRuntime.superConstructor($CellValue).call(this,row,column),this.precedents=[],this.value=null,this.error=null,this.state=$CellValue.STATE_UP_TO_DATE},$CellValue=CellValue;$traceurRuntime.createClass(CellValue,{setValue:function(value){this.value=value},getValue:function(){return this.value},setError:function(error){this.error=error},getError:function(){return this.error},hasError:function(){return null!==this.error},setState:function(state){if(states.indexOf(state)===-1)throw Error("Unrecognized state: "+state);this.state=state},isState:function(state){return this.state===state},addPrecedent:function(cellReference){if(this.isEqual(cellReference))throw Error(ERROR_REF);this.hasPrecedent(cellReference)||this.precedents.push(cellReference)},removePrecedent:function(cellReference){if(this.isEqual(cellReference))throw Error(ERROR_REF);this.precedents=arrayFilter(this.precedents,function(cell){return!cell.isEqual(cellReference)})},clearPrecedents:function(){this.precedents.length=0},getPrecedents:function(){return this.precedents},hasPrecedents:function(){return this.precedents.length>0},hasPrecedent:function(cellReference){return!!arrayFilter(this.precedents,function(cell){return cell.isEqual(cellReference)}).length}},{get STATE_OUT_OFF_DATE(){return 1},get STATE_COMPUTING(){return 2},get STATE_UP_TO_DATE(){return 3}},BaseCell)},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,_base:197,"hot-formula-parser":"hot-formula-parser"}],200:[function(_dereq_,module,exports){Object.defineProperties(exports,{DataProvider:{get:function(){return DataProvider}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_number__,$__handsontable_47_utils_47_recordTranslator__,$__utils__,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,getTranslator=(($__handsontable_47_helpers_47_number__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach,($__handsontable_47_utils_47_recordTranslator__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/utils/recordTranslator"),$__handsontable_47_utils_47_recordTranslator__&&$__handsontable_47_utils_47_recordTranslator__.__esModule&&$__handsontable_47_utils_47_recordTranslator__||{"default":$__handsontable_47_utils_47_recordTranslator__}).getTranslator),isFormulaExpression=($__utils__=_dereq_("utils"),$__utils__&&$__utils__.__esModule&&$__utils__||{"default":$__utils__}).isFormulaExpression,DataProvider=function(hot){this.hot=hot,this.changes={},this.t=getTranslator(this.hot)};$traceurRuntime.createClass(DataProvider,{collectChanges:function(row,column,value){isFormulaExpression(value)||(this.changes[this._coordId(row,column)]=value)},clearChanges:function(){this.changes={}},isInDataRange:function(row,column){return row>=0&&row<this.hot.countRows()&&column>=0&&column<this.hot.countCols()},getDataAtCell:function(row,column){var $__6,result,id=($__6=this)._coordId.apply($__6,$traceurRuntime.spread(this.t.toPhysical(row,column)));return result=this.changes.hasOwnProperty(id)?this.changes[id]:this.hot.getDataAtCell(row,column)},getDataByRange:function(row1,column1,row2,column2){var $__4=this,result=this.hot.getData(row1,column1,row2,column2);return arrayEach(result,function(rowData,rowIndex){arrayEach(rowData,function(value,columnIndex){var $__6,id=($__6=$__4)._coordId.apply($__6,$traceurRuntime.spread($__4.t.toPhysical(rowIndex+row1,columnIndex+column1)));$__4.changes.hasOwnProperty(id)&&(result[rowIndex][columnIndex]=$__4.changes[id])})}),result},getSourceDataAtCell:function(row,column){return this.hot.getSourceDataAtCell(row,column)},getRawDataAtCell:function(row,column){var $__6;return($__6=this).getSourceDataAtCell.apply($__6,$traceurRuntime.spread(this.t.toPhysical(row,column)))},getSourceDataByRange:function(row1,column1,row2,column2){return this.hot.getSourceDataArray(row1,column1,row2,column2)},getRawDataByRange:function(row1,column1,row2,column2){var $__6,args=$traceurRuntime.spread(this.t.toPhysical(row1,column1),this.t.toPhysical(row2,column2));return($__6=this).getSourceDataByRange.apply($__6,$traceurRuntime.spread(args))},updateSourceData:function(row,column,value){this.hot.getSourceData()[row][this.hot.colToProp(column)]=value},_coordId:function(row,column){return row+":"+column},destroy:function(){this.hot=null,this.changes=null,this.t=null}},{})},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../node_modules/hot-builder/node_modules/handsontable/src/utils/recordTranslator":132,utils:206}],201:[function(_dereq_,module,exports){Object.defineProperties(exports,{ExpressionModifier:{get:function(){return ExpressionModifier}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_string__,$__handsontable_47_helpers_47_object__,$__handsontable_47_mixins_47_localHooks__,$__utils__,$__hot_45_formula_45_parser__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("../../browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],$__1=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}),arrayEach=$__1.arrayEach,arrayFilter=$__1.arrayFilter,startsWith=($__handsontable_47_helpers_47_string__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/string"),$__handsontable_47_helpers_47_string__&&$__handsontable_47_helpers_47_string__.__esModule&&$__handsontable_47_helpers_47_string__||{"default":$__handsontable_47_helpers_47_string__}).startsWith,mixin=($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}).mixin,localHooks=($__handsontable_47_mixins_47_localHooks__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/localHooks"),$__handsontable_47_mixins_47_localHooks__&&$__handsontable_47_mixins_47_localHooks__.__esModule&&$__handsontable_47_mixins_47_localHooks__||{"default":$__handsontable_47_mixins_47_localHooks__}).localHooks,toUpperCaseFormula=($__utils__=_dereq_("utils"),$__utils__&&$__utils__.__esModule&&$__utils__||{"default":$__utils__}).toUpperCaseFormula,$__6=($__hot_45_formula_45_parser__=_dereq_("hot-formula-parser"),$__hot_45_formula_45_parser__&&$__hot_45_formula_45_parser__.__esModule&&$__hot_45_formula_45_parser__||{"default":$__hot_45_formula_45_parser__}),_toLabel=$__6.toLabel,extractLabel=$__6.extractLabel,error=$__6.error,ERROR_REF=$__6.ERROR_REF,BARE_CELL_STRICT_REGEX=/^\$?[A-Z]+\$?\d+$/,BARE_CELL_REGEX=/\$?[A-Z]+\$?\d+/,CELL_REGEX=/(?:[^0-9A-Z$: ]|^)\s*(\$?[A-Z]+\$?\d+)\s*(?![0-9A-Z_: ])/g,RANGE_REGEX=/\$?[A-Z]+\$?\d+\s*:\s*\$?[A-Z]+\$?\d+/g,CELL_AND_RANGE_REGEX=/((?:[^0-9A-Z$: ]|^)\s*(\$?[A-Z]+\$?\d+)\s*(?![0-9A-Z_: ]))|(\$?[A-Z]+\$?\d+\s*:\s*\$?[A-Z]+\$?\d+)/g,ExpressionModifier=function(expression){this.expression="",this.cells=[],this.customModifier=null,"string"==typeof expression&&this.setExpression(expression)};$traceurRuntime.createClass(ExpressionModifier,{setExpression:function(expression){return this.cells.length=0,this.expression=toUpperCaseFormula(expression),this._extractCells(),this._extractCellsRange(),this},useCustomModifier:function(customModifier){this.customModifier=customModifier},translate:function($__9){var $__10=$__9,deltaRow=$__10.row,deltaColumn=$__10.column,startFrom=void 0!==arguments[1]?arguments[1]:{},$__7=this;return arrayEach(this.cells,function(cell){null!=deltaRow&&$__7._translateCell(cell,"row",deltaRow,startFrom.row),null!=deltaColumn&&$__7._translateCell(cell,"column",deltaColumn,startFrom.column)}),this},toString:function(){var $__7=this,expression=this.expression.replace(CELL_AND_RANGE_REGEX,function(match,p1,p2){var isSingleCell=match.indexOf(":")===-1,result=match,cellLabel=match,translatedCellLabel=null;isSingleCell&&(cellLabel=BARE_CELL_STRICT_REGEX.test(p1)?p1:p2);var cell=$__7._searchCell(cellLabel);return cell&&(translatedCellLabel=cell.refError?error(ERROR_REF):cell.toLabel(),result=isSingleCell?match.replace(cellLabel,translatedCellLabel):translatedCellLabel),result});return startsWith(expression,"=")||(expression="="+expression),expression},_translateCell:function(cell,axis,delta,startFromIndex){var $__10,$__9=cell,start=$__9.start,end=$__9.end,startIndex=start[axis].index,endIndex=end[axis].index,deltaStart=delta,deltaEnd=delta,refError=!1;this.customModifier?($__10=this.customModifier(cell,axis,delta,startFromIndex),deltaStart=$__10[0],deltaEnd=$__10[1],refError=$__10[2],$__10):(start[axis].isAbsolute&&(deltaStart=0),end[axis].isAbsolute&&(deltaEnd=0)),deltaStart&&!refError&&(startIndex+deltaStart<0&&(refError=!0),start[axis].index=Math.max(startIndex+deltaStart,0)),deltaEnd&&!refError&&(endIndex+deltaEnd<0&&(refError=!0),end[axis].index=Math.max(endIndex+deltaEnd,0)),refError&&(cell.refError=!0)},_extractCells:function(){var $__7=this,matches=this.expression.match(CELL_REGEX);matches&&arrayEach(matches,function(coord){if(coord=coord.match(BARE_CELL_REGEX)){var $__9=extractLabel(coord[0]),row=$__9[0],column=$__9[1];$__7.cells.push($__7._createCell({row:row,column:column},{row:row,column:column},coord[0]))}})},_extractCellsRange:function(){var $__7=this,matches=this.expression.match(RANGE_REGEX);matches&&arrayEach(matches,function(match){var $__9=match.split(":"),start=$__9[0],end=$__9[1],$__10=extractLabel(start),startRow=$__10[0],startColumn=$__10[1],$__11=extractLabel(end),endRow=$__11[0],endColumn=$__11[1],startCell={row:startRow,column:startColumn},endCell={row:endRow,column:endColumn};$__7.cells.push($__7._createCell(startCell,endCell,match))})},_searchCell:function(label){var cell=arrayFilter(this.cells,function(cell){return cell.origLabel===label})[0];return cell||null},_createCell:function(start,end,label){return{start:start,end:end,origLabel:label,type:label.indexOf(":")===-1?"cell":"range",refError:!1,toLabel:function(){var label=_toLabel(this.start.row,this.start.column);return"range"===this.type&&(label+=":"+_toLabel(this.end.row,this.end.column)),label}}}},{}),mixin(ExpressionModifier,localHooks),Handsontable.utils.FormulasUtils=Handsontable.utils.FormulasUtils||{},Handsontable.utils.FormulasUtils.ExpressionModifier=ExpressionModifier},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/string":55,"../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/localHooks":58,"../../browser":141,"hot-formula-parser":"hot-formula-parser",utils:206}],202:[function(_dereq_,module,exports){Object.defineProperties(exports,{Formulas:{get:function(){return Formulas}},__esModule:{value:!0}});var $__handsontable_47_plugins_47__95_base__,$__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_object__,$__handsontable_47_eventManager__,$__handsontable_47_plugins__,$__utils__,$__sheet__,$__dataProvider__,$__undoRedoSnapshot__,BasePlugin=($__handsontable_47_plugins_47__95_base__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base"),$__handsontable_47_plugins_47__95_base__&&$__handsontable_47_plugins_47__95_base__.__esModule&&$__handsontable_47_plugins_47__95_base__||{"default":$__handsontable_47_plugins_47__95_base__})["default"],arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,$__2=($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}),isObject=$__2.isObject,objectEach=$__2.objectEach,EventManager=($__handsontable_47_eventManager__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/eventManager"),$__handsontable_47_eventManager__&&$__handsontable_47_eventManager__.__esModule&&$__handsontable_47_eventManager__||{"default":$__handsontable_47_eventManager__}).EventManager,registerPlugin=($__handsontable_47_plugins__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins"),$__handsontable_47_plugins__&&$__handsontable_47_plugins__.__esModule&&$__handsontable_47_plugins__||{"default":$__handsontable_47_plugins__}).registerPlugin,$__5=($__utils__=_dereq_("utils"),$__utils__&&$__utils__.__esModule&&$__utils__||{"default":$__utils__}),isFormulaExpression=$__5.isFormulaExpression,toUpperCaseFormula=$__5.toUpperCaseFormula,isFormulaExpressionEscaped=$__5.isFormulaExpressionEscaped,unescapeFormulaExpression=$__5.unescapeFormulaExpression,Sheet=($__sheet__=_dereq_("sheet"),$__sheet__&&$__sheet__.__esModule&&$__sheet__||{"default":$__sheet__}).Sheet,DataProvider=($__dataProvider__=_dereq_("dataProvider"),$__dataProvider__&&$__dataProvider__.__esModule&&$__dataProvider__||{"default":$__dataProvider__}).DataProvider,UndoRedoSnapshot=($__undoRedoSnapshot__=_dereq_("undoRedoSnapshot"),$__undoRedoSnapshot__&&$__undoRedoSnapshot__.__esModule&&$__undoRedoSnapshot__||{"default":$__undoRedoSnapshot__}).UndoRedoSnapshot,Formulas=function(hotInstance){$traceurRuntime.superConstructor($Formulas).call(this,hotInstance),this.eventManager=new EventManager(this),this.dataProvider=new DataProvider(this.hot),this.sheet=new Sheet(this.hot,this.dataProvider),this.undoRedoSnapshot=new UndoRedoSnapshot(this.sheet),this._skipRendering=!1},$Formulas=Formulas;$traceurRuntime.createClass(Formulas,{isEnabled:function(){return!!this.hot.getSettings().formulas},enablePlugin:function(){var $__9=this;if(!this.enabled){var settings=this.hot.getSettings().formulas;isObject(settings)&&isObject(settings.variables)&&objectEach(settings.variables,function(value,name){return $__9.setVariable(name,value)}),this.addHook("afterColumnSort",function(){for(var $__29,args=[],$__11=0;$__11<arguments.length;$__11++)args[$__11]=arguments[$__11];return($__29=$__9).onAfterColumnSort.apply($__29,$traceurRuntime.spread(args))}),this.addHook("afterCreateCol",function(){for(var $__29,args=[],$__12=0;$__12<arguments.length;$__12++)args[$__12]=arguments[$__12];return($__29=$__9).onAfterCreateCol.apply($__29,$traceurRuntime.spread(args))}),this.addHook("afterCreateRow",function(){for(var $__29,args=[],$__13=0;$__13<arguments.length;$__13++)args[$__13]=arguments[$__13];return($__29=$__9).onAfterCreateRow.apply($__29,$traceurRuntime.spread(args))}),this.addHook("afterLoadData",function(){return $__9.onAfterLoadData()}),this.addHook("afterRemoveCol",function(){for(var $__29,args=[],$__14=0;$__14<arguments.length;$__14++)args[$__14]=arguments[$__14];return($__29=$__9).onAfterRemoveCol.apply($__29,$traceurRuntime.spread(args))}),this.addHook("afterRemoveRow",function(){for(var $__29,args=[],$__15=0;$__15<arguments.length;$__15++)args[$__15]=arguments[$__15];return($__29=$__9).onAfterRemoveRow.apply($__29,$traceurRuntime.spread(args))}),this.addHook("afterSetDataAtCell",function(){for(var $__29,args=[],$__16=0;$__16<arguments.length;$__16++)args[$__16]=arguments[$__16];return($__29=$__9).onAfterSetDataAtCell.apply($__29,$traceurRuntime.spread(args))}),this.addHook("afterSetDataAtRowProp",function(){for(var $__29,args=[],$__17=0;$__17<arguments.length;$__17++)args[$__17]=arguments[$__17];return($__29=$__9).onAfterSetDataAtCell.apply($__29,$traceurRuntime.spread(args))}),this.addHook("beforeColumnSort",function(){for(var $__29,args=[],$__18=0;$__18<arguments.length;$__18++)args[$__18]=arguments[$__18];return($__29=$__9).onBeforeColumnSort.apply($__29,$traceurRuntime.spread(args))}),this.addHook("beforeCreateCol",function(){for(var $__29,args=[],$__19=0;$__19<arguments.length;$__19++)args[$__19]=arguments[$__19];return($__29=$__9).onBeforeCreateCol.apply($__29,$traceurRuntime.spread(args))}),this.addHook("beforeCreateRow",function(){for(var $__29,args=[],$__20=0;$__20<arguments.length;$__20++)args[$__20]=arguments[$__20];return($__29=$__9).onBeforeCreateRow.apply($__29,$traceurRuntime.spread(args))}),this.addHook("beforeRemoveCol",function(){for(var $__29,args=[],$__21=0;$__21<arguments.length;$__21++)args[$__21]=arguments[$__21];return($__29=$__9).onBeforeRemoveCol.apply($__29,$traceurRuntime.spread(args))}),this.addHook("beforeRemoveRow",function(){for(var $__29,args=[],$__22=0;$__22<arguments.length;$__22++)args[$__22]=arguments[$__22];return($__29=$__9).onBeforeRemoveRow.apply($__29,$traceurRuntime.spread(args))}),this.addHook("beforeValidate",function(){for(var $__29,args=[],$__23=0;$__23<arguments.length;$__23++)args[$__23]=arguments[$__23];return($__29=$__9).onBeforeValidate.apply($__29,$traceurRuntime.spread(args))}),this.addHook("beforeValueRender",function(){for(var $__29,args=[],$__24=0;$__24<arguments.length;$__24++)args[$__24]=arguments[$__24];return($__29=$__9).onBeforeValueRender.apply($__29,$traceurRuntime.spread(args))}),this.addHook("modifyData",function(){for(var $__29,args=[],$__25=0;$__25<arguments.length;$__25++)args[$__25]=arguments[$__25];return($__29=$__9).onModifyData.apply($__29,$traceurRuntime.spread(args))}),this.sheet.addLocalHook("afterRecalculate",function(){for(var $__29,args=[],$__26=0;$__26<arguments.length;$__26++)args[$__26]=arguments[$__26];return($__29=$__9).onSheetAfterRecalculate.apply($__29,$traceurRuntime.spread(args))}),$traceurRuntime.superGet(this,$Formulas.prototype,"enablePlugin").call(this)}},disablePlugin:function(){$traceurRuntime.superGet(this,$Formulas.prototype,"disablePlugin").call(this)},getCellValue:function(row,column){var cell=this.sheet.getCellAt(row,column);return cell?cell.getError()||cell.getValue():void 0},hasComputedCellValue:function(row,column){return!!this.sheet.getCellAt(row,column)},recalculate:function(){this.sheet.recalculate()},recalculateFull:function(){this.sheet.recalculateFull()},recalculateOptimized:function(){this.sheet.recalculateOptimized()},setVariable:function(name,value){this.sheet.setVariable(name,value)},getVariable:function(name){return this.sheet.getVariable(name)},onSheetAfterRecalculate:function(cells,type){if(this._skipRendering)return void(this._skipRendering=!1);var hot=this.hot;arrayEach(cells,function($__27){var $__28=$__27,row=$__28.row,column=$__28.column;hot.validateCell(hot.getDataAtCell(row,column),hot.getCellMeta(row,column),function(){})}),hot.render()},onModifyData:function(row,column,valueHolder,ioMode){"get"===ioMode&&this.hasComputedCellValue(row,column)?valueHolder.value=this.getCellValue(row,column):"set"===ioMode&&isFormulaExpression(valueHolder.value)&&(valueHolder.value=toUpperCaseFormula(valueHolder.value))},onBeforeValueRender:function(value){return isFormulaExpressionEscaped(value)&&(value=unescapeFormulaExpression(value)),value},onBeforeValidate:function(value,row,prop,source){var column=this.hot.propToCol(prop);return this.hasComputedCellValue(row,column)&&(value=this.getCellValue(row,column)),value},onAfterSetDataAtCell:function(changes,source){var $__9=this;"loadData"!==source&&(this.dataProvider.clearChanges(),arrayEach(changes,function($__27){var $__28=$__27,row=$__28[0],column=$__28[1],oldValue=$__28[2],newValue=$__28[3];column=$__9.hot.propToCol(column),row=$__9.t.toPhysicalRow(row),isFormulaExpression(newValue)&&(newValue=toUpperCaseFormula(newValue)),$__9.dataProvider.collectChanges(row,column,newValue),oldValue!==newValue&&$__9.sheet.applyChanges(row,column,newValue)}),this.recalculate())},onBeforeCreateRow:function(row,amount,source){"UndoRedo.undo"===source&&this.undoRedoSnapshot.restore()},onAfterCreateRow:function(row,amount,source){this.sheet.alterManager.triggerAlter("insert_row",row,amount,"UndoRedo.undo"!==source)},onBeforeRemoveRow:function(row,amount){this.undoRedoSnapshot.save("row",row,amount)},onAfterRemoveRow:function(row,amount){this.sheet.alterManager.triggerAlter("remove_row",row,amount)},onBeforeCreateCol:function(column,amount,source){"UndoRedo.undo"===source&&this.undoRedoSnapshot.restore()},onAfterCreateCol:function(column,amount,source){this.sheet.alterManager.triggerAlter("insert_column",column,amount,"UndoRedo.undo"!==source)},onBeforeRemoveCol:function(column,amount){this.undoRedoSnapshot.save("column",column,amount)},onAfterRemoveCol:function(column,amount){this.sheet.alterManager.triggerAlter("remove_column",column,amount)},onBeforeColumnSort:function(column,order){this.sheet.alterManager.prepareAlter("column_sorting",column,order)},onAfterColumnSort:function(column,order){this.sheet.alterManager.triggerAlter("column_sorting",column,order)},onAfterLoadData:function(){this._skipRendering=!0,this.recalculateFull()},destroy:function(){this.dataProvider.destroy(),this.dataProvider=null,this.sheet.destroy(),this.sheet=null,$traceurRuntime.superGet(this,$Formulas.prototype,"destroy").call(this)}},{},BasePlugin),registerPlugin("formulas",Formulas)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/eventManager":42,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins":62,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base":63,dataProvider:200,sheet:204,undoRedoSnapshot:205,utils:206}],203:[function(_dereq_,module,exports){Object.defineProperties(exports,{Matrix:{get:function(){return Matrix}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$__cell_47_value__,$__0=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),
$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}),arrayEach=$__0.arrayEach,arrayFilter=$__0.arrayFilter,arrayReduce=$__0.arrayReduce,CellValue=($__cell_47_value__=_dereq_("cell/value"),$__cell_47_value__&&$__cell_47_value__.__esModule&&$__cell_47_value__||{"default":$__cell_47_value__}).CellValue,Matrix=function(recordTranslator){this.t=recordTranslator,this.data=[],this.cellReferences=[]};$traceurRuntime.createClass(Matrix,{getCellAt:function(row,column){var result=null;return arrayEach(this.data,function(cell){if(cell.row===row&&cell.column===column)return result=cell,!1}),result},getOutOfDateCells:function(){return arrayFilter(this.data,function(cell){return cell.isState(CellValue.STATE_OUT_OFF_DATE)})},add:function(cellValue){arrayFilter(this.data,function(cell){return cell.isEqual(cellValue)}).length||this.data.push(cellValue)},remove:function(cellValue){var isArray=Array.isArray(cellValue),isEqual=function(cell,cellValue){var result=!1;return isArray?arrayEach(cellValue,function(value){if(cell.isEqual(value))return result=!0,!1}):result=cell.isEqual(cellValue),result};this.data=arrayFilter(this.data,function(cell){return!isEqual(cell,cellValue)})},getDependencies:function getDependencies(cellCoord){var $__2=this,getDependencies=function(cell){return arrayReduce($__2.data,function(acc,cellValue){return cellValue.hasPrecedent(cell)&&acc.indexOf(cellValue)===-1&&acc.push(cellValue),acc},[])},getTotalDependencies=function getTotalDependencies(cell){var deps=getDependencies(cell);return deps.length&&arrayEach(deps,function(cellValue){cellValue.hasPrecedents()&&(deps=deps.concat(getTotalDependencies($__2.t.toVisual(cellValue))))}),deps};return getTotalDependencies(cellCoord)},registerCellRef:function(cellReference){arrayFilter(this.cellReferences,function(cell){return cell.isEqual(cellReference)}).length||this.cellReferences.push(cellReference)},removeCellRefsAtRange:function($__4,$__5){var $__6=$__4,startRow=$__6.row,startColumn=$__6.column,$__7=$__5,endRow=$__7.row,endColumn=$__7.column,removed=[],rowMatch=function(cell){return void 0===startRow||cell.row>=startRow&&cell.row<=endRow},colMatch=function(cell){return void 0===startColumn||cell.column>=startColumn&&cell.column<=endColumn};return this.cellReferences=arrayFilter(this.cellReferences,function(cell){return!rowMatch(cell)||!colMatch(cell)||(removed.push(cell),!1)}),removed},reset:function(){this.data.length=0,this.cellReferences.length=0}},{})},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"cell/value":199}],204:[function(_dereq_,module,exports){Object.defineProperties(exports,{Sheet:{get:function(){return Sheet}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_number__,$__cell_47_value__,$__cell_47_reference__,$__utils__,$__matrix__,$__alterManager__,$__handsontable_47_mixins_47_localHooks__,$__handsontable_47_utils_47_recordTranslator__,$__handsontable_47_helpers_47_object__,$__hot_45_formula_45_parser__,$__0=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}),arrayEach=$__0.arrayEach,rangeEach=($__0.arrayMap,($__handsontable_47_helpers_47_number__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach),CellValue=($__cell_47_value__=_dereq_("cell/value"),$__cell_47_value__&&$__cell_47_value__.__esModule&&$__cell_47_value__||{"default":$__cell_47_value__}).CellValue,CellReference=($__cell_47_reference__=_dereq_("cell/reference"),$__cell_47_reference__&&$__cell_47_reference__.__esModule&&$__cell_47_reference__||{"default":$__cell_47_reference__}).CellReference,$__4=($__utils__=_dereq_("utils"),$__utils__&&$__utils__.__esModule&&$__utils__||{"default":$__utils__}),isFormulaExpression=$__4.isFormulaExpression,toUpperCaseFormula=$__4.toUpperCaseFormula,Matrix=($__matrix__=_dereq_("matrix"),$__matrix__&&$__matrix__.__esModule&&$__matrix__||{"default":$__matrix__}).Matrix,AlterManager=($__alterManager__=_dereq_("alterManager"),$__alterManager__&&$__alterManager__.__esModule&&$__alterManager__||{"default":$__alterManager__}).AlterManager,localHooks=($__handsontable_47_mixins_47_localHooks__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/localHooks"),$__handsontable_47_mixins_47_localHooks__&&$__handsontable_47_mixins_47_localHooks__.__esModule&&$__handsontable_47_mixins_47_localHooks__||{"default":$__handsontable_47_mixins_47_localHooks__}).localHooks,getTranslator=($__handsontable_47_utils_47_recordTranslator__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/utils/recordTranslator"),$__handsontable_47_utils_47_recordTranslator__&&$__handsontable_47_utils_47_recordTranslator__.__esModule&&$__handsontable_47_utils_47_recordTranslator__||{"default":$__handsontable_47_utils_47_recordTranslator__}).getTranslator,$__9=($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}),mixin=($__9.objectEach,$__9.mixin),$__10=($__hot_45_formula_45_parser__=_dereq_("hot-formula-parser"),$__hot_45_formula_45_parser__&&$__hot_45_formula_45_parser__.__esModule&&$__hot_45_formula_45_parser__||{"default":$__hot_45_formula_45_parser__}),Parser=$__10.Parser,ERROR_REF=$__10.ERROR_REF,STATE_UP_TO_DATE=1,STATE_NEED_REBUILD=2,STATE_NEED_FULL_REBUILD=3,Sheet=function(hot,dataProvider){var $__11=this;this.hot=hot,this.t=getTranslator(this.hot),this.dataProvider=dataProvider,this.parser=new Parser,this.matrix=new Matrix(this.t),this.alterManager=new AlterManager(this),this._processingCell=null,this._state=STATE_NEED_FULL_REBUILD,this.parser.on("callCellValue",function(){for(var $__20,args=[],$__13=0;$__13<arguments.length;$__13++)args[$__13]=arguments[$__13];return($__20=$__11)._onCallCellValue.apply($__20,$traceurRuntime.spread(args))}),this.parser.on("callRangeValue",function(){for(var $__20,args=[],$__14=0;$__14<arguments.length;$__14++)args[$__14]=arguments[$__14];return($__20=$__11)._onCallRangeValue.apply($__20,$traceurRuntime.spread(args))}),this.alterManager.addLocalHook("afterAlter",function(){for(var $__20,args=[],$__15=0;$__15<arguments.length;$__15++)args[$__15]=arguments[$__15];return($__20=$__11)._onAfterAlter.apply($__20,$traceurRuntime.spread(args))})};$traceurRuntime.createClass(Sheet,{recalculate:function(){switch(this._state){case STATE_NEED_FULL_REBUILD:this.recalculateFull();break;case STATE_NEED_REBUILD:this.recalculateOptimized()}},recalculateOptimized:function(){var $__11=this,cells=this.matrix.getOutOfDateCells();arrayEach(cells,function(cellValue){var value=$__11.dataProvider.getSourceDataAtCell(cellValue.row,cellValue.column);isFormulaExpression(value)&&$__11.parseExpression(cellValue,value.substr(1))}),this._state=STATE_UP_TO_DATE,this.runLocalHooks("afterRecalculate",cells,"optimized")},recalculateFull:function(){var $__11=this,cells=this.dataProvider.getSourceDataByRange();this.matrix.reset(),arrayEach(cells,function(rowData,row){arrayEach(rowData,function(value,column){isFormulaExpression(value)&&$__11.parseExpression(new CellValue(row,column),value.substr(1))})}),this._state=STATE_UP_TO_DATE,this.runLocalHooks("afterRecalculate",cells,"full")},setVariable:function(name,value){this.parser.setVariable(name,value)},getVariable:function(name){return this.parser.getVariable(name)},applyChanges:function(row,column,newValue){var $__20;this.matrix.remove({row:row,column:column}),isFormulaExpression(newValue)&&this.parseExpression(new CellValue(row,column),newValue.substr(1));var deps=($__20=this).getCellDependencies.apply($__20,$traceurRuntime.spread(this.t.toVisual(row,column)));arrayEach(deps,function(cellValue){cellValue.setState(CellValue.STATE_OUT_OFF_DATE)}),this._state=STATE_NEED_REBUILD},parseExpression:function(cellValue,formula){cellValue.setState(CellValue.STATE_COMPUTING),this._processingCell=cellValue;var $__16=this.parser.parse(toUpperCaseFormula(formula)),error=$__16.error,result=$__16.result;cellValue.setValue(result),cellValue.setError(error),cellValue.setState(CellValue.STATE_UP_TO_DATE),this.matrix.add(cellValue),this._processingCell=null},getCellAt:function(row,column){return this.matrix.getCellAt(row,column)},getCellDependencies:function(row,column){return this.matrix.getDependencies({row:row,column:column})},_onCallCellValue:function($__16,done){var $__17=$__16,row=$__17.row,column=$__17.column,cell=new CellReference(row,column);if(!this.dataProvider.isInDataRange(cell.row,cell.column))throw Error(ERROR_REF);this.matrix.registerCellRef(cell),this._processingCell.addPrecedent(cell),done(this.dataProvider.getDataAtCell(row.index,column.index))},_onCallRangeValue:function($__16,$__17,done){var $__18=$__16,startRow=$__18.row,startColumn=$__18.column,$__19=$__17,endRow=$__19.row,endColumn=$__19.column,$__11=this;rangeEach(startRow.index,endRow.index,function(row){rangeEach(startColumn.index,endColumn.index,function(column){var cell=new CellReference(row,column);$__11.matrix.registerCellRef(cell),$__11._processingCell.addPrecedent(cell)})}),done(this.dataProvider.getDataByRange(startRow.index,startColumn.index,endRow.index,endColumn.index))},_onAfterAlter:function(){this.recalculateOptimized()},destroy:function(){this.hot=null,this.t=null,this.dataProvider.destroy(),this.dataProvider=null,this.alterManager.destroy(),this.alterManager=null,this.parser=null,this.matrix.reset(),this.matrix=null}},{}),mixin(Sheet,localHooks)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/localHooks":58,"../../../node_modules/hot-builder/node_modules/handsontable/src/utils/recordTranslator":132,alterManager:191,"cell/reference":198,"cell/value":199,"hot-formula-parser":"hot-formula-parser",matrix:203,utils:206}],205:[function(_dereq_,module,exports){Object.defineProperties(exports,{UndoRedoSnapshot:{get:function(){return UndoRedoSnapshot}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_number__,$__cell_47_value__,$__handsontable_47_utils_47_dataStructures_47_stack__,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,CellValue=(($__handsontable_47_helpers_47_number__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach,($__cell_47_value__=_dereq_("cell/value"),$__cell_47_value__&&$__cell_47_value__.__esModule&&$__cell_47_value__||{"default":$__cell_47_value__}).CellValue),Stack=($__handsontable_47_utils_47_dataStructures_47_stack__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/utils/dataStructures/stack"),$__handsontable_47_utils_47_dataStructures_47_stack__&&$__handsontable_47_utils_47_dataStructures_47_stack__.__esModule&&$__handsontable_47_utils_47_dataStructures_47_stack__||{"default":$__handsontable_47_utils_47_dataStructures_47_stack__}).Stack,UndoRedoSnapshot=function(sheet){this.sheet=sheet,this.stack=new Stack};$traceurRuntime.createClass(UndoRedoSnapshot,{save:function(axis,index,amount){var $__5=this.sheet,matrix=$__5.matrix,dataProvider=$__5.dataProvider,changes=[];arrayEach(matrix.data,function(cellValue){var $__6=cellValue,row=$__6.row,column=$__6.column;if(cellValue[axis]<index||cellValue[axis]>index+(amount-1)){var value=dataProvider.getSourceDataAtCell(row,column);changes.push({row:row,column:column,value:value})}}),this.stack.push({axis:axis,index:index,amount:amount,changes:changes})},restore:function(){var $__5=this.sheet,matrix=$__5.matrix,dataProvider=$__5.dataProvider,$__6=this.stack.pop(),axis=$__6.axis,index=$__6.index,amount=$__6.amount,changes=$__6.changes;changes&&arrayEach(changes,function(change){change[axis]>index+(amount-1)&&(change[axis]-=amount);var $__7=change,row=$__7.row,column=$__7.column,value=$__7.value,rawValue=dataProvider.getSourceDataAtCell(row,column);rawValue!==value&&(dataProvider.updateSourceData(row,column,value),matrix.getCellAt(row,column).setState(CellValue.STATE_OUT_OFF_DATE))})},destroy:function(){this.sheet=null,this.stack=null}},{})},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../node_modules/hot-builder/node_modules/handsontable/src/utils/dataStructures/stack":129,"cell/value":199}],206:[function(_dereq_,module,exports){function isFormulaExpression(expression){return expression+="",!!(expression&&expression.length>=2&&"="===expression.charAt(0))}function isFormulaExpressionEscaped(expression){return!(!expression||"'"!==(expression+"").charAt(0)||"="!==(expression+"").charAt(1))}function unescapeFormulaExpression(expression){return isFormulaExpressionEscaped(expression)?expression.substr(1):expression}function toUpperCaseFormula(expression){var PATTERN=/(\\"|"(?:\\"|[^"])*"|(\+))|(\\'|'(?:\\'|[^'])*'|(\+))/g,strings=expression.match(PATTERN)||[],index=-1;return expression.toUpperCase().replace(PATTERN,function(){return++index,strings[index]})}function cellCoordFactory(axis,defaultIndex){return function(cell){return{row:"row"===axis?defaultIndex:cell.row,column:"column"===axis?defaultIndex:cell.column}}}Object.defineProperties(exports,{isFormulaExpression:{get:function(){return isFormulaExpression}},isFormulaExpressionEscaped:{get:function(){return isFormulaExpressionEscaped}},unescapeFormulaExpression:{get:function(){return unescapeFormulaExpression}},toUpperCaseFormula:{get:function(){return toUpperCaseFormula}},cellCoordFactory:{get:function(){return cellCoordFactory}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("../../browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"];Handsontable.utils.FormulasUtils=Handsontable.utils.FormulasUtils||{},Handsontable.utils.FormulasUtils.isFormulaExpression=isFormulaExpression,Handsontable.utils.FormulasUtils.isFormulaExpressionEscaped=isFormulaExpressionEscaped,Handsontable.utils.FormulasUtils.unescapeFormulaExpression=unescapeFormulaExpression,Handsontable.utils.FormulasUtils.toUpperCaseFormula=toUpperCaseFormula},{"../../browser":141}],207:[function(_dereq_,module,exports){Object.defineProperties(exports,{DateCalculator:{get:function(){return DateCalculator}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_object__,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,objectEach=($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}).objectEach,DateCalculator=function(year){this.year=year,this.firstWeekDay="monday",this.weekSectionCount=0,this.monthList=this.calculateMonthData(),this.daysInColumns={},this.calculateWeekStructure()};$traceurRuntime.createClass(DateCalculator,{setYear:function(year){this.year=year,this.monthList=this.calculateMonthData(),this.calculateWeekStructure()},setFirstWeekDay:function(day){var lowercaseDay=day.toLowerCase();"monday"!==lowercaseDay&&"sunday"!==lowercaseDay&&console.warn("First day of the week must be set to either Monday or Sunday"),this.firstWeekDay=lowercaseDay,this.calculateWeekStructure()},countWeekSections:function(){return this.weekSectionCount},getFirstWeekDay:function(){return this.firstWeekDay},getYear:function(){return this.year},getMonthList:function(){return this.monthList},parseDate:function(date){return date instanceof Date||(date=new Date(date),"Invalid Date"!==date.toString())?date:null},dateToColumn:function(date){if(date=this.parseDate(date),!date||date.getFullYear()!==this.year)return!1;var month=date.getMonth(),day=date.getDate()-1,monthCache=this.daysInColumns[month],resultColumn=null;return objectEach(monthCache,function(column,index){if(column.indexOf(day+1)>-1)return resultColumn=parseInt(index,10),!1}),resultColumn},columnToDate:function(column){var month=null;return objectEach(this.daysInColumns,function(monthCache,index){if(monthCache[column])return month=index,!1}),1===this.daysInColumns[month][column].length?new Date(this.year,month,this.daysInColumns[month][column][0]):this.daysInColumns[month][column]},isOnTheEdgeOfWeek:function isOnTheEdgeOfWeek(date){if(date=this.parseDate(date),!date)return null;var month=date.getMonth(),day=date.getDate()-1,monthCache=this.daysInColumns[month],isOnTheEdgeOfWeek=!1;return objectEach(monthCache,function(column){var indexOfDay=column.indexOf(day+1);return 0===indexOfDay?(isOnTheEdgeOfWeek=[1,0],!1):indexOfDay===column.length-1?(isOnTheEdgeOfWeek=[0,1],!1):void 0}),isOnTheEdgeOfWeek},addDaysToCache:function(monthNumber,columnNumber,start,end){this.daysInColumns[monthNumber]||(this.daysInColumns[monthNumber]={}),this.daysInColumns[monthNumber][columnNumber]||(this.daysInColumns[monthNumber][columnNumber]=[]);for(var j=start;j<=end;j++)this.daysInColumns[monthNumber][columnNumber].push(j)},isValidRangeBarData:function(startDate,endDate){var startDateParsed=this.parseDate(startDate),endDateParsed=this.parseDate(endDate);return startDateParsed&&endDateParsed&&startDateParsed.getTime()<=endDateParsed.getTime()},calculateMonthData:function(){return[{name:"January",days:31},{name:"February",days:new Date(this.year,2,0).getDate()},{name:"March",days:31},{name:"April",days:30},{name:"May",days:31},{name:"June",days:30},{name:"July",days:31},{name:"August",days:31},{name:"September",days:30},{name:"October",days:31},{name:"November",days:30},{name:"December",days:31}]},countMonths:function(){return this.monthList.length},countMonthDays:function(month){return this.monthList[month-1].days},countMonthFullWeeks:function(month){return this.monthList[month-1].fullWeeks},calculateWeekStructure:function(){var weekOffset=0,weekSectionCount=0,firstWeekDay=this.getFirstWeekDay(),monthList=this.getMonthList(),currentYear=this.getYear();"monday"===firstWeekDay&&(weekOffset=1),arrayEach(monthList,function(currentMonth,i){var firstMonthDay=new Date(currentYear,i,1).getDay();currentMonth.daysBeforeFullWeeks=(7-firstMonthDay+weekOffset)%7,currentMonth.fullWeeks=Math.floor((currentMonth.days-currentMonth.daysBeforeFullWeeks)/7),currentMonth.daysAfterFullWeeks=currentMonth.days-currentMonth.daysBeforeFullWeeks-7*currentMonth.fullWeeks,weekSectionCount+=currentMonth.fullWeeks+(currentMonth.daysBeforeFullWeeks?1:0)+(currentMonth.daysAfterFullWeeks?1:0)}),this.weekSectionCount=weekSectionCount}},{})},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53}],208:[function(_dereq_,module,exports){Object.defineProperties(exports,{GanttChart:{get:function(){return GanttChart}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_dom_47_element__,$__handsontable_47_helpers_47_object__,$__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_number__,$__handsontable_47_helpers_47_data__,$__handsontable_47_plugins_46_js__,$__dateCalculator__,$__ganttChartDataFeed__,$__handsontable_47_plugins_47__95_base_46_js__,$__0=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}),addClass=$__0.addClass,removeClass=$__0.removeClass,$__1=($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}),objectEach=$__1.objectEach,deepClone=$__1.deepClone,extend=$__1.extend,createEmptySpreadsheetData=(($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,($__handsontable_47_helpers_47_number__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach,($__handsontable_47_helpers_47_data__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/data"),$__handsontable_47_helpers_47_data__&&$__handsontable_47_helpers_47_data__.__esModule&&$__handsontable_47_helpers_47_data__||{"default":$__handsontable_47_helpers_47_data__}).createEmptySpreadsheetData),registerPlugin=($__handsontable_47_plugins_46_js__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins.js"),$__handsontable_47_plugins_46_js__&&$__handsontable_47_plugins_46_js__.__esModule&&$__handsontable_47_plugins_46_js__||{"default":$__handsontable_47_plugins_46_js__}).registerPlugin,DateCalculator=($__dateCalculator__=_dereq_("dateCalculator"),$__dateCalculator__&&$__dateCalculator__.__esModule&&$__dateCalculator__||{"default":$__dateCalculator__}).DateCalculator,GanttChartDataFeed=($__ganttChartDataFeed__=_dereq_("ganttChartDataFeed"),$__ganttChartDataFeed__&&$__ganttChartDataFeed__.__esModule&&$__ganttChartDataFeed__||{"default":$__ganttChartDataFeed__}).GanttChartDataFeed,BasePlugin=($__handsontable_47_plugins_47__95_base_46_js__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base.js"),$__handsontable_47_plugins_47__95_base_46_js__&&$__handsontable_47_plugins_47__95_base_46_js__.__esModule&&$__handsontable_47_plugins_47__95_base_46_js__||{"default":$__handsontable_47_plugins_47__95_base_46_js__})["default"],GanttChart=function(hotInstance){$traceurRuntime.superConstructor($GanttChart).call(this,hotInstance),this.settings={},this.dateCalculator=null,this.currentYear=null,this.monthList=[],this.monthHeadersArray=[],this.weekHeadersArray=[],this.rangeBars={},this.rangeList={},this.nestedHeadersPlugin=null,this.hotSource=null,this.overallWeekSectionCount=null,this.initialSettings=null,this.dataFeed=null,this.colorData={},this.rangeBarMeta=Object.create(null)},$GanttChart=GanttChart;$traceurRuntime.createClass(GanttChart,{checkDependencies:function(){this.hot.getSettings().colHeaders||console.warn("You need to enable the colHeaders property in your Gantt Chart Handsontable in order for it to work properly.")},isEnabled:function(){return!!this.hot.getSettings().ganttChart},enablePlugin:function(){var $__9=this;this.enabled||(this.checkDependencies(),this.parseSettings(),this.currentYear=this.settings.startYear||(new Date).getFullYear(),this.dateCalculator=new DateCalculator(this.currentYear),this.dateCalculator.setFirstWeekDay(this.settings.firstWeekDay),this.monthList=this.dateCalculator.getMonthList(),this.monthHeadersArray=this.generateMonthHeaders(),this.weekHeadersArray=this.generateWeekHeaders(),this.overallWeekSectionCount=this.dateCalculator.countWeekSections(),this.assignGanttSettings(),this.nestedHeadersPlugin&&(this.applyDataSource(),this.colorData&&this.setRangeBarColors(this.colorData)),this.addHook("afterInit",function(){return $__9.onAfterInit()}),addClass(this.hot.rootElement,"ganttChart"),$traceurRuntime.superGet(this,$GanttChart.prototype,"enablePlugin").call(this))},disablePlugin:function(){this.internalUpdateSettings||(this.dataFeed&&this.dataFeed.hotSource&&this.dataFeed.removeSourceHotHooks(this.dataFeed.hotSource),this.settings={},this.dataFeed={},this.currentYear=null,this.monthList=[],this.rangeBars={},this.rangeList={},this.rangeBarMeta={},this.hotSource=null,this.deassignGanttSettings(),this.hot.getPlugin("collapsibleColumns").disablePlugin(),this.hot.getPlugin("nestedHeaders").disablePlugin(),removeClass(this.hot.rootElement,"ganttChart"),$traceurRuntime.superGet(this,$GanttChart.prototype,"disablePlugin").call(this))},updatePlugin:function(){this.disablePlugin(),this.enablePlugin(),$traceurRuntime.superGet(this,$GanttChart.prototype,"updatePlugin").call(this)},parseSettings:function(){this.settings=this.hot.getSettings().ganttChart,"boolean"==typeof this.settings&&(this.settings={}),this.settings.firstWeekDay||(this.settings.firstWeekDay="monday")},applyDataSource:function(){if(this.settings.dataSource){var source=this.settings.dataSource;source.instance?this.loadData(source.instance,source.startDateColumn,source.endDateColumn,source.additionalData,source.asyncUpdates):this.loadData(source)}},loadData:function(data,startDateColumn,endDateColumn,additionalData,asyncUpdates){data.length>1&&this.hot.alter("insert_row",0,data.length-1,this.pluginName+".loadData"),this.dataFeed=new GanttChartDataFeed(this.hot,data,startDateColumn,endDateColumn,additionalData,asyncUpdates),this.hot.render()},clearRangeBars:function(){this.rangeBars={}},clearRangeList:function(){this.rangeList={}},getRangeBarCoordinates:function(row){return this.rangeList[row]},generateHeaderSet:function(type){var $__9=this,headers=[];return objectEach(this.monthList,function(month,index){var areDaysBeforeFullWeeks=month.daysBeforeFullWeeks>0?1:0,areDaysAfterFullWeeks=month.daysAfterFullWeeks>0?1:0,headerCount=month.fullWeeks+areDaysBeforeFullWeeks+areDaysAfterFullWeeks,monthNumber=parseInt(index,10);if("months"===type)headers.push({label:month.name,colspan:headerCount});else if("weeks"===type)for(var i=0;i<headerCount;i++)if(areDaysBeforeFullWeeks&&0===i){var start=i+1,end=month.daysBeforeFullWeeks;start===end?headers.push(start):headers.push(start+" - "+end),$__9.dateCalculator.addDaysToCache(monthNumber,headers.length-1,start,end)}else if(areDaysAfterFullWeeks&&i===headerCount-1){var start$__11=month.days-month.daysAfterFullWeeks+1,end$__12=month.days;start$__11===end$__12?headers.push(start$__11):headers.push(start$__11+" - "+end$__12),$__9.dateCalculator.addDaysToCache(monthNumber,headers.length-1,start$__11,end$__12)}else{var start$__13=month.daysBeforeFullWeeks+7*(i-areDaysBeforeFullWeeks)+1,end$__14=start$__13+6;headers.push(start$__13+" - "+end$__14),$__9.dateCalculator.addDaysToCache(monthNumber,headers.length-1,start$__13,end$__14)}else if("days"===type)for(var i$__15=0;i$__15<month.days;i$__15++)headers.push(i$__15+1)}),headers},generateMonthHeaders:function(){return this.generateHeaderSet("months")},generateWeekHeaders:function(){return this.generateHeaderSet("weeks")},generateDayHeaders:function(){return this.generateHeaderSet("days")},assignGanttSettings:function(){var $__9=this;this.initialSettings=deepClone(this.hot.getSettings());var additionalSettings={data:createEmptySpreadsheetData(1,this.overallWeekSectionCount),readOnly:!0,renderer:function(instance,TD,row,col,prop,value,cellProperties){return $__9.uniformBackgroundRenderer(instance,TD,row,col,prop,value,cellProperties)},colWidths:60,hiddenColumns:!0,nestedHeaders:[this.monthHeadersArray.slice(),this.weekHeadersArray.slice()],collapsibleColumns:!0,columnSorting:!1};this.internalUpdateSettings=!0,this.hot.updateSettings(additionalSettings),this.internalUpdateSettings=void 0},deassignGanttSettings:function(){this.internalUpdateSettings=!0,this.initialSettings&&this.hot.updateSettings(this.initialSettings),this.internalUpdateSettings=void 0},cacheRangeBarMeta:function(row,col,key,value){this.rangeBarMeta[row]||(this.rangeBarMeta[row]={}),this.rangeBarMeta[row][col]||(this.rangeBarMeta[row][col]={}),this.rangeBarMeta[row][col][key]=value},applyRangeBarMetaCache:function(){var $__9=this;objectEach(this.rangeBarMeta,function(rowArr,row){objectEach(rowArr,function(cell,col){objectEach(cell,function(value,key){$__9.hot.setCellMeta(row,col,key,value)})})})},addRangeBar:function(row,startDate,endDate,additionalData){var $__9=this,startDateColumn=this.dateCalculator.dateToColumn(startDate),endDateColumn=this.dateCalculator.dateToColumn(endDate);return!(!this.dateCalculator.isValidRangeBarData(startDate,endDate)||null==startDateColumn||null==endDateColumn)&&(this.rangeBars[row]||(this.rangeBars[row]={}),this.rangeBars[row][startDateColumn]={barLength:endDateColumn-startDateColumn+1,partialStart:!this.dateCalculator.isOnTheEdgeOfWeek(startDate)[0],partialEnd:!this.dateCalculator.isOnTheEdgeOfWeek(endDate)[1],additionalData:{}},objectEach(additionalData,function(prop,i){$__9.rangeBars[row][startDateColumn].additionalData[i]=prop}),this.colorData[row]&&(this.rangeBars[row][startDateColumn].colors=this.colorData[row]),this.rangeList[row]=[row,startDateColumn],this.renderRangeBar(row,startDateColumn,endDateColumn,additionalData),[row,startDateColumn])},getRangeBarData:function(row,column){var rangeBarCoords=this.getRangeBarCoordinates(row);if(!rangeBarCoords)return!1;var rangeBarData=this.rangeBars[rangeBarCoords[0]][rangeBarCoords[1]];return!(!rangeBarData||row!==rangeBarCoords[0]||!(column===rangeBarCoords[1]||column>rangeBarCoords[1]&&column<rangeBarCoords[1]+rangeBarData.barLength))&&rangeBarData},updateRangeBarData:function(row,column,data){var rangeBar=this.getRangeBarData(row,column);objectEach(data,function(val,prop){rangeBar[prop]!==val&&(rangeBar[prop]=val)})},renderRangeBar:function(row,startDateColumn,endDateColumn,additionalData){for(var currentBar=this.rangeBars[row][startDateColumn],i=startDateColumn;i<=endDateColumn;i++){var cellMeta=this.hot.getCellMeta(row,i),newClassName=(cellMeta.className||"")+" rangeBar";(i===startDateColumn&&currentBar.partialStart||i===endDateColumn&&currentBar.partialEnd)&&(newClassName+=" partial"),i===endDateColumn&&(newClassName+=" last"),this.hot.setCellMeta(row,i,"originalClassName",cellMeta.className),this.hot.setCellMeta(row,i,"className",newClassName),this.hot.setCellMeta(row,i,"additionalData",currentBar.additionalData),this.cacheRangeBarMeta(row,i,"originalClassName",cellMeta.className),this.cacheRangeBarMeta(row,i,"className",newClassName),this.cacheRangeBarMeta(row,i,"additionalData",currentBar.additionalData);
}},removeRangeBarByDate:function(row,startDate){var startDateColumn=this.dateCalculator.dateToColumn(startDate);this.removeRangeBarByColumn(row,startDateColumn)},removeRangeBarByColumn:function(row,startDateColumn){var $__9=this,rangeBar=this.rangeBars[row][startDateColumn];rangeBar&&(this.unrenderRangeBar(row,startDateColumn,startDateColumn+rangeBar.barLength-1),this.rangeBars[row][startDateColumn]=null,objectEach(this.rangeList,function(prop,i){i=parseInt(i,10),JSON.stringify(prop)===JSON.stringify([row,startDateColumn])&&($__9.rangeList[i]=null)}))},removeAllRangeBars:function(){var $__9=this;objectEach(this.rangeBars,function(row,i){objectEach(row,function(bar,j){$__9.removeRangeBarByColumn(i,j)})})},unrenderRangeBar:function(row,startDateColumn,endDateColumn){for(var i=startDateColumn;i<=endDateColumn;i++){var cellMeta=this.hot.getCellMeta(row,i);this.hot.setCellMeta(row,i,"className",cellMeta.originalClassName),this.hot.setCellMeta(row,i,"originalClassName",void 0),this.cacheRangeBarMeta(row,i,"className",cellMeta.originalClassName),this.cacheRangeBarMeta(row,i,"originalClassName",void 0)}this.hot.render()},uniformBackgroundRenderer:function(instance,TD,row,col,prop,value,cellProperties){var rangeBarInfo=this.getRangeBarData(row,col),rangeBarCoords=this.getRangeBarCoordinates(row);cellProperties.className&&(TD.className=cellProperties.className);var titleValue="";objectEach(cellProperties.additionalData,function(prop,i){titleValue+=i+": "+prop+"\n"}),titleValue=titleValue.replace(/\n$/,""),TD.title=titleValue,rangeBarInfo&&rangeBarInfo.colors?col===rangeBarCoords[1]&&rangeBarInfo.partialStart||col===rangeBarCoords[1]+rangeBarInfo.barLength-1&&rangeBarInfo.partialEnd?TD.style.background=rangeBarInfo.colors[1]:TD.style.background=rangeBarInfo.colors[0]:TD.style.background=""},setRangeBarColors:function(rows){var $__9=this;this.colorData=rows,objectEach(rows,function(colors,i){var barCoords=$__9.getRangeBarCoordinates(i);barCoords&&$__9.updateRangeBarData(barCoords[0],barCoords[1],{colors:colors})}),this.hot.render()},setYear:function(year){var newSettings=extend(this.hot.getSettings().ganttChart,{startYear:year});this.hot.updateSettings({ganttChart:newSettings})},onAfterInit:function(){this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.applyDataSource()},onUpdateSettings:function(){return this.internalUpdateSettings?void this.applyRangeBarMetaCache():void $traceurRuntime.superGet(this,$GanttChart.prototype,"onUpdateSettings").call(this)},destroy:function(){this.hotSource&&this.dataFeed.removeSourceHotHooks(this.hotSource),$traceurRuntime.superGet(this,$GanttChart.prototype,"destroy").call(this)}},{},BasePlugin),registerPlugin("ganttChart",GanttChart)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/data":45,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins.js":62,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base.js":63,dateCalculator:207,ganttChartDataFeed:209}],209:[function(_dereq_,module,exports){Object.defineProperties(exports,{GanttChartDataFeed:{get:function(){return GanttChartDataFeed}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_object__,$__handsontable_47_helpers_47_array__,$__dateCalculator__,$__0=($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}),objectEach=$__0.objectEach,arrayEach=($__0.deepClone,($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach),GanttChartDataFeed=(($__dateCalculator__=_dereq_("dateCalculator"),$__dateCalculator__&&$__dateCalculator__.__esModule&&$__dateCalculator__||{"default":$__dateCalculator__}).DateCalculator,function(chartInstance,data,startDateColumn,endDateColumn,additionalData,asyncUpdates){this.data=data,this.chartInstance=chartInstance,this.chartPlugin=this.chartInstance.getPlugin("ganttChart"),this.hotSource=null,this.sourceHooks={},this.ongoingAsync=!1,this.applyData(data,startDateColumn,endDateColumn,additionalData,asyncUpdates||!1)});$traceurRuntime.createClass(GanttChartDataFeed,{applyData:function(data,startDateColumn,endDateColumn,additionalData,asyncUpdates){"[object Array]"===Object.prototype.toString.call(data)?this.loadData(data):data.guid&&this.bindWithHotInstance(data,startDateColumn,endDateColumn,additionalData,asyncUpdates)},bindWithHotInstance:function(instance,startDateColumn,endDateColumn,additionalData,asyncUpdates){this.hotSource={instance:instance,startColumn:startDateColumn,endColumn:endDateColumn,additionalData:additionalData,asyncUpdates:asyncUpdates},this.addSourceHotHooks(),this.asyncCall(this.updateFromSource)},asyncCall:function(func){var $__3=this;return this.hotSource.asyncUpdates?(this.asyncStart(),void setTimeout(function(){func.call($__3),$__3.asyncEnd()},0)):void func.call(this)},asyncStart:function(){this.ongoingAsync=!0},asyncEnd:function(){this.ongoingAsync=!1},addSourceHotHooks:function(){var $__3=this;this.sourceHooks={afterLoadData:function(firstRun){return $__3.onAfterSourceLoadData(firstRun)},afterChange:function(changes,source){return $__3.onAfterSourceChange(changes,source)},afterColumnSort:function(column,order){return $__3.onAfterColumnSort(column,order)}},this.hotSource.instance.addHook("afterLoadData",this.sourceHooks.afterLoadData),this.hotSource.instance.addHook("afterChange",this.sourceHooks.afterChange),this.hotSource.instance.addHook("afterColumnSort",this.sourceHooks.afterColumnSort)},removeSourceHotHooks:function(hotSource){this.sourceHooks.afterLoadData&&hotSource.instance.removeHook("afterLoadData",this.sourceHooks.afterLoadData),this.sourceHooks.afterChange&&hotSource.instance.removeHook("afterChange",this.sourceHooks.afterChange),this.sourceHooks.afterColumnSort&&hotSource.instance.removeHook("afterColumnSort",this.sourceHooks.afterColumnSort)},getDataFromSource:function(row){var sourceHotRows,additionalObjectData={},hotSource=this.hotSource,rangeBarData=[];void 0===row?sourceHotRows=hotSource.instance.getData(0,0,hotSource.instance.countRows()-1,hotSource.instance.countCols()-1):(sourceHotRows=[],sourceHotRows[row]=hotSource.instance.getDataAtRow(row));var $__7,$__6=function(i,dataLength){additionalObjectData={};var currentRow=sourceHotRows[i];return null===currentRow[hotSource.startColumn]||""===currentRow[hotSource.startColumn]?0:(objectEach(hotSource.additionalData,function(prop,j){additionalObjectData[j]=currentRow[prop]}),void rangeBarData.push([i,currentRow[hotSource.startColumn],currentRow[hotSource.endColumn],additionalObjectData,i]))};$__5:for(var i=row||0,dataLength=sourceHotRows.length;i<(row?row+1:dataLength);i++)switch($__7=$__6(i,dataLength)){case 0:continue $__5}return rangeBarData},updateFromSource:function(row){var $__3=this,dataFromSource=this.getDataFromSource(row);!row&&isNaN(row)&&(this.chartPlugin.clearRangeBars(),this.chartPlugin.clearRangeList()),arrayEach(dataFromSource,function(bar){bar=$__3.trimRangeIfNeeded(bar),$__3.chartPlugin.addRangeBar.apply($__3.chartPlugin,bar)})},loadData:function(data){var $__3=this;arrayEach(data,function(bar,i){bar=$__3.trimRangeIfNeeded(bar),$__3.chartPlugin.addRangeBar(i,bar.startDate,bar.endDate,bar.additionalData)})},trimRangeIfNeeded:function(bar){var dateProps=null;dateProps=bar[1]?{startDate:1,endDate:2}:{startDate:"startDate",endDate:"endDate"};var startDate=new Date(bar[dateProps.startDate]),endDate=new Date(bar[dateProps.endDate]);if("string"==typeof startDate||"string"==typeof endDate)return!1;var startYear=startDate.getFullYear(),endYear=endDate.getFullYear();return startYear<this.chartPlugin.currentYear&&endYear>=this.chartPlugin.currentYear&&(bar[dateProps.startDate]="01/01/"+this.chartPlugin.currentYear),endYear>this.chartPlugin.currentYear&&startYear<=this.chartPlugin.currentYear&&(bar[dateProps.endDate]="12/31/"+this.chartPlugin.currentYear),bar},onAfterSourceChange:function(changes,source){var $__3=this;this.asyncCall(function(){if(changes){for(var changesByRows={},i=0,changesLength=changes.length;i<changesLength;i++){var currentChange=changes[i],row=parseInt(currentChange[0],10),col=parseInt(currentChange[1],10);changesByRows[row]||(changesByRows[row]={}),changesByRows[row][col]=[currentChange[2],currentChange[3]]}objectEach(changesByRows,function(prop,i){i=parseInt(i,10),$__3.chartPlugin.getRangeBarCoordinates(i)&&$__3.chartPlugin.removeRangeBarByColumn(i,$__3.chartPlugin.rangeList[i][1]),$__3.updateFromSource(i)})}})},onAfterSourceLoadData:function(firstRun){var $__3=this;this.asyncCall(function(firstRun){$__3.chartPlugin.removeAllRangeBars(),$__3.updateFromSource()})},onAfterColumnSort:function(column,order){var $__3=this;this.asyncCall(function(){$__3.chartPlugin.removeAllRangeBars(),$__3.updateFromSource()})}},{})},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,dateCalculator:207}],210:[function(_dereq_,module,exports){Object.defineProperties(exports,{HeaderTooltips:{get:function(){return HeaderTooltips}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_dom_47_element_46_js__,$__handsontable_47_plugins_46_js__,$__handsontable_47_helpers_47_number__,$__handsontable_47_plugins_47__95_base_46_js__,outerWidth=($__handsontable_47_helpers_47_dom_47_element_46_js__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element.js"),$__handsontable_47_helpers_47_dom_47_element_46_js__&&$__handsontable_47_helpers_47_dom_47_element_46_js__.__esModule&&$__handsontable_47_helpers_47_dom_47_element_46_js__||{"default":$__handsontable_47_helpers_47_dom_47_element_46_js__}).outerWidth,registerPlugin=($__handsontable_47_plugins_46_js__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins.js"),$__handsontable_47_plugins_46_js__&&$__handsontable_47_plugins_46_js__.__esModule&&$__handsontable_47_plugins_46_js__||{"default":$__handsontable_47_plugins_46_js__}).registerPlugin,rangeEach=($__handsontable_47_helpers_47_number__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach,BasePlugin=($__handsontable_47_plugins_47__95_base_46_js__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base.js"),$__handsontable_47_plugins_47__95_base_46_js__&&$__handsontable_47_plugins_47__95_base_46_js__.__esModule&&$__handsontable_47_plugins_47__95_base_46_js__||{"default":$__handsontable_47_plugins_47__95_base_46_js__})["default"],HeaderTooltips=function(hotInstance){$traceurRuntime.superConstructor($HeaderTooltips).call(this,hotInstance),this.settings=null},$HeaderTooltips=HeaderTooltips;$traceurRuntime.createClass(HeaderTooltips,{isEnabled:function(){return!!this.hot.getSettings().headerTooltips},enablePlugin:function(){var $__4=this;this.enabled||(this.settings=this.hot.getSettings().headerTooltips,this.parseSettings(),this.addHook("afterGetColHeader",function(col,TH){return $__4.onAfterGetHeader(col,TH)}),this.addHook("afterGetRowHeader",function(col,TH){return $__4.onAfterGetHeader(col,TH)}),$traceurRuntime.superGet(this,$HeaderTooltips.prototype,"enablePlugin").call(this))},disablePlugin:function(){this.settings=null,this.clearTitleAttributes(),$traceurRuntime.superGet(this,$HeaderTooltips.prototype,"disablePlugin").call(this)},parseSettings:function(){"boolean"==typeof this.settings&&(this.settings={rows:!0,columns:!0,onlyTrimmed:!1})},clearTitleAttributes:function(){var headerLevels=this.hot.view.wt.getSetting("columnHeaders").length,mainHeaders=this.hot.view.wt.wtTable.THEAD,topHeaders=this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.THEAD,topLeftCornerHeaders=this.hot.view.wt.wtOverlays.topLeftCornerOverlay?hot.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.THEAD:null;rangeEach(0,headerLevels-1,function(i){var masterLevel=mainHeaders.childNodes[i],topLevel=topHeaders.childNodes[i],topLeftCornerLevel=topLeftCornerHeaders?topLeftCornerHeaders.childNodes[i]:null;rangeEach(0,masterLevel.childNodes.length-1,function(j){masterLevel.childNodes[j].removeAttribute("title"),topLevel&&topLevel.childNodes[j]&&topLevel.childNodes[j].removeAttribute("title"),topLeftCornerHeaders&&topLeftCornerLevel&&topLeftCornerLevel.childNodes[j]&&topLeftCornerLevel.childNodes[j].removeAttribute("title")})},!0)},onAfterGetHeader:function(index,TH){var innerSpan=TH.querySelector("span"),isColHeader="THEAD"===TH.parentNode.parentNode.nodeName;(isColHeader&&this.settings.columns||!isColHeader&&this.settings.rows)&&(this.settings.onlyTrimmed?outerWidth(innerSpan)>=outerWidth(TH)&&0!==outerWidth(innerSpan)&&TH.setAttribute("title",innerSpan.textContent):TH.setAttribute("title",innerSpan.textContent))},destroy:function(){this.settings=null,$traceurRuntime.superGet(this,$HeaderTooltips.prototype,"destroy").call(this)}},{},BasePlugin),registerPlugin("headerTooltips",HeaderTooltips)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element.js":47,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins.js":62,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base.js":63}],211:[function(_dereq_,module,exports){function hideColumnItem(hiddenColumnsPlugin){return{key:"hidden_columns_hide",name:"Hide column",callback:function(){var $__1=this.getSelectedRange(),from=$__1.from,to=$__1.to,start=Math.min(from.col,to.col),end=Math.max(from.col,to.col);rangeEach(start,end,function(column){return hiddenColumnsPlugin.hideColumn(column)}),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},disabled:!1,hidden:function(){return!this.selection.selectedHeader.cols}}}Object.defineProperties(exports,{hideColumnItem:{get:function(){return hideColumnItem}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_number__,rangeEach=($__handsontable_47_helpers_47_number__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52}],212:[function(_dereq_,module,exports){function showColumnItem(hiddenColumnsPlugin){var beforeHiddenColumns=[],afterHiddenColumns=[];return{key:"hidden_columns_show",name:"Show column",callback:function(){var $__1=this.getSelectedRange(),from=$__1.from,to=$__1.to,start=Math.min(from.col,to.col),end=Math.max(from.col,to.col);start===end?(beforeHiddenColumns.length===start&&(hiddenColumnsPlugin.showColumns(beforeHiddenColumns),beforeHiddenColumns.length=0),afterHiddenColumns.length===this.countSourceCols()-(start+1)&&(hiddenColumnsPlugin.showColumns(afterHiddenColumns),afterHiddenColumns.length=0)):rangeEach(start,end,function(column){return hiddenColumnsPlugin.showColumn(column)}),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},disabled:!1,hidden:function(){if(!hiddenColumnsPlugin.hiddenColumns.length||!this.selection.selectedHeader.cols)return!0;beforeHiddenColumns.length=0,afterHiddenColumns.length=0;var $__1=this.getSelectedRange(),from=$__1.from,to=$__1.to,start=Math.min(from.col,to.col),end=Math.max(from.col,to.col),hiddenInSelection=!1;if(start===end){var totalColumnLength=this.countSourceCols();rangeEach(0,totalColumnLength,function(column){var partedHiddenLength=beforeHiddenColumns.length+afterHiddenColumns.length;return partedHiddenLength!==hiddenColumnsPlugin.hiddenColumns.length&&void(column<start&&hiddenColumnsPlugin.isHidden(column)?beforeHiddenColumns.push(column):hiddenColumnsPlugin.isHidden(column)&&afterHiddenColumns.push(column))}),totalColumnLength-=1,(beforeHiddenColumns.length===start&&start>0||afterHiddenColumns.length===totalColumnLength-start&&start<totalColumnLength)&&(hiddenInSelection=!0)}else rangeEach(start,end,function(column){if(hiddenColumnsPlugin.isHidden(column))return hiddenInSelection=!0,!1});return!hiddenInSelection}}}Object.defineProperties(exports,{showColumnItem:{get:function(){return showColumnItem}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_number__,rangeEach=($__handsontable_47_helpers_47_number__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52}],213:[function(_dereq_,module,exports){function hiddenRenderer(hotInstance,td){td.textContent=""}Object.defineProperties(exports,{HiddenColumns:{get:function(){return HiddenColumns}},__esModule:{value:!0}});var $__handsontable_47_plugins_47__95_base__,$__handsontable_47_helpers_47_dom_47_element__,$__handsontable_47_helpers_47_number__,$__handsontable_47_helpers_47_array__,$__handsontable_47_plugins__,$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__,$__contextMenuItem_47_hideColumn__,$__contextMenuItem_47_showColumn__,BasePlugin=($__handsontable_47_plugins_47__95_base__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base"),$__handsontable_47_plugins_47__95_base__&&$__handsontable_47_plugins_47__95_base__.__esModule&&$__handsontable_47_plugins_47__95_base__||{"default":$__handsontable_47_plugins_47__95_base__})["default"],$__1=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}),addClass=$__1.addClass,rangeEach=($__1.removeClass,($__handsontable_47_helpers_47_number__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach),arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,$__4=($__handsontable_47_plugins__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins"),$__handsontable_47_plugins__&&$__handsontable_47_plugins__.__esModule&&$__handsontable_47_plugins__||{"default":$__handsontable_47_plugins__}),registerPlugin=$__4.registerPlugin,SEPARATOR=($__4.getPlugin,($__handsontable_47_plugins_47_contextMenu_47_predefinedItems__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/predefinedItems"),$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__&&$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__.__esModule&&$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__||{"default":$__handsontable_47_plugins_47_contextMenu_47_predefinedItems__}).SEPARATOR),hideColumnItem=($__contextMenuItem_47_hideColumn__=_dereq_("contextMenuItem/hideColumn"),$__contextMenuItem_47_hideColumn__&&$__contextMenuItem_47_hideColumn__.__esModule&&$__contextMenuItem_47_hideColumn__||{"default":$__contextMenuItem_47_hideColumn__}).hideColumnItem,showColumnItem=($__contextMenuItem_47_showColumn__=_dereq_("contextMenuItem/showColumn"),$__contextMenuItem_47_showColumn__&&$__contextMenuItem_47_showColumn__.__esModule&&$__contextMenuItem_47_showColumn__||{"default":$__contextMenuItem_47_showColumn__}).showColumnItem,HiddenColumns=function(hotInstance){$traceurRuntime.superConstructor($HiddenColumns).call(this,hotInstance),this.settings={},this.hiddenColumns=[],this.lastSelectedColumn=-1},$HiddenColumns=HiddenColumns;$traceurRuntime.createClass(HiddenColumns,{isEnabled:function(){return!!this.hot.getSettings().hiddenColumns},enablePlugin:function(){var $__8=this;this.enabled||(this.hot.hasColHeaders()?this.addHook("afterGetColHeader",function(col,TH){return $__8.onAfterGetColHeader(col,TH)}):this.addHook("afterRenderer",function(TD,row,col){return $__8.onAfterGetColHeader(col,TD)}),this.addHook("afterContextMenuDefaultOptions",function(options){return $__8.onAfterContextMenuDefaultOptions(options)}),this.addHook("afterGetCellMeta",function(row,col,cellProperties){return $__8.onAfterGetCellMeta(row,col,cellProperties)}),this.addHook("modifyColWidth",function(width,col){return $__8.onModifyColWidth(width,col)}),this.addHook("beforeSetRangeStartOnly",function(coords){return $__8.onBeforeSetRangeStart(coords)}),this.addHook("beforeSetRangeEnd",function(coords){return $__8.onBeforeSetRangeEnd(coords)}),this.addHook("hiddenColumn",function(column){return $__8.isHidden(column)}),this.addHook("beforeStretchingColumnWidth",function(width,column){return $__8.onBeforeStretchingColumnWidth(width,column)}),this.addHook("afterCreateCol",function(index,amount){return $__8.onAfterCreateCol(index,amount)}),this.addHook("afterRemoveCol",function(index,amount){return $__8.onAfterRemoveCol(index,amount)}),this.hot.view&&this.onAfterPluginsInitialized(),$traceurRuntime.superGet(this,$HiddenColumns.prototype,"enablePlugin").call(this))},updatePlugin:function(){this.disablePlugin(),this.enablePlugin(),$traceurRuntime.superGet(this,$HiddenColumns.prototype,"updatePlugin").call(this)},disablePlugin:function(){this.settings={},this.hiddenColumns=[],this.lastSelectedColumn=-1,this.hot.render(),$traceurRuntime.superGet(this,$HiddenColumns.prototype,"disablePlugin").call(this),this.resetCellsMeta()},showColumns:function(columns){var $__8=this;arrayEach(columns,function(column){column=parseInt(column,10),column=$__8.getLogicalColumnIndex(column),$__8.isHidden(column,!0)&&$__8.hiddenColumns.splice($__8.hiddenColumns.indexOf(column),1)})},showColumn:function(){for(var column=[],$__10=0;$__10<arguments.length;$__10++)column[$__10]=arguments[$__10];this.showColumns(column)},hideColumns:function(columns){var $__8=this;arrayEach(columns,function(column){column=parseInt(column,10),column=$__8.getLogicalColumnIndex(column),$__8.isHidden(column,!0)||$__8.hiddenColumns.push(column)})},hideColumn:function(){for(var column=[],$__11=0;$__11<arguments.length;$__11++)column[$__11]=arguments[$__11];this.hideColumns(column)},isHidden:function(column){var isLogicIndex=void 0!==arguments[1]&&arguments[1];return isLogicIndex||(column=this.getLogicalColumnIndex(column)),this.hiddenColumns.indexOf(column)>-1},resetCellsMeta:function(){arrayEach(this.hot.getCellsMeta(),function(meta){meta&&(meta.skipColumnOnPaste=!1,null!==meta.baseRenderer&&(meta.renderer=meta.baseRenderer,meta.baseRenderer=null))})},getLogicalColumnIndex:function(column){return this.hot.runHooks("modifyCol",column)},onBeforeStretchingColumnWidth:function(width,column){return this.isHidden(column)&&(width=0),width},onModifyColWidth:function(width,col){return this.isHidden(col)?.1:this.settings.indicators&&(this.isHidden(col+1)||this.isHidden(col-1))?width+(this.hot.hasColHeaders()?15:0):void 0},onAfterGetCellMeta:function(row,col,cellProperties){if(col=this.hot.runHooks("unmodifyCol",col),this.settings.copyPasteEnabled===!1&&this.isHidden(col)&&(cellProperties.skipColumnOnPaste=!0),this.isHidden(col)?(cellProperties.renderer!==hiddenRenderer&&(cellProperties.baseRenderer=cellProperties.renderer),cellProperties.renderer=hiddenRenderer):null!==cellProperties.baseRenderer&&(cellProperties.renderer=cellProperties.baseRenderer,cellProperties.baseRenderer=null),this.isHidden(cellProperties.visualCol-1)){var firstSectionHidden=!0,i=cellProperties.visualCol-1;cellProperties.className=cellProperties.className||"",cellProperties.className.indexOf("afterHiddenColumn")===-1&&(cellProperties.className+=" afterHiddenColumn");do{if(!this.isHidden(i)){firstSectionHidden=!1;break}i--}while(i>=0);firstSectionHidden&&cellProperties.className.indexOf("firstVisibleColumn")===-1&&(cellProperties.className+=" firstVisibleColumn")}else if(cellProperties.className){var classArr=cellProperties.className.split(" ");if(classArr.length){var containAfterHiddenColumn=classArr.indexOf("afterHiddenColumn"),containFirstVisible=classArr.indexOf("firstVisibleColumn");containAfterHiddenColumn>-1&&classArr.splice(containAfterHiddenColumn,1),containFirstVisible>-1&&classArr.splice(containFirstVisible,1),cellProperties.className=classArr.join(" ")}}},onModifyCopyableRange:function(ranges){var $__8=this,newRanges=[],pushRange=function(startRow,endRow,startCol,endCol){newRanges.push({startRow:startRow,endRow:endRow,startCol:startCol,endCol:endCol})};return arrayEach(ranges,function(range){var isHidden=!0,rangeStart=0;rangeEach(range.startCol,range.endCol,function(col){$__8.isHidden(col)?(isHidden||pushRange(range.startRow,range.endRow,rangeStart,col-1),isHidden=!0):(isHidden&&(rangeStart=col),col===range.endCol&&pushRange(range.startRow,range.endRow,rangeStart,col),isHidden=!1)})}),newRanges},onAfterGetColHeader:function(col,TH){if(!this.isHidden(col)){var firstSectionHidden=!0,i=col-1;do{if(!this.isHidden(i)){firstSectionHidden=!1;break}i--}while(i>=0);firstSectionHidden&&addClass(TH,"firstVisibleColumn"),this.settings.indicators&&(this.isHidden(col-1)&&addClass(TH,"afterHiddenColumn"),this.isHidden(col+1)&&col>-1&&addClass(TH,"beforeHiddenColumn"))}},onBeforeSetRangeStart:function(coords){var $__8=this;if(!(coords.col>0)){coords.col=0;var getNextColumn=function getNextColumn(col){var logicalCol=$__8.getLogicalColumnIndex(col);return $__8.isHidden(logicalCol,!0)&&(col=getNextColumn(++col)),col};coords.col=getNextColumn(coords.col)}},onBeforeSetRangeEnd:function(coords){var $__8=this,columnCount=this.hot.countCols(),getNextColumn=function getNextColumn(col){var logicalCol=$__8.getLogicalColumnIndex(col);return $__8.isHidden(logicalCol,!0)&&($__8.lastSelectedColumn>col||coords.col===columnCount-1?col>0?col=getNextColumn(--col):rangeEach(0,$__8.lastSelectedColumn,function(i){if(!$__8.isHidden(i))return col=i,!1}):col=getNextColumn(++col)),col};coords.col=getNextColumn(coords.col),this.lastSelectedColumn=coords.col},onAfterContextMenuDefaultOptions:function(options){options.items.push({name:SEPARATOR},hideColumnItem(this),showColumnItem(this))},onAfterCreateCol:function(index,amount){var tempHidden=[];arrayEach(this.hiddenColumns,function(col){col>=index&&(col+=amount),tempHidden.push(col)}),this.hiddenColumns=tempHidden},onAfterRemoveCol:function(index,amount){var tempHidden=[];arrayEach(this.hiddenColumns,function(col){col>=index&&(col-=amount),tempHidden.push(col)}),this.hiddenColumns=tempHidden},onAfterPluginsInitialized:function(){var $__8=this,settings=this.hot.getSettings().hiddenColumns;"object"===("undefined"==typeof settings?"undefined":_typeof(settings))&&(this.settings=settings,void 0===settings.copyPasteEnabled&&(settings.copyPasteEnabled=!0),Array.isArray(settings.columns)&&this.hideColumns(settings.columns),settings.copyPasteEnabled||this.addHook("modifyCopyableRange",function(ranges){return $__8.onModifyCopyableRange(ranges)}))},destroy:function(){$traceurRuntime.superGet(this,$HiddenColumns.prototype,"destroy").call(this)}},{},BasePlugin),registerPlugin("hiddenColumns",HiddenColumns)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins":62,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base":63,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/contextMenu/predefinedItems":76,"contextMenuItem/hideColumn":211,"contextMenuItem/showColumn":212}],214:[function(_dereq_,module,exports){function hideRowItem(hiddenRowsPlugin){return{key:"hidden_rows_hide",name:"Hide row",callback:function(){var $__1=this.getSelectedRange(),from=$__1.from,to=$__1.to,start=Math.min(from.row,to.row),end=Math.max(from.row,to.row);rangeEach(start,end,function(row){return hiddenRowsPlugin.hideRow(row)}),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},disabled:!1,hidden:function(){return!this.selection.selectedHeader.rows}}}Object.defineProperties(exports,{hideRowItem:{get:function(){return hideRowItem}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_number__,rangeEach=($__handsontable_47_helpers_47_number__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52}],215:[function(_dereq_,module,exports){function showRowItem(hiddenRowsPlugin){var beforeHiddenRows=[],afterHiddenRows=[];return{key:"hidden_rows_show",name:"Show row",callback:function(){var $__1=this.getSelectedRange(),from=$__1.from,to=$__1.to,start=Math.min(from.row,to.row),end=Math.max(from.row,to.row);start===end?(beforeHiddenRows.length===start&&(hiddenRowsPlugin.showRows(beforeHiddenRows),beforeHiddenRows.length=0),afterHiddenRows.length===this.countSourceRows()-(start+1)&&(hiddenRowsPlugin.showRows(afterHiddenRows),afterHiddenRows.length=0)):rangeEach(start,end,function(row){return hiddenRowsPlugin.showRow(row)}),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},disabled:!1,hidden:function(){if(!hiddenRowsPlugin.hiddenRows.length||!this.selection.selectedHeader.rows)return!0;beforeHiddenRows.length=0,afterHiddenRows.length=0;var $__1=this.getSelectedRange(),from=$__1.from,to=$__1.to,start=Math.min(from.row,to.row),end=Math.max(from.row,to.row),hiddenInSelection=!1;if(start===end){var totalRowsLength=this.countSourceRows();rangeEach(0,totalRowsLength,function(i){var partedHiddenLength=beforeHiddenRows.length+afterHiddenRows.length;return partedHiddenLength!==hiddenRowsPlugin.hiddenRows.length&&void(i<start?hiddenRowsPlugin.isHidden(i)&&beforeHiddenRows.push(i):hiddenRowsPlugin.isHidden(i)&&afterHiddenRows.push(i))}),totalRowsLength-=1,(beforeHiddenRows.length===start&&start>0||afterHiddenRows.length===totalRowsLength-start&&start<totalRowsLength)&&(hiddenInSelection=!0)}else rangeEach(start,end,function(i){if(hiddenRowsPlugin.isHidden(i))return hiddenInSelection=!0,!1});return!hiddenInSelection}}}Object.defineProperties(exports,{showRowItem:{get:function(){return showRowItem}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_number__,rangeEach=($__handsontable_47_helpers_47_number__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),
$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52}],216:[function(_dereq_,module,exports){Object.defineProperties(exports,{HiddenRows:{get:function(){return HiddenRows}},__esModule:{value:!0}});var $__handsontable_47_plugins_47__95_base__,$__handsontable_47_helpers_47_dom_47_element__,$__handsontable_47_helpers_47_number__,$__handsontable_47_helpers_47_array__,$__handsontable_47_plugins__,$__contextMenuItem_47_hideRow__,$__contextMenuItem_47_showRow__,BasePlugin=($__handsontable_47_plugins_47__95_base__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base"),$__handsontable_47_plugins_47__95_base__&&$__handsontable_47_plugins_47__95_base__.__esModule&&$__handsontable_47_plugins_47__95_base__||{"default":$__handsontable_47_plugins_47__95_base__})["default"],$__1=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}),addClass=$__1.addClass,removeClass=$__1.removeClass,rangeEach=($__handsontable_47_helpers_47_number__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach,$__3=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}),arrayEach=$__3.arrayEach,$__4=($__3.arrayFilter,$__handsontable_47_plugins__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins"),$__handsontable_47_plugins__&&$__handsontable_47_plugins__.__esModule&&$__handsontable_47_plugins__||{"default":$__handsontable_47_plugins__}),registerPlugin=$__4.registerPlugin,hideRowItem=($__4.getPlugin,($__contextMenuItem_47_hideRow__=_dereq_("contextMenuItem/hideRow"),$__contextMenuItem_47_hideRow__&&$__contextMenuItem_47_hideRow__.__esModule&&$__contextMenuItem_47_hideRow__||{"default":$__contextMenuItem_47_hideRow__}).hideRowItem),showRowItem=($__contextMenuItem_47_showRow__=_dereq_("contextMenuItem/showRow"),$__contextMenuItem_47_showRow__&&$__contextMenuItem_47_showRow__.__esModule&&$__contextMenuItem_47_showRow__||{"default":$__contextMenuItem_47_showRow__}).showRowItem,HiddenRows=function(hotInstance){$traceurRuntime.superConstructor($HiddenRows).call(this,hotInstance),this.settings={},this.hiddenRows=[],this.lastSelectedRow=-1},$HiddenRows=HiddenRows;$traceurRuntime.createClass(HiddenRows,{isEnabled:function(){return!!this.hot.getSettings().hiddenRows},enablePlugin:function(){var $__7=this;this.enabled||(this.hot.hasRowHeaders()?this.addHook("afterGetRowHeader",function(row,TH){return $__7.onAfterGetRowHeader(row,TH)}):this.addHook("afterRenderer",function(TD,row){return $__7.onAfterGetRowHeader(row,TD)}),this.addHook("afterContextMenuDefaultOptions",function(options){return $__7.onAfterContextMenuDefaultOptions(options)}),this.addHook("afterGetCellMeta",function(row,col,cellProperties){return $__7.onAfterGetCellMeta(row,col,cellProperties)}),this.addHook("modifyRowHeight",function(height,row){return $__7.onModifyRowHeight(height,row)}),this.addHook("beforeSetRangeStartOnly",function(coords){return $__7.onBeforeSetRangeStartOnly(coords)}),this.addHook("beforeSetRangeStart",function(coords){return $__7.onBeforeSetRangeStart(coords)}),this.addHook("beforeSetRangeEnd",function(coords){return $__7.onBeforeSetRangeEnd(coords)}),this.addHook("hiddenRow",function(row){return $__7.isHidden(row)}),this.addHook("afterCreateRow",function(index,amount){return $__7.onAfterCreateRow(index,amount)}),this.addHook("afterRemoveRow",function(index,amount){return $__7.onAfterRemoveRow(index,amount)}),this.hot.view&&this.onAfterPluginsInitialized(),$traceurRuntime.superGet(this,$HiddenRows.prototype,"enablePlugin").call(this))},updatePlugin:function(){this.disablePlugin(),this.enablePlugin(),this.onAfterPluginsInitialized(),$traceurRuntime.superGet(this,$HiddenRows.prototype,"updatePlugin").call(this)},disablePlugin:function(){this.settings={},this.hiddenRows=[],this.lastSelectedRow=-1,$traceurRuntime.superGet(this,$HiddenRows.prototype,"disablePlugin").call(this),this.resetCellsMeta()},showRows:function(rows){var $__7=this;arrayEach(rows,function(row){row=parseInt(row,10),row=$__7.getLogicalRowIndex(row),$__7.isHidden(row,!0)&&$__7.hiddenRows.splice($__7.hiddenRows.indexOf(row),1)})},showRow:function(){for(var row=[],$__9=0;$__9<arguments.length;$__9++)row[$__9]=arguments[$__9];this.showRows(row)},hideRows:function(rows){var $__7=this;arrayEach(rows,function(row){row=parseInt(row,10),row=$__7.getLogicalRowIndex(row),$__7.isHidden(row,!0)||$__7.hiddenRows.push(row)})},hideRow:function(){for(var row=[],$__10=0;$__10<arguments.length;$__10++)row[$__10]=arguments[$__10];this.hideRows(row)},isHidden:function(row){var isLogicIndex=void 0!==arguments[1]&&arguments[1];return isLogicIndex||(row=this.getLogicalRowIndex(row)),this.hiddenRows.indexOf(row)>-1},resetCellsMeta:function(){arrayEach(this.hot.getCellsMeta(),function(meta){meta&&(meta.skipRowOnPaste=!1)})},getLogicalRowIndex:function(row){return this.hot.runHooks("modifyRow",row)},onAfterGetCellMeta:function(row,col,cellProperties){if(row=this.hot.runHooks("unmodifyRow",row),this.settings.copyPasteEnabled===!1&&this.isHidden(row)?cellProperties.skipRowOnPaste=!0:cellProperties.skipRowOnPaste=!1,this.isHidden(row-1)){var firstSectionHidden=!0,i=row-1;cellProperties.className=cellProperties.className||"",cellProperties.className.indexOf("afterHiddenRow")===-1&&(cellProperties.className+=" afterHiddenRow");do{if(!this.isHidden(i)){firstSectionHidden=!1;break}i--}while(i>=0);firstSectionHidden&&cellProperties.className.indexOf("firstVisibleRow")===-1&&(cellProperties.className+=" firstVisibleRow")}else if(cellProperties.className){var classArr=cellProperties.className.split(" ");if(classArr.length){var containAfterHiddenColumn=classArr.indexOf("afterHiddenRow"),containFirstVisible=classArr.indexOf("firstVisibleRow");containAfterHiddenColumn>-1&&classArr.splice(containAfterHiddenColumn,1),containFirstVisible>-1&&classArr.splice(containFirstVisible,1),cellProperties.className=classArr.join(" ")}}},onAfterGetRowHeader:function(row,th){var tr=th.parentNode;tr&&(this.isHidden(row)?addClass(tr,"hide"):removeClass(tr,"hide"));var firstSectionHidden=!0,i=row-1;do{if(!this.isHidden(i)){firstSectionHidden=!1;break}i--}while(i>=0);firstSectionHidden&&addClass(th,"firstVisibleRow"),this.settings.indicators&&this.hot.hasRowHeaders()&&(this.isHidden(row-1)&&addClass(th,"afterHiddenRow"),this.isHidden(row+1)&&addClass(th,"beforeHiddenRow"))},onModifyRowHeight:function(height,row){return this.isHidden(row)?.1:height},onModifyCopyableRange:function(ranges){var $__7=this,newRanges=[],pushRange=function(startRow,endRow,startCol,endCol){newRanges.push({startRow:startRow,endRow:endRow,startCol:startCol,endCol:endCol})};return arrayEach(ranges,function(range){var isHidden=!0,rangeStart=0;rangeEach(range.startRow,range.endRow,function(row){$__7.isHidden(row)?(isHidden||pushRange(rangeStart,row-1,range.startCol,range.endCol),isHidden=!0):(isHidden&&(rangeStart=row),row===range.endRow&&pushRange(rangeStart,row,range.startCol,range.endCol),isHidden=!1)})}),newRanges},onBeforeSetRangeStart:function(coords){var $__7=this,actualSelection=this.hot.getSelected()||!1,lastPossibleIndex=this.hot.countRows()-1,getNextRow=function getNextRow(row){var direction=0;return actualSelection&&(direction=row>actualSelection[0]?1:-1,$__7.lastSelectedRow=actualSelection[0]),lastPossibleIndex<row||row<0?$__7.lastSelectedRow:($__7.isHidden(row)&&(row=getNextRow(row+direction)),row)};coords.row=getNextRow(coords.row)},onBeforeSetRangeStartOnly:function(coords){var $__7=this;if(!(coords.row>0)){coords.row=0;var getNextRow=function getNextRow(row){return $__7.isHidden(row)&&(row=getNextRow(++row)),row};coords.row=getNextRow(coords.row)}},onBeforeSetRangeEnd:function(coords){var $__7=this,rowCount=this.hot.countRows(),getNextRow=function getNextRow(row){return $__7.isHidden(row)&&($__7.lastSelectedRow>row||coords.row===rowCount-1?row>0?row=getNextRow(--row):rangeEach(0,$__7.lastSelectedRow,function(i){if(!$__7.isHidden(i))return row=i,!1}):row=getNextRow(++row)),row};coords.row=getNextRow(coords.row),this.lastSelectedRow=coords.row},onAfterContextMenuDefaultOptions:function(options){options.items.push(Handsontable.plugins.ContextMenu.SEPARATOR,hideRowItem(this),showRowItem(this))},onAfterCreateRow:function(index,amount){var tempHidden=[];arrayEach(this.hiddenRows,function(col){col>=index&&(col+=amount),tempHidden.push(col)}),this.hiddenRows=tempHidden},onAfterRemoveRow:function(index,amount){var tempHidden=[];arrayEach(this.hiddenRows,function(col){col>=index&&(col-=amount),tempHidden.push(col)}),this.hiddenRows=tempHidden},onAfterPluginsInitialized:function(){var $__7=this,settings=this.hot.getSettings().hiddenRows;"object"===("undefined"==typeof settings?"undefined":_typeof(settings))&&(this.settings=settings,void 0===settings.copyPasteEnabled&&(settings.copyPasteEnabled=!0),Array.isArray(settings.rows)&&this.hideRows(settings.rows),settings.copyPasteEnabled||this.addHook("modifyCopyableRange",function(ranges){return $__7.onModifyCopyableRange(ranges)}))},destroy:function(){$traceurRuntime.superGet(this,$HiddenRows.prototype,"destroy").call(this)}},{},BasePlugin),registerPlugin("hiddenRows",HiddenRows)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins":62,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base":63,"contextMenuItem/hideRow":214,"contextMenuItem/showRow":215}],217:[function(_dereq_,module,exports){Object.defineProperties(exports,{NestedHeaders:{get:function(){return NestedHeaders}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_dom_47_element__,$__handsontable_47_helpers_47_number__,$__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_object__,$__handsontable_47_plugins__,$__utils_47_ghostTable__,$__handsontable_47_plugins_47__95_base__,$__0=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}),addClass=$__0.addClass,removeClass=$__0.removeClass,hasClass=$__0.hasClass,fastInnerHTML=$__0.fastInnerHTML,empty=$__0.empty,rangeEach=($__handsontable_47_helpers_47_number__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,objectEach=($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}).objectEach,$__4=($__handsontable_47_plugins__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins"),$__handsontable_47_plugins__&&$__handsontable_47_plugins__.__esModule&&$__handsontable_47_plugins__||{"default":$__handsontable_47_plugins__}),registerPlugin=$__4.registerPlugin,GhostTable=($__4.getPlugin,($__utils_47_ghostTable__=_dereq_("utils/ghostTable"),$__utils_47_ghostTable__&&$__utils_47_ghostTable__.__esModule&&$__utils_47_ghostTable__||{"default":$__utils_47_ghostTable__}).GhostTable),BasePlugin=($__handsontable_47_plugins_47__95_base__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base"),$__handsontable_47_plugins_47__95_base__&&$__handsontable_47_plugins_47__95_base__.__esModule&&$__handsontable_47_plugins_47__95_base__||{"default":$__handsontable_47_plugins_47__95_base__})["default"],NestedHeaders=function(hotInstance){$traceurRuntime.superConstructor($NestedHeaders).call(this,hotInstance),this.settings=[],this.columnHeaderLevelCount=0,this.colspanArray=[],this.ghostTable=new GhostTable(this)},$NestedHeaders=NestedHeaders;$traceurRuntime.createClass(NestedHeaders,{isEnabled:function(){return!!this.hot.getSettings().nestedHeaders},enablePlugin:function(){var $__7=this;this.enabled||(this.settings=this.hot.getSettings().nestedHeaders,this.addHook("afterGetColumnHeaderRenderers",function(array){return $__7.onAfterGetColumnHeaderRenderers(array)}),this.addHook("afterInit",function(){return $__7.onAfterInit()}),this.addHook("afterOnCellMouseDown",function(event,coords,TD){return $__7.onAfterOnCellMouseDown(event,coords,TD)}),this.addHook("beforeOnCellMouseOver",function(event,coords,TD,blockCalculations){return $__7.onBeforeOnCellMouseOver(event,coords,TD,blockCalculations)}),this.addHook("afterViewportColumnCalculatorOverride",function(calc){return $__7.onAfterViewportColumnCalculatorOverride(calc)}),this.addHook("modifyColWidth",function(width,column){return $__7.onModifyColWidth(width,column)}),this.setupColspanArray(),this.checkForFixedColumnsCollision(),this.columnHeaderLevelCount=this.hot.view?this.hot.view.wt.getSetting("columnHeaders").length:0,$traceurRuntime.superGet(this,$NestedHeaders.prototype,"enablePlugin").call(this))},disablePlugin:function(){this.clearColspans(),this.settings=[],this.columnHeaderLevelCount=0,this.colspanArray=[],this.ghostTable.clear(),$traceurRuntime.superGet(this,$NestedHeaders.prototype,"disablePlugin").call(this)},updatePlugin:function(){this.disablePlugin(),this.enablePlugin(),$traceurRuntime.superGet(this,$NestedHeaders.prototype,"updatePlugin").call(this),this.ghostTable.buildWidthsMapper()},clearColspans:function(){if(this.hot.view)for(var headerLevels=this.hot.view.wt.getSetting("columnHeaders").length,mainHeaders=this.hot.view.wt.wtTable.THEAD,topHeaders=this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.THEAD,topLeftCornerHeaders=this.hot.view.wt.wtOverlays.topLeftCornerOverlay?this.hot.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.THEAD:null,i=0;i<headerLevels;i++){var masterLevel=mainHeaders.childNodes[i];if(!masterLevel)break;for(var topLevel=topHeaders.childNodes[i],topLeftCornerLevel=topLeftCornerHeaders?topLeftCornerHeaders.childNodes[i]:null,j=0,masterNodes=masterLevel.childNodes.length;j<masterNodes;j++)masterLevel.childNodes[j].removeAttribute("colspan"),topLevel&&topLevel.childNodes[j]&&topLevel.childNodes[j].removeAttribute("colspan"),topLeftCornerHeaders&&topLeftCornerLevel&&topLeftCornerLevel.childNodes[j]&&topLeftCornerLevel.childNodes[j].removeAttribute("colspan")}},checkForFixedColumnsCollision:function(){var $__7=this,fixedColumnsLeft=this.hot.getSettings().fixedColumnsLeft;arrayEach(this.colspanArray,function(value,i){$__7.getNestedParent(i,fixedColumnsLeft)!==fixedColumnsLeft&&console.warn("You have declared a Nested Header overlapping the Fixed Columns section - it may lead to visual glitches. To prevent that kind of problems, split the nested headers between the fixed and non-fixed columns.")})},checkForOverlappingHeaders:function(){var $__7=this;arrayEach(this.colspanArray,function(level,i){arrayEach($__7.colspanArray[i],function(header,j){if(header.colspan>1){var row=$__7.levelToRowCoords(i),childHeaders=$__7.getChildHeaders(row,j);if(childHeaders.length>0){var childColspanSum=0;return arrayEach(childHeaders,function(col,i){childColspanSum+=$__7.getColspan(row+1,col)}),childColspanSum>header.colspan&&console.warn("Your Nested Headers plugin setup contains overlapping headers. This kind of configuration is currently not supported and might result in glitches."),!1}}})})},setupColspanArray:function(){function checkIfExists(array,index){array[index]||(array[index]=[])}var $__7=this;objectEach(this.settings,function(levelValue,level){objectEach(levelValue,function(val,col,levelValue){if(checkIfExists($__7.colspanArray,level),void 0===levelValue[col].colspan)$__7.colspanArray[level].push({label:levelValue[col]||"",colspan:1,hidden:!1});else{var colspan=levelValue[col].colspan||1;$__7.colspanArray[level].push({label:levelValue[col].label||"",colspan:colspan,hidden:!1}),$__7.fillColspanArrayWithDummies(colspan,level)}})})},fillColspanArrayWithDummies:function(colspan,level){var $__7=this;rangeEach(0,colspan-2,function(i){$__7.colspanArray[level].push({label:"",colspan:1,hidden:!0})})},headerRendererFactory:function(headerRow){var _this=this;return function(index,TH){if(TH.removeAttribute("colspan"),removeClass(TH,"hiddenHeader"),_this.colspanArray[headerRow][index]&&_this.colspanArray[headerRow][index].colspan){var colspan=_this.colspanArray[headerRow][index].colspan,fixedColumnsLeft=_this.hot.getSettings().fixedColumnsLeft||0,topLeftCornerOverlay=_this.hot.view.wt.wtOverlays.topLeftCornerOverlay,leftOverlay=_this.hot.view.wt.wtOverlays.leftOverlay,isInTopLeftCornerOverlay=!!topLeftCornerOverlay&&topLeftCornerOverlay.clone.wtTable.THEAD.contains(TH),isInLeftOverlay=!!leftOverlay&&leftOverlay.clone.wtTable.THEAD.contains(TH);colspan>1&&TH.setAttribute("colspan",isInTopLeftCornerOverlay||isInLeftOverlay?Math.min(colspan,fixedColumnsLeft-index):colspan),(isInTopLeftCornerOverlay||isInLeftOverlay&&index===fixedColumnsLeft-1)&&addClass(TH,"overlayEdge")}_this.colspanArray[headerRow][index]&&_this.colspanArray[headerRow][index].hidden&&addClass(TH,"hiddenHeader"),empty(TH);var divEl=document.createElement("DIV");addClass(divEl,"relative");var spanEl=document.createElement("SPAN");addClass(spanEl,"colHeader"),fastInnerHTML(spanEl,_this.colspanArray[headerRow][index]?_this.colspanArray[headerRow][index].label||"":""),divEl.appendChild(spanEl),TH.appendChild(divEl),_this.hot.runHooks("afterGetColHeader",index,TH)}},getColspan:function(row,column){var header=this.colspanArray[this.rowCoordsToLevel(row)][column];return header?header.colspan:1},levelToRowCoords:function(level){return level-this.columnHeaderLevelCount},rowCoordsToLevel:function(row){return row+this.columnHeaderLevelCount},getNestedParent:function(level,column){if(level<0)return!1;var colspan=this.colspanArray[level][column]?this.colspanArray[level][column].colspan:1,hidden=!!this.colspanArray[level][column]&&this.colspanArray[level][column].hidden;if(colspan>1||1===colspan&&hidden===!1)return column;var parentCol=column-1;do{if(this.colspanArray[level][parentCol].colspan>1)break;parentCol--}while(column>=0);return parentCol},getChildHeaders:function(row,column){var level=this.rowCoordsToLevel(row),childColspanLevel=this.colspanArray[level+1],nestedParentCol=this.getNestedParent(level,column),colspan=this.colspanArray[level][column].colspan,childHeaderRange=[];return childColspanLevel?(rangeEach(nestedParentCol,nestedParentCol+colspan-1,function(i){childColspanLevel[i]&&childColspanLevel[i].colspan>1&&(colspan-=childColspanLevel[i].colspan-1),childColspanLevel[i]&&!childColspanLevel[i].hidden&&childHeaderRange.indexOf(i)===-1&&childHeaderRange.push(i)}),childHeaderRange):childHeaderRange},fillTheRemainingColspans:function(){var $__7=this;objectEach(this.settings,function(levelValue,level){rangeEach($__7.colspanArray[level].length-1,$__7.hot.countCols()-1,function(col){$__7.colspanArray[level].push({label:levelValue[col]||"",colspan:1,hidden:!1})},!0)})},updateHeadersHighlight:function(){var $__7=this,selection=this.hot.getSelected();if(void 0!==selection){var classHighlight="ht__highlight",wtOverlays=this.hot.view.wt.wtOverlays,selectionByHeader=this.hot.selection.selectedHeader.cols,from=Math.min(selection[1],selection[3]),to=Math.max(selection[1],selection[3]),levelLimit=selectionByHeader?-1:this.columnHeaderLevelCount-1;rangeEach(from,to,function(column){for(var $__11=function(level){var visibleColumnIndex=$__7.getNestedParent(level,column),topTH=wtOverlays.topOverlay?wtOverlays.topOverlay.clone.wtTable.getColumnHeader(visibleColumnIndex,level):void 0,topLeftTH=wtOverlays.topLeftCornerOverlay?wtOverlays.topLeftCornerOverlay.clone.wtTable.getColumnHeader(visibleColumnIndex,level):void 0,listTH=[topTH,topLeftTH],colspanLen=$__7.getColspan(level-$__7.columnHeaderLevelCount,visibleColumnIndex),isInSelection=visibleColumnIndex>=from&&visibleColumnIndex+colspanLen-1<=to;arrayEach(listTH,function(TH,index,array){return void 0!==TH&&void(!selectionByHeader&&level<levelLimit||selectionByHeader&&!isInSelection?hasClass(TH,classHighlight)&&removeClass(TH,classHighlight):hasClass(TH,classHighlight)||addClass(TH,classHighlight))})},level=$__7.columnHeaderLevelCount-1;level>-1;level--)$__11(level)})}},onAfterViewportColumnCalculatorOverride:function(calc){var $__7=this,newStartColumn=calc.startColumn;rangeEach(0,Math.max(this.columnHeaderLevelCount-1,0),function(l){var startColumnNestedParent=$__7.getNestedParent(l,calc.startColumn);if(startColumnNestedParent<calc.startColumn){var earlierColumn=Math.min(newStartColumn,startColumnNestedParent);newStartColumn=earlierColumn}}),calc.startColumn=newStartColumn},onAfterOnCellMouseDown:function(event,coords,TD){if(coords.row<0){var colspan=this.getColspan(coords.row,coords.col),lastColIndex=coords.col+colspan-1;if(colspan>1){var lastRowIndex=this.hot.countRows()-1;this.hot.selection.setRangeEnd(new WalkontableCellCoords(lastRowIndex,lastColIndex))}}},onBeforeOnCellMouseOver:function(event,coords,TD,blockCalculations){var $__10;if(coords.row<0&&coords.col>=0&&this.hot.view.isMouseDown()){var $__9=this.hot.getSelectedRange(),from=$__9.from,to=$__9.to,colspan=this.getColspan(coords.row,coords.col),lastColIndex=coords.col+colspan-1,changeDirection=!1;from.col<=to.col?(coords.col<from.col&&lastColIndex===to.col||coords.col<from.col&&lastColIndex<from.col||coords.col<from.col&&lastColIndex>=from.col&&lastColIndex<to.col)&&(changeDirection=!0):(coords.col<to.col&&lastColIndex>from.col||coords.col>from.col||coords.col<=to.col&&lastColIndex>from.col||coords.col>to.col&&lastColIndex>from.col)&&(changeDirection=!0),changeDirection&&($__10=[to.col,from.col],from.col=$__10[0],to.col=$__10[1],$__10),colspan>1&&(blockCalculations.column=!0,blockCalculations.cell=!0,this.hot.selection.setSelectedHeaders(!1,!0),from.col===to.col&&(lastColIndex<=from.col&&coords.col<from.col?(this.hot.selection.setRangeStartOnly(new WalkontableCellCoords(from.row,to.col)),this.hot.selection.setRangeEnd(new WalkontableCellCoords(to.row,coords.col))):(this.hot.selection.setRangeStartOnly(new WalkontableCellCoords(from.row,coords.col<from.col?coords.col:from.col)),this.hot.selection.setRangeEnd(new WalkontableCellCoords(to.row,lastColIndex>to.col?lastColIndex:to.col)))),from.col<to.col&&(this.hot.selection.setRangeStartOnly(new WalkontableCellCoords(from.row,coords.col<from.col?coords.col:from.col)),this.hot.selection.setRangeEnd(new WalkontableCellCoords(to.row,lastColIndex))),from.col>to.col&&(this.hot.selection.setRangeStartOnly(new WalkontableCellCoords(from.row,from.col)),this.hot.selection.setRangeEnd(new WalkontableCellCoords(to.row,coords.col))))}},onAfterInit:function(){this.columnHeaderLevelCount=this.hot.view.wt.getSetting("columnHeaders").length,this.fillTheRemainingColspans(),this.checkForOverlappingHeaders(),this.ghostTable.buildWidthsMapper()},onAfterGetColumnHeaderRenderers:function(renderersArray){if(renderersArray){renderersArray.length=0;for(var headersCount=this.colspanArray.length,i=headersCount-1;i>=0;i--)renderersArray.push(this.headerRendererFactory(i));renderersArray.reverse()}this.updateHeadersHighlight()},onModifyColWidth:function(width,column){var cachedWidth=this.ghostTable.widthsCache[column];return width>cachedWidth?width:cachedWidth},destroy:function(){this.settings=null,this.columnHeaderLevelCount=null,this.colspanArray=null,$traceurRuntime.superGet(this,$NestedHeaders.prototype,"destroy").call(this)}},{},BasePlugin),registerPlugin("nestedHeaders",NestedHeaders)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins":62,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base":63,"utils/ghostTable":218}],218:[function(_dereq_,module,exports){Object.defineProperties(exports,{GhostTable:{get:function(){return GhostTable}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_dom_47_element__,fastInnerHTML=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}).fastInnerHTML,GhostTable=function(plugin){this.nestedHeaders=plugin,this.container=void 0,this.widthsCache=[]};$traceurRuntime.createClass(GhostTable,{buildWidthsMapper:function(){this.container=document.createElement("div"),this.buildGhostTable(this.container),this.nestedHeaders.hot.rootElement.appendChild(this.container);for(var columns=this.container.querySelectorAll("tr:last-of-type td"),maxColumns=columns.length,i=0;i<maxColumns;i++)this.widthsCache.push(columns[i].offsetWidth);this.container.parentNode.removeChild(this.container),this.container=null,this.nestedHeaders.hot.render()},buildGhostTable:function(container){for(var d=document,fragment=d.createDocumentFragment(),table=d.createElement("table"),lastRowColspan=!1,isDropdownEnabled=!!this.nestedHeaders.hot.getSettings().dropdownMenu,maxRows=this.nestedHeaders.colspanArray.length,maxCols=this.nestedHeaders.hot.countCols(),lastRowIndex=maxRows-1,row=0;row<maxRows;row++){var tr=d.createElement("tr");lastRowColspan=!1;for(var col=0;col<maxCols;col++){var td=d.createElement("td"),headerObj=this.nestedHeaders.colspanArray[row][col];headerObj&&!headerObj.hidden&&(row===lastRowIndex&&(headerObj.colspan>1&&(lastRowColspan=!0),isDropdownEnabled&&(headerObj.label+='<button class="changeType"></button>')),fastInnerHTML(td,headerObj.label),td.colSpan=headerObj.colspan,tr.appendChild(td))}table.appendChild(tr)}if(lastRowColspan){for(var tr$__2=d.createElement("tr"),col$__3=0;col$__3<maxCols;col$__3++){var td$__4=d.createElement("td");tr$__2.appendChild(td$__4)}table.appendChild(tr$__2)}fragment.appendChild(table),container.appendChild(fragment)},clear:function(){this.container=null,this.widthsCache.length=0}},{})},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47}],219:[function(_dereq_,module,exports){Object.defineProperties(exports,{DataManager:{get:function(){return DataManager}},__esModule:{value:!0}});var $__handsontable_47_helpers_47_number__,$__handsontable_47_helpers_47_object__,$__handsontable_47_helpers_47_array__,$__handsontable_47_utils_47_recordTranslator__,rangeEach=($__handsontable_47_helpers_47_number__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach,$__1=($__handsontable_47_helpers_47_object__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}),objectEach=$__1.objectEach,arrayEach=($__1.extend,($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach),getTranslator=($__handsontable_47_utils_47_recordTranslator__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/utils/recordTranslator"),$__handsontable_47_utils_47_recordTranslator__&&$__handsontable_47_utils_47_recordTranslator__.__esModule&&$__handsontable_47_utils_47_recordTranslator__||{"default":$__handsontable_47_utils_47_recordTranslator__}).getTranslator,DataManager=function(nestedRowsPlugin,hotInstance,sourceData){this.hot=hotInstance,this.data=sourceData,this.plugin=nestedRowsPlugin,this.parentReference=new WeakMap,this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},this.recordTranslator=getTranslator(this.hot)};$traceurRuntime.createClass(DataManager,{rewriteCache:function(){var $__4=this;this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},rangeEach(0,this.data.length-1,function(i){$__4.cacheNode($__4.data[i],0,null)})},cacheNode:function(node,level,parent){var $__4=this;this.cache.levels[level]||(this.cache.levels[level]=[],this.cache.levelCount++),this.cache.levels[level].push(node),this.cache.rows.push(node),this.cache.nodeInfo.set(node,{parent:parent,row:this.cache.rows.length-1,level:level}),this.hasChildren(node)&&arrayEach(node.__children,function(elem,i){$__4.cacheNode(elem,level+1,node)})},getDataObject:function(row){return null==row?null:this.cache.rows[row]},readTreeNodes:function(parent,readCount,neededIndex,neededObject){var $__4=this,rootLevel=!1;return isNaN(readCount)&&readCount.end?readCount:(parent||(parent={__children:this.data},rootLevel=!0,readCount--),null!=neededIndex&&readCount===neededIndex?{result:parent,end:!0}:null!=neededObject&&parent===neededObject?{result:readCount,end:!0}:(readCount++,parent.__children&&arrayEach(parent.__children,function(val,i){if($__4.parentReference.set(val,rootLevel?null:parent),readCount=$__4.readTreeNodes(val,readCount,neededIndex,neededObject),isNaN(readCount)&&readCount.end)return!1}),readCount))},updateParentReference:function(){this.readTreeNodes({__children:this.data},0,this.hot.countRows())},mockParent:function(){var fakeParent=this.mockNode();return fakeParent.__children=this.data,fakeParent},mockNode:function(){var fakeNode={};return objectEach(this.data[0],function(val,key){fakeNode[key]=null}),fakeNode},getRowIndex:function(rowObj){return null==rowObj?null:this.cache.nodeInfo.get(rowObj).row},getRowIndexWithinParent:function(row){var rowObj=null;rowObj=isNaN(row)?row:this.getDataObject(row);var parent=this.getRowParent(row);return null==parent?this.data.indexOf(rowObj):parent.__children.indexOf(rowObj)},countAllRows:function(){
var rootNodeMock={__children:this.data};return this.countChildren(rootNodeMock)},countChildren:function(parent){var $__4=this,rowCount=0;return isNaN(parent)||(parent=this.getDataObject(parent)),parent&&parent.__children?(arrayEach(parent.__children,function(elem,i){rowCount++,elem.__children&&(rowCount+=$__4.countChildren(elem))}),rowCount):0},getRowParent:function(row){var rowObject;return rowObject=isNaN(row)?row:this.getDataObject(row),this.getRowObjectParent(rowObject)},getRowObjectParent:function(rowObject){return"object"!==("undefined"==typeof rowObject?"undefined":_typeof(rowObject))?null:this.cache.nodeInfo.get(rowObject).parent},getRowLevel:function(row){var rowObject=null;return rowObject=isNaN(row)?row:this.getDataObject(row),rowObject?this.getRowObjectLevel(rowObject):null},getRowObjectLevel:function(rowObject){return null==rowObject?null:this.cache.nodeInfo.get(rowObject).level},hasChildren:function(row){return isNaN(row)||(row=this.getDataObject(row)),!(!row.__children||!row.__children.length)},isParent:function(row){return isNaN(row)||(row=this.getDataObject(row)),!!row.hasOwnProperty("__children")},addChild:function(parent,element){this.hot.runHooks("beforeAddChild",parent,element);var parentIndex=null;parent&&(parentIndex=this.getRowIndex(parent)),this.hot.runHooks("beforeCreateRow",parentIndex+this.countChildren(parent)+1,1);var functionalParent=parent;parent||(functionalParent=this.mockParent()),functionalParent.__children||(functionalParent.__children=[]),element||(element=this.mockNode()),functionalParent.__children.push(element),this.rewriteCache();var newRowIndex=this.getRowIndex(element);this.hot.runHooks("afterCreateRow",newRowIndex,1),this.hot.runHooks("afterAddChild",parent,element)},addChildAtIndex:function(parent,index,element,globalIndex){this.hot.runHooks("beforeAddChild",parent,element,index),this.hot.runHooks("beforeCreateRow",globalIndex+1,1);var functionalParent=parent;parent||(functionalParent=this.mockParent()),functionalParent.__children||(functionalParent.__children=[]),element||(element=this.mockNode()),functionalParent.__children.splice(index,null,element),this.rewriteCache(),this.hot.runHooks("afterCreateRow",globalIndex+1,1),this.hot.runHooks("afterAddChild",parent,element,index)},addSibling:function(index){var where=void 0!==arguments[1]?arguments[1]:"below",translatedIndex=this.translateTrimmedRow(index),parent=this.getRowParent(translatedIndex),indexWithinParent=this.getRowIndexWithinParent(translatedIndex);switch(where){case"below":this.addChildAtIndex(parent,indexWithinParent+1,null,index);break;case"above":this.addChildAtIndex(parent,indexWithinParent,null,index)}},detachFromParent:function(elements){var forceRender=void 0===arguments[1]||arguments[1],$__4=this,element=null,rowObjects=[];Array.isArray(elements)?(rangeEach(elements[0],elements[2],function(i){var translatedIndex=$__4.translateTrimmedRow(i);rowObjects.push($__4.getDataObject(translatedIndex))}),rangeEach(0,rowObjects.length-2,function(i){$__4.detachFromParent(rowObjects[i],!1)}),element=rowObjects[rowObjects.length-1]):element=elements;var childRowIndex=this.getRowIndex(element),indexWithinParent=this.getRowIndexWithinParent(element),parent=this.getRowParent(element),grandparent=this.getRowParent(parent),grandparentRowIndex=this.getRowIndex(grandparent),movedElementRowIndex=null;this.hot.runHooks("beforeDetachChild",parent,element),null!=indexWithinParent&&(this.hot.runHooks("beforeRemoveRow",childRowIndex,1,[childRowIndex],this.plugin.pluginName),parent.__children.splice(indexWithinParent,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",childRowIndex,1,[childRowIndex],this.plugin.pluginName),grandparent?(movedElementRowIndex=grandparentRowIndex+this.countChildren(grandparent),this.hot.runHooks("beforeCreateRow",movedElementRowIndex,1,this.plugin.pluginName),grandparent.__children.push(element)):(movedElementRowIndex=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",movedElementRowIndex,1,this.plugin.pluginName),this.data.push(element))),this.rewriteCache(),this.hot.runHooks("afterCreateRow",movedElementRowIndex,1,this.plugin.pluginName),forceRender&&this.hot.render(),this.hot.runHooks("afterDetachChild",parent,element)},filterData:function(index,amount,logicRows){var $__4=this,elementsToRemove=[];arrayEach(logicRows,function(elem,ind){elementsToRemove.push($__4.getDataObject(elem))}),arrayEach(elementsToRemove,function(elem,ind){var indexWithinParent=$__4.getRowIndexWithinParent(elem),tempParent=$__4.getRowParent(elem);null===tempParent?$__4.data.splice(indexWithinParent,1):tempParent.__children.splice(indexWithinParent,1)}),this.rewriteCache()},spliceData:function(index,amount,element){if(index=this.translateTrimmedRow(index),null!=index){var previousElement=this.getDataObject(index-1),newRowParent=null,indexWithinParent=null;previousElement&&previousElement.__children&&0===previousElement.__children.length?(newRowParent=previousElement,indexWithinParent=0):(newRowParent=this.getRowParent(index),indexWithinParent=this.getRowIndexWithinParent(index)),newRowParent?element?newRowParent.__children.splice(indexWithinParent,amount,element):newRowParent.__children.splice(indexWithinParent,amount):element?this.data.splice(indexWithinParent,amount,element):this.data.splice(indexWithinParent,amount),this.rewriteCache()}},moveRow:function(fromIndex,toIndex){var targetIsParent=this.isParent(toIndex),fromParent=this.getRowParent(fromIndex),indexInFromParent=this.getRowIndexWithinParent(fromIndex),toParent=this.getRowParent(toIndex);null==toParent&&(toParent=this.getRowParent(toIndex-1)),null==toParent&&(toParent=this.getDataObject(toIndex-1)),toParent?toParent.__children||(toParent.__children=[]):(toParent=this.getDataObject(toIndex),toParent.__children=[]);var previousToTargetParent=this.getRowParent(toIndex-1),indexInToParent=targetIsParent?this.countChildren(previousToTargetParent):this.getRowIndexWithinParent(toIndex),elemToMove=fromParent.__children.slice(indexInFromParent,indexInFromParent+1);fromParent.__children.splice(indexInFromParent,1),toParent.__children.splice(indexInToParent,0,elemToMove[0])},moveCellMeta:function(fromIndex,toIndex){var rowOfMeta=this.hot.getCellMetaAtRow(fromIndex);this.hot.spliceCellsMeta(toIndex,0,rowOfMeta),this.hot.spliceCellsMeta(fromIndex+(fromIndex<toIndex?0:1),1)},translateTrimmedRow:function(row){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(row):row}},{})},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../../node_modules/hot-builder/node_modules/handsontable/src/utils/recordTranslator":132}],220:[function(_dereq_,module,exports){Object.defineProperties(exports,{NestedRows:{get:function(){return NestedRows}},__esModule:{value:!0}});var $__handsontable_47_plugins_47__95_base__,$__handsontable_47_plugins__,$__handsontable_47_helpers_47_number__,$__handsontable_47_helpers_47_array__,$__data_47_dataManager__,$__ui_47_collapsing__,$__ui_47_headers__,$__ui_47_contextMenu__,BasePlugin=($__handsontable_47_plugins_47__95_base__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base"),$__handsontable_47_plugins_47__95_base__&&$__handsontable_47_plugins_47__95_base__.__esModule&&$__handsontable_47_plugins_47__95_base__||{"default":$__handsontable_47_plugins_47__95_base__})["default"],registerPlugin=($__handsontable_47_plugins__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins"),$__handsontable_47_plugins__&&$__handsontable_47_plugins__.__esModule&&$__handsontable_47_plugins__||{"default":$__handsontable_47_plugins__}).registerPlugin,$__2=($__handsontable_47_helpers_47_number__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}),rangeEach=$__2.rangeEach,arrayEach=($__2.rangeEachReverse,($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach),DataManager=($__data_47_dataManager__=_dereq_("data/dataManager"),$__data_47_dataManager__&&$__data_47_dataManager__.__esModule&&$__data_47_dataManager__||{"default":$__data_47_dataManager__}).DataManager,CollapsingUI=($__ui_47_collapsing__=_dereq_("ui/collapsing"),$__ui_47_collapsing__&&$__ui_47_collapsing__.__esModule&&$__ui_47_collapsing__||{"default":$__ui_47_collapsing__}).CollapsingUI,HeadersUI=($__ui_47_headers__=_dereq_("ui/headers"),$__ui_47_headers__&&$__ui_47_headers__.__esModule&&$__ui_47_headers__||{"default":$__ui_47_headers__}).HeadersUI,ContextMenuUI=($__ui_47_contextMenu__=_dereq_("ui/contextMenu"),$__ui_47_contextMenu__&&$__ui_47_contextMenu__.__esModule&&$__ui_47_contextMenu__||{"default":$__ui_47_contextMenu__}).ContextMenuUI,privatePool=new WeakMap,NestedRows=function(hotInstance){privatePool.set(this,{changeSelection:!1,movedToFirstChild:!1,movedToCollapsed:!1,skipRender:null}),this.sourceData=null,this.trimRowsPlugin=null,this.bindRowsWithHeadersPlugin=null,this.dataManager=null,this.headersUI=null,$traceurRuntime.superConstructor($NestedRows).call(this,hotInstance)},$NestedRows=NestedRows;$traceurRuntime.createClass(NestedRows,{isEnabled:function(){return!!this.hot.getSettings().nestedRows},enablePlugin:function(){var $__8=this;this.sourceData=this.hot.getSourceData(),this.trimRowsPlugin=this.hot.getPlugin("trimRows"),this.manualRowMovePlugin=this.hot.getPlugin("manualRowMove"),this.bindRowsWithHeadersPlugin=this.hot.getPlugin("bindRowsWithHeaders"),this.dataManager=new DataManager(this,this.hot,this.sourceData),this.collapsingUI=new CollapsingUI(this,this.hot,this.trimRowsPlugin),this.headersUI=new HeadersUI(this,this.hot),this.contextMenuUI=new ContextMenuUI(this,this.hot),this.dataManager.rewriteCache(),this.addHook("afterInit",function(){for(var $__29,args=[],$__10=0;$__10<arguments.length;$__10++)args[$__10]=arguments[$__10];return($__29=$__8).onAfterInit.apply($__29,$traceurRuntime.spread(args))}),this.addHook("beforeRender",function(){for(var $__29,args=[],$__11=0;$__11<arguments.length;$__11++)args[$__11]=arguments[$__11];return($__29=$__8).onBeforeRender.apply($__29,$traceurRuntime.spread(args))}),this.addHook("modifyRowData",function(){for(var $__29,args=[],$__12=0;$__12<arguments.length;$__12++)args[$__12]=arguments[$__12];return($__29=$__8).onModifyRowData.apply($__29,$traceurRuntime.spread(args))}),this.addHook("modifySourceLength",function(){for(var $__29,args=[],$__13=0;$__13<arguments.length;$__13++)args[$__13]=arguments[$__13];return($__29=$__8).onModifySourceLength.apply($__29,$traceurRuntime.spread(args))}),this.addHook("beforeDataSplice",function(){for(var $__29,args=[],$__14=0;$__14<arguments.length;$__14++)args[$__14]=arguments[$__14];return($__29=$__8).onBeforeDataSplice.apply($__29,$traceurRuntime.spread(args))}),this.addHook("beforeDataFilter",function(){for(var $__29,args=[],$__15=0;$__15<arguments.length;$__15++)args[$__15]=arguments[$__15];return($__29=$__8).onBeforeDataFilter.apply($__29,$traceurRuntime.spread(args))}),this.addHook("afterContextMenuDefaultOptions",function(){for(var $__29,args=[],$__16=0;$__16<arguments.length;$__16++)args[$__16]=arguments[$__16];return($__29=$__8).onAfterContextMenuDefaultOptions.apply($__29,$traceurRuntime.spread(args))}),this.addHook("afterGetRowHeader",function(){for(var $__29,args=[],$__17=0;$__17<arguments.length;$__17++)args[$__17]=arguments[$__17];return($__29=$__8).onAfterGetRowHeader.apply($__29,$traceurRuntime.spread(args))}),this.addHook("beforeOnCellMouseDown",function(){for(var $__29,args=[],$__18=0;$__18<arguments.length;$__18++)args[$__18]=arguments[$__18];return($__29=$__8).onBeforeOnCellMouseDown.apply($__29,$traceurRuntime.spread(args))}),this.addHook("afterRemoveRow",function(){for(var $__29,args=[],$__19=0;$__19<arguments.length;$__19++)args[$__19]=arguments[$__19];return($__29=$__8).onAfterRemoveRow.apply($__29,$traceurRuntime.spread(args))}),this.addHook("modifyRemovedAmount",function(){for(var $__29,args=[],$__20=0;$__20<arguments.length;$__20++)args[$__20]=arguments[$__20];return($__29=$__8).onModifyRemovedAmount.apply($__29,$traceurRuntime.spread(args))}),this.addHook("beforeAddChild",function(){for(var $__29,args=[],$__21=0;$__21<arguments.length;$__21++)args[$__21]=arguments[$__21];return($__29=$__8).onBeforeAddChild.apply($__29,$traceurRuntime.spread(args))}),this.addHook("afterAddChild",function(){for(var $__29,args=[],$__22=0;$__22<arguments.length;$__22++)args[$__22]=arguments[$__22];return($__29=$__8).onAfterAddChild.apply($__29,$traceurRuntime.spread(args))}),this.addHook("beforeDetachChild",function(){for(var $__29,args=[],$__23=0;$__23<arguments.length;$__23++)args[$__23]=arguments[$__23];return($__29=$__8).onBeforeDetachChild.apply($__29,$traceurRuntime.spread(args))}),this.addHook("afterDetachChild",function(){for(var $__29,args=[],$__24=0;$__24<arguments.length;$__24++)args[$__24]=arguments[$__24];return($__29=$__8).onAfterDetachChild.apply($__29,$traceurRuntime.spread(args))}),this.addHook("modifyRowHeaderWidth",function(){for(var $__29,args=[],$__25=0;$__25<arguments.length;$__25++)args[$__25]=arguments[$__25];return($__29=$__8).onModifyRowHeaderWidth.apply($__29,$traceurRuntime.spread(args))}),this.addHook("afterCreateRow",function(){for(var $__29,args=[],$__26=0;$__26<arguments.length;$__26++)args[$__26]=arguments[$__26];return($__29=$__8).onAfterCreateRow.apply($__29,$traceurRuntime.spread(args))}),this.addHook("beforeRowMove",function(){for(var $__29,args=[],$__27=0;$__27<arguments.length;$__27++)args[$__27]=arguments[$__27];return($__29=$__8).onBeforeRowMove.apply($__29,$traceurRuntime.spread(args))}),this.addHook("afterRowMove",function(){for(var $__29,args=[],$__28=0;$__28<arguments.length;$__28++)args[$__28]=arguments[$__28];return($__29=$__8).onAfterRowMove.apply($__29,$traceurRuntime.spread(args))}),this.trimRowsPlugin.isEnabled()||(this.trimRowsPlugin.enablePlugin(),this.hot.getSettings().trimRows=!0),$traceurRuntime.superGet(this,$NestedRows.prototype,"enablePlugin").call(this)},disablePlugin:function(){$traceurRuntime.superGet(this,$NestedRows.prototype,"disablePlugin").call(this)},updatePlugin:function(){this.disablePlugin(),this.enablePlugin(),$traceurRuntime.superGet(this,$NestedRows.prototype,"updatePlugin").call(this)},onBeforeRowMove:function(rows,target){var $__29,i,priv=privatePool.get(this),rowsLen=rows.length,translatedStartIndexes=[],translatedTargetIndex=this.dataManager.translateTrimmedRow(target),allowMove=!0,fromParent=null,toParent=null,sameParent=null;for(i=0;i<rowsLen;i++)translatedStartIndexes.push(this.dataManager.translateTrimmedRow(rows[i])),this.dataManager.isParent(translatedStartIndexes[i])&&(allowMove=!1);if(translatedStartIndexes.indexOf(translatedTargetIndex)>-1||!allowMove)return!1;if(fromParent=this.dataManager.getRowParent(translatedStartIndexes[0]),toParent=this.dataManager.getRowParent(translatedTargetIndex),null==toParent&&(toParent=this.dataManager.getRowParent(translatedTargetIndex-1)),null==toParent&&(toParent=this.dataManager.getDataObject(translatedTargetIndex-1),priv.movedToFirstChild=!0),!toParent)return!1;for(sameParent=fromParent===toParent,priv.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(toParent),this.collapsingUI.collapsedRowsStash.stash(),sameParent||(($__29=Math).max.apply($__29,$traceurRuntime.spread(translatedStartIndexes))<=translatedTargetIndex?this.collapsingUI.collapsedRowsStash.shiftStash(translatedStartIndexes[0],-1*rows.length):this.collapsingUI.collapsedRowsStash.shiftStash(translatedTargetIndex,rows.length)),priv.changeSelection=!0,(translatedStartIndexes[rowsLen-1]<=translatedTargetIndex&&sameParent||priv.movedToFirstChild===!0)&&(rows.reverse(),translatedStartIndexes.reverse(),priv.movedToFirstChild!==!0&&translatedTargetIndex--),i=0;i<rowsLen;i++)this.dataManager.moveRow(translatedStartIndexes[i],translatedTargetIndex);var movingDown=translatedStartIndexes[translatedStartIndexes.length-1]<translatedTargetIndex;if(movingDown)for(i=rowsLen-1;i>=0;i--)this.dataManager.moveCellMeta(translatedStartIndexes[i],translatedTargetIndex);else for(i=0;i<rowsLen;i++)this.dataManager.moveCellMeta(translatedStartIndexes[i],translatedTargetIndex);return(translatedStartIndexes[rowsLen-1]<=translatedTargetIndex&&sameParent||this.dataManager.isParent(translatedTargetIndex))&&rows.reverse(),this.dataManager.rewriteCache(),!1},onAfterRowMove:function(rows,target){var $__29,priv=privatePool.get(this);if(priv.changeSelection){var rowsLen=rows.length,startRow=0,endRow=0,translatedTargetIndex=null,selection=null,lastColIndex=null;if(this.collapsingUI.collapsedRowsStash.applyStash(),translatedTargetIndex=this.dataManager.translateTrimmedRow(target),priv.movedToFirstChild)priv.movedToFirstChild=!1,startRow=target,endRow=target+rowsLen-1,target>=($__29=Math).max.apply($__29,$traceurRuntime.spread(rows))&&(startRow-=rowsLen,endRow-=rowsLen);else if(priv.movedToCollapsed){var parentObject=this.dataManager.getRowParent(translatedTargetIndex-1);null==parentObject&&(parentObject=this.dataManager.getDataObject(translatedTargetIndex-1));var parentIndex=this.dataManager.getRowIndex(parentObject);startRow=parentIndex,endRow=startRow}else rows[rowsLen-1]<target?(endRow=target-1,startRow=endRow-rowsLen+1):(startRow=target,endRow=startRow+rowsLen-1);selection=this.hot.selection,lastColIndex=this.hot.countCols()-1,selection.setRangeStart(new WalkontableCellCoords(startRow,0)),selection.setRangeEnd(new WalkontableCellCoords(endRow,lastColIndex),!0),priv.changeSelection=!1}},onBeforeOnCellMouseDown:function(event,coords,TD){this.collapsingUI.toggleState(event,coords,TD)},onModifyRowData:function(row){return this.dataManager.getDataObject(row)},onModifySourceLength:function(){return this.dataManager.countAllRows()},onBeforeDataSplice:function(index,amount,element){return this.dataManager.spliceData(index,amount,element),!1},onBeforeDataFilter:function(index,amount,logicRows){var realLogicRows=[],startIndex=this.dataManager.translateTrimmedRow(index),priv=privatePool.get(this);return rangeEach(startIndex,startIndex+amount-1,function(i){realLogicRows.push(i)}),this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(startIndex,amount),this.collapsingUI.collapsedRowsStash.shiftStash(startIndex,-1*amount),this.dataManager.filterData(index,amount,realLogicRows),priv.skipRender=!0,!1},onAfterContextMenuDefaultOptions:function(defaultOptions){return this.contextMenuUI.appendOptions(defaultOptions)},onAfterGetRowHeader:function(row,TH){this.headersUI.appendLevelIndicators(row,TH)},onModifyRowHeaderWidth:function(rowHeaderWidth){return this.headersUI.rowHeaderWidthCache||rowHeaderWidth},onAfterRemoveRow:function(index,amount,logicRows,source){var $__8=this;if(source!==this.pluginName){var priv=privatePool.get(this);setTimeout(function(){priv.skipRender=null,$__8.headersUI.updateRowHeaderWidth(),$__8.collapsingUI.collapsedRowsStash.applyStash()},0)}},onModifyRemovedAmount:function(amount,index){var $__8=this,lastParents=[],childrenCount=0;return rangeEach(index,index+amount-1,function(i){var isChild=!1,translated=$__8.collapsingUI.translateTrimmedRow(i),currentDataObj=$__8.dataManager.getDataObject(translated);$__8.dataManager.hasChildren(currentDataObj)&&(lastParents.push(currentDataObj),arrayEach(lastParents,function(elem){if(elem.__children.indexOf(currentDataObj)>-1)return isChild=!0,!1}),isChild||(childrenCount+=$__8.dataManager.countChildren(currentDataObj))),isChild=!1,arrayEach(lastParents,function(elem){if(elem.__children.indexOf(currentDataObj)>-1)return isChild=!0,!1}),isChild&&childrenCount--}),amount+childrenCount},onBeforeAddChild:function(parent,element){this.collapsingUI.collapsedRowsStash.stash()},onAfterAddChild:function(parent,element){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(element)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()},onBeforeDetachChild:function(parent,element){this.collapsingUI.collapsedRowsStash.stash()},onAfterDetachChild:function(parent,element){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(element)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()},onAfterCreateRow:function(index,amount,source){source!==this.pluginName&&this.dataManager.rewriteCache()},onAfterInit:function(){var $__29;this.bindRowsWithHeadersPlugin.bindStrategy.strategy&&this.bindRowsWithHeadersPlugin.bindStrategy.createMap(this.hot.countSourceRows());var deepestLevel=($__29=Math).max.apply($__29,$traceurRuntime.spread(this.dataManager.cache.levels));deepestLevel>0&&this.headersUI.updateRowHeaderWidth(deepestLevel)},onBeforeRender:function(force,skipRender){var priv=privatePool.get(this);priv.skipRender&&(skipRender.skipRender=!0)}},{},BasePlugin),registerPlugin("nestedRows",NestedRows)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins":62,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base":63,"data/dataManager":219,"ui/collapsing":222,"ui/contextMenu":223,"ui/headers":224}],221:[function(_dereq_,module,exports){Object.defineProperties(exports,{BaseUI:{get:function(){return BaseUI}},__esModule:{value:!0}});var BaseUI=function(pluginInstance,hotInstance){this.hot=hotInstance,this.plugin=pluginInstance};$traceurRuntime.createClass(BaseUI,{},{})},{}],222:[function(_dereq_,module,exports){Object.defineProperties(exports,{CollapsingUI:{get:function(){return CollapsingUI}},__esModule:{value:!0}});var $___95_base__,$__handsontable_47_helpers_47_dom_47_event__,$__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_number__,$__handsontable_47_helpers_47_dom_47_element__,$__headers__,BaseUI=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).BaseUI,stopImmediatePropagation=($__handsontable_47_helpers_47_dom_47_event__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/event"),$__handsontable_47_helpers_47_dom_47_event__&&$__handsontable_47_helpers_47_dom_47_event__.__esModule&&$__handsontable_47_helpers_47_dom_47_event__||{"default":$__handsontable_47_helpers_47_dom_47_event__}).stopImmediatePropagation,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,rangeEach=($__handsontable_47_helpers_47_number__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach,hasClass=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}).hasClass,HeadersUI=($__headers__=_dereq_("headers"),$__headers__&&$__headers__.__esModule&&$__headers__||{"default":$__headers__}).HeadersUI,CollapsingUI=function(nestedRowsPlugin,hotInstance){var $__6=this;$traceurRuntime.superConstructor($CollapsingUI).call(this,nestedRowsPlugin,hotInstance),this.trimRowsPlugin=nestedRowsPlugin.trimRowsPlugin,this.dataManager=this.plugin.dataManager,this.collapsedRows=[],this.collapsedRowsStash={stash:function(){$__6.lastCollapsedRows=$__6.collapsedRows.slice(0),$__6.expandMultipleChildren($__6.lastCollapsedRows,!1)},shiftStash:function(elementIndex){var delta=void 0!==arguments[1]?arguments[1]:1;elementIndex=$__6.translateTrimmedRow(elementIndex),arrayEach($__6.lastCollapsedRows,function(elem,i){elem>elementIndex-1&&($__6.lastCollapsedRows[i]=elem+delta)})},applyStash:function(){$__6.hot.runHooks("skipLengthCache",100),$__6.collapseMultipleChildren($__6.lastCollapsedRows,!0),$__6.lastCollapsedRows=void 0},trimStash:function(realElementIndex,amount){rangeEach(realElementIndex,realElementIndex+amount-1,function(i){var indexOfElement=$__6.lastCollapsedRows.indexOf(i);indexOfElement>-1&&$__6.lastCollapsedRows.splice(indexOfElement,1)})}}},$CollapsingUI=CollapsingUI;$traceurRuntime.createClass(CollapsingUI,{collapseChildren:function(row){var forceRender=void 0===arguments[1]||arguments[1],doTrimming=void 0===arguments[2]||arguments[2],$__6=this,rowsToCollapse=[],rowObject=null,rowIndex=null,rowsToTrim=null;return isNaN(row)?(rowObject=row,rowIndex=this.dataManager.getRowIndex(rowObject)):(rowObject=this.dataManager.getDataObject(row),rowIndex=row),this.dataManager.hasChildren(rowObject)&&arrayEach(rowObject.__children,function(elem,i){rowsToCollapse.push($__6.dataManager.getRowIndex(elem))}),rowsToTrim=this.collapseRows(rowsToCollapse,!0,!1),doTrimming&&this.trimRowsPlugin.trimRows(rowsToTrim),forceRender&&this.renderAndAdjust(),this.collapsedRows.indexOf(rowIndex)===-1&&this.collapsedRows.push(rowIndex),rowsToTrim},collapseMultipleChildren:function(rows){var forceRender=void 0===arguments[1]||arguments[1],doTrimming=void 0===arguments[2]||arguments[2],$__6=this,rowsToTrim=[];arrayEach(rows,function(elem,i){rowsToTrim=rowsToTrim.concat($__6.collapseChildren(elem,!1,!1))}),doTrimming&&this.trimRowsPlugin.trimRows(rowsToTrim),forceRender&&this.renderAndAdjust()},collapseRow:function(rowIndex){var recursive=void 0===arguments[1]||arguments[1];this.collapseRows([rowIndex],recursive)},collapseRows:function(rowIndexes){var recursive=void 0===arguments[1]||arguments[1],doTrimming=void 0!==arguments[2]&&arguments[2],$__6=this,rowsToTrim=[];return arrayEach(rowIndexes,function(elem,i){rowsToTrim.push(elem),recursive&&$__6.collapseChildRows(elem,rowsToTrim)}),doTrimming&&this.trimRowsPlugin.trimRows(rowsToTrim),rowsToTrim},collapseChildRows:function(parentIndex){var rowsToTrim=void 0!==arguments[1]?arguments[1]:[],doTrimming=(void 0===arguments[2]||arguments[2],void 0!==arguments[3]&&arguments[3]),$__6=this;if(this.dataManager.hasChildren(parentIndex)){var parentObject=this.dataManager.getDataObject(parentIndex);arrayEach(parentObject.__children,function(elem,i){var elemIndex=$__6.dataManager.getRowIndex(elem);rowsToTrim.push(elemIndex),$__6.collapseChildRows(elemIndex,rowsToTrim)})}doTrimming&&this.trimRowsPlugin.trimRows(rowsToTrim)},expandRow:function(rowIndex){var recursive=void 0===arguments[1]||arguments[1];this.expandRows([rowIndex],recursive)},expandRows:function(rowIndexes){var recursive=void 0===arguments[1]||arguments[1],doTrimming=void 0!==arguments[2]&&arguments[2],$__6=this,rowsToUntrim=[];return arrayEach(rowIndexes,function(elem,i){rowsToUntrim.push(elem),recursive&&$__6.expandChildRows(elem,rowsToUntrim)}),doTrimming&&this.trimRowsPlugin.untrimRows(rowsToUntrim),rowsToUntrim},expandChildRows:function(parentIndex){var rowsToUntrim=void 0!==arguments[1]?arguments[1]:[],doTrimming=(void 0===arguments[2]||arguments[2],void 0!==arguments[3]&&arguments[3]),$__6=this;if(this.dataManager.hasChildren(parentIndex)){var parentObject=this.dataManager.getDataObject(parentIndex);arrayEach(parentObject.__children,function(elem,i){if(!$__6.isAnyParentCollapsed(elem)){var elemIndex=$__6.dataManager.getRowIndex(elem);rowsToUntrim.push(elemIndex),$__6.expandChildRows(elemIndex,rowsToUntrim)}})}doTrimming&&this.trimRowsPlugin.untrimRows(rowsToUntrim)},expandChildren:function(row){var forceRender=void 0===arguments[1]||arguments[1],doTrimming=void 0===arguments[2]||arguments[2],$__6=this,rowsToExpand=[],rowObject=null,rowIndex=null,rowsToUntrim=null;return isNaN(row)?(rowObject=row,rowIndex=this.dataManager.getRowIndex(row)):(rowObject=this.dataManager.getDataObject(row),rowIndex=row),this.collapsedRows.splice(this.collapsedRows.indexOf(rowIndex),1),this.dataManager.hasChildren(rowObject)&&arrayEach(rowObject.__children,function(elem,i){var childIndex=$__6.dataManager.getRowIndex(elem);rowsToExpand.push(childIndex)}),rowsToUntrim=this.expandRows(rowsToExpand,!0,!1),doTrimming&&this.trimRowsPlugin.untrimRows(rowsToUntrim),forceRender&&this.renderAndAdjust(),rowsToUntrim},expandMultipleChildren:function(rows){var forceRender=void 0===arguments[1]||arguments[1],doTrimming=void 0===arguments[2]||arguments[2],$__6=this,rowsToUntrim=[];arrayEach(rows,function(elem,i){rowsToUntrim=rowsToUntrim.concat($__6.expandChildren(elem,!1,!1))}),doTrimming&&this.trimRowsPlugin.untrimRows(rowsToUntrim),forceRender&&this.renderAndAdjust()},collapseAll:function(){var $__6=this,sourceData=this.hot.getSourceData(),parentsToCollapse=[];arrayEach(sourceData,function(elem,i){$__6.dataManager.hasChildren(elem)&&parentsToCollapse.push(elem)}),this.collapseMultipleChildren(parentsToCollapse),this.renderAndAdjust()},expandAll:function(){var $__6=this,sourceData=this.hot.getSourceData(),parentsToExpand=[];arrayEach(sourceData,function(elem,i){$__6.dataManager.hasChildren(elem)&&parentsToExpand.push(elem)}),this.expandMultipleChildren(parentsToExpand),this.renderAndAdjust()},areChildrenCollapsed:function(row){var $__6=this,rowObj=null,allCollapsed=!0;return rowObj=isNaN(row)?row:this.dataManager.getDataObject(row),this.dataManager.hasChildren(rowObj)&&arrayEach(rowObj.__children,function(elem,i){var rowIndex=$__6.dataManager.getRowIndex(elem);if(!$__6.trimRowsPlugin.isTrimmed(rowIndex))return allCollapsed=!1,!1}),allCollapsed},isAnyParentCollapsed:function(rowObj){for(var parent=rowObj;null!==parent;){parent=this.dataManager.getRowParent(parent);var parentIndex=this.dataManager.getRowIndex(parent);if(this.collapsedRows.indexOf(parentIndex)>-1)return!0}return!1},toggleState:function(event,coords,TD){if(!(coords.col>=0)){var row=this.translateTrimmedRow(coords.row);hasClass(event.target,HeadersUI.CSS_CLASSES.button)&&(this.areChildrenCollapsed(row)?this.expandChildren(row):this.collapseChildren(row),stopImmediatePropagation(event))}},translateTrimmedRow:function(row){return this.trimRowsPlugin.rowsMapper.getValueByIndex(row)},renderAndAdjust:function(){this.hot.render(),this.hot.view.wt.wtOverlays.adjustElementsSize()}},{},BaseUI)},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/event":48,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,_base:221,headers:224}],223:[function(_dereq_,module,exports){Object.defineProperties(exports,{ContextMenuUI:{get:function(){return ContextMenuUI}},__esModule:{value:!0}});var $___95_base__,$__handsontable_47_helpers_47_number__,$__handsontable_47_helpers_47_array__,BaseUI=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).BaseUI,rangeEach=($__handsontable_47_helpers_47_number__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{
"default":$__handsontable_47_helpers_47_number__}).rangeEach,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,privatePool=new WeakMap,ContextMenuUI=function(nestedRowsPlugin,hotInstance){var $__3=this;privatePool.set(this,{row_above:function(key,selection){$__3.dataManager.addSibling(selection.start.row,"above")},row_below:function(key,selection){$__3.dataManager.addSibling(selection.start.row,"below")}}),$traceurRuntime.superConstructor($ContextMenuUI).call(this,nestedRowsPlugin,hotInstance),this.dataManager=this.plugin.dataManager},$ContextMenuUI=ContextMenuUI;$traceurRuntime.createClass(ContextMenuUI,{appendOptions:function(defaultOptions){var $__3=this,newEntries=[{key:"add_child",name:function(){return"Insert child row"},callback:function(){var translatedRowIndex=$__3.dataManager.translateTrimmedRow($__3.hot.getSelected()[0]),parent=$__3.dataManager.getDataObject(translatedRowIndex);$__3.dataManager.addChild(parent)},disabled:function(){var selected=$__3.hot.getSelected();return!selected||selected[0]<0||$__3.hot.selection.selectedHeader.cols||$__3.hot.countRows()>=$__3.hot.getSettings().maxRows}},{key:"detach_from_parent",name:function(){return"Detach from parent"},callback:function(){var translatedRowIndex=$__3.dataManager.translateTrimmedRow($__3.hot.getSelected()[0]);$__3.dataManager.getDataObject(translatedRowIndex);$__3.dataManager.detachFromParent($__3.hot.getSelected())},disabled:function(){var selected=$__3.hot.getSelected(),translatedRowIndex=$__3.dataManager.translateTrimmedRow(selected[0]),parent=$__3.dataManager.getRowParent(translatedRowIndex);return!parent||!selected||selected[0]<0||$__3.hot.selection.selectedHeader.cols||$__3.hot.countRows()>=$__3.hot.getSettings().maxRows}},Handsontable.plugins.ContextMenu.SEPARATOR];return rangeEach(0,defaultOptions.items.length-1,function(i){if(0===i)return arrayEach(newEntries,function(val,j){defaultOptions.items.splice(i+j,0,val)}),!1}),defaultOptions=this.modifyRowInsertingOptions(defaultOptions)},modifyRowInsertingOptions:function(defaultOptions){var priv=privatePool.get(this);return rangeEach(0,defaultOptions.items.length-1,function(i){null!=priv[defaultOptions.items[i].key]&&(defaultOptions.items[i].callback=priv[defaultOptions.items[i].key])}),defaultOptions}},{},BaseUI)},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,_base:221}],224:[function(_dereq_,module,exports){Object.defineProperties(exports,{HeadersUI:{get:function(){return HeadersUI}},__esModule:{value:!0}});var $___95_base__,$__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_number__,$__handsontable_47_helpers_47_dom_47_element__,BaseUI=($___95_base__=_dereq_("_base"),$___95_base__&&$___95_base__.__esModule&&$___95_base__||{"default":$___95_base__}).BaseUI,arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,rangeEach=($__handsontable_47_helpers_47_number__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach,addClass=($__handsontable_47_helpers_47_dom_47_element__=_dereq_("../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element"),$__handsontable_47_helpers_47_dom_47_element__&&$__handsontable_47_helpers_47_dom_47_element__.__esModule&&$__handsontable_47_helpers_47_dom_47_element__||{"default":$__handsontable_47_helpers_47_dom_47_element__}).addClass,HeadersUI=function(nestedRowsPlugin,hotInstance){$traceurRuntime.superConstructor($HeadersUI).call(this,nestedRowsPlugin,hotInstance),this.dataManager=this.plugin.dataManager,this.collapsingUI=this.plugin.collapsingUI,this.rowHeaderWidthCache=null,this.trimRowsPlugin=nestedRowsPlugin.trimRowsPlugin},$HeadersUI=HeadersUI;$traceurRuntime.createClass(HeadersUI,{appendLevelIndicators:function(row,TH){row=this.trimRowsPlugin.rowsMapper.getValueByIndex(row);var rowLevel=this.dataManager.getRowLevel(row),rowObject=this.dataManager.getDataObject(row),innerDiv=TH.getElementsByTagName("DIV")[0],innerSpan=innerDiv.querySelector("span.rowHeader"),previousIndicators=innerDiv.querySelectorAll('[class^="ht_nesting"]');if(arrayEach(previousIndicators,function(elem,i){elem&&innerDiv.removeChild(elem)}),addClass(TH,$HeadersUI.CSS_CLASSES.indicatorContainer),rowLevel){var initialContent=innerSpan.cloneNode(!0);innerDiv.innerHTML="",rangeEach(0,rowLevel-1,function(i){var levelIndicator=document.createElement("SPAN");addClass(levelIndicator,$HeadersUI.CSS_CLASSES.emptyIndicator),innerDiv.appendChild(levelIndicator)}),innerDiv.appendChild(initialContent)}if(this.dataManager.hasChildren(rowObject)){var buttonsContainer=document.createElement("DIV");addClass(TH,$HeadersUI.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(row)?addClass(buttonsContainer,$HeadersUI.CSS_CLASSES.button+" "+$HeadersUI.CSS_CLASSES.expandButton):addClass(buttonsContainer,$HeadersUI.CSS_CLASSES.button+" "+$HeadersUI.CSS_CLASSES.collapseButton),innerDiv.appendChild(buttonsContainer)}},updateRowHeaderWidth:function(deepestLevel){deepestLevel||(deepestLevel=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*deepestLevel+25),this.hot.render()}},{get CSS_CLASSES(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}},BaseUI)},{"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/dom/element":47,"../../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,_base:221}],225:[function(_dereq_,module,exports){Object.defineProperties(exports,{RowsMapper:{get:function(){return RowsMapper}},__esModule:{value:!0}});var $___46__46__47__46__46__47_browser__,$__handsontable_47_mixins_47_arrayMapper__,$__handsontable_47_helpers_47_object__,$__handsontable_47_helpers_47_number__,Handsontable=($___46__46__47__46__46__47_browser__=_dereq_("../../browser"),$___46__46__47__46__46__47_browser__&&$___46__46__47__46__46__47_browser__.__esModule&&$___46__46__47__46__46__47_browser__||{"default":$___46__46__47__46__46__47_browser__})["default"],arrayMapper=($__handsontable_47_mixins_47_arrayMapper__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/arrayMapper"),$__handsontable_47_mixins_47_arrayMapper__&&$__handsontable_47_mixins_47_arrayMapper__.__esModule&&$__handsontable_47_mixins_47_arrayMapper__||{"default":$__handsontable_47_mixins_47_arrayMapper__}).arrayMapper,mixin=($__handsontable_47_helpers_47_object__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object"),$__handsontable_47_helpers_47_object__&&$__handsontable_47_helpers_47_object__.__esModule&&$__handsontable_47_helpers_47_object__||{"default":$__handsontable_47_helpers_47_object__}).mixin,rangeEach=($__handsontable_47_helpers_47_number__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach,RowsMapper=function(trimRows){this.trimRows=trimRows};$traceurRuntime.createClass(RowsMapper,{createMap:function(length){var $__4=this,rowOffset=0,originLength=void 0===length?this._arrayMap.length:length;this._arrayMap.length=0,rangeEach(originLength-1,function(itemIndex){$__4.trimRows.isTrimmed(itemIndex)?rowOffset++:$__4._arrayMap[itemIndex-rowOffset]=itemIndex})},destroy:function(){this._arrayMap=null}},{}),mixin(RowsMapper,arrayMapper),Handsontable.utils.TrimRowsRowsMapper=RowsMapper},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/object":53,"../../../node_modules/hot-builder/node_modules/handsontable/src/mixins/arrayMapper":57,"../../browser":141}],226:[function(_dereq_,module,exports){Object.defineProperties(exports,{TrimRows:{get:function(){return TrimRows}},__esModule:{value:!0}});var $__handsontable_47_plugins_47__95_base__,$__handsontable_47_helpers_47_array__,$__handsontable_47_helpers_47_number__,$__handsontable_47_plugins__,$__rowsMapper__,BasePlugin=($__handsontable_47_plugins_47__95_base__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base"),$__handsontable_47_plugins_47__95_base__&&$__handsontable_47_plugins_47__95_base__.__esModule&&$__handsontable_47_plugins_47__95_base__||{"default":$__handsontable_47_plugins_47__95_base__})["default"],arrayEach=($__handsontable_47_helpers_47_array__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array"),$__handsontable_47_helpers_47_array__&&$__handsontable_47_helpers_47_array__.__esModule&&$__handsontable_47_helpers_47_array__||{"default":$__handsontable_47_helpers_47_array__}).arrayEach,rangeEach=($__handsontable_47_helpers_47_number__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number"),$__handsontable_47_helpers_47_number__&&$__handsontable_47_helpers_47_number__.__esModule&&$__handsontable_47_helpers_47_number__||{"default":$__handsontable_47_helpers_47_number__}).rangeEach,registerPlugin=($__handsontable_47_plugins__=_dereq_("../../../node_modules/hot-builder/node_modules/handsontable/src/plugins"),$__handsontable_47_plugins__&&$__handsontable_47_plugins__.__esModule&&$__handsontable_47_plugins__||{"default":$__handsontable_47_plugins__}).registerPlugin,RowsMapper=($__rowsMapper__=_dereq_("rowsMapper"),$__rowsMapper__&&$__rowsMapper__.__esModule&&$__rowsMapper__||{"default":$__rowsMapper__}).RowsMapper,TrimRows=function(hotInstance){$traceurRuntime.superConstructor($TrimRows).call(this,hotInstance),this.trimmedRows=[],this.removedRows=[],this.rowsMapper=new RowsMapper(this)},$TrimRows=TrimRows;$traceurRuntime.createClass(TrimRows,{isEnabled:function(){return!!this.hot.getSettings().trimRows},enablePlugin:function(){var $__5=this;if(!this.enabled){var settings=this.hot.getSettings().trimRows;Array.isArray(settings)&&(this.trimmedRows=settings),this.rowsMapper.createMap(this.hot.countSourceRows()),this.addHook("modifyRow",function(row,source){return $__5.onModifyRow(row,source)}),this.addHook("unmodifyRow",function(row,source){return $__5.onUnmodifyRow(row,source)}),this.addHook("afterCreateRow",function(index,amount){return $__5.onAfterCreateRow(index,amount)}),this.addHook("beforeRemoveRow",function(index,amount){return $__5.onBeforeRemoveRow(index,amount)}),this.addHook("afterRemoveRow",function(index,amount){return $__5.onAfterRemoveRow(index,amount)}),this.addHook("afterLoadData",function(firstRun){return $__5.onAfterLoadData(firstRun)}),$traceurRuntime.superGet(this,$TrimRows.prototype,"enablePlugin").call(this)}},updatePlugin:function(){this.disablePlugin(),this.enablePlugin(),$traceurRuntime.superGet(this,$TrimRows.prototype,"updatePlugin").call(this)},disablePlugin:function(){this.trimmedRows=[],this.removedRows.length=0,this.rowsMapper.clearMap(),$traceurRuntime.superGet(this,$TrimRows.prototype,"disablePlugin").call(this)},trimRows:function(rows){var $__5=this;arrayEach(rows,function(row){row=parseInt(row,10),$__5.isTrimmed(row)||$__5.trimmedRows.push(row)}),this.rowsMapper.createMap(this.hot.countSourceRows()),this.hot.runHooks("afterTrimRow",rows)},trimRow:function(){for(var row=[],$__7=0;$__7<arguments.length;$__7++)row[$__7]=arguments[$__7];this.trimRows(row)},untrimRows:function(rows){var $__5=this;arrayEach(rows,function(row){row=parseInt(row,10),$__5.isTrimmed(row)&&$__5.trimmedRows.splice($__5.trimmedRows.indexOf(row),1)}),this.rowsMapper.createMap(this.hot.countSourceRows()),this.hot.runHooks("afterUntrimRow",rows)},untrimRow:function(){for(var row=[],$__8=0;$__8<arguments.length;$__8++)row[$__8]=arguments[$__8];this.untrimRows(row)},isTrimmed:function(row){return this.trimmedRows.indexOf(row)>-1},untrimAll:function(){this.untrimRows([].concat(this.trimmedRows))},onModifyRow:function(row,source){return source!==this.pluginName&&(row=this.rowsMapper.getValueByIndex(row)),row},onUnmodifyRow:function(row,source){return source!==this.pluginName&&(row=this.rowsMapper.getIndexByValue(row)),row},onAfterCreateRow:function(index,amount){this.rowsMapper.shiftItems(index,amount)},onBeforeRemoveRow:function(index,amount){var $__5=this;this.removedRows.length=0,index!==!1&&rangeEach(index,index+amount-1,function(removedIndex){$__5.removedRows.push($__5.hot.runHooks("modifyRow",removedIndex,$__5.pluginName))})},onAfterRemoveRow:function(index,amount){this.rowsMapper.unshiftItems(this.removedRows)},onAfterLoadData:function(firstRun){firstRun||this.rowsMapper.createMap(this.hot.countSourceRows())},destroy:function(){this.rowsMapper.destroy(),$traceurRuntime.superGet(this,$TrimRows.prototype,"destroy").call(this)}},{},BasePlugin),registerPlugin("trimRows",TrimRows)},{"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/array":43,"../../../node_modules/hot-builder/node_modules/handsontable/src/helpers/number":52,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins":62,"../../../node_modules/hot-builder/node_modules/handsontable/src/plugins/_base":63,rowsMapper:225}],SheetClip:[function(_dereq_,module,exports){!function(global){function countQuotes(str){return str.split('"').length-1}var SheetClip={parse:function(str){var r,rLen,rows,c,cLen,multiline,last,arr=[],a=0;for(rows=str.split("\n"),rows.length>1&&""===rows[rows.length-1]&&rows.pop(),r=0,rLen=rows.length;r<rLen;r+=1){for(rows[r]=rows[r].split("\t"),c=0,cLen=rows[r].length;c<cLen;c+=1)arr[a]||(arr[a]=[]),multiline&&0===c?(last=arr[a].length-1,arr[a][last]=arr[a][last]+"\n"+rows[r][0],multiline&&1&countQuotes(rows[r][0])&&(multiline=!1,arr[a][last]=arr[a][last].substring(0,arr[a][last].length-1).replace(/""/g,'"'))):c===cLen-1&&0===rows[r][c].indexOf('"')&&1&countQuotes(rows[r][c])?(arr[a].push(rows[r][c].substring(1).replace(/""/g,'"')),multiline=!0):(arr[a].push(rows[r][c].replace(/""/g,'"')),multiline=!1);multiline||(a+=1)}return arr},stringify:function(arr){var r,rLen,c,cLen,val,str="";for(r=0,rLen=arr.length;r<rLen;r+=1){for(cLen=arr[r].length,c=0;c<cLen;c+=1)c>0&&(str+="\t"),val=arr[r][c],str+="string"==typeof val?val.indexOf("\n")>-1?'"'+val.replace(/"/g,'""')+'"':val:null===val||void 0===val?"":$.isPlainObject(val)?JSON.stringify(val):val;str+="\n"}return str}};"undefined"!=typeof exports?(exports.parse=SheetClip.parse,exports.stringify=SheetClip.stringify):global.SheetClip=SheetClip}(window)},{}],autoResize:[function(_dereq_,module,exports){function autoResize(){function getComputedStyle(element){return element.currentStyle||document.defaultView.getComputedStyle(element)}var el,defaults={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},body=document.body,text=document.createTextNode(""),span=document.createElement("SPAN"),observe=function(element,event,handler){window.attachEvent?element.attachEvent("on"+event,handler):element.addEventListener(event,handler,!1)},_unObserve=function(element,event,handler){window.removeEventListener?element.removeEventListener(event,handler,!1):element.detachEvent("on"+event,handler)},resize=function(newChar){var width,scrollHeight;newChar?/^[a-zA-Z \.,\\\/\|0-9]$/.test(newChar)||(newChar="."):newChar="",void 0!==text.textContent?text.textContent=el.value+newChar:text.data=el.value+newChar,span.style.fontSize=getComputedStyle(el).fontSize,span.style.fontFamily=getComputedStyle(el).fontFamily,span.style.whiteSpace="pre",body.appendChild(span),width=span.clientWidth+2,body.removeChild(span),el.style.height=defaults.minHeight+"px",defaults.minWidth>width?el.style.width=defaults.minWidth+"px":width>defaults.maxWidth?el.style.width=defaults.maxWidth+"px":el.style.width=width+"px",scrollHeight=el.scrollHeight?el.scrollHeight-1:0,defaults.minHeight>scrollHeight?el.style.height=defaults.minHeight+"px":defaults.maxHeight<scrollHeight?(el.style.height=defaults.maxHeight+"px",el.style.overflowY="visible"):el.style.height=scrollHeight+"px"},delayedResize=function(){window.setTimeout(resize,0)},extendDefaults=function(config){if(config&&config.minHeight)if("inherit"==config.minHeight)defaults.minHeight=el.clientHeight;else{var minHeight=parseInt(config.minHeight);isNaN(minHeight)||(defaults.minHeight=minHeight)}if(config&&config.maxHeight)if("inherit"==config.maxHeight)defaults.maxHeight=el.clientHeight;else{var maxHeight=parseInt(config.maxHeight);isNaN(maxHeight)||(defaults.maxHeight=maxHeight)}if(config&&config.minWidth)if("inherit"==config.minWidth)defaults.minWidth=el.clientWidth;else{var minWidth=parseInt(config.minWidth);isNaN(minWidth)||(defaults.minWidth=minWidth)}if(config&&config.maxWidth)if("inherit"==config.maxWidth)defaults.maxWidth=el.clientWidth;else{var maxWidth=parseInt(config.maxWidth);isNaN(maxWidth)||(defaults.maxWidth=maxWidth)}span.firstChild||(span.className="autoResize",span.style.display="inline-block",span.appendChild(text))},_init2=function(el_,config,doObserve){el=el_,extendDefaults(config),"TEXTAREA"==el.nodeName&&(el.style.resize="none",el.style.overflowY="",el.style.height=defaults.minHeight+"px",el.style.minWidth=defaults.minWidth+"px",el.style.maxWidth=defaults.maxWidth+"px",el.style.overflowY="hidden"),doObserve&&(observe(el,"change",resize),observe(el,"cut",delayedResize),observe(el,"paste",delayedResize),observe(el,"drop",delayedResize),observe(el,"keydown",delayedResize),observe(el,"focus",resize)),resize()};return{init:function(el_,config,doObserve){_init2(el_,config,doObserve)},unObserve:function(){_unObserve(el,"change",resize),_unObserve(el,"cut",delayedResize),_unObserve(el,"paste",delayedResize),_unObserve(el,"drop",delayedResize),_unObserve(el,"keydown",delayedResize),_unObserve(el,"focus",resize)},resize:resize}}"undefined"!=typeof exports&&(module.exports=autoResize)},{}],copyPaste:[function(_dereq_,module,exports){function copyPaste(){return instance?instance.hasBeenDestroyed()&&instance.init():instance=new CopyPasteClass,instance.refCounter++,instance}function CopyPasteClass(){this.refCounter=0,this.init()}var instance;"undefined"!=typeof exports&&(module.exports=copyPaste),CopyPasteClass.prototype.init=function(){var style,parent;this.copyCallbacks=[],this.cutCallbacks=[],this.pasteCallbacks=[],parent=document.body,document.getElementById("CopyPasteDiv")?(this.elDiv=document.getElementById("CopyPasteDiv"),this.elTextarea=this.elDiv.firstChild):(this.elDiv=document.createElement("div"),this.elDiv.id="CopyPasteDiv",style=this.elDiv.style,style.position="fixed",style.top="-10000px",style.left="-10000px",parent.appendChild(this.elDiv),this.elTextarea=document.createElement("textarea"),this.elTextarea.className="copyPaste",this.elTextarea.onpaste=function(event){var clipboardContents,temp;"WebkitAppearance"in document.documentElement.style&&(clipboardContents=event.clipboardData.getData("Text"),navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1&&(temp=clipboardContents.split("\n"),""===temp[temp.length-1]&&temp.pop(),clipboardContents=temp.join("\n")),this.value=clipboardContents,event.preventDefault())},style=this.elTextarea.style,style.width="10000px",style.height="10000px",style.overflow="hidden",this.elDiv.appendChild(this.elTextarea),"undefined"!=typeof style.opacity&&(style.opacity=0)),this.onKeyDownRef=this.onKeyDown.bind(this),document.documentElement.addEventListener("keydown",this.onKeyDownRef,!1)},CopyPasteClass.prototype.onKeyDown=function(event){function isActiveElementEditable(){var element=document.activeElement;return element.shadowRoot&&element.shadowRoot.activeElement&&(element=element.shadowRoot.activeElement),["INPUT","SELECT","TEXTAREA"].indexOf(element.nodeName)>-1||"true"===element.contentEditable}var _this=this,isCtrlDown=!1;if(event.metaKey?isCtrlDown=!0:event.ctrlKey&&navigator.userAgent.indexOf("Mac")===-1&&(isCtrlDown=!0),isCtrlDown){if(document.activeElement!==this.elTextarea&&(""!==this.getSelectionText()||isActiveElementEditable()))return;this.selectNodeText(this.elTextarea),setTimeout(function(){document.activeElement!==_this.elTextarea&&_this.selectNodeText(_this.elTextarea)},0)}event.isImmediatePropagationEnabled===!1||!isCtrlDown||67!==event.keyCode&&86!==event.keyCode&&88!==event.keyCode||(88===event.keyCode?setTimeout(function(){_this.triggerCut(event)},0):86===event.keyCode&&setTimeout(function(){_this.triggerPaste(event)},0))},CopyPasteClass.prototype.selectNodeText=function(element){element&&element.select()},CopyPasteClass.prototype.getSelectionText=function(){var text="";return window.getSelection?text=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(text=document.selection.createRange().text),text},CopyPasteClass.prototype.copyable=function(string){if("string"!=typeof string&&void 0===string.toString)throw new Error("copyable requires string parameter");this.elTextarea.value=string,this.selectNodeText(this.elTextarea)},CopyPasteClass.prototype.onCut=function(callback){this.cutCallbacks.push(callback)},CopyPasteClass.prototype.onPaste=function(callback){this.pasteCallbacks.push(callback)},CopyPasteClass.prototype.removeCallback=function(callback){var i,len;for(i=0,len=this.copyCallbacks.length;i<len;i++)if(this.copyCallbacks[i]===callback)return this.copyCallbacks.splice(i,1),!0;for(i=0,len=this.cutCallbacks.length;i<len;i++)if(this.cutCallbacks[i]===callback)return this.cutCallbacks.splice(i,1),!0;for(i=0,len=this.pasteCallbacks.length;i<len;i++)if(this.pasteCallbacks[i]===callback)return this.pasteCallbacks.splice(i,1),!0;return!1},CopyPasteClass.prototype.triggerCut=function(event){var _this=this;_this.cutCallbacks&&setTimeout(function(){for(var i=0,len=_this.cutCallbacks.length;i<len;i++)_this.cutCallbacks[i](event)},50)},CopyPasteClass.prototype.triggerPaste=function(event,string){var _this=this;_this.pasteCallbacks&&setTimeout(function(){for(var val=string||_this.elTextarea.value,i=0,len=_this.pasteCallbacks.length;i<len;i++)_this.pasteCallbacks[i](val,event)},50)},CopyPasteClass.prototype.destroy=function(){this.hasBeenDestroyed()||0!==--this.refCounter||(this.elDiv&&this.elDiv.parentNode&&(this.elDiv.parentNode.removeChild(this.elDiv),this.elDiv=null,this.elTextarea=null),document.documentElement.removeEventListener("keydown",this.onKeyDownRef),this.onKeyDownRef=null)},CopyPasteClass.prototype.hasBeenDestroyed=function(){return!this.refCounter}},{}],es6collections:[function(_dereq_,module,exports){!function(exports){function createCollection(proto,objectOnly){function Collection(a){return this&&this.constructor===Collection?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=objectOnly,void(a&&init.call(this,a))):new Collection(a)}return objectOnly||defineProperty(proto,"size",{get:sharedSize}),proto.constructor=Collection,Collection.prototype=proto,Collection}function init(a){this.add?a.forEach(this.add,this):a.forEach(function(a){this.set(a[0],a[1])},this)}function sharedDelete(key){return this.has(key)&&(this._keys.splice(i,1),this._values.splice(i,1),this._itp.forEach(function(p){i<p[0]&&p[0]--})),-1<i}function sharedGet(key){return this.has(key)?this._values[i]:void 0}function has(list,key){if(this.objectOnly&&key!==Object(key))throw new TypeError("Invalid value used as weak collection key");if(key!=key||0===key)for(i=list.length;i--&&!is(list[i],key););else i=list.indexOf(key);return-1<i}function setHas(value){return has.call(this,this._values,value)}function mapHas(value){return has.call(this,this._keys,value)}function sharedSet(key,value){return this.has(key)?this._values[i]=value:this._values[this._keys.push(key)-1]=value,this}function sharedAdd(value){return this.has(value)||this._values.push(value),this}function sharedClear(){this._values.length=0}function sharedKeys(){return sharedIterator(this._itp,this._keys)}function sharedValues(){return sharedIterator(this._itp,this._values)}function mapEntries(){return sharedIterator(this._itp,this._keys,this._values)}function setEntries(){return sharedIterator(this._itp,this._values,this._values)}function sharedIterator(itp,array,array2){var p=[0],done=!1;return itp.push(p),{next:function(){var v,k=p[0];return!done&&k<array.length?(v=array2?[array[k],array2[k]]:array[k],p[0]++):(done=!0,itp.splice(itp.indexOf(p),1)),{done:done,value:v}}}}function sharedSize(){return this._values.length}function sharedForEach(callback,context){for(var it=this.entries();;){var r=it.next();if(r.done)break;callback.call(context,r.value[1],r.value[0],this)}}var i,defineProperty=Object.defineProperty,is=function(a,b){return isNaN(a)?isNaN(b):a===b};"undefined"==typeof WeakMap&&(exports.WeakMap=createCollection({"delete":sharedDelete,clear:sharedClear,get:sharedGet,has:mapHas,set:sharedSet},!0)),"undefined"==typeof Map&&(exports.Map=createCollection({"delete":sharedDelete,has:mapHas,get:sharedGet,set:sharedSet,keys:sharedKeys,values:sharedValues,entries:mapEntries,forEach:sharedForEach,clear:sharedClear})),"undefined"==typeof Set&&(exports.Set=createCollection({has:setHas,add:sharedAdd,"delete":sharedDelete,clear:sharedClear,keys:sharedValues,values:sharedValues,entries:setEntries,forEach:sharedForEach})),"undefined"==typeof WeakSet&&(exports.WeakSet=createCollection({"delete":sharedDelete,add:sharedAdd,clear:sharedClear,has:setHas},!0))}("undefined"!=typeof exports&&"undefined"!=typeof global?global:window)},{}],"hot-formula-parser":[function(_dereq_,module,exports){!function(root,factory){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?exports.formulaParser=factory():root.formulaParser=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=81)}([function(module,exports){exports.nil=new Error("#NULL!"),exports.div0=new Error("#DIV/0!"),exports.value=new Error("#VALUE!"),exports.ref=new Error("#REF!"),exports.name=new Error("#NAME?"),exports.num=new Error("#NUM!"),exports.na=new Error("#N/A"),exports.error=new Error("#ERROR!"),exports.data=new Error("#GETTING_DATA")},function(module,exports,__webpack_require__){function error(type){var error=void 0;return type=(type+"").replace(/#|!|\?/g,""),errors[type]&&(error=errors[type]),error?error:null}function isValidStrict(type){var valid=!1;for(var i in errors)if(errors.hasOwnProperty(i)&&errors[i]===type){valid=!0;break}return valid}exports.__esModule=!0;var _errors;exports["default"]=error,exports.isValidStrict=isValidStrict;var ERROR=exports.ERROR="ERROR",ERROR_DIV_ZERO=exports.ERROR_DIV_ZERO="DIV/0",ERROR_NAME=exports.ERROR_NAME="NAME",ERROR_NOT_AVAILABLE=exports.ERROR_NOT_AVAILABLE="N/A",ERROR_NULL=exports.ERROR_NULL="NULL",ERROR_NUM=exports.ERROR_NUM="NUM",ERROR_REF=exports.ERROR_REF="REF",ERROR_VALUE=exports.ERROR_VALUE="VALUE",errors=(_errors={},_errors[ERROR]="#ERROR!",_errors[ERROR_DIV_ZERO]="#DIV/0!",_errors[ERROR_NAME]="#NAME?",_errors[ERROR_NOT_AVAILABLE]="#N/A",_errors[ERROR_NULL]="#NULL!",_errors[ERROR_NUM]="#NUM!",_errors[ERROR_REF]="#REF!",_errors[ERROR_VALUE]="#VALUE!",_errors)},function(module,exports,__webpack_require__){var error=__webpack_require__(0);exports.flattenShallow=function(array){return array&&array.reduce?array.reduce(function(a,b){var aIsArray=Array.isArray(a),bIsArray=Array.isArray(b);return aIsArray&&bIsArray?a.concat(b):aIsArray?(a.push(b),a):bIsArray?[a].concat(b):[a,b]}):array},exports.isFlat=function(array){if(!array)return!1;for(var i=0;i<array.length;++i)if(Array.isArray(array[i]))return!1;return!0},exports.flatten=function(){for(var result=exports.argsToArray.apply(null,arguments);!exports.isFlat(result);)result=exports.flattenShallow(result);return result},exports.argsToArray=function(args){var result=[];return exports.arrayEach(args,function(value){result.push(value)}),result},exports.numbers=function(){var possibleNumbers=this.flatten.apply(null,arguments);return possibleNumbers.filter(function(el){return"number"==typeof el})},exports.cleanFloat=function(number){var power=1e14;return Math.round(number*power)/power},exports.parseBool=function(bool){if("boolean"==typeof bool)return bool;if(bool instanceof Error)return bool;if("number"==typeof bool)return 0!==bool;if("string"==typeof bool){var up=bool.toUpperCase();if("TRUE"===up)return!0;if("FALSE"===up)return!1}return bool instanceof Date&&!isNaN(bool)||error.value},exports.parseNumber=function(string){return void 0===string||""===string?error.value:isNaN(string)?error.value:parseFloat(string)},exports.parseNumberArray=function(arr){var len;if(!arr||0===(len=arr.length))return error.value;for(var parsed;len--;){if(parsed=exports.parseNumber(arr[len]),parsed===error.value)return parsed;arr[len]=parsed}return arr},exports.parseMatrix=function(matrix){var n;if(!matrix||0===(n=matrix.length))return error.value;for(var pnarr,i=0;i<matrix.length;i++)if(pnarr=exports.parseNumberArray(matrix[i]),matrix[i]=pnarr,pnarr instanceof Error)return pnarr;return matrix};var d1900=new Date(1900,0,1);exports.parseDate=function(date){if(!isNaN(date)){if(date instanceof Date)return new Date(date);var d=parseInt(date,10);return d<0?error.num:d<=60?new Date(d1900.getTime()+864e5*(d-1)):new Date(d1900.getTime()+864e5*(d-2))}return"string"!=typeof date||(date=new Date(date),isNaN(date))?error.value:date},exports.parseDateArray=function(arr){for(var parsed,len=arr.length;len--;){if(parsed=this.parseDate(arr[len]),parsed===error.value)return parsed;arr[len]=parsed}return arr},exports.anyIsError=function(){for(var n=arguments.length;n--;)if(arguments[n]instanceof Error)return!0;return!1},exports.arrayValuesToNumbers=function(arr){for(var el,n=arr.length;n--;)if(el=arr[n],"number"!=typeof el)if(el!==!0)if(el!==!1){if("string"==typeof el){var number=this.parseNumber(el);number instanceof Error?arr[n]=0:arr[n]=number}}else arr[n]=0;else arr[n]=1;return arr},exports.rest=function(array,idx){return idx=idx||1,array&&"function"==typeof array.slice?array.slice(idx):array;
},exports.initial=function(array,idx){return idx=idx||1,array&&"function"==typeof array.slice?array.slice(0,array.length-idx):array},exports.arrayEach=function(array,iteratee){for(var index=-1,length=array.length;++index<length&&iteratee(array[index],index,array)!==!1;);return array}},function(module,exports,__webpack_require__){function toNumber(number){var result=void 0;return"number"==typeof number?result=number:"string"==typeof number&&(result=number.indexOf(".")>-1?parseFloat(number):parseInt(number,10)),result}function invertNumber(number){return-1*toNumber(number)}exports.__esModule=!0,exports.toNumber=toNumber,exports.invertNumber=invertNumber},function(module,exports,__webpack_require__){var utils=__webpack_require__(2),error=__webpack_require__(0),statistical=__webpack_require__(5),information=__webpack_require__(7);exports.ABS=function(number){if(number=utils.parseNumber(number),number instanceof Error)return number;var result=Math.abs(number);return result},exports.ACOS=function(number){if(number=utils.parseNumber(number),number instanceof Error)return number;var result=Math.acos(number);return isNaN(result)&&(result=error.num),result},exports.ACOSH=function(number){if(number=utils.parseNumber(number),number instanceof Error)return number;var result=Math.log(number+Math.sqrt(number*number-1));return isNaN(result)&&(result=error.num),result},exports.ACOT=function(number){if(number=utils.parseNumber(number),number instanceof Error)return number;var result=Math.atan(1/number);return result},exports.ACOTH=function(number){if(number=utils.parseNumber(number),number instanceof Error)return number;var result=.5*Math.log((number+1)/(number-1));return isNaN(result)&&(result=error.num),result},exports.AGGREGATE=function(function_num,options,ref1,ref2){if(function_num=utils.parseNumber(function_num),options=utils.parseNumber(function_num),utils.anyIsError(function_num,options))return error.value;switch(function_num){case 1:return statistical.AVERAGE(ref1);case 2:return statistical.COUNT(ref1);case 3:return statistical.COUNTA(ref1);case 4:return statistical.MAX(ref1);case 5:return statistical.MIN(ref1);case 6:return exports.PRODUCT(ref1);case 7:return statistical.STDEV.S(ref1);case 8:return statistical.STDEV.P(ref1);case 9:return exports.SUM(ref1);case 10:return statistical.VAR.S(ref1);case 11:return statistical.VAR.P(ref1);case 12:return statistical.MEDIAN(ref1);case 13:return statistical.MODE.SNGL(ref1);case 14:return statistical.LARGE(ref1,ref2);case 15:return statistical.SMALL(ref1,ref2);case 16:return statistical.PERCENTILE.INC(ref1,ref2);case 17:return statistical.QUARTILE.INC(ref1,ref2);case 18:return statistical.PERCENTILE.EXC(ref1,ref2);case 19:return statistical.QUARTILE.EXC(ref1,ref2)}},exports.ARABIC=function(text){if(!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(text))return error.value;var r=0;return text.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,function(i){r+={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}[i]}),r},exports.ASIN=function(number){if(number=utils.parseNumber(number),number instanceof Error)return number;var result=Math.asin(number);return isNaN(result)&&(result=error.num),result},exports.ASINH=function(number){return number=utils.parseNumber(number),number instanceof Error?number:Math.log(number+Math.sqrt(number*number+1))},exports.ATAN=function(number){return number=utils.parseNumber(number),number instanceof Error?number:Math.atan(number)},exports.ATAN2=function(number_x,number_y){return number_x=utils.parseNumber(number_x),number_y=utils.parseNumber(number_y),utils.anyIsError(number_x,number_y)?error.value:Math.atan2(number_x,number_y)},exports.ATANH=function(number){if(number=utils.parseNumber(number),number instanceof Error)return number;var result=Math.log((1+number)/(1-number))/2;return isNaN(result)&&(result=error.num),result},exports.BASE=function(number,radix,min_length){if(min_length=min_length||0,number=utils.parseNumber(number),radix=utils.parseNumber(radix),min_length=utils.parseNumber(min_length),utils.anyIsError(number,radix,min_length))return error.value;min_length=void 0===min_length?0:min_length;var result=number.toString(radix);return new Array(Math.max(min_length+1-result.length,0)).join("0")+result},exports.CEILING=function(number,significance,mode){if(significance=void 0===significance?1:Math.abs(significance),mode=mode||0,number=utils.parseNumber(number),significance=utils.parseNumber(significance),mode=utils.parseNumber(mode),utils.anyIsError(number,significance,mode))return error.value;if(0===significance)return 0;var precision=-Math.floor(Math.log(significance)/Math.log(10));return number>=0?exports.ROUND(Math.ceil(number/significance)*significance,precision):0===mode?-exports.ROUND(Math.floor(Math.abs(number)/significance)*significance,precision):-exports.ROUND(Math.ceil(Math.abs(number)/significance)*significance,precision)},exports.CEILING.MATH=exports.CEILING,exports.CEILING.PRECISE=exports.CEILING,exports.COMBIN=function(number,number_chosen){return number=utils.parseNumber(number),number_chosen=utils.parseNumber(number_chosen),utils.anyIsError(number,number_chosen)?error.value:exports.FACT(number)/(exports.FACT(number_chosen)*exports.FACT(number-number_chosen))},exports.COMBINA=function(number,number_chosen){return number=utils.parseNumber(number),number_chosen=utils.parseNumber(number_chosen),utils.anyIsError(number,number_chosen)?error.value:0===number&&0===number_chosen?1:exports.COMBIN(number+number_chosen-1,number-1)},exports.COS=function(number){return number=utils.parseNumber(number),number instanceof Error?number:Math.cos(number)},exports.COSH=function(number){return number=utils.parseNumber(number),number instanceof Error?number:(Math.exp(number)+Math.exp(-number))/2},exports.COT=function(number){return number=utils.parseNumber(number),number instanceof Error?number:1/Math.tan(number)},exports.COTH=function(number){if(number=utils.parseNumber(number),number instanceof Error)return number;var e2=Math.exp(2*number);return(e2+1)/(e2-1)},exports.CSC=function(number){return number=utils.parseNumber(number),number instanceof Error?number:1/Math.sin(number)},exports.CSCH=function(number){return number=utils.parseNumber(number),number instanceof Error?number:2/(Math.exp(number)-Math.exp(-number))},exports.DECIMAL=function(number,radix){return arguments.length<1?error.value:parseInt(number,radix)},exports.DEGREES=function(number){return number=utils.parseNumber(number),number instanceof Error?number:180*number/Math.PI},exports.EVEN=function(number){return number=utils.parseNumber(number),number instanceof Error?number:exports.CEILING(number,-2,-1)},exports.EXP=Math.exp;var MEMOIZED_FACT=[];exports.FACT=function(number){if(number=utils.parseNumber(number),number instanceof Error)return number;var n=Math.floor(number);return 0===n||1===n?1:MEMOIZED_FACT[n]>0?MEMOIZED_FACT[n]:(MEMOIZED_FACT[n]=exports.FACT(n-1)*n,MEMOIZED_FACT[n])},exports.FACTDOUBLE=function(number){if(number=utils.parseNumber(number),number instanceof Error)return number;var n=Math.floor(number);return n<=0?1:n*exports.FACTDOUBLE(n-2)},exports.FLOOR=function(number,significance){if(number=utils.parseNumber(number),significance=utils.parseNumber(significance),utils.anyIsError(number,significance))return error.value;if(0===significance)return 0;if(!(number>0&&significance>0||number<0&&significance<0))return error.num;significance=Math.abs(significance);var precision=-Math.floor(Math.log(significance)/Math.log(10));return number>=0?exports.ROUND(Math.floor(number/significance)*significance,precision):-exports.ROUND(Math.ceil(Math.abs(number)/significance),precision)},exports.FLOOR.MATH=function(number,significance,mode){if(significance=void 0===significance?1:significance,mode=void 0===mode?0:mode,number=utils.parseNumber(number),significance=utils.parseNumber(significance),mode=utils.parseNumber(mode),utils.anyIsError(number,significance,mode))return error.value;if(0===significance)return 0;significance=significance?Math.abs(significance):1;var precision=-Math.floor(Math.log(significance)/Math.log(10));return number>=0?exports.ROUND(Math.floor(number/significance)*significance,precision):0===mode||void 0===mode?-exports.ROUND(Math.ceil(Math.abs(number)/significance)*significance,precision):-exports.ROUND(Math.floor(Math.abs(number)/significance)*significance,precision)},exports.FLOOR.PRECISE=exports.FLOOR.MATH,exports.GCD=function(){var range=utils.parseNumberArray(utils.flatten(arguments));if(range instanceof Error)return range;for(var n=range.length,r0=range[0],x=r0<0?-r0:r0,i=1;i<n;i++){for(var ri=range[i],y=ri<0?-ri:ri;x&&y;)x>y?x%=y:y%=x;x+=y}return x},exports.INT=function(number){return number=utils.parseNumber(number),number instanceof Error?number:Math.floor(number)},exports.ISO={CEILING:exports.CEILING},exports.LCM=function(){var o=utils.parseNumberArray(utils.flatten(arguments));if(o instanceof Error)return o;for(var i,j,n,d,r=1;void 0!==(n=o.pop());)for(;n>1;){if(n%2){for(i=3,j=Math.floor(Math.sqrt(n));i<=j&&n%i;i+=2);d=i<=j?i:n}else d=2;for(n/=d,r*=d,i=o.length;i;o[--i]%d===0&&1===(o[i]/=d)&&o.splice(i,1));}return r},exports.LN=function(number){return number=utils.parseNumber(number),number instanceof Error?number:Math.log(number)},exports.LN10=function(){return Math.log(10)},exports.LN2=function(){return Math.log(2)},exports.LOG10E=function(){return Math.LOG10E},exports.LOG2E=function(){return Math.LOG2E},exports.LOG=function(number,base){return number=utils.parseNumber(number),base=utils.parseNumber(base),utils.anyIsError(number,base)?error.value:(base=void 0===base?10:base,Math.log(number)/Math.log(base))},exports.LOG10=function(number){return number=utils.parseNumber(number),number instanceof Error?number:Math.log(number)/Math.log(10)},exports.MOD=function(dividend,divisor){if(dividend=utils.parseNumber(dividend),divisor=utils.parseNumber(divisor),utils.anyIsError(dividend,divisor))return error.value;if(0===divisor)return error.div0;var modulus=Math.abs(dividend%divisor);return divisor>0?modulus:-modulus},exports.MROUND=function(number,multiple){return number=utils.parseNumber(number),multiple=utils.parseNumber(multiple),utils.anyIsError(number,multiple)?error.value:number*multiple<0?error.num:Math.round(number/multiple)*multiple},exports.MULTINOMIAL=function(){var args=utils.parseNumberArray(utils.flatten(arguments));if(args instanceof Error)return args;for(var sum=0,divisor=1,i=0;i<args.length;i++)sum+=args[i],divisor*=exports.FACT(args[i]);return exports.FACT(sum)/divisor},exports.ODD=function(number){if(number=utils.parseNumber(number),number instanceof Error)return number;var temp=Math.ceil(Math.abs(number));return temp=1&temp?temp:temp+1,number>0?temp:-temp},exports.PI=function(){return Math.PI},exports.E=function(){return Math.E},exports.POWER=function(number,power){if(number=utils.parseNumber(number),power=utils.parseNumber(power),utils.anyIsError(number,power))return error.value;var result=Math.pow(number,power);return isNaN(result)?error.num:result},exports.PRODUCT=function(){var args=utils.parseNumberArray(utils.flatten(arguments));if(args instanceof Error)return args;for(var result=1,i=0;i<args.length;i++)result*=args[i];return result},exports.QUOTIENT=function(numerator,denominator){return numerator=utils.parseNumber(numerator),denominator=utils.parseNumber(denominator),utils.anyIsError(numerator,denominator)?error.value:parseInt(numerator/denominator,10)},exports.RADIANS=function(number){return number=utils.parseNumber(number),number instanceof Error?number:number*Math.PI/180},exports.RAND=function(){return Math.random()},exports.RANDBETWEEN=function(bottom,top){return bottom=utils.parseNumber(bottom),top=utils.parseNumber(top),utils.anyIsError(bottom,top)?error.value:bottom+Math.ceil((top-bottom+1)*Math.random())-1},exports.ROMAN=function(number){if(number=utils.parseNumber(number),number instanceof Error)return number;for(var digits=String(number).split(""),key=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],roman="",i=3;i--;)roman=(key[+digits.pop()+10*i]||"")+roman;return new Array(+digits.join("")+1).join("M")+roman},exports.ROUND=function(number,digits){return number=utils.parseNumber(number),digits=utils.parseNumber(digits),utils.anyIsError(number,digits)?error.value:Math.round(number*Math.pow(10,digits))/Math.pow(10,digits)},exports.ROUNDDOWN=function(number,digits){if(number=utils.parseNumber(number),digits=utils.parseNumber(digits),utils.anyIsError(number,digits))return error.value;var sign=number>0?1:-1;return sign*Math.floor(Math.abs(number)*Math.pow(10,digits))/Math.pow(10,digits)},exports.ROUNDUP=function(number,digits){if(number=utils.parseNumber(number),digits=utils.parseNumber(digits),utils.anyIsError(number,digits))return error.value;var sign=number>0?1:-1;return sign*Math.ceil(Math.abs(number)*Math.pow(10,digits))/Math.pow(10,digits)},exports.SEC=function(number){return number=utils.parseNumber(number),number instanceof Error?number:1/Math.cos(number)},exports.SECH=function(number){return number=utils.parseNumber(number),number instanceof Error?number:2/(Math.exp(number)+Math.exp(-number))},exports.SERIESSUM=function(x,n,m,coefficients){if(x=utils.parseNumber(x),n=utils.parseNumber(n),m=utils.parseNumber(m),coefficients=utils.parseNumberArray(coefficients),utils.anyIsError(x,n,m,coefficients))return error.value;for(var result=coefficients[0]*Math.pow(x,n),i=1;i<coefficients.length;i++)result+=coefficients[i]*Math.pow(x,n+i*m);return result},exports.SIGN=function(number){return number=utils.parseNumber(number),number instanceof Error?number:number<0?-1:0===number?0:1},exports.SIN=function(number){return number=utils.parseNumber(number),number instanceof Error?number:Math.sin(number)},exports.SINH=function(number){return number=utils.parseNumber(number),number instanceof Error?number:(Math.exp(number)-Math.exp(-number))/2},exports.SQRT=function(number){return number=utils.parseNumber(number),number instanceof Error?number:number<0?error.num:Math.sqrt(number)},exports.SQRTPI=function(number){return number=utils.parseNumber(number),number instanceof Error?number:Math.sqrt(number*Math.PI)},exports.SQRT1_2=function(){return 1/Math.sqrt(2)},exports.SQRT2=function(){return Math.sqrt(2)},exports.SUBTOTAL=function(function_code,ref1){if(function_code=utils.parseNumber(function_code),function_code instanceof Error)return function_code;switch(function_code){case 1:return statistical.AVERAGE(ref1);case 2:return statistical.COUNT(ref1);case 3:return statistical.COUNTA(ref1);case 4:return statistical.MAX(ref1);case 5:return statistical.MIN(ref1);case 6:return exports.PRODUCT(ref1);case 7:return statistical.STDEV.S(ref1);case 8:return statistical.STDEV.P(ref1);case 9:return exports.SUM(ref1);case 10:return statistical.VAR.S(ref1);case 11:return statistical.VAR.P(ref1);case 101:return statistical.AVERAGE(ref1);case 102:return statistical.COUNT(ref1);case 103:return statistical.COUNTA(ref1);case 104:return statistical.MAX(ref1);case 105:return statistical.MIN(ref1);case 106:return exports.PRODUCT(ref1);case 107:return statistical.STDEV.S(ref1);case 108:return statistical.STDEV.P(ref1);case 109:return exports.SUM(ref1);case 110:return statistical.VAR.S(ref1);case 111:return statistical.VAR.P(ref1)}},exports.ADD=function(num1,num2){return 2!==arguments.length?error.na:(num1=utils.parseNumber(num1),num2=utils.parseNumber(num2),utils.anyIsError(num1,num2)?error.value:num1+num2)},exports.MINUS=function(num1,num2){return 2!==arguments.length?error.na:(num1=utils.parseNumber(num1),num2=utils.parseNumber(num2),utils.anyIsError(num1,num2)?error.value:num1-num2)},exports.DIVIDE=function(dividend,divisor){return 2!==arguments.length?error.na:(dividend=utils.parseNumber(dividend),divisor=utils.parseNumber(divisor),utils.anyIsError(dividend,divisor)?error.value:0===divisor?error.div0:dividend/divisor)},exports.MULTIPLY=function(factor1,factor2){return 2!==arguments.length?error.na:(factor1=utils.parseNumber(factor1),factor2=utils.parseNumber(factor2),utils.anyIsError(factor1,factor2)?error.value:factor1*factor2)},exports.GTE=function(num1,num2){return 2!==arguments.length?error.na:(num1=utils.parseNumber(num1),num2=utils.parseNumber(num2),utils.anyIsError(num1,num2)?error.error:num1>=num2)},exports.LT=function(num1,num2){return 2!==arguments.length?error.na:(num1=utils.parseNumber(num1),num2=utils.parseNumber(num2),utils.anyIsError(num1,num2)?error.error:num1<num2)},exports.LTE=function(num1,num2){return 2!==arguments.length?error.na:(num1=utils.parseNumber(num1),num2=utils.parseNumber(num2),utils.anyIsError(num1,num2)?error.error:num1<=num2)},exports.EQ=function(value1,value2){return 2!==arguments.length?error.na:value1===value2},exports.NE=function(value1,value2){return 2!==arguments.length?error.na:value1!==value2},exports.POW=function(base,exponent){return 2!==arguments.length?error.na:(base=utils.parseNumber(base),exponent=utils.parseNumber(exponent),utils.anyIsError(base,exponent)?error.error:exports.POWER(base,exponent))},exports.SUM=function(){var result=0;return utils.arrayEach(utils.argsToArray(arguments),function(value){if("number"==typeof value)result+=value;else if("string"==typeof value){var parsed=parseFloat(value);!isNaN(parsed)&&(result+=parsed)}else Array.isArray(value)&&(result+=exports.SUM.apply(null,value))}),result},exports.SUMIF=function(range,criteria){if(range=utils.parseNumberArray(utils.flatten(range)),range instanceof Error)return range;for(var result=0,i=0;i<range.length;i++)result+=eval(range[i]+criteria)?range[i]:0;return result},exports.SUMIFS=function(){var args=utils.argsToArray(arguments),range=utils.parseNumberArray(utils.flatten(args.shift()));if(range instanceof Error)return range;for(var criteria=args,n_range_elements=range.length,n_criterias=criteria.length,result=0,i=0;i<n_range_elements;i++){for(var el=range[i],condition="",c=0;c<n_criterias;c++)condition+=el+criteria[c],c!==n_criterias-1&&(condition+="&&");eval(condition)&&(result+=el)}return result},exports.SUMPRODUCT=function(){if(!arguments||0===arguments.length)return error.value;for(var product,k,_i,_ij,arrays=arguments.length+1,result=0,i=0;i<arguments[0].length;i++)if(arguments[0][i]instanceof Array)for(var j=0;j<arguments[0][i].length;j++){for(product=1,k=1;k<arrays;k++){if(_ij=utils.parseNumber(arguments[k-1][i][j]),_ij instanceof Error)return _ij;product*=_ij}result+=product}else{for(product=1,k=1;k<arrays;k++){if(_i=utils.parseNumber(arguments[k-1][i]),_i instanceof Error)return _i;product*=_i}result+=product}return result},exports.SUMSQ=function(){var numbers=utils.parseNumberArray(utils.flatten(arguments));if(numbers instanceof Error)return numbers;for(var result=0,length=numbers.length,i=0;i<length;i++)result+=information.ISNUMBER(numbers[i])?numbers[i]*numbers[i]:0;return result},exports.SUMX2MY2=function(array_x,array_y){if(array_x=utils.parseNumberArray(utils.flatten(array_x)),array_y=utils.parseNumberArray(utils.flatten(array_y)),utils.anyIsError(array_x,array_y))return error.value;for(var result=0,i=0;i<array_x.length;i++)result+=array_x[i]*array_x[i]-array_y[i]*array_y[i];return result},exports.SUMX2PY2=function(array_x,array_y){if(array_x=utils.parseNumberArray(utils.flatten(array_x)),array_y=utils.parseNumberArray(utils.flatten(array_y)),utils.anyIsError(array_x,array_y))return error.value;var result=0;array_x=utils.parseNumberArray(utils.flatten(array_x)),array_y=utils.parseNumberArray(utils.flatten(array_y));for(var i=0;i<array_x.length;i++)result+=array_x[i]*array_x[i]+array_y[i]*array_y[i];return result},exports.SUMXMY2=function(array_x,array_y){if(array_x=utils.parseNumberArray(utils.flatten(array_x)),array_y=utils.parseNumberArray(utils.flatten(array_y)),utils.anyIsError(array_x,array_y))return error.value;var result=0;array_x=utils.flatten(array_x),array_y=utils.flatten(array_y);for(var i=0;i<array_x.length;i++)result+=Math.pow(array_x[i]-array_y[i],2);return result},exports.TAN=function(number){return number=utils.parseNumber(number),number instanceof Error?number:Math.tan(number)},exports.TANH=function(number){if(number=utils.parseNumber(number),number instanceof Error)return number;var e2=Math.exp(2*number);return(e2-1)/(e2+1)},exports.TRUNC=function(number,digits){if(digits=void 0===digits?0:digits,number=utils.parseNumber(number),digits=utils.parseNumber(digits),utils.anyIsError(number,digits))return error.value;var sign=number>0?1:-1;return sign*Math.floor(Math.abs(number)*Math.pow(10,digits))/Math.pow(10,digits)}},function(module,exports,__webpack_require__){var mathTrig=__webpack_require__(4),text=__webpack_require__(8),jStat=__webpack_require__(13).jStat,utils=__webpack_require__(2),error=__webpack_require__(0),misc=__webpack_require__(12),SQRT2PI=2.5066282746310002;exports.AVEDEV=function(){var range=utils.parseNumberArray(utils.flatten(arguments));return range instanceof Error?range:jStat.sum(jStat(range).subtract(jStat.mean(range)).abs()[0])/range.length},exports.AVERAGE=function(){for(var result,range=utils.numbers(utils.flatten(arguments)),n=range.length,sum=0,count=0,i=0;i<n;i++)sum+=range[i],count+=1;return result=sum/count,isNaN(result)&&(result=error.num),result},exports.AVERAGEA=function(){for(var result,range=utils.flatten(arguments),n=range.length,sum=0,count=0,i=0;i<n;i++){var el=range[i];"number"==typeof el&&(sum+=el),el===!0&&sum++,null!==el&&count++}return result=sum/count,isNaN(result)&&(result=error.num),result},exports.AVERAGEIF=function(range,criteria,average_range){if(arguments.length<=1)return error.na;if(average_range=average_range||range,range=utils.flatten(range),average_range=utils.parseNumberArray(utils.flatten(average_range)),average_range instanceof Error)return average_range;for(var average_count=0,result=0,i=0;i<range.length;i++)eval(range[i]+criteria)&&(result+=average_range[i],average_count++);return result/average_count},exports.AVERAGEIFS=function(){for(var args=utils.argsToArray(arguments),criteria=(args.length-1)/2,range=utils.flatten(args[0]),count=0,result=0,i=0;i<range.length;i++){for(var condition="",j=0;j<criteria;j++)condition+=args[2*j+1][i]+args[2*j+2],j!==criteria-1&&(condition+="&&");eval(condition)&&(result+=range[i],count++)}var average=result/count;return isNaN(average)?0:average},exports.BETA={},exports.BETA.DIST=function(x,alpha,beta,cumulative,A,B){return arguments.length<4?error.value:(A=void 0===A?0:A,B=void 0===B?1:B,x=utils.parseNumber(x),alpha=utils.parseNumber(alpha),beta=utils.parseNumber(beta),A=utils.parseNumber(A),B=utils.parseNumber(B),utils.anyIsError(x,alpha,beta,A,B)?error.value:(x=(x-A)/(B-A),cumulative?jStat.beta.cdf(x,alpha,beta):jStat.beta.pdf(x,alpha,beta)))},exports.BETA.INV=function(probability,alpha,beta,A,B){return A=void 0===A?0:A,B=void 0===B?1:B,probability=utils.parseNumber(probability),alpha=utils.parseNumber(alpha),beta=utils.parseNumber(beta),A=utils.parseNumber(A),B=utils.parseNumber(B),utils.anyIsError(probability,alpha,beta,A,B)?error.value:jStat.beta.inv(probability,alpha,beta)*(B-A)+A},exports.BINOM={},exports.BINOM.DIST=function(successes,trials,probability,cumulative){return successes=utils.parseNumber(successes),trials=utils.parseNumber(trials),probability=utils.parseNumber(probability),cumulative=utils.parseNumber(cumulative),utils.anyIsError(successes,trials,probability,cumulative)?error.value:cumulative?jStat.binomial.cdf(successes,trials,probability):jStat.binomial.pdf(successes,trials,probability)},exports.BINOM.DIST.RANGE=function(trials,probability,successes,successes2){if(successes2=void 0===successes2?successes:successes2,trials=utils.parseNumber(trials),probability=utils.parseNumber(probability),successes=utils.parseNumber(successes),successes2=utils.parseNumber(successes2),utils.anyIsError(trials,probability,successes,successes2))return error.value;for(var result=0,i=successes;i<=successes2;i++)result+=mathTrig.COMBIN(trials,i)*Math.pow(probability,i)*Math.pow(1-probability,trials-i);return result},exports.BINOM.INV=function(trials,probability,alpha){if(trials=utils.parseNumber(trials),probability=utils.parseNumber(probability),alpha=utils.parseNumber(alpha),utils.anyIsError(trials,probability,alpha))return error.value;for(var x=0;x<=trials;){if(jStat.binomial.cdf(x,trials,probability)>=alpha)return x;x++}},exports.CHISQ={},exports.CHISQ.DIST=function(x,k,cumulative){return x=utils.parseNumber(x),k=utils.parseNumber(k),utils.anyIsError(x,k)?error.value:cumulative?jStat.chisquare.cdf(x,k):jStat.chisquare.pdf(x,k)},exports.CHISQ.DIST.RT=function(x,k){return!x|!k?error.na:x<1||k>Math.pow(10,10)?error.num:"number"!=typeof x||"number"!=typeof k?error.value:1-jStat.chisquare.cdf(x,k)},exports.CHISQ.INV=function(probability,k){return probability=utils.parseNumber(probability),k=utils.parseNumber(k),utils.anyIsError(probability,k)?error.value:jStat.chisquare.inv(probability,k)},exports.CHISQ.INV.RT=function(p,k){return!p|!k?error.na:p<0||p>1||k<1||k>Math.pow(10,10)?error.num:"number"!=typeof p||"number"!=typeof k?error.value:jStat.chisquare.inv(1-p,k)},exports.CHISQ.TEST=function(observed,expected){function ChiSq(xsqr,dof){var p=Math.exp(-.5*xsqr);dof%2===1&&(p*=Math.sqrt(2*xsqr/Pi));for(var k=dof;k>=2;)p=p*xsqr/k,k-=2;for(var t=p,a=dof;t>1e-10*p;)a+=2,t=t*xsqr/a,p+=t;return 1-p}if(2!==arguments.length)return error.na;if(!(observed instanceof Array&&expected instanceof Array))return error.value;if(observed.length!==expected.length)return error.value;if(observed[0]&&expected[0]&&observed[0].length!==expected[0].length)return error.value;var tmp,i,j,row=observed.length;for(i=0;i<row;i++)observed[i]instanceof Array||(tmp=observed[i],observed[i]=[],observed[i].push(tmp)),expected[i]instanceof Array||(tmp=expected[i],expected[i]=[],expected[i].push(tmp));var col=observed[0].length,dof=1===col?row-1:(row-1)*(col-1),xsqr=0,Pi=Math.PI;for(i=0;i<row;i++)for(j=0;j<col;j++)xsqr+=Math.pow(observed[i][j]-expected[i][j],2)/expected[i][j];return Math.round(1e6*ChiSq(xsqr,dof))/1e6},exports.COLUMN=function(matrix,index){if(2!==arguments.length)return error.na;if(index<0)return error.num;if(!(matrix instanceof Array)||"number"!=typeof index)return error.value;if(0!==matrix.length)return jStat.col(matrix,index)},exports.COLUMNS=function(matrix){return 1!==arguments.length?error.na:matrix instanceof Array?0===matrix.length?0:jStat.cols(matrix):error.value},exports.CONFIDENCE={},exports.CONFIDENCE.NORM=function(alpha,sd,n){return alpha=utils.parseNumber(alpha),sd=utils.parseNumber(sd),n=utils.parseNumber(n),utils.anyIsError(alpha,sd,n)?error.value:jStat.normalci(1,alpha,sd,n)[1]-1},exports.CONFIDENCE.T=function(alpha,sd,n){return alpha=utils.parseNumber(alpha),sd=utils.parseNumber(sd),n=utils.parseNumber(n),utils.anyIsError(alpha,sd,n)?error.value:jStat.tci(1,alpha,sd,n)[1]-1},exports.CORREL=function(array1,array2){return array1=utils.parseNumberArray(utils.flatten(array1)),array2=utils.parseNumberArray(utils.flatten(array2)),utils.anyIsError(array1,array2)?error.value:jStat.corrcoeff(array1,array2)},exports.COUNT=function(){return utils.numbers(utils.flatten(arguments)).length},exports.COUNTA=function(){var range=utils.flatten(arguments);return range.length-exports.COUNTBLANK(range)},exports.COUNTIN=function(range,value){var result=0;range=utils.flatten(range);for(var i=0;i<range.length;i++)range[i]===value&&result++;return result},exports.COUNTBLANK=function(){for(var element,range=utils.flatten(arguments),blanks=0,i=0;i<range.length;i++)element=range[i],null!==element&&""!==element||blanks++;return blanks},exports.COUNTIF=function(range,criteria){range=utils.flatten(range),/[<>=!]/.test(criteria)||(criteria='=="'+criteria+'"');for(var matches=0,i=0;i<range.length;i++)"string"!=typeof range[i]?eval(range[i]+criteria)&&matches++:eval('"'+range[i]+'"'+criteria)&&matches++;return matches},exports.COUNTIFS=function(){for(var args=utils.argsToArray(arguments),results=new Array(utils.flatten(args[0]).length),i=0;i<results.length;i++)results[i]=!0;for(i=0;i<args.length;i+=2){var range=utils.flatten(args[i]),criteria=args[i+1];/[<>=!]/.test(criteria)||(criteria='=="'+criteria+'"');for(var j=0;j<range.length;j++)"string"!=typeof range[j]?results[j]=results[j]&&eval(range[j]+criteria):results[j]=results[j]&&eval('"'+range[j]+'"'+criteria)}var result=0;for(i=0;i<results.length;i++)results[i]&&result++;return result},exports.COUNTUNIQUE=function(){return misc.UNIQUE.apply(null,utils.flatten(arguments)).length},exports.COVARIANCE={},exports.COVARIANCE.P=function(array1,array2){if(array1=utils.parseNumberArray(utils.flatten(array1)),array2=utils.parseNumberArray(utils.flatten(array2)),utils.anyIsError(array1,array2))return error.value;for(var mean1=jStat.mean(array1),mean2=jStat.mean(array2),result=0,n=array1.length,i=0;i<n;i++)result+=(array1[i]-mean1)*(array2[i]-mean2);return result/n},exports.COVARIANCE.S=function(array1,array2){return array1=utils.parseNumberArray(utils.flatten(array1)),array2=utils.parseNumberArray(utils.flatten(array2)),utils.anyIsError(array1,array2)?error.value:jStat.covariance(array1,array2)},exports.DEVSQ=function(){var range=utils.parseNumberArray(utils.flatten(arguments));if(range instanceof Error)return range;for(var mean=jStat.mean(range),result=0,i=0;i<range.length;i++)result+=Math.pow(range[i]-mean,2);return result},exports.EXPON={},exports.EXPON.DIST=function(x,lambda,cumulative){return x=utils.parseNumber(x),lambda=utils.parseNumber(lambda),utils.anyIsError(x,lambda)?error.value:cumulative?jStat.exponential.cdf(x,lambda):jStat.exponential.pdf(x,lambda)},exports.F={},exports.F.DIST=function(x,d1,d2,cumulative){return x=utils.parseNumber(x),d1=utils.parseNumber(d1),d2=utils.parseNumber(d2),utils.anyIsError(x,d1,d2)?error.value:cumulative?jStat.centralF.cdf(x,d1,d2):jStat.centralF.pdf(x,d1,d2)},exports.F.DIST.RT=function(x,d1,d2){return 3!==arguments.length?error.na:x<0||d1<1||d2<1?error.num:"number"!=typeof x||"number"!=typeof d1||"number"!=typeof d2?error.value:1-jStat.centralF.cdf(x,d1,d2)},exports.F.INV=function(probability,d1,d2){return probability=utils.parseNumber(probability),d1=utils.parseNumber(d1),d2=utils.parseNumber(d2),utils.anyIsError(probability,d1,d2)?error.value:probability<=0||probability>1?error.num:jStat.centralF.inv(probability,d1,d2)},exports.F.INV.RT=function(p,d1,d2){return 3!==arguments.length?error.na:p<0||p>1||d1<1||d1>Math.pow(10,10)||d2<1||d2>Math.pow(10,10)?error.num:"number"!=typeof p||"number"!=typeof d1||"number"!=typeof d2?error.value:jStat.centralF.inv(1-p,d1,d2)},exports.F.TEST=function(array1,array2){if(!array1||!array2)return error.na;if(!(array1 instanceof Array&&array2 instanceof Array))return error.na;if(array1.length<2||array2.length<2)return error.div0;var sumOfSquares=function(values,x1){for(var sum=0,i=0;i<values.length;i++)sum+=Math.pow(values[i]-x1,2);return sum},x1=mathTrig.SUM(array1)/array1.length,x2=mathTrig.SUM(array2)/array2.length,sum1=sumOfSquares(array1,x1)/(array1.length-1),sum2=sumOfSquares(array2,x2)/(array2.length-1);return sum1/sum2},exports.FISHER=function(x){return x=utils.parseNumber(x),x instanceof Error?x:Math.log((1+x)/(1-x))/2},exports.FISHERINV=function(y){if(y=utils.parseNumber(y),y instanceof Error)return y;var e2y=Math.exp(2*y);return(e2y-1)/(e2y+1)},exports.FORECAST=function(x,data_y,data_x){if(x=utils.parseNumber(x),data_y=utils.parseNumberArray(utils.flatten(data_y)),data_x=utils.parseNumberArray(utils.flatten(data_x)),utils.anyIsError(x,data_y,data_x))return error.value;for(var xmean=jStat.mean(data_x),ymean=jStat.mean(data_y),n=data_x.length,num=0,den=0,i=0;i<n;i++)num+=(data_x[i]-xmean)*(data_y[i]-ymean),den+=Math.pow(data_x[i]-xmean,2);var b=num/den,a=ymean-b*xmean;return a+b*x},exports.FREQUENCY=function(data,bins){if(data=utils.parseNumberArray(utils.flatten(data)),bins=utils.parseNumberArray(utils.flatten(bins)),utils.anyIsError(data,bins))return error.value;for(var n=data.length,b=bins.length,r=[],i=0;i<=b;i++){
r[i]=0;for(var j=0;j<n;j++)0===i?data[j]<=bins[0]&&(r[0]+=1):i<b?data[j]>bins[i-1]&&data[j]<=bins[i]&&(r[i]+=1):i===b&&data[j]>bins[b-1]&&(r[b]+=1)}return r},exports.GAMMA=function(number){return number=utils.parseNumber(number),number instanceof Error?number:0===number?error.num:parseInt(number,10)===number&&number<0?error.num:jStat.gammafn(number)},exports.GAMMA.DIST=function(value,alpha,beta,cumulative){return 4!==arguments.length?error.na:value<0||alpha<=0||beta<=0?error.value:"number"!=typeof value||"number"!=typeof alpha||"number"!=typeof beta?error.value:cumulative?jStat.gamma.cdf(value,alpha,beta,!0):jStat.gamma.pdf(value,alpha,beta,!1)},exports.GAMMA.INV=function(probability,alpha,beta){return 3!==arguments.length?error.na:probability<0||probability>1||alpha<=0||beta<=0?error.num:"number"!=typeof probability||"number"!=typeof alpha||"number"!=typeof beta?error.value:jStat.gamma.inv(probability,alpha,beta)},exports.GAMMALN=function(number){return number=utils.parseNumber(number),number instanceof Error?number:jStat.gammaln(number)},exports.GAMMALN.PRECISE=function(x){return 1!==arguments.length?error.na:x<=0?error.num:"number"!=typeof x?error.value:jStat.gammaln(x)},exports.GAUSS=function(z){return z=utils.parseNumber(z),z instanceof Error?z:jStat.normal.cdf(z,0,1)-.5},exports.GEOMEAN=function(){var args=utils.parseNumberArray(utils.flatten(arguments));return args instanceof Error?args:jStat.geomean(args)},exports.GROWTH=function(known_y,known_x,new_x,use_const){if(known_y=utils.parseNumberArray(known_y),known_y instanceof Error)return known_y;var i;if(void 0===known_x)for(known_x=[],i=1;i<=known_y.length;i++)known_x.push(i);if(void 0===new_x)for(new_x=[],i=1;i<=known_y.length;i++)new_x.push(i);if(known_x=utils.parseNumberArray(known_x),new_x=utils.parseNumberArray(new_x),utils.anyIsError(known_x,new_x))return error.value;void 0===use_const&&(use_const=!0);var n=known_y.length,avg_x=0,avg_y=0,avg_xy=0,avg_xx=0;for(i=0;i<n;i++){var x=known_x[i],y=Math.log(known_y[i]);avg_x+=x,avg_y+=y,avg_xy+=x*y,avg_xx+=x*x}avg_x/=n,avg_y/=n,avg_xy/=n,avg_xx/=n;var beta,alpha;use_const?(beta=(avg_xy-avg_x*avg_y)/(avg_xx-avg_x*avg_x),alpha=avg_y-beta*avg_x):(beta=avg_xy/avg_xx,alpha=0);var new_y=[];for(i=0;i<new_x.length;i++)new_y.push(Math.exp(alpha+beta*new_x[i]));return new_y},exports.HARMEAN=function(){var range=utils.parseNumberArray(utils.flatten(arguments));if(range instanceof Error)return range;for(var n=range.length,den=0,i=0;i<n;i++)den+=1/range[i];return n/den},exports.HYPGEOM={},exports.HYPGEOM.DIST=function(x,n,M,N,cumulative){function pdf(x,n,M,N){return mathTrig.COMBIN(M,x)*mathTrig.COMBIN(N-M,n-x)/mathTrig.COMBIN(N,n)}function cdf(x,n,M,N){for(var result=0,i=0;i<=x;i++)result+=pdf(i,n,M,N);return result}return x=utils.parseNumber(x),n=utils.parseNumber(n),M=utils.parseNumber(M),N=utils.parseNumber(N),utils.anyIsError(x,n,M,N)?error.value:cumulative?cdf(x,n,M,N):pdf(x,n,M,N)},exports.INTERCEPT=function(known_y,known_x){return known_y=utils.parseNumberArray(known_y),known_x=utils.parseNumberArray(known_x),utils.anyIsError(known_y,known_x)?error.value:known_y.length!==known_x.length?error.na:exports.FORECAST(0,known_y,known_x)},exports.KURT=function(){var range=utils.parseNumberArray(utils.flatten(arguments));if(range instanceof Error)return range;for(var mean=jStat.mean(range),n=range.length,sigma=0,i=0;i<n;i++)sigma+=Math.pow(range[i]-mean,4);return sigma/=Math.pow(jStat.stdev(range,!0),4),n*(n+1)/((n-1)*(n-2)*(n-3))*sigma-3*(n-1)*(n-1)/((n-2)*(n-3))},exports.LARGE=function(range,k){return range=utils.parseNumberArray(utils.flatten(range)),k=utils.parseNumber(k),utils.anyIsError(range,k)?range:range.sort(function(a,b){return b-a})[k-1]},exports.LINEST=function(data_y,data_x){if(data_y=utils.parseNumberArray(utils.flatten(data_y)),data_x=utils.parseNumberArray(utils.flatten(data_x)),utils.anyIsError(data_y,data_x))return error.value;for(var ymean=jStat.mean(data_y),xmean=jStat.mean(data_x),n=data_x.length,num=0,den=0,i=0;i<n;i++)num+=(data_x[i]-xmean)*(data_y[i]-ymean),den+=Math.pow(data_x[i]-xmean,2);var m=num/den,b=ymean-m*xmean;return[m,b]},exports.LOGEST=function(data_y,data_x){if(data_y=utils.parseNumberArray(utils.flatten(data_y)),data_x=utils.parseNumberArray(utils.flatten(data_x)),utils.anyIsError(data_y,data_x))return error.value;for(var i=0;i<data_y.length;i++)data_y[i]=Math.log(data_y[i]);var result=exports.LINEST(data_y,data_x);return result[0]=Math.round(1e6*Math.exp(result[0]))/1e6,result[1]=Math.round(1e6*Math.exp(result[1]))/1e6,result},exports.LOGNORM={},exports.LOGNORM.DIST=function(x,mean,sd,cumulative){return x=utils.parseNumber(x),mean=utils.parseNumber(mean),sd=utils.parseNumber(sd),utils.anyIsError(x,mean,sd)?error.value:cumulative?jStat.lognormal.cdf(x,mean,sd):jStat.lognormal.pdf(x,mean,sd)},exports.LOGNORM.INV=function(probability,mean,sd){return probability=utils.parseNumber(probability),mean=utils.parseNumber(mean),sd=utils.parseNumber(sd),utils.anyIsError(probability,mean,sd)?error.value:jStat.lognormal.inv(probability,mean,sd)},exports.MAX=function(){var range=utils.numbers(utils.flatten(arguments));return 0===range.length?0:Math.max.apply(Math,range)},exports.MAXA=function(){var range=utils.arrayValuesToNumbers(utils.flatten(arguments));return 0===range.length?0:Math.max.apply(Math,range)},exports.MEDIAN=function(){var range=utils.arrayValuesToNumbers(utils.flatten(arguments)),result=jStat.median(range);return isNaN(result)&&(result=error.num),result},exports.MIN=function(){var range=utils.numbers(utils.flatten(arguments));return 0===range.length?0:Math.min.apply(Math,range)},exports.MINA=function(){var range=utils.arrayValuesToNumbers(utils.flatten(arguments));return 0===range.length?0:Math.min.apply(Math,range)},exports.MODE={},exports.MODE.MULT=function(){var range=utils.parseNumberArray(utils.flatten(arguments));if(range instanceof Error)return range;for(var currentItem,n=range.length,count={},maxItems=[],max=0,i=0;i<n;i++)currentItem=range[i],count[currentItem]=count[currentItem]?count[currentItem]+1:1,count[currentItem]>max&&(max=count[currentItem],maxItems=[]),count[currentItem]===max&&(maxItems[maxItems.length]=currentItem);return maxItems},exports.MODE.SNGL=function(){var range=utils.parseNumberArray(utils.flatten(arguments));return range instanceof Error?range:exports.MODE.MULT(range).sort(function(a,b){return a-b})[0]},exports.NEGBINOM={},exports.NEGBINOM.DIST=function(k,r,p,cumulative){return k=utils.parseNumber(k),r=utils.parseNumber(r),p=utils.parseNumber(p),utils.anyIsError(k,r,p)?error.value:cumulative?jStat.negbin.cdf(k,r,p):jStat.negbin.pdf(k,r,p)},exports.NORM={},exports.NORM.DIST=function(x,mean,sd,cumulative){return x=utils.parseNumber(x),mean=utils.parseNumber(mean),sd=utils.parseNumber(sd),utils.anyIsError(x,mean,sd)?error.value:sd<=0?error.num:cumulative?jStat.normal.cdf(x,mean,sd):jStat.normal.pdf(x,mean,sd)},exports.NORM.INV=function(probability,mean,sd){return probability=utils.parseNumber(probability),mean=utils.parseNumber(mean),sd=utils.parseNumber(sd),utils.anyIsError(probability,mean,sd)?error.value:jStat.normal.inv(probability,mean,sd)},exports.NORM.S={},exports.NORM.S.DIST=function(z,cumulative){return z=utils.parseNumber(z),z instanceof Error?error.value:cumulative?jStat.normal.cdf(z,0,1):jStat.normal.pdf(z,0,1)},exports.NORM.S.INV=function(probability){return probability=utils.parseNumber(probability),probability instanceof Error?error.value:jStat.normal.inv(probability,0,1)},exports.PEARSON=function(data_x,data_y){if(data_y=utils.parseNumberArray(utils.flatten(data_y)),data_x=utils.parseNumberArray(utils.flatten(data_x)),utils.anyIsError(data_y,data_x))return error.value;for(var xmean=jStat.mean(data_x),ymean=jStat.mean(data_y),n=data_x.length,num=0,den1=0,den2=0,i=0;i<n;i++)num+=(data_x[i]-xmean)*(data_y[i]-ymean),den1+=Math.pow(data_x[i]-xmean,2),den2+=Math.pow(data_y[i]-ymean,2);return num/Math.sqrt(den1*den2)},exports.PERCENTILE={},exports.PERCENTILE.EXC=function(array,k){if(array=utils.parseNumberArray(utils.flatten(array)),k=utils.parseNumber(k),utils.anyIsError(array,k))return error.value;array=array.sort(function(a,b){return a-b});var n=array.length;if(k<1/(n+1)||k>1-1/(n+1))return error.num;var l=k*(n+1)-1,fl=Math.floor(l);return utils.cleanFloat(l===fl?array[l]:array[fl]+(l-fl)*(array[fl+1]-array[fl]))},exports.PERCENTILE.INC=function(array,k){if(array=utils.parseNumberArray(utils.flatten(array)),k=utils.parseNumber(k),utils.anyIsError(array,k))return error.value;array=array.sort(function(a,b){return a-b});var n=array.length,l=k*(n-1),fl=Math.floor(l);return utils.cleanFloat(l===fl?array[l]:array[fl]+(l-fl)*(array[fl+1]-array[fl]))},exports.PERCENTRANK={},exports.PERCENTRANK.EXC=function(array,x,significance){if(significance=void 0===significance?3:significance,array=utils.parseNumberArray(utils.flatten(array)),x=utils.parseNumber(x),significance=utils.parseNumber(significance),utils.anyIsError(array,x,significance))return error.value;array=array.sort(function(a,b){return a-b});for(var uniques=misc.UNIQUE.apply(null,array),n=array.length,m=uniques.length,power=Math.pow(10,significance),result=0,match=!1,i=0;!match&&i<m;)x===uniques[i]?(result=(array.indexOf(uniques[i])+1)/(n+1),match=!0):x>=uniques[i]&&(x<uniques[i+1]||i===m-1)&&(result=(array.indexOf(uniques[i])+1+(x-uniques[i])/(uniques[i+1]-uniques[i]))/(n+1),match=!0),i++;return Math.floor(result*power)/power},exports.PERCENTRANK.INC=function(array,x,significance){if(significance=void 0===significance?3:significance,array=utils.parseNumberArray(utils.flatten(array)),x=utils.parseNumber(x),significance=utils.parseNumber(significance),utils.anyIsError(array,x,significance))return error.value;array=array.sort(function(a,b){return a-b});for(var uniques=misc.UNIQUE.apply(null,array),n=array.length,m=uniques.length,power=Math.pow(10,significance),result=0,match=!1,i=0;!match&&i<m;)x===uniques[i]?(result=array.indexOf(uniques[i])/(n-1),match=!0):x>=uniques[i]&&(x<uniques[i+1]||i===m-1)&&(result=(array.indexOf(uniques[i])+(x-uniques[i])/(uniques[i+1]-uniques[i]))/(n-1),match=!0),i++;return Math.floor(result*power)/power},exports.PERMUT=function(number,number_chosen){return number=utils.parseNumber(number),number_chosen=utils.parseNumber(number_chosen),utils.anyIsError(number,number_chosen)?error.value:mathTrig.FACT(number)/mathTrig.FACT(number-number_chosen)},exports.PERMUTATIONA=function(number,number_chosen){return number=utils.parseNumber(number),number_chosen=utils.parseNumber(number_chosen),utils.anyIsError(number,number_chosen)?error.value:Math.pow(number,number_chosen)},exports.PHI=function(x){return x=utils.parseNumber(x),x instanceof Error?error.value:Math.exp(-.5*x*x)/SQRT2PI},exports.POISSON={},exports.POISSON.DIST=function(x,mean,cumulative){return x=utils.parseNumber(x),mean=utils.parseNumber(mean),utils.anyIsError(x,mean)?error.value:cumulative?jStat.poisson.cdf(x,mean):jStat.poisson.pdf(x,mean)},exports.PROB=function(range,probability,lower,upper){if(void 0===lower)return 0;if(upper=void 0===upper?lower:upper,range=utils.parseNumberArray(utils.flatten(range)),probability=utils.parseNumberArray(utils.flatten(probability)),lower=utils.parseNumber(lower),upper=utils.parseNumber(upper),utils.anyIsError(range,probability,lower,upper))return error.value;if(lower===upper)return range.indexOf(lower)>=0?probability[range.indexOf(lower)]:0;for(var sorted=range.sort(function(a,b){return a-b}),n=sorted.length,result=0,i=0;i<n;i++)sorted[i]>=lower&&sorted[i]<=upper&&(result+=probability[range.indexOf(sorted[i])]);return result},exports.QUARTILE={},exports.QUARTILE.EXC=function(range,quart){if(range=utils.parseNumberArray(utils.flatten(range)),quart=utils.parseNumber(quart),utils.anyIsError(range,quart))return error.value;switch(quart){case 1:return exports.PERCENTILE.EXC(range,.25);case 2:return exports.PERCENTILE.EXC(range,.5);case 3:return exports.PERCENTILE.EXC(range,.75);default:return error.num}},exports.QUARTILE.INC=function(range,quart){if(range=utils.parseNumberArray(utils.flatten(range)),quart=utils.parseNumber(quart),utils.anyIsError(range,quart))return error.value;switch(quart){case 1:return exports.PERCENTILE.INC(range,.25);case 2:return exports.PERCENTILE.INC(range,.5);case 3:return exports.PERCENTILE.INC(range,.75);default:return error.num}},exports.RANK={},exports.RANK.AVG=function(number,range,order){if(number=utils.parseNumber(number),range=utils.parseNumberArray(utils.flatten(range)),utils.anyIsError(number,range))return error.value;range=utils.flatten(range),order=order||!1;var sort=order?function(a,b){return a-b}:function(a,b){return b-a};range=range.sort(sort);for(var length=range.length,count=0,i=0;i<length;i++)range[i]===number&&count++;return count>1?(2*range.indexOf(number)+count+1)/2:range.indexOf(number)+1},exports.RANK.EQ=function(number,range,order){if(number=utils.parseNumber(number),range=utils.parseNumberArray(utils.flatten(range)),utils.anyIsError(number,range))return error.value;order=order||!1;var sort=order?function(a,b){return a-b}:function(a,b){return b-a};return range=range.sort(sort),range.indexOf(number)+1},exports.ROW=function(matrix,index){if(2!==arguments.length)return error.na;if(index<0)return error.num;if(!(matrix instanceof Array)||"number"!=typeof index)return error.value;if(0!==matrix.length)return jStat.row(matrix,index)},exports.ROWS=function(matrix){return 1!==arguments.length?error.na:matrix instanceof Array?0===matrix.length?0:jStat.rows(matrix):error.value},exports.RSQ=function(data_x,data_y){return data_x=utils.parseNumberArray(utils.flatten(data_x)),data_y=utils.parseNumberArray(utils.flatten(data_y)),utils.anyIsError(data_x,data_y)?error.value:Math.pow(exports.PEARSON(data_x,data_y),2)},exports.SKEW=function(){var range=utils.parseNumberArray(utils.flatten(arguments));if(range instanceof Error)return range;for(var mean=jStat.mean(range),n=range.length,sigma=0,i=0;i<n;i++)sigma+=Math.pow(range[i]-mean,3);return n*sigma/((n-1)*(n-2)*Math.pow(jStat.stdev(range,!0),3))},exports.SKEW.P=function(){var range=utils.parseNumberArray(utils.flatten(arguments));if(range instanceof Error)return range;for(var mean=jStat.mean(range),n=range.length,m2=0,m3=0,i=0;i<n;i++)m3+=Math.pow(range[i]-mean,3),m2+=Math.pow(range[i]-mean,2);return m3/=n,m2/=n,m3/Math.pow(m2,1.5)},exports.SLOPE=function(data_y,data_x){if(data_y=utils.parseNumberArray(utils.flatten(data_y)),data_x=utils.parseNumberArray(utils.flatten(data_x)),utils.anyIsError(data_y,data_x))return error.value;for(var xmean=jStat.mean(data_x),ymean=jStat.mean(data_y),n=data_x.length,num=0,den=0,i=0;i<n;i++)num+=(data_x[i]-xmean)*(data_y[i]-ymean),den+=Math.pow(data_x[i]-xmean,2);return num/den},exports.SMALL=function(range,k){return range=utils.parseNumberArray(utils.flatten(range)),k=utils.parseNumber(k),utils.anyIsError(range,k)?range:range.sort(function(a,b){return a-b})[k-1]},exports.STANDARDIZE=function(x,mean,sd){return x=utils.parseNumber(x),mean=utils.parseNumber(mean),sd=utils.parseNumber(sd),utils.anyIsError(x,mean,sd)?error.value:(x-mean)/sd},exports.STDEV={},exports.STDEV.P=function(){var v=exports.VAR.P.apply(this,arguments),result=Math.sqrt(v);return isNaN(result)&&(result=error.num),result},exports.STDEV.S=function(){var v=exports.VAR.S.apply(this,arguments),result=Math.sqrt(v);return result},exports.STDEVA=function(){var v=exports.VARA.apply(this,arguments),result=Math.sqrt(v);return result},exports.STDEVPA=function(){var v=exports.VARPA.apply(this,arguments),result=Math.sqrt(v);return isNaN(result)&&(result=error.num),result},exports.STEYX=function(data_y,data_x){if(data_y=utils.parseNumberArray(utils.flatten(data_y)),data_x=utils.parseNumberArray(utils.flatten(data_x)),utils.anyIsError(data_y,data_x))return error.value;for(var xmean=jStat.mean(data_x),ymean=jStat.mean(data_y),n=data_x.length,lft=0,num=0,den=0,i=0;i<n;i++)lft+=Math.pow(data_y[i]-ymean,2),num+=(data_x[i]-xmean)*(data_y[i]-ymean),den+=Math.pow(data_x[i]-xmean,2);return Math.sqrt((lft-num*num/den)/(n-2))},exports.TRANSPOSE=function(matrix){return matrix?jStat.transpose(matrix):error.na},exports.T=text.T,exports.T.DIST=function(x,df,cumulative){return x=utils.parseNumber(x),df=utils.parseNumber(df),utils.anyIsError(x,df)?error.value:cumulative?jStat.studentt.cdf(x,df):jStat.studentt.pdf(x,df)},exports.T.DIST["2T"]=function(x,df){return 2!==arguments.length?error.na:x<0||df<1?error.num:"number"!=typeof x||"number"!=typeof df?error.value:2*(1-jStat.studentt.cdf(x,df))},exports.T.DIST.RT=function(x,df){return 2!==arguments.length?error.na:x<0||df<1?error.num:"number"!=typeof x||"number"!=typeof df?error.value:1-jStat.studentt.cdf(x,df)},exports.T.INV=function(probability,df){return probability=utils.parseNumber(probability),df=utils.parseNumber(df),utils.anyIsError(probability,df)?error.value:jStat.studentt.inv(probability,df)},exports.T.INV["2T"]=function(probability,df){return probability=utils.parseNumber(probability),df=utils.parseNumber(df),probability<=0||probability>1||df<1?error.num:utils.anyIsError(probability,df)?error.value:Math.abs(jStat.studentt.inv(probability/2,df))},exports.T.TEST=function(data_x,data_y){if(data_x=utils.parseNumberArray(utils.flatten(data_x)),data_y=utils.parseNumberArray(utils.flatten(data_y)),utils.anyIsError(data_x,data_y))return error.value;var i,mean_x=jStat.mean(data_x),mean_y=jStat.mean(data_y),s_x=0,s_y=0;for(i=0;i<data_x.length;i++)s_x+=Math.pow(data_x[i]-mean_x,2);for(i=0;i<data_y.length;i++)s_y+=Math.pow(data_y[i]-mean_y,2);s_x/=data_x.length-1,s_y/=data_y.length-1;var t=Math.abs(mean_x-mean_y)/Math.sqrt(s_x/data_x.length+s_y/data_y.length);return exports.T.DIST["2T"](t,data_x.length+data_y.length-2)},exports.TREND=function(data_y,data_x,new_data_x){if(data_y=utils.parseNumberArray(utils.flatten(data_y)),data_x=utils.parseNumberArray(utils.flatten(data_x)),new_data_x=utils.parseNumberArray(utils.flatten(new_data_x)),utils.anyIsError(data_y,data_x,new_data_x))return error.value;var linest=exports.LINEST(data_y,data_x),m=linest[0],b=linest[1],result=[];return new_data_x.forEach(function(x){result.push(m*x+b)}),result},exports.TRIMMEAN=function(range,percent){if(range=utils.parseNumberArray(utils.flatten(range)),percent=utils.parseNumber(percent),utils.anyIsError(range,percent))return error.value;var trim=mathTrig.FLOOR(range.length*percent,2)/2;return jStat.mean(utils.initial(utils.rest(range.sort(function(a,b){return a-b}),trim),trim))},exports.VAR={},exports.VAR.P=function(){for(var result,range=utils.numbers(utils.flatten(arguments)),n=range.length,sigma=0,mean=exports.AVERAGE(range),i=0;i<n;i++)sigma+=Math.pow(range[i]-mean,2);return result=sigma/n,isNaN(result)&&(result=error.num),result},exports.VAR.S=function(){for(var range=utils.numbers(utils.flatten(arguments)),n=range.length,sigma=0,mean=exports.AVERAGE(range),i=0;i<n;i++)sigma+=Math.pow(range[i]-mean,2);return sigma/(n-1)},exports.VARA=function(){for(var range=utils.flatten(arguments),n=range.length,sigma=0,count=0,mean=exports.AVERAGEA(range),i=0;i<n;i++){var el=range[i];sigma+="number"==typeof el?Math.pow(el-mean,2):el===!0?Math.pow(1-mean,2):Math.pow(0-mean,2),null!==el&&count++}return sigma/(count-1)},exports.VARPA=function(){for(var result,range=utils.flatten(arguments),n=range.length,sigma=0,count=0,mean=exports.AVERAGEA(range),i=0;i<n;i++){var el=range[i];sigma+="number"==typeof el?Math.pow(el-mean,2):el===!0?Math.pow(1-mean,2):Math.pow(0-mean,2),null!==el&&count++}return result=sigma/count,isNaN(result)&&(result=error.num),result},exports.WEIBULL={},exports.WEIBULL.DIST=function(x,alpha,beta,cumulative){return x=utils.parseNumber(x),alpha=utils.parseNumber(alpha),beta=utils.parseNumber(beta),utils.anyIsError(x,alpha,beta)?error.value:cumulative?1-Math.exp(-Math.pow(x/beta,alpha)):Math.pow(x,alpha-1)*Math.exp(-Math.pow(x/beta,alpha))*alpha/Math.pow(beta,alpha)},exports.Z={},exports.Z.TEST=function(range,x,sd){if(range=utils.parseNumberArray(utils.flatten(range)),x=utils.parseNumber(x),utils.anyIsError(range,x))return error.value;sd=sd||exports.STDEV.S(range);var n=range.length;return 1-exports.NORM.S.DIST((exports.AVERAGE(range)-x)/(sd/Math.sqrt(n)),!0)}},function(module,exports,__webpack_require__){function isLeapYear(year){return 1===new Date(year,1,29).getMonth()}function daysBetween(start_date,end_date){return Math.ceil((end_date-start_date)/1e3/60/60/24)}function serial(date){var addOn=date>-22038912e5?2:1;return(date-d1900)/864e5+addOn}var error=__webpack_require__(0),utils=__webpack_require__(2),d1900=new Date(1900,0,1),WEEK_STARTS=[void 0,0,1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,2,3,4,5,6,0],WEEK_TYPES=[[],[1,2,3,4,5,6,7],[7,1,2,3,4,5,6],[6,0,1,2,3,4,5],[],[],[],[],[],[],[],[7,1,2,3,4,5,6],[6,7,1,2,3,4,5],[5,6,7,1,2,3,4],[4,5,6,7,1,2,3],[3,4,5,6,7,1,2],[2,3,4,5,6,7,1],[1,2,3,4,5,6,7]],WEEKEND_TYPES=[[],[6,0],[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],void 0,void 0,void 0,[0,0],[1,1],[2,2],[3,3],[4,4],[5,5],[6,6]];exports.DATE=function(year,month,day){var result;return year=utils.parseNumber(year),month=utils.parseNumber(month),day=utils.parseNumber(day),result=utils.anyIsError(year,month,day)?error.value:year<0||month<0||day<0?error.num:new Date(year,month-1,day)},exports.DATEVALUE=function(date_text){if("string"!=typeof date_text)return error.value;var date=Date.parse(date_text);return isNaN(date)?error.value:date<=-22038912e5?(date-d1900)/864e5+1:(date-d1900)/864e5+2},exports.DAY=function(serial_number){var date=utils.parseDate(serial_number);return date instanceof Error?date:date.getDate()},exports.DAYS=function(end_date,start_date){return end_date=utils.parseDate(end_date),start_date=utils.parseDate(start_date),end_date instanceof Error?end_date:start_date instanceof Error?start_date:serial(end_date)-serial(start_date)},exports.DAYS360=function(start_date,end_date,method){if(method=utils.parseBool(method),start_date=utils.parseDate(start_date),end_date=utils.parseDate(end_date),start_date instanceof Error)return start_date;if(end_date instanceof Error)return end_date;if(method instanceof Error)return method;var sd,ed,sm=start_date.getMonth(),em=end_date.getMonth();if(method)sd=31===start_date.getDate()?30:start_date.getDate(),ed=31===end_date.getDate()?30:end_date.getDate();else{var smd=new Date(start_date.getFullYear(),sm+1,0).getDate(),emd=new Date(end_date.getFullYear(),em+1,0).getDate();sd=start_date.getDate()===smd?30:start_date.getDate(),end_date.getDate()===emd?sd<30?(em++,ed=1):ed=30:ed=end_date.getDate()}return 360*(end_date.getFullYear()-start_date.getFullYear())+30*(em-sm)+(ed-sd)},exports.EDATE=function(start_date,months){return start_date=utils.parseDate(start_date),start_date instanceof Error?start_date:isNaN(months)?error.value:(months=parseInt(months,10),start_date.setMonth(start_date.getMonth()+months),serial(start_date))},exports.EOMONTH=function(start_date,months){return start_date=utils.parseDate(start_date),start_date instanceof Error?start_date:isNaN(months)?error.value:(months=parseInt(months,10),serial(new Date(start_date.getFullYear(),start_date.getMonth()+months+1,0)))},exports.HOUR=function(serial_number){return serial_number=utils.parseDate(serial_number),serial_number instanceof Error?serial_number:serial_number.getHours()},exports.INTERVAL=function(second){if("number"!=typeof second&&"string"!=typeof second)return error.value;second=parseInt(second,10);var year=Math.floor(second/94608e4);second%=94608e4;var month=Math.floor(second/2592e3);second%=2592e3;var day=Math.floor(second/86400);second%=86400;var hour=Math.floor(second/3600);second%=3600;var min=Math.floor(second/60);second%=60;var sec=second;return year=year>0?year+"Y":"",month=month>0?month+"M":"",day=day>0?day+"D":"",hour=hour>0?hour+"H":"",min=min>0?min+"M":"",sec=sec>0?sec+"S":"","P"+year+month+day+"T"+hour+min+sec},exports.ISOWEEKNUM=function(date){if(date=utils.parseDate(date),date instanceof Error)return date;date.setHours(0,0,0),date.setDate(date.getDate()+4-(date.getDay()||7));var yearStart=new Date(date.getFullYear(),0,1);return Math.ceil(((date-yearStart)/864e5+1)/7)},exports.MINUTE=function(serial_number){return serial_number=utils.parseDate(serial_number),serial_number instanceof Error?serial_number:serial_number.getMinutes()},exports.MONTH=function(serial_number){return serial_number=utils.parseDate(serial_number),serial_number instanceof Error?serial_number:serial_number.getMonth()+1},exports.NETWORKDAYS=function(start_date,end_date,holidays){return this.NETWORKDAYS.INTL(start_date,end_date,1,holidays)},exports.NETWORKDAYS.INTL=function(start_date,end_date,weekend,holidays){if(start_date=utils.parseDate(start_date),start_date instanceof Error)return start_date;if(end_date=utils.parseDate(end_date),end_date instanceof Error)return end_date;if(weekend=void 0===weekend?WEEKEND_TYPES[1]:WEEKEND_TYPES[weekend],!(weekend instanceof Array))return error.value;void 0===holidays?holidays=[]:holidays instanceof Array||(holidays=[holidays]);for(var i=0;i<holidays.length;i++){var h=utils.parseDate(holidays[i]);if(h instanceof Error)return h;holidays[i]=h}var days=(end_date-start_date)/864e5+1,total=days,day=start_date;for(i=0;i<days;i++){var d=(new Date).getTimezoneOffset()>0?day.getUTCDay():day.getDay(),dec=!1;d!==weekend[0]&&d!==weekend[1]||(dec=!0);for(var j=0;j<holidays.length;j++){var holiday=holidays[j];if(holiday.getDate()===day.getDate()&&holiday.getMonth()===day.getMonth()&&holiday.getFullYear()===day.getFullYear()){dec=!0;break}}dec&&total--,day.setDate(day.getDate()+1)}return total},exports.NOW=function(){return new Date},exports.SECOND=function(serial_number){return serial_number=utils.parseDate(serial_number),serial_number instanceof Error?serial_number:serial_number.getSeconds()},exports.TIME=function(hour,minute,second){return hour=utils.parseNumber(hour),minute=utils.parseNumber(minute),second=utils.parseNumber(second),utils.anyIsError(hour,minute,second)?error.value:hour<0||minute<0||second<0?error.num:(3600*hour+60*minute+second)/86400},exports.TIMEVALUE=function(time_text){return time_text=utils.parseDate(time_text),time_text instanceof Error?time_text:(3600*time_text.getHours()+60*time_text.getMinutes()+time_text.getSeconds())/86400},exports.TODAY=function(){return new Date},exports.WEEKDAY=function(serial_number,return_type){if(serial_number=utils.parseDate(serial_number),serial_number instanceof Error)return serial_number;void 0===return_type&&(return_type=1);var day=serial_number.getDay();return WEEK_TYPES[return_type][day]},exports.WEEKNUM=function(serial_number,return_type){if(serial_number=utils.parseDate(serial_number),serial_number instanceof Error)return serial_number;if(void 0===return_type&&(return_type=1),21===return_type)return this.ISOWEEKNUM(serial_number);var week_start=WEEK_STARTS[return_type],jan=new Date(serial_number.getFullYear(),0,1),inc=jan.getDay()<week_start?1:0;return jan-=24*Math.abs(jan.getDay()-week_start)*60*60*1e3,Math.floor((serial_number-jan)/864e5/7+1)+inc},exports.WORKDAY=function(start_date,days,holidays){return this.WORKDAY.INTL(start_date,days,1,holidays)},exports.WORKDAY.INTL=function(start_date,days,weekend,holidays){if(start_date=utils.parseDate(start_date),start_date instanceof Error)return start_date;if(days=utils.parseNumber(days),days instanceof Error)return days;if(days<0)return error.num;if(weekend=void 0===weekend?WEEKEND_TYPES[1]:WEEKEND_TYPES[weekend],!(weekend instanceof Array))return error.value;void 0===holidays?holidays=[]:holidays instanceof Array||(holidays=[holidays]);for(var i=0;i<holidays.length;i++){var h=utils.parseDate(holidays[i]);if(h instanceof Error)return h;holidays[i]=h}for(var d=0;d<days;){start_date.setDate(start_date.getDate()+1);var day=start_date.getDay();if(day!==weekend[0]&&day!==weekend[1]){for(var j=0;j<holidays.length;j++){var holiday=holidays[j];if(holiday.getDate()===start_date.getDate()&&holiday.getMonth()===start_date.getMonth()&&holiday.getFullYear()===start_date.getFullYear()){d--;break}}d++}}return start_date},exports.YEAR=function(serial_number){return serial_number=utils.parseDate(serial_number),serial_number instanceof Error?serial_number:serial_number.getFullYear()},exports.YEARFRAC=function(start_date,end_date,basis){if(start_date=utils.parseDate(start_date),start_date instanceof Error)return start_date;if(end_date=utils.parseDate(end_date),end_date instanceof Error)return end_date;basis=basis||0;var sd=start_date.getDate(),sm=start_date.getMonth()+1,sy=start_date.getFullYear(),ed=end_date.getDate(),em=end_date.getMonth()+1,ey=end_date.getFullYear();switch(basis){case 0:return 31===sd&&31===ed?(sd=30,ed=30):31===sd?sd=30:30===sd&&31===ed&&(ed=30),(ed+30*em+360*ey-(sd+30*sm+360*sy))/360;case 1:var feb29Between=function(date1,date2){var year1=date1.getFullYear(),mar1year1=new Date(year1,2,1);if(isLeapYear(year1)&&date1<mar1year1&&date2>=mar1year1)return!0;var year2=date2.getFullYear(),mar1year2=new Date(year2,2,1);return isLeapYear(year2)&&date2>=mar1year2&&date1<mar1year2},ylength=365;if(sy===ey||sy+1===ey&&(sm>em||sm===em&&sd>=ed))return(sy===ey&&isLeapYear(sy)||feb29Between(start_date,end_date)||1===em&&29===ed)&&(ylength=366),daysBetween(start_date,end_date)/ylength;var years=ey-sy+1,days=(new Date(ey+1,0,1)-new Date(sy,0,1))/1e3/60/60/24,average=days/years;return daysBetween(start_date,end_date)/average;case 2:return daysBetween(start_date,end_date)/360;case 3:return daysBetween(start_date,end_date)/365;case 4:return(ed+30*em+360*ey-(sd+30*sm+360*sy))/360}}},function(module,exports,__webpack_require__){var error=__webpack_require__(0);exports.CELL=function(){throw new Error("CELL is not implemented")},exports.ERROR={},exports.ERROR.TYPE=function(error_val){switch(error_val){case error.nil:return 1;case error.div0:return 2;case error.value:return 3;case error.ref:return 4;case error.name:return 5;case error.num:return 6;case error.na:return 7;case error.data:return 8}return error.na},exports.INFO=function(){throw new Error("INFO is not implemented")},exports.ISBLANK=function(value){return null===value},exports.ISBINARY=function(number){return/^[01]{1,10}$/.test(number)},exports.ISERR=function(value){return[error.value,error.ref,error.div0,error.num,error.name,error.nil].indexOf(value)>=0||"number"==typeof value&&(isNaN(value)||!isFinite(value))},exports.ISERROR=function(value){return exports.ISERR(value)||value===error.na},exports.ISEVEN=function(number){return!(1&Math.floor(Math.abs(number)))},exports.ISFORMULA=function(){throw new Error("ISFORMULA is not implemented")},exports.ISLOGICAL=function(value){return value===!0||value===!1},exports.ISNA=function(value){return value===error.na},exports.ISNONTEXT=function(value){return"string"!=typeof value},exports.ISNUMBER=function(value){return"number"==typeof value&&!isNaN(value)&&isFinite(value)},exports.ISODD=function(number){return!!(1&Math.floor(Math.abs(number)))},exports.ISREF=function(){throw new Error("ISREF is not implemented")},exports.ISTEXT=function(value){return"string"==typeof value},exports.N=function(value){return this.ISNUMBER(value)?value:value instanceof Date?value.getTime():value===!0?1:value===!1?0:this.ISERROR(value)?value:0},exports.NA=function(){return error.na},exports.SHEET=function(){throw new Error("SHEET is not implemented")},exports.SHEETS=function(){throw new Error("SHEETS is not implemented")},exports.TYPE=function(value){return this.ISNUMBER(value)?1:this.ISTEXT(value)?2:this.ISLOGICAL(value)?4:this.ISERROR(value)?16:Array.isArray(value)?64:void 0}},function(module,exports,__webpack_require__){var utils=__webpack_require__(2),error=__webpack_require__(0),numbro=__webpack_require__(14);exports.ASC=function(){throw new Error("ASC is not implemented")},exports.BAHTTEXT=function(){throw new Error("BAHTTEXT is not implemented")},exports.CHAR=function(number){return number=utils.parseNumber(number),number instanceof Error?number:String.fromCharCode(number)},exports.CLEAN=function(text){text=text||"";var re=/[\0-\x1F]/g;return text.replace(re,"")},exports.CODE=function(text){
text=text||"";var result=text.charCodeAt(0);return isNaN(result)&&(result=error.na),result},exports.CONCATENATE=function(){for(var args=utils.flatten(arguments),trueFound=0;(trueFound=args.indexOf(!0))>-1;)args[trueFound]="TRUE";for(var falseFound=0;(falseFound=args.indexOf(!1))>-1;)args[falseFound]="FALSE";return args.join("")},exports.DBCS=function(){throw new Error("DBCS is not implemented")},exports.DOLLAR=function(number,decimals){if(decimals=void 0===decimals?2:decimals,number=utils.parseNumber(number),decimals=utils.parseNumber(decimals),utils.anyIsError(number,decimals))return error.value;var format="";return decimals<=0?(number=Math.round(number*Math.pow(10,decimals))/Math.pow(10,decimals),format="($0,0)"):decimals>0&&(format="($0,0."+new Array(decimals+1).join("0")+")"),numbro(number).format(format)},exports.EXACT=function(text1,text2){return 2!==arguments.length?error.na:text1===text2},exports.FIND=function(find_text,within_text,position){return arguments.length<2?error.na:(position=void 0===position?0:position,within_text?within_text.indexOf(find_text,position-1)+1:null)},exports.FIXED=function(number,decimals,no_commas){if(decimals=void 0===decimals?2:decimals,no_commas=void 0!==no_commas&&no_commas,number=utils.parseNumber(number),decimals=utils.parseNumber(decimals),utils.anyIsError(number,decimals))return error.value;var format=no_commas?"0":"0,0";return decimals<=0?number=Math.round(number*Math.pow(10,decimals))/Math.pow(10,decimals):decimals>0&&(format+="."+new Array(decimals+1).join("0")),numbro(number).format(format)},exports.HTML2TEXT=function(value){var result="";return value&&(value instanceof Array?value.forEach(function(line){""!==result&&(result+="\n"),result+=line.replace(/<(?:.|\n)*?>/gm,"")}):result=value.replace(/<(?:.|\n)*?>/gm,"")),result},exports.LEFT=function(text,number){return number=void 0===number?1:number,number=utils.parseNumber(number),number instanceof Error||"string"!=typeof text?error.value:text?text.substring(0,number):null},exports.LEN=function(text){return 0===arguments.length?error.error:"string"==typeof text?text?text.length:0:text.length?text.length:error.value},exports.LOWER=function(text){return"string"!=typeof text?error.value:text?text.toLowerCase():text},exports.MID=function(text,start,number){if(start=utils.parseNumber(start),number=utils.parseNumber(number),utils.anyIsError(start,number)||"string"!=typeof text)return number;var begin=start-1,end=begin+number;return text.substring(begin,end)},exports.NUMBERVALUE=function(text,decimal_separator,group_separator){return decimal_separator="undefined"==typeof decimal_separator?".":decimal_separator,group_separator="undefined"==typeof group_separator?",":group_separator,Number(text.replace(decimal_separator,".").replace(group_separator,""))},exports.PRONETIC=function(){throw new Error("PRONETIC is not implemented")},exports.PROPER=function(text){return void 0===text||0===text.length?error.value:(text===!0&&(text="TRUE"),text===!1&&(text="FALSE"),isNaN(text)&&"number"==typeof text?error.value:("number"==typeof text&&(text=""+text),text.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()})))},exports.REGEXEXTRACT=function(text,regular_expression){if(arguments.length<2)return error.na;var match=text.match(new RegExp(regular_expression));return match?match[match.length>1?match.length-1:0]:null},exports.REGEXMATCH=function(text,regular_expression,full){if(arguments.length<2)return error.na;var match=text.match(new RegExp(regular_expression));return full?match:!!match},exports.REGEXREPLACE=function(text,regular_expression,replacement){return arguments.length<3?error.na:text.replace(new RegExp(regular_expression),replacement)},exports.REPLACE=function(text,position,length,new_text){return position=utils.parseNumber(position),length=utils.parseNumber(length),utils.anyIsError(position,length)||"string"!=typeof text||"string"!=typeof new_text?error.value:text.substr(0,position-1)+new_text+text.substr(position-1+length)},exports.REPT=function(text,number){return number=utils.parseNumber(number),number instanceof Error?number:new Array(number+1).join(text)},exports.RIGHT=function(text,number){return number=void 0===number?1:number,number=utils.parseNumber(number),number instanceof Error?number:text?text.substring(text.length-number):error.na},exports.SEARCH=function(find_text,within_text,position){var foundAt;return"string"!=typeof find_text||"string"!=typeof within_text?error.value:(position=void 0===position?0:position,foundAt=within_text.toLowerCase().indexOf(find_text.toLowerCase(),position-1)+1,0===foundAt?error.value:foundAt)},exports.SPLIT=function(text,separator){return text.split(separator)},exports.SUBSTITUTE=function(text,old_text,new_text,occurrence){if(arguments.length<2)return error.na;if(!(text&&old_text&&new_text))return text;if(void 0===occurrence)return text.replace(new RegExp(old_text,"g"),new_text);for(var index=0,i=0;text.indexOf(old_text,index)>0;)if(index=text.indexOf(old_text,index+1),i++,i===occurrence)return text.substring(0,index)+new_text+text.substring(index+old_text.length)},exports.T=function(value){return"string"==typeof value?value:""},exports.TEXT=function(value,format){return value=utils.parseNumber(value),utils.anyIsError(value)?error.na:numbro(value).format(format)},exports.TRIM=function(text){return"string"!=typeof text?error.value:text.replace(/ +/g," ").trim()},exports.UNICHAR=exports.CHAR,exports.UNICODE=exports.CODE,exports.UPPER=function(text){return"string"!=typeof text?error.value:text.toUpperCase()},exports.VALUE=function(text){if("string"!=typeof text)return error.value;var result=numbro().unformat(text);return void 0===result?0:result}},function(module,exports,__webpack_require__){function extractLabel(label){if("string"!=typeof label||!LABEL_EXTRACT_REGEXP.test(label))return[];var _label$toUpperCase$ma=label.toUpperCase().match(LABEL_EXTRACT_REGEXP),columnAbs=_label$toUpperCase$ma[1],column=_label$toUpperCase$ma[2],rowAbs=_label$toUpperCase$ma[3],row=_label$toUpperCase$ma[4];return[{index:rowLabelToIndex(row),label:row,isAbsolute:"$"===rowAbs},{index:columnLabelToIndex(column),label:column,isAbsolute:"$"===columnAbs}]}function toLabel(row,column){var rowLabel=(row.isAbsolute?"$":"")+rowIndexToLabel(row.index),columnLabel=(column.isAbsolute?"$":"")+columnIndexToLabel(column.index);return columnLabel+rowLabel}function columnLabelToIndex(label){var result=0;if("string"==typeof label){label=label.toUpperCase();for(var i=0,j=label.length-1;i<label.length;i+=1,j-=1)result+=Math.pow(COLUMN_LABEL_BASE_LENGTH,j)*(COLUMN_LABEL_BASE.indexOf(label[i])+1)}return--result,result}function columnIndexToLabel(column){for(var result="";column>=0;)result=String.fromCharCode(column%COLUMN_LABEL_BASE_LENGTH+97)+result,column=Math.floor(column/COLUMN_LABEL_BASE_LENGTH)-1;return result.toUpperCase()}function rowLabelToIndex(label){var result=parseInt(label,10);return result=isNaN(result)?-1:Math.max(result-1,-1)}function rowIndexToLabel(row){var result="";return row>=0&&(result=""+(row+1)),result}exports.__esModule=!0,exports.extractLabel=extractLabel,exports.toLabel=toLabel,exports.columnLabelToIndex=columnLabelToIndex,exports.columnIndexToLabel=columnIndexToLabel,exports.rowLabelToIndex=rowLabelToIndex,exports.rowIndexToLabel=rowIndexToLabel;var LABEL_EXTRACT_REGEXP=/^([$])?([A-Za-z]+)([$])?([0-9]+)$/,COLUMN_LABEL_BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZ",COLUMN_LABEL_BASE_LENGTH=COLUMN_LABEL_BASE.length},function(module,exports,__webpack_require__){exports.__esModule=!0;var SUPPORTED_FORMULAS=["ABS","ACCRINT","ACOS","ACOSH","ACOT","ACOTH","ADD","AGGREGATE","AND","ARABIC","ARGS2ARRAY","ASIN","ASINH","ATAN","ATAN2","ATANH","AVEDEV","AVERAGE","AVERAGEA","AVERAGEIF","AVERAGEIFS","BASE","BESSELI","BESSELJ","BESSELK","BESSELY","BETA.DIST","BETA.INV","BETADIST","BETAINV","BIN2DEC","BIN2HEX","BIN2OCT","BINOM.DIST","BINOM.DIST.RANGE","BINOM.INV","BINOMDIST","BITAND","BITLSHIFT","BITOR","BITRSHIFT","BITXOR","CEILING","CEILINGMATH","CEILINGPRECISE","CHAR","CHISQ.DIST","CHISQ.DIST.RT","CHISQ.INV","CHISQ.INV.RT","CHOOSE","CHOOSE","CLEAN","CODE","COLUMN","COLUMNS","COMBIN","COMBINA","COMPLEX","CONCATENATE","CONFIDENCE","CONFIDENCE.NORM","CONFIDENCE.T","CONVERT","CORREL","COS","COSH","COT","COTH","COUNT","COUNTA","COUNTBLANK","COUNTIF","COUNTIFS","COUNTIN","COUNTUNIQUE","COVARIANCE.P","COVARIANCE.S","CSC","CSCH","CUMIPMT","CUMPRINC","DATE","DATEVALUE","DAY","DAYS","DAYS360","DB","DDB","DEC2BIN","DEC2HEX","DEC2OCT","DECIMAL","DEGREES","DELTA","DEVSQ","DIVIDE","DOLLAR","DOLLARDE","DOLLARFR","E","EDATE","EFFECT","EOMONTH","EQ","ERF","ERFC","EVEN","EXACT","EXPON.DIST","EXPONDIST","F.DIST","F.DIST.RT","F.INV","F.INV.RT","FACT","FACTDOUBLE","FALSE","FDIST","FDISTRT","FIND","FINV","FINVRT","FISHER","FISHERINV","FIXED","FLATTEN","FLOOR","FORECAST","FREQUENCY","FV","FVSCHEDULE","GAMMA","GAMMA.DIST","GAMMA.INV","GAMMADIST","GAMMAINV","GAMMALN","GAMMALN.PRECISE","GAUSS","GCD","GEOMEAN","GESTEP","GROWTH","GTE","HARMEAN","HEX2BIN","HEX2DEC","HEX2OCT","HOUR","HTML2TEXT","HYPGEOM.DIST","HYPGEOMDIST","IF","IMABS","IMAGINARY","IMARGUMENT","IMCONJUGATE","IMCOS","IMCOSH","IMCOT","IMCSC","IMCSCH","IMDIV","IMEXP","IMLN","IMLOG10","IMLOG2","IMPOWER","IMPRODUCT","IMREAL","IMSEC","IMSECH","IMSIN","IMSINH","IMSQRT","IMSUB","IMSUM","IMTAN","INT","INTERCEPT","INTERVAL","IPMT","IRR","ISBINARY","ISBLANK","ISEVEN","ISLOGICAL","ISNONTEXT","ISNUMBER","ISODD","ISODD","ISOWEEKNUM","ISPMT","ISTEXT","JOIN","KURT","LARGE","LCM","LEFT","LEN","LINEST","LN","LOG","LOG10","LOGEST","LOGNORM.DIST","LOGNORM.INV","LOGNORMDIST","LOGNORMINV","LOWER","LT","LTE","MATCH","MAX","MAXA","MEDIAN","MID","MIN","MINA","MINUS","MINUTE","MIRR","MOD","MODE.MULT","MODE.SNGL","MODEMULT","MODESNGL","MONTH","MROUND","MULTINOMIAL","MULTIPLY","NE","NEGBINOM.DIST","NEGBINOMDIST","NETWORKDAYS","NOMINAL","NORM.DIST","NORM.INV","NORM.S.DIST","NORM.S.INV","NORMDIST","NORMINV","NORMSDIST","NORMSINV","NOT","NOW","NPER","NPV","NUMBERS","NUMERAL","OCT2BIN","OCT2DEC","OCT2HEX","ODD","OR","PDURATION","PEARSON","PERCENTILEEXC","PERCENTILEINC","PERCENTRANKEXC","PERCENTRANKINC","PERMUT","PERMUTATIONA","PHI","PI","PMT","POISSON.DIST","POISSONDIST","POW","POWER","PPMT","PROB","PRODUCT","PROPER","PV","QUARTILE.EXC","QUARTILE.INC","QUARTILEEXC","QUARTILEINC","QUOTIENT","RADIANS","RAND","RANDBETWEEN","RANK.AVG","RANK.EQ","RANKAVG","RANKEQ","RATE","REFERENCE","REGEXEXTRACT","REGEXMATCH","REGEXREPLACE","REPLACE","REPT","RIGHT","ROMAN","ROUND","ROUNDDOWN","ROUNDUP","ROW","ROWS","RRI","RSQ","SEARCH","SEC","SECH","SECOND","SERIESSUM","SIGN","SIN","SINH","SKEW","SKEW.P","SKEWP","SLN","SLOPE","SMALL","SPLIT","SPLIT","SQRT","SQRTPI","STANDARDIZE","STDEV.P","STDEV.S","STDEVA","STDEVP","STDEVPA","STDEVS","STEYX","SUBSTITUTE","SUBTOTAL","SUM","SUMIF","SUMIFS","SUMPRODUCT","SUMSQ","SUMX2MY2","SUMX2PY2","SUMXMY2","SWITCH","SYD","T","T.DIST","T.DIST.2T","T.DIST.RT","T.INV","T.INV.2T","TAN","TANH","TBILLEQ","TBILLPRICE","TBILLYIELD","TDIST","TDIST2T","TDISTRT","TEXT","TIME","TIMEVALUE","TINV","TINV2T","TODAY","TRANSPOSE","TREND","TRIM","TRIMMEAN","TRUE","TRUNC","UNICHAR","UNICODE","UNIQUE","UPPER","VALUE","VAR.P","VAR.S","VARA","VARP","VARPA","VARS","WEEKDAY","WEEKNUM","WEIBULL.DIST","WEIBULLDIST","WORKDAY","XIRR","XNPV","XOR","YEAR","YEARFRAC"];exports["default"]=SUPPORTED_FORMULAS},function(module,exports,__webpack_require__){function isValidBinaryNumber(number){return/^[01]{1,10}$/.test(number)}var error=__webpack_require__(0),jStat=__webpack_require__(13).jStat,text=__webpack_require__(8),utils=__webpack_require__(2),bessel=__webpack_require__(32);exports.BESSELI=function(x,n){return x=utils.parseNumber(x),n=utils.parseNumber(n),utils.anyIsError(x,n)?error.value:bessel.besseli(x,n)},exports.BESSELJ=function(x,n){return x=utils.parseNumber(x),n=utils.parseNumber(n),utils.anyIsError(x,n)?error.value:bessel.besselj(x,n)},exports.BESSELK=function(x,n){return x=utils.parseNumber(x),n=utils.parseNumber(n),utils.anyIsError(x,n)?error.value:bessel.besselk(x,n)},exports.BESSELY=function(x,n){return x=utils.parseNumber(x),n=utils.parseNumber(n),utils.anyIsError(x,n)?error.value:bessel.bessely(x,n)},exports.BIN2DEC=function(number){if(!isValidBinaryNumber(number))return error.num;var result=parseInt(number,2),stringified=number.toString();return 10===stringified.length&&"1"===stringified.substring(0,1)?parseInt(stringified.substring(1),2)-512:result},exports.BIN2HEX=function(number,places){if(!isValidBinaryNumber(number))return error.num;var stringified=number.toString();if(10===stringified.length&&"1"===stringified.substring(0,1))return(0xfffffffe00+parseInt(stringified.substring(1),2)).toString(16);var result=parseInt(number,2).toString(16);return void 0===places?result:isNaN(places)?error.value:places<0?error.num:(places=Math.floor(places),places>=result.length?text.REPT("0",places-result.length)+result:error.num)},exports.BIN2OCT=function(number,places){if(!isValidBinaryNumber(number))return error.num;var stringified=number.toString();if(10===stringified.length&&"1"===stringified.substring(0,1))return(1073741312+parseInt(stringified.substring(1),2)).toString(8);var result=parseInt(number,2).toString(8);return void 0===places?result:isNaN(places)?error.value:places<0?error.num:(places=Math.floor(places),places>=result.length?text.REPT("0",places-result.length)+result:error.num)},exports.BITAND=function(number1,number2){return number1=utils.parseNumber(number1),number2=utils.parseNumber(number2),utils.anyIsError(number1,number2)?error.value:number1<0||number2<0?error.num:Math.floor(number1)!==number1||Math.floor(number2)!==number2?error.num:number1>0xffffffffffff||number2>0xffffffffffff?error.num:number1&number2},exports.BITLSHIFT=function(number,shift){return number=utils.parseNumber(number),shift=utils.parseNumber(shift),utils.anyIsError(number,shift)?error.value:number<0?error.num:Math.floor(number)!==number?error.num:number>0xffffffffffff?error.num:Math.abs(shift)>53?error.num:shift>=0?number<<shift:number>>-shift},exports.BITOR=function(number1,number2){return number1=utils.parseNumber(number1),number2=utils.parseNumber(number2),utils.anyIsError(number1,number2)?error.value:number1<0||number2<0?error.num:Math.floor(number1)!==number1||Math.floor(number2)!==number2?error.num:number1>0xffffffffffff||number2>0xffffffffffff?error.num:number1|number2},exports.BITRSHIFT=function(number,shift){return number=utils.parseNumber(number),shift=utils.parseNumber(shift),utils.anyIsError(number,shift)?error.value:number<0?error.num:Math.floor(number)!==number?error.num:number>0xffffffffffff?error.num:Math.abs(shift)>53?error.num:shift>=0?number>>shift:number<<-shift},exports.BITXOR=function(number1,number2){return number1=utils.parseNumber(number1),number2=utils.parseNumber(number2),utils.anyIsError(number1,number2)?error.value:number1<0||number2<0?error.num:Math.floor(number1)!==number1||Math.floor(number2)!==number2?error.num:number1>0xffffffffffff||number2>0xffffffffffff?error.num:number1^number2},exports.COMPLEX=function(real,imaginary,suffix){if(real=utils.parseNumber(real),imaginary=utils.parseNumber(imaginary),utils.anyIsError(real,imaginary))return real;if(suffix=void 0===suffix?"i":suffix,"i"!==suffix&&"j"!==suffix)return error.value;if(0===real&&0===imaginary)return 0;if(0===real)return 1===imaginary?suffix:imaginary.toString()+suffix;if(0===imaginary)return real.toString();var sign=imaginary>0?"+":"";return real.toString()+sign+(1===imaginary?suffix:imaginary.toString()+suffix)},exports.CONVERT=function(number,from_unit,to_unit){if(number=utils.parseNumber(number),number instanceof Error)return number;for(var alt,units=[["a.u. of action","?",null,"action",!1,!1,1.05457168181818e-34],["a.u. of charge","e",null,"electric_charge",!1,!1,1.60217653141414e-19],["a.u. of energy","Eh",null,"energy",!1,!1,4.35974417757576e-18],["a.u. of length","a?",null,"length",!1,!1,5.29177210818182e-11],["a.u. of mass","m?",null,"mass",!1,!1,9.10938261616162e-31],["a.u. of time","?/Eh",null,"time",!1,!1,2.41888432650516e-17],["admiralty knot","admkn",null,"speed",!1,!0,.514773333],["ampere","A",null,"electric_current",!0,!1,1],["ampere per meter","A/m",null,"magnetic_field_intensity",!0,!1,1],["ngstrm","",["ang"],"length",!1,!0,1e-10],["are","ar",null,"area",!1,!0,100],["astronomical unit","ua",null,"length",!1,!1,1.49597870691667e-11],["bar","bar",null,"pressure",!1,!1,1e5],["barn","b",null,"area",!1,!1,1e-28],["becquerel","Bq",null,"radioactivity",!0,!1,1],["bit","bit",["b"],"information",!1,!0,1],["btu","BTU",["btu"],"energy",!1,!0,1055.05585262],["byte","byte",null,"information",!1,!0,8],["candela","cd",null,"luminous_intensity",!0,!1,1],["candela per square metre","cd/m?",null,"luminance",!0,!1,1],["coulomb","C",null,"electric_charge",!0,!1,1],["cubic ngstrm","ang3",["ang^3"],"volume",!1,!0,1e-30],["cubic foot","ft3",["ft^3"],"volume",!1,!0,.028316846592],["cubic inch","in3",["in^3"],"volume",!1,!0,16387064e-12],["cubic light-year","ly3",["ly^3"],"volume",!1,!0,8.46786664623715e-47],["cubic metre","m?",null,"volume",!0,!0,1],["cubic mile","mi3",["mi^3"],"volume",!1,!0,4168181825.44058],["cubic nautical mile","Nmi3",["Nmi^3"],"volume",!1,!0,6352182208],["cubic Pica","Pica3",["Picapt3","Pica^3","Picapt^3"],"volume",!1,!0,7.58660370370369e-8],["cubic yard","yd3",["yd^3"],"volume",!1,!0,.764554857984],["cup","cup",null,"volume",!1,!0,.0002365882365],["dalton","Da",["u"],"mass",!1,!1,1.66053886282828e-27],["day","d",["day"],"time",!1,!0,86400],["degree","",null,"angle",!1,!1,.0174532925199433],["degrees Rankine","Rank",null,"temperature",!1,!0,.555555555555556],["dyne","dyn",["dy"],"force",!1,!0,1e-5],["electronvolt","eV",["ev"],"energy",!1,!0,1.60217656514141],["ell","ell",null,"length",!1,!0,1.143],["erg","erg",["e"],"energy",!1,!0,1e-7],["farad","F",null,"electric_capacitance",!0,!1,1],["fluid ounce","oz",null,"volume",!1,!0,295735295625e-16],["foot","ft",null,"length",!1,!0,.3048],["foot-pound","flb",null,"energy",!1,!0,1.3558179483314],["gal","Gal",null,"acceleration",!1,!1,.01],["gallon","gal",null,"volume",!1,!0,.003785411784],["gauss","G",["ga"],"magnetic_flux_density",!1,!0,1],["grain","grain",null,"mass",!1,!0,647989e-10],["gram","g",null,"mass",!1,!0,.001],["gray","Gy",null,"absorbed_dose",!0,!1,1],["gross registered ton","GRT",["regton"],"volume",!1,!0,2.8316846592],["hectare","ha",null,"area",!1,!0,1e4],["henry","H",null,"inductance",!0,!1,1],["hertz","Hz",null,"frequency",!0,!1,1],["horsepower","HP",["h"],"power",!1,!0,745.69987158227],["horsepower-hour","HPh",["hh","hph"],"energy",!1,!0,2684519.538],["hour","h",["hr"],"time",!1,!0,3600],["imperial gallon (U.K.)","uk_gal",null,"volume",!1,!0,.00454609],["imperial hundredweight","lcwt",["uk_cwt","hweight"],"mass",!1,!0,50.802345],["imperial quart (U.K)","uk_qt",null,"volume",!1,!0,.0011365225],["imperial ton","brton",["uk_ton","LTON"],"mass",!1,!0,1016.046909],["inch","in",null,"length",!1,!0,.0254],["international acre","uk_acre",null,"area",!1,!0,4046.8564224],["IT calorie","cal",null,"energy",!1,!0,4.1868],["joule","J",null,"energy",!0,!0,1],["katal","kat",null,"catalytic_activity",!0,!1,1],["kelvin","K",["kel"],"temperature",!0,!0,1],["kilogram","kg",null,"mass",!0,!0,1],["knot","kn",null,"speed",!1,!0,.514444444444444],["light-year","ly",null,"length",!1,!0,9460730472580800],["litre","L",["l","lt"],"volume",!1,!0,.001],["lumen","lm",null,"luminous_flux",!0,!1,1],["lux","lx",null,"illuminance",!0,!1,1],["maxwell","Mx",null,"magnetic_flux",!1,!1,1e-18],["measurement ton","MTON",null,"volume",!1,!0,1.13267386368],["meter per hour","m/h",["m/hr"],"speed",!1,!0,.00027777777777778],["meter per second","m/s",["m/sec"],"speed",!0,!0,1],["meter per second squared","m?s??",null,"acceleration",!0,!1,1],["parsec","pc",["parsec"],"length",!1,!0,0x6da012f958ee1c],["meter squared per second","m?/s",null,"kinematic_viscosity",!0,!1,1],["metre","m",null,"length",!0,!0,1],["miles per hour","mph",null,"speed",!1,!0,.44704],["millimetre of mercury","mmHg",null,"pressure",!1,!1,133.322],["minute","?",null,"angle",!1,!1,.000290888208665722],["minute","min",["mn"],"time",!1,!0,60],["modern teaspoon","tspm",null,"volume",!1,!0,5e-6],["mole","mol",null,"amount_of_substance",!0,!1,1],["morgen","Morgen",null,"area",!1,!0,2500],["n.u. of action","?",null,"action",!1,!1,1.05457168181818e-34],["n.u. of mass","m?",null,"mass",!1,!1,9.10938261616162e-31],["n.u. of speed","c?",null,"speed",!1,!1,299792458],["n.u. of time","?/(me?c??)",null,"time",!1,!1,1.28808866778687e-21],["nautical mile","M",["Nmi"],"length",!1,!0,1852],["newton","N",null,"force",!0,!0,1],["rsted","Oe ",null,"magnetic_field_intensity",!1,!1,79.5774715459477],["ohm","",null,"electric_resistance",!0,!1,1],["ounce mass","ozm",null,"mass",!1,!0,.028349523125],["pascal","Pa",null,"pressure",!0,!1,1],["pascal second","Pa?s",null,"dynamic_viscosity",!0,!1,1],["pferdestrke","PS",null,"power",!1,!0,735.49875],["phot","ph",null,"illuminance",!1,!1,1e-4],["pica (1/6 inch)","pica",null,"length",!1,!0,.00035277777777778],["pica (1/72 inch)","Pica",["Picapt"],"length",!1,!0,.00423333333333333],["poise","P",null,"dynamic_viscosity",!1,!1,.1],["pond","pond",null,"force",!1,!0,.00980665],["pound force","lbf",null,"force",!1,!0,4.4482216152605],["pound mass","lbm",null,"mass",!1,!0,.45359237],["quart","qt",null,"volume",!1,!0,.000946352946],["radian","rad",null,"angle",!0,!1,1],["second","?",null,"angle",!1,!1,484813681109536e-20],["second","s",["sec"],"time",!0,!0,1],["short hundredweight","cwt",["shweight"],"mass",!1,!0,45.359237],["siemens","S",null,"electrical_conductance",!0,!1,1],["sievert","Sv",null,"equivalent_dose",!0,!1,1],["slug","sg",null,"mass",!1,!0,14.59390294],["square ngstrm","ang2",["ang^2"],"area",!1,!0,1e-20],["square foot","ft2",["ft^2"],"area",!1,!0,.09290304],["square inch","in2",["in^2"],"area",!1,!0,64516e-8],["square light-year","ly2",["ly^2"],"area",!1,!0,8.95054210748189e31],["square meter","m?",null,"area",!0,!0,1],["square mile","mi2",["mi^2"],"area",!1,!0,2589988.110336],["square nautical mile","Nmi2",["Nmi^2"],"area",!1,!0,3429904],["square Pica","Pica2",["Picapt2","Pica^2","Picapt^2"],"area",!1,!0,1792111111111e-17],["square yard","yd2",["yd^2"],"area",!1,!0,.83612736],["statute mile","mi",null,"length",!1,!0,1609.344],["steradian","sr",null,"solid_angle",!0,!1,1],["stilb","sb",null,"luminance",!1,!1,1e-4],["stokes","St",null,"kinematic_viscosity",!1,!1,1e-4],["stone","stone",null,"mass",!1,!0,6.35029318],["tablespoon","tbs",null,"volume",!1,!0,147868e-10],["teaspoon","tsp",null,"volume",!1,!0,492892e-11],["tesla","T",null,"magnetic_flux_density",!0,!0,1],["thermodynamic calorie","c",null,"energy",!1,!0,4.184],["ton","ton",null,"mass",!1,!0,907.18474],["tonne","t",null,"mass",!1,!1,1e3],["U.K. pint","uk_pt",null,"volume",!1,!0,.00056826125],["U.S. bushel","bushel",null,"volume",!1,!0,.03523907],["U.S. oil barrel","barrel",null,"volume",!1,!0,.158987295],["U.S. pint","pt",["us_pt"],"volume",!1,!0,.000473176473],["U.S. survey mile","survey_mi",null,"length",!1,!0,1609.347219],["U.S. survey/statute acre","us_acre",null,"area",!1,!0,4046.87261],["volt","V",null,"voltage",!0,!1,1],["watt","W",null,"power",!0,!0,1],["watt-hour","Wh",["wh"],"energy",!1,!0,3600],["weber","Wb",null,"magnetic_flux",!0,!1,1],["yard","yd",null,"length",!1,!0,.9144],["year","yr",null,"time",!1,!0,31557600]],binary_prefixes={Yi:["yobi",80,1.2089258196146292e24,"Yi","yotta"],Zi:["zebi",70,0x400000000000000000,"Zi","zetta"],Ei:["exbi",60,0x1000000000000000,"Ei","exa"],Pi:["pebi",50,0x4000000000000,"Pi","peta"],Ti:["tebi",40,1099511627776,"Ti","tera"],Gi:["gibi",30,1073741824,"Gi","giga"],Mi:["mebi",20,1048576,"Mi","mega"],ki:["kibi",10,1024,"ki","kilo"]},unit_prefixes={Y:["yotta",1e24,"Y"],Z:["zetta",1e21,"Z"],E:["exa",1e18,"E"],P:["peta",1e15,"P"],T:["tera",1e12,"T"],G:["giga",1e9,"G"],M:["mega",1e6,"M"],k:["kilo",1e3,"k"],h:["hecto",100,"h"],e:["dekao",10,"e"],d:["deci",.1,"d"],c:["centi",.01,"c"],m:["milli",.001,"m"],u:["micro",1e-6,"u"],n:["nano",1e-9,"n"],p:["pico",1e-12,"p"],f:["femto",1e-15,"f"],a:["atto",1e-18,"a"],z:["zepto",1e-21,"z"],y:["yocto",1e-24,"y"]},from=null,to=null,base_from_unit=from_unit,base_to_unit=to_unit,from_multiplier=1,to_multiplier=1,i=0;i<units.length;i++)alt=null===units[i][2]?[]:units[i][2],(units[i][1]===base_from_unit||alt.indexOf(base_from_unit)>=0)&&(from=units[i]),(units[i][1]===base_to_unit||alt.indexOf(base_to_unit)>=0)&&(to=units[i]);if(null===from){var from_binary_prefix=binary_prefixes[from_unit.substring(0,2)],from_unit_prefix=unit_prefixes[from_unit.substring(0,1)];"da"===from_unit.substring(0,2)&&(from_unit_prefix=["dekao",10,"da"]),from_binary_prefix?(from_multiplier=from_binary_prefix[2],base_from_unit=from_unit.substring(2)):from_unit_prefix&&(from_multiplier=from_unit_prefix[1],base_from_unit=from_unit.substring(from_unit_prefix[2].length));for(var j=0;j<units.length;j++)alt=null===units[j][2]?[]:units[j][2],(units[j][1]===base_from_unit||alt.indexOf(base_from_unit)>=0)&&(from=units[j])}if(null===to){var to_binary_prefix=binary_prefixes[to_unit.substring(0,2)],to_unit_prefix=unit_prefixes[to_unit.substring(0,1)];"da"===to_unit.substring(0,2)&&(to_unit_prefix=["dekao",10,"da"]),to_binary_prefix?(to_multiplier=to_binary_prefix[2],base_to_unit=to_unit.substring(2)):to_unit_prefix&&(to_multiplier=to_unit_prefix[1],base_to_unit=to_unit.substring(to_unit_prefix[2].length));for(var k=0;k<units.length;k++)alt=null===units[k][2]?[]:units[k][2],(units[k][1]===base_to_unit||alt.indexOf(base_to_unit)>=0)&&(to=units[k])}return null===from||null===to?error.na:from[3]!==to[3]?error.na:number*from[6]*from_multiplier/(to[6]*to_multiplier)},exports.DEC2BIN=function(number,places){if(number=utils.parseNumber(number),number instanceof Error)return number;if(!/^-?[0-9]{1,3}$/.test(number)||number<-512||number>511)return error.num;if(number<0)return"1"+text.REPT("0",9-(512+number).toString(2).length)+(512+number).toString(2);var result=parseInt(number,10).toString(2);return"undefined"==typeof places?result:isNaN(places)?error.value:places<0?error.num:(places=Math.floor(places),places>=result.length?text.REPT("0",places-result.length)+result:error.num)},exports.DEC2HEX=function(number,places){if(number=utils.parseNumber(number),number instanceof Error)return number;if(!/^-?[0-9]{1,12}$/.test(number)||number<-549755813888||number>549755813887)return error.num;if(number<0)return(1099511627776+number).toString(16);var result=parseInt(number,10).toString(16);return"undefined"==typeof places?result:isNaN(places)?error.value:places<0?error.num:(places=Math.floor(places),places>=result.length?text.REPT("0",places-result.length)+result:error.num)},exports.DEC2OCT=function(number,places){if(number=utils.parseNumber(number),number instanceof Error)return number;if(!/^-?[0-9]{1,9}$/.test(number)||number<-536870912||number>536870911)return error.num;if(number<0)return(1073741824+number).toString(8);var result=parseInt(number,10).toString(8);return"undefined"==typeof places?result:isNaN(places)?error.value:places<0?error.num:(places=Math.floor(places),places>=result.length?text.REPT("0",places-result.length)+result:error.num)},exports.DELTA=function(number1,number2){return number2=void 0===number2?0:number2,number1=utils.parseNumber(number1),number2=utils.parseNumber(number2),utils.anyIsError(number1,number2)?error.value:number1===number2?1:0},exports.ERF=function(lower_bound,upper_bound){return upper_bound=void 0===upper_bound?0:upper_bound,lower_bound=utils.parseNumber(lower_bound),upper_bound=utils.parseNumber(upper_bound),utils.anyIsError(lower_bound,upper_bound)?error.value:jStat.erf(lower_bound)},exports.ERF.PRECISE=function(){throw new Error("ERF.PRECISE is not implemented")},exports.ERFC=function(x){return isNaN(x)?error.value:jStat.erfc(x)},exports.ERFC.PRECISE=function(){throw new Error("ERFC.PRECISE is not implemented")},exports.GESTEP=function(number,step){return step=step||0,number=utils.parseNumber(number),utils.anyIsError(step,number)?number:number>=step?1:0},exports.HEX2BIN=function(number,places){if(!/^[0-9A-Fa-f]{1,10}$/.test(number))return error.num;var negative=10===number.length&&"f"===number.substring(0,1).toLowerCase(),decimal=negative?parseInt(number,16)-1099511627776:parseInt(number,16);if(decimal<-512||decimal>511)return error.num;if(negative)return"1"+text.REPT("0",9-(512+decimal).toString(2).length)+(512+decimal).toString(2);var result=decimal.toString(2);return void 0===places?result:isNaN(places)?error.value:places<0?error.num:(places=Math.floor(places),places>=result.length?text.REPT("0",places-result.length)+result:error.num)},exports.HEX2DEC=function(number){if(!/^[0-9A-Fa-f]{1,10}$/.test(number))return error.num;var decimal=parseInt(number,16);return decimal>=549755813888?decimal-1099511627776:decimal},exports.HEX2OCT=function(number,places){if(!/^[0-9A-Fa-f]{1,10}$/.test(number))return error.num;var decimal=parseInt(number,16);if(decimal>536870911&&decimal<0xffe0000000)return error.num;if(decimal>=0xffe0000000)return(decimal-0xffc0000000).toString(8);var result=decimal.toString(8);return void 0===places?result:isNaN(places)?error.value:places<0?error.num:(places=Math.floor(places),places>=result.length?text.REPT("0",places-result.length)+result:error.num)},exports.IMABS=function(inumber){var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);return utils.anyIsError(x,y)?error.value:Math.sqrt(Math.pow(x,2)+Math.pow(y,2))},exports.IMAGINARY=function(inumber){if(void 0===inumber||inumber===!0||inumber===!1)return error.value;if(0===inumber||"0"===inumber)return 0;if(["i","j"].indexOf(inumber)>=0)return 1;inumber=inumber.replace("+i","+1i").replace("-i","-1i").replace("+j","+1j").replace("-j","-1j");var plus=inumber.indexOf("+"),minus=inumber.indexOf("-");0===plus&&(plus=inumber.indexOf("+",1)),0===minus&&(minus=inumber.indexOf("-",1));var last=inumber.substring(inumber.length-1,inumber.length),unit="i"===last||"j"===last;return plus>=0||minus>=0?unit?plus>=0?isNaN(inumber.substring(0,plus))||isNaN(inumber.substring(plus+1,inumber.length-1))?error.num:Number(inumber.substring(plus+1,inumber.length-1)):isNaN(inumber.substring(0,minus))||isNaN(inumber.substring(minus+1,inumber.length-1))?error.num:-Number(inumber.substring(minus+1,inumber.length-1)):error.num:unit?isNaN(inumber.substring(0,inumber.length-1))?error.num:inumber.substring(0,inumber.length-1):isNaN(inumber)?error.num:0},exports.IMARGUMENT=function(inumber){var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);return utils.anyIsError(x,y)?error.value:0===x&&0===y?error.div0:0===x&&y>0?Math.PI/2:0===x&&y<0?-Math.PI/2:0===y&&x>0?0:0===y&&x<0?-Math.PI:x>0?Math.atan(y/x):x<0&&y>=0?Math.atan(y/x)+Math.PI:Math.atan(y/x)-Math.PI},exports.IMCONJUGATE=function(inumber){var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);if(utils.anyIsError(x,y))return error.value;var unit=inumber.substring(inumber.length-1);return unit="i"===unit||"j"===unit?unit:"i",0!==y?exports.COMPLEX(x,-y,unit):inumber},exports.IMCOS=function(inumber){var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);if(utils.anyIsError(x,y))return error.value;var unit=inumber.substring(inumber.length-1);return unit="i"===unit||"j"===unit?unit:"i",exports.COMPLEX(Math.cos(x)*(Math.exp(y)+Math.exp(-y))/2,-Math.sin(x)*(Math.exp(y)-Math.exp(-y))/2,unit)},exports.IMCOSH=function(inumber){var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);if(utils.anyIsError(x,y))return error.value;var unit=inumber.substring(inumber.length-1);return unit="i"===unit||"j"===unit?unit:"i",exports.COMPLEX(Math.cos(y)*(Math.exp(x)+Math.exp(-x))/2,Math.sin(y)*(Math.exp(x)-Math.exp(-x))/2,unit)},exports.IMCOT=function(inumber){var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);return utils.anyIsError(x,y)?error.value:exports.IMDIV(exports.IMCOS(inumber),exports.IMSIN(inumber))},exports.IMDIV=function(inumber1,inumber2){var a=exports.IMREAL(inumber1),b=exports.IMAGINARY(inumber1),c=exports.IMREAL(inumber2),d=exports.IMAGINARY(inumber2);
if(utils.anyIsError(a,b,c,d))return error.value;var unit1=inumber1.substring(inumber1.length-1),unit2=inumber2.substring(inumber2.length-1),unit="i";if("j"===unit1?unit="j":"j"===unit2&&(unit="j"),0===c&&0===d)return error.num;var den=c*c+d*d;return exports.COMPLEX((a*c+b*d)/den,(b*c-a*d)/den,unit)},exports.IMEXP=function(inumber){var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);if(utils.anyIsError(x,y))return error.value;var unit=inumber.substring(inumber.length-1);unit="i"===unit||"j"===unit?unit:"i";var e=Math.exp(x);return exports.COMPLEX(e*Math.cos(y),e*Math.sin(y),unit)},exports.IMLN=function(inumber){var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);if(utils.anyIsError(x,y))return error.value;var unit=inumber.substring(inumber.length-1);return unit="i"===unit||"j"===unit?unit:"i",exports.COMPLEX(Math.log(Math.sqrt(x*x+y*y)),Math.atan(y/x),unit)},exports.IMLOG10=function(inumber){var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);if(utils.anyIsError(x,y))return error.value;var unit=inumber.substring(inumber.length-1);return unit="i"===unit||"j"===unit?unit:"i",exports.COMPLEX(Math.log(Math.sqrt(x*x+y*y))/Math.log(10),Math.atan(y/x)/Math.log(10),unit)},exports.IMLOG2=function(inumber){var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);if(utils.anyIsError(x,y))return error.value;var unit=inumber.substring(inumber.length-1);return unit="i"===unit||"j"===unit?unit:"i",exports.COMPLEX(Math.log(Math.sqrt(x*x+y*y))/Math.log(2),Math.atan(y/x)/Math.log(2),unit)},exports.IMPOWER=function(inumber,number){number=utils.parseNumber(number);var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);if(utils.anyIsError(number,x,y))return error.value;var unit=inumber.substring(inumber.length-1);unit="i"===unit||"j"===unit?unit:"i";var p=Math.pow(exports.IMABS(inumber),number),t=exports.IMARGUMENT(inumber);return exports.COMPLEX(p*Math.cos(number*t),p*Math.sin(number*t),unit)},exports.IMPRODUCT=function(){var result=arguments[0];if(!arguments.length)return error.value;for(var i=1;i<arguments.length;i++){var a=exports.IMREAL(result),b=exports.IMAGINARY(result),c=exports.IMREAL(arguments[i]),d=exports.IMAGINARY(arguments[i]);if(utils.anyIsError(a,b,c,d))return error.value;result=exports.COMPLEX(a*c-b*d,a*d+b*c)}return result},exports.IMREAL=function(inumber){if(void 0===inumber||inumber===!0||inumber===!1)return error.value;if(0===inumber||"0"===inumber)return 0;if(["i","+i","1i","+1i","-i","-1i","j","+j","1j","+1j","-j","-1j"].indexOf(inumber)>=0)return 0;var plus=inumber.indexOf("+"),minus=inumber.indexOf("-");0===plus&&(plus=inumber.indexOf("+",1)),0===minus&&(minus=inumber.indexOf("-",1));var last=inumber.substring(inumber.length-1,inumber.length),unit="i"===last||"j"===last;return plus>=0||minus>=0?unit?plus>=0?isNaN(inumber.substring(0,plus))||isNaN(inumber.substring(plus+1,inumber.length-1))?error.num:Number(inumber.substring(0,plus)):isNaN(inumber.substring(0,minus))||isNaN(inumber.substring(minus+1,inumber.length-1))?error.num:Number(inumber.substring(0,minus)):error.num:unit?isNaN(inumber.substring(0,inumber.length-1))?error.num:0:isNaN(inumber)?error.num:inumber},exports.IMSEC=function(inumber){if(inumber===!0||inumber===!1)return error.value;var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);return utils.anyIsError(x,y)?error.value:exports.IMDIV("1",exports.IMCOS(inumber))},exports.IMSECH=function(inumber){var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);return utils.anyIsError(x,y)?error.value:exports.IMDIV("1",exports.IMCOSH(inumber))},exports.IMSIN=function(inumber){var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);if(utils.anyIsError(x,y))return error.value;var unit=inumber.substring(inumber.length-1);return unit="i"===unit||"j"===unit?unit:"i",exports.COMPLEX(Math.sin(x)*(Math.exp(y)+Math.exp(-y))/2,Math.cos(x)*(Math.exp(y)-Math.exp(-y))/2,unit)},exports.IMSINH=function(inumber){var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);if(utils.anyIsError(x,y))return error.value;var unit=inumber.substring(inumber.length-1);return unit="i"===unit||"j"===unit?unit:"i",exports.COMPLEX(Math.cos(y)*(Math.exp(x)-Math.exp(-x))/2,Math.sin(y)*(Math.exp(x)+Math.exp(-x))/2,unit)},exports.IMSQRT=function(inumber){var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);if(utils.anyIsError(x,y))return error.value;var unit=inumber.substring(inumber.length-1);unit="i"===unit||"j"===unit?unit:"i";var s=Math.sqrt(exports.IMABS(inumber)),t=exports.IMARGUMENT(inumber);return exports.COMPLEX(s*Math.cos(t/2),s*Math.sin(t/2),unit)},exports.IMCSC=function(inumber){if(inumber===!0||inumber===!1)return error.value;var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);return utils.anyIsError(x,y)?error.num:exports.IMDIV("1",exports.IMSIN(inumber))},exports.IMCSCH=function(inumber){if(inumber===!0||inumber===!1)return error.value;var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);return utils.anyIsError(x,y)?error.num:exports.IMDIV("1",exports.IMSINH(inumber))},exports.IMSUB=function(inumber1,inumber2){var a=this.IMREAL(inumber1),b=this.IMAGINARY(inumber1),c=this.IMREAL(inumber2),d=this.IMAGINARY(inumber2);if(utils.anyIsError(a,b,c,d))return error.value;var unit1=inumber1.substring(inumber1.length-1),unit2=inumber2.substring(inumber2.length-1),unit="i";return"j"===unit1?unit="j":"j"===unit2&&(unit="j"),this.COMPLEX(a-c,b-d,unit)},exports.IMSUM=function(){if(!arguments.length)return error.value;for(var args=utils.flatten(arguments),result=args[0],i=1;i<args.length;i++){var a=this.IMREAL(result),b=this.IMAGINARY(result),c=this.IMREAL(args[i]),d=this.IMAGINARY(args[i]);if(utils.anyIsError(a,b,c,d))return error.value;result=this.COMPLEX(a+c,b+d)}return result},exports.IMTAN=function(inumber){if(inumber===!0||inumber===!1)return error.value;var x=exports.IMREAL(inumber),y=exports.IMAGINARY(inumber);return utils.anyIsError(x,y)?error.value:this.IMDIV(this.IMSIN(inumber),this.IMCOS(inumber))},exports.OCT2BIN=function(number,places){if(!/^[0-7]{1,10}$/.test(number))return error.num;var negative=10===number.length&&"7"===number.substring(0,1),decimal=negative?parseInt(number,8)-1073741824:parseInt(number,8);if(decimal<-512||decimal>511)return error.num;if(negative)return"1"+text.REPT("0",9-(512+decimal).toString(2).length)+(512+decimal).toString(2);var result=decimal.toString(2);return"undefined"==typeof places?result:isNaN(places)?error.value:places<0?error.num:(places=Math.floor(places),places>=result.length?text.REPT("0",places-result.length)+result:error.num)},exports.OCT2DEC=function(number){if(!/^[0-7]{1,10}$/.test(number))return error.num;var decimal=parseInt(number,8);return decimal>=536870912?decimal-1073741824:decimal},exports.OCT2HEX=function(number,places){if(!/^[0-7]{1,10}$/.test(number))return error.num;var decimal=parseInt(number,8);if(decimal>=536870912)return"ff"+(decimal+3221225472).toString(16);var result=decimal.toString(16);return void 0===places?result:isNaN(places)?error.value:places<0?error.num:(places=Math.floor(places),places>=result.length?text.REPT("0",places-result.length)+result:error.num)}},function(module,exports,__webpack_require__){var utils=__webpack_require__(2),numbro=__webpack_require__(14);__webpack_require__(0);exports.UNIQUE=function(){for(var result=[],i=0;i<arguments.length;++i){for(var hasElement=!1,element=arguments[i],j=0;j<result.length&&!(hasElement=result[j]===element);++j);hasElement||result.push(element)}return result},exports.FLATTEN=utils.flatten,exports.ARGS2ARRAY=function(){return Array.prototype.slice.call(arguments,0)},exports.REFERENCE=function(context,reference){if(!arguments.length)return error.error;try{for(var path=reference.split("."),result=context,i=0;i<path.length;++i){var step=path[i];if("]"===step[step.length-1]){var opening=step.indexOf("["),index=step.substring(opening+1,step.length-1);result=result[step.substring(0,opening)][index]}else result=result[step]}return result}catch(error){}},exports.JOIN=function(array,separator){return array.join(separator)},exports.NUMBERS=function(){var possibleNumbers=utils.flatten(arguments);return possibleNumbers.filter(function(el){return"number"==typeof el})},exports.NUMERAL=function(number,format){return numbro(number).format(format)}},function(module,exports){this.j$=this.jStat=function(Math,undefined){function calcRdx(n,m){var val=n>m?n:m;return Math.pow(10,17-~~(Math.log(val>0?val:-val)*Math.LOG10E))}function isFunction(arg){return"[object Function]"===toString.call(arg)}function isNumber(arg){return"number"==typeof arg&&arg===arg}function toVector(arr){return concat.apply([],arr)}function jStat(){return new jStat._init(arguments)}function retZero(){return 0}function retOne(){return 1}function retIdent(i,j){return i===j?1:0}var concat=Array.prototype.concat,slice=Array.prototype.slice,toString=Object.prototype.toString,isArray=Array.isArray||function(arg){return"[object Array]"===toString.call(arg)};jStat.fn=jStat.prototype,jStat._init=function(args){var i;if(isArray(args[0]))if(isArray(args[0][0])){isFunction(args[1])&&(args[0]=jStat.map(args[0],args[1]));for(var i=0;i<args[0].length;i++)this[i]=args[0][i];this.length=args[0].length}else this[0]=isFunction(args[1])?jStat.map(args[0],args[1]):args[0],this.length=1;else if(isNumber(args[0]))this[0]=jStat.seq.apply(null,args),this.length=1;else{if(args[0]instanceof jStat)return jStat(args[0].toArray());this[0]=[],this.length=1}return this},jStat._init.prototype=jStat.prototype,jStat._init.constructor=jStat,jStat.utils={calcRdx:calcRdx,isArray:isArray,isFunction:isFunction,isNumber:isNumber,toVector:toVector},jStat.extend=function(obj){var i,j;if(1===arguments.length){for(j in obj)jStat[j]=obj[j];return this}for(var i=1;i<arguments.length;i++)for(j in arguments[i])obj[j]=arguments[i][j];return obj},jStat.rows=function(arr){return arr.length||1},jStat.cols=function(arr){return arr[0].length||1},jStat.dimensions=function(arr){return{rows:jStat.rows(arr),cols:jStat.cols(arr)}},jStat.row=function(arr,index){return isArray(index)?index.map(function(i){return jStat.row(arr,i)}):arr[index]},jStat.rowa=function(arr,i){return jStat.row(arr,i)},jStat.col=function(arr,index){if(isArray(index)){var submat=jStat.arange(arr.length).map(function(i){return new Array(index.length)});return index.forEach(function(ind,i){jStat.arange(arr.length).forEach(function(j){submat[j][i]=arr[j][ind]})}),submat}for(var column=new Array(arr.length),i=0;i<arr.length;i++)column[i]=[arr[i][index]];return column},jStat.cola=function(arr,i){return jStat.col(arr,i).map(function(a){return a[0]})},jStat.diag=function(arr){for(var nrow=jStat.rows(arr),res=new Array(nrow),row=0;row<nrow;row++)res[row]=[arr[row][row]];return res},jStat.antidiag=function(arr){for(var nrow=jStat.rows(arr)-1,res=new Array(nrow),i=0;nrow>=0;nrow--,i++)res[i]=[arr[i][nrow]];return res},jStat.transpose=function(arr){var objArr,rows,cols,j,i,obj=[];isArray(arr[0])||(arr=[arr]),rows=arr.length,cols=arr[0].length;for(var i=0;i<cols;i++){for(objArr=new Array(rows),j=0;j<rows;j++)objArr[j]=arr[j][i];obj.push(objArr)}return 1===obj.length?obj[0]:obj},jStat.map=function(arr,func,toAlter){var row,nrow,ncol,res,col;for(isArray(arr[0])||(arr=[arr]),nrow=arr.length,ncol=arr[0].length,res=toAlter?arr:new Array(nrow),row=0;row<nrow;row++)for(res[row]||(res[row]=new Array(ncol)),col=0;col<ncol;col++)res[row][col]=func(arr[row][col],row,col);return 1===res.length?res[0]:res},jStat.cumreduce=function(arr,func,toAlter){var row,nrow,ncol,res,col;for(isArray(arr[0])||(arr=[arr]),nrow=arr.length,ncol=arr[0].length,res=toAlter?arr:new Array(nrow),row=0;row<nrow;row++)for(res[row]||(res[row]=new Array(ncol)),ncol>0&&(res[row][0]=arr[row][0]),col=1;col<ncol;col++)res[row][col]=func(res[row][col-1],arr[row][col]);return 1===res.length?res[0]:res},jStat.alter=function(arr,func){return jStat.map(arr,func,!0)},jStat.create=function(rows,cols,func){var i,j,res=new Array(rows);isFunction(cols)&&(func=cols,cols=rows);for(var i=0;i<rows;i++)for(res[i]=new Array(cols),j=0;j<cols;j++)res[i][j]=func(i,j);return res},jStat.zeros=function(rows,cols){return isNumber(cols)||(cols=rows),jStat.create(rows,cols,retZero)},jStat.ones=function(rows,cols){return isNumber(cols)||(cols=rows),jStat.create(rows,cols,retOne)},jStat.rand=function(rows,cols){return isNumber(cols)||(cols=rows),jStat.create(rows,cols,Math.random)},jStat.identity=function(rows,cols){return isNumber(cols)||(cols=rows),jStat.create(rows,cols,retIdent)},jStat.symmetric=function(arr){var row,col,size=arr.length;if(arr.length!==arr[0].length)return!1;for(row=0;row<size;row++)for(col=0;col<size;col++)if(arr[col][row]!==arr[row][col])return!1;return!0},jStat.clear=function(arr){return jStat.alter(arr,retZero)},jStat.seq=function(min,max,length,func){isFunction(func)||(func=!1);var cnt,arr=[],hival=calcRdx(min,max),step=(max*hival-min*hival)/((length-1)*hival),current=min;for(cnt=0;current<=max;cnt++,current=(min*hival+step*hival*cnt)/hival)arr.push(func?func(current,cnt):current);return arr},jStat.arange=function(start,end,step){var rl=[];if(step=step||1,end===undefined&&(end=start,start=0),start===end||0===step)return[];if(start<end&&step<0)return[];if(start>end&&step>0)return[];if(step>0)for(i=start;i<end;i+=step)rl.push(i);else for(i=start;i>end;i+=step)rl.push(i);return rl},jStat.slice=function(){function _slice(list,start,end,step){var i,rl=[],length=list.length;if(start===undefined&&end===undefined&&step===undefined)return jStat.copy(list);if(start=start||0,end=end||list.length,start=start>=0?start:length+start,end=end>=0?end:length+end,step=step||1,start===end||0===step)return[];if(start<end&&step<0)return[];if(start>end&&step>0)return[];if(step>0)for(i=start;i<end;i+=step)rl.push(list[i]);else for(i=start;i>end;i+=step)rl.push(list[i]);return rl}function slice(list,rcSlice){if(rcSlice=rcSlice||{},isNumber(rcSlice.row)){if(isNumber(rcSlice.col))return list[rcSlice.row][rcSlice.col];var row=jStat.rowa(list,rcSlice.row),colSlice=rcSlice.col||{};return _slice(row,colSlice.start,colSlice.end,colSlice.step)}if(isNumber(rcSlice.col)){var col=jStat.cola(list,rcSlice.col),rowSlice=rcSlice.row||{};return _slice(col,rowSlice.start,rowSlice.end,rowSlice.step)}var rowSlice=rcSlice.row||{},colSlice=rcSlice.col||{},rows=_slice(list,rowSlice.start,rowSlice.end,rowSlice.step);return rows.map(function(row){return _slice(row,colSlice.start,colSlice.end,colSlice.step)})}return slice}(),jStat.sliceAssign=function(A,rcSlice,B){if(isNumber(rcSlice.row)){if(isNumber(rcSlice.col))return A[rcSlice.row][rcSlice.col]=B;rcSlice.col=rcSlice.col||{},rcSlice.col.start=rcSlice.col.start||0,rcSlice.col.end=rcSlice.col.end||A[0].length,rcSlice.col.step=rcSlice.col.step||1;var nl=jStat.arange(rcSlice.col.start,Math.min(A.length,rcSlice.col.end),rcSlice.col.step),m=rcSlice.row;return nl.forEach(function(n,i){A[m][n]=B[i]}),A}if(isNumber(rcSlice.col)){rcSlice.row=rcSlice.row||{},rcSlice.row.start=rcSlice.row.start||0,rcSlice.row.end=rcSlice.row.end||A.length,rcSlice.row.step=rcSlice.row.step||1;var ml=jStat.arange(rcSlice.row.start,Math.min(A[0].length,rcSlice.row.end),rcSlice.row.step),n=rcSlice.col;return ml.forEach(function(m,j){A[m][n]=B[j]}),A}B[0].length===undefined&&(B=[B]),rcSlice.row.start=rcSlice.row.start||0,rcSlice.row.end=rcSlice.row.end||A.length,rcSlice.row.step=rcSlice.row.step||1,rcSlice.col.start=rcSlice.col.start||0,rcSlice.col.end=rcSlice.col.end||A[0].length,rcSlice.col.step=rcSlice.col.step||1;var ml=jStat.arange(rcSlice.row.start,Math.min(A.length,rcSlice.row.end),rcSlice.row.step),nl=jStat.arange(rcSlice.col.start,Math.min(A[0].length,rcSlice.col.end),rcSlice.col.step);return ml.forEach(function(m,i){nl.forEach(function(n,j){A[m][n]=B[i][j]})}),A},jStat.diagonal=function(diagArray){var mat=jStat.zeros(diagArray.length,diagArray.length);return diagArray.forEach(function(t,i){mat[i][i]=t}),mat},jStat.copy=function(A){return A.map(function(row){return isNumber(row)?row:row.map(function(t){return t})})};var jProto=jStat.prototype;return jProto.length=0,jProto.push=Array.prototype.push,jProto.sort=Array.prototype.sort,jProto.splice=Array.prototype.splice,jProto.slice=Array.prototype.slice,jProto.toArray=function(){return this.length>1?slice.call(this):slice.call(this)[0]},jProto.map=function(func,toAlter){return jStat(jStat.map(this,func,toAlter))},jProto.cumreduce=function(func,toAlter){return jStat(jStat.cumreduce(this,func,toAlter))},jProto.alter=function(func){return jStat.alter(this,func),this},function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jProto[passfunc]=function(func){var results,self=this;return func?(setTimeout(function(){func.call(self,jProto[passfunc].call(self))}),this):(results=jStat[passfunc](this),isArray(results)?jStat(results):results)}}(funcs[i])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jProto[passfunc]=function(index,func){var self=this;return func?(setTimeout(function(){func.call(self,jProto[passfunc].call(self,index))}),this):jStat(jStat[passfunc](this,index))}}(funcs[i])}("row col".split(" ")),function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jProto[passfunc]=new Function("return jStat(jStat."+passfunc+".apply(null, arguments));")}(funcs[i])}("create zeros ones rand identity".split(" ")),jStat}(Math),function(jStat,Math){function ascNum(a,b){return a-b}function clip(arg,min,max){return Math.max(min,Math.min(arg,max))}var isFunction=jStat.utils.isFunction;jStat.sum=function sum(arr){for(var sum=0,i=arr.length;--i>=0;)sum+=arr[i];return sum},jStat.sumsqrd=function(arr){for(var sum=0,i=arr.length;--i>=0;)sum+=arr[i]*arr[i];return sum},jStat.sumsqerr=function(arr){for(var tmp,mean=jStat.mean(arr),sum=0,i=arr.length;--i>=0;)tmp=arr[i]-mean,sum+=tmp*tmp;return sum},jStat.sumrow=function(arr){for(var sum=0,i=arr.length;--i>=0;)sum+=arr[i];return sum},jStat.product=function(arr){for(var prod=1,i=arr.length;--i>=0;)prod*=arr[i];return prod},jStat.min=function(arr){for(var low=arr[0],i=0;++i<arr.length;)arr[i]<low&&(low=arr[i]);return low},jStat.max=function(arr){for(var high=arr[0],i=0;++i<arr.length;)arr[i]>high&&(high=arr[i]);return high},jStat.unique=function(arr){for(var hash={},_arr=[],i=0;i<arr.length;i++)hash[arr[i]]||(hash[arr[i]]=!0,_arr.push(arr[i]));return _arr},jStat.mean=function(arr){return jStat.sum(arr)/arr.length},jStat.meansqerr=function(arr){return jStat.sumsqerr(arr)/arr.length},jStat.geomean=function(arr){return Math.pow(jStat.product(arr),1/arr.length)},jStat.median=function(arr){var arrlen=arr.length,_arr=arr.slice().sort(ascNum);return 1&arrlen?_arr[arrlen/2|0]:(_arr[arrlen/2-1]+_arr[arrlen/2])/2},jStat.cumsum=function(arr){return jStat.cumreduce(arr,function(a,b){return a+b})},jStat.cumprod=function(arr){return jStat.cumreduce(arr,function(a,b){return a*b})},jStat.diff=function(arr){for(var i,diffs=[],arrLen=arr.length,i=1;i<arrLen;i++)diffs.push(arr[i]-arr[i-1]);return diffs},jStat.rank=function(arr){for(var arrlen=arr.length,sorted=arr.slice().sort(ascNum),ranks=new Array(arrlen),i=0;i<arrlen;i++){var first=sorted.indexOf(arr[i]),last=sorted.lastIndexOf(arr[i]);if(first===last)var val=first;else var val=(first+last)/2;ranks[i]=val+1}return ranks},jStat.mode=function(arr){for(var i,arrLen=arr.length,_arr=arr.slice().sort(ascNum),count=1,maxCount=0,numMaxCount=0,mode_arr=[],i=0;i<arrLen;i++)_arr[i]===_arr[i+1]?count++:(count>maxCount?(mode_arr=[_arr[i]],maxCount=count,numMaxCount=0):count===maxCount&&(mode_arr.push(_arr[i]),numMaxCount++),count=1);return 0===numMaxCount?mode_arr[0]:mode_arr},jStat.range=function(arr){return jStat.max(arr)-jStat.min(arr)},jStat.variance=function(arr,flag){return jStat.sumsqerr(arr)/(arr.length-(flag?1:0))},jStat.deviation=function(arr){for(var mean=jStat.mean(arr),arrlen=arr.length,dev=new Array(arrlen),i=0;i<arrlen;i++)dev[i]=arr[i]-mean;return dev},jStat.stdev=function(arr,flag){return Math.sqrt(jStat.variance(arr,flag))},jStat.meandev=function(arr){for(var i,devSum=0,mean=jStat.mean(arr),i=arr.length-1;i>=0;i--)devSum+=Math.abs(arr[i]-mean);return devSum/arr.length},jStat.meddev=function(arr){for(var i,devSum=0,median=jStat.median(arr),i=arr.length-1;i>=0;i--)devSum+=Math.abs(arr[i]-median);return devSum/arr.length},jStat.coeffvar=function(arr){return jStat.stdev(arr)/jStat.mean(arr)},jStat.quartiles=function(arr){var arrlen=arr.length,_arr=arr.slice().sort(ascNum);return[_arr[Math.round(arrlen/4)-1],_arr[Math.round(arrlen/2)-1],_arr[Math.round(3*arrlen/4)-1]]},jStat.quantiles=function(arr,quantilesArray,alphap,betap){var i,p,m,aleph,k,gamma,sortedArray=arr.slice().sort(ascNum),quantileVals=[quantilesArray.length],n=arr.length;"undefined"==typeof alphap&&(alphap=3/8),"undefined"==typeof betap&&(betap=3/8);for(var i=0;i<quantilesArray.length;i++)p=quantilesArray[i],m=alphap+p*(1-alphap-betap),aleph=n*p+m,k=Math.floor(clip(aleph,1,n-1)),gamma=clip(aleph-k,0,1),quantileVals[i]=(1-gamma)*sortedArray[k-1]+gamma*sortedArray[k];return quantileVals},jStat.percentile=function(arr,k){var _arr=arr.slice().sort(ascNum),realIndex=k*(_arr.length-1),index=parseInt(realIndex),frac=realIndex-index;return index+1<_arr.length?_arr[index]*(1-frac)+_arr[index+1]*frac:_arr[index]},jStat.percentileOfScore=function(arr,score,kind){var value,i,counter=0,len=arr.length,strict=!1;"strict"===kind&&(strict=!0);for(var i=0;i<len;i++)value=arr[i],(strict&&value<score||!strict&&value<=score)&&counter++;return counter/len},jStat.histogram=function(arr,bins){for(var i,first=jStat.min(arr),binCnt=bins||4,binWidth=(jStat.max(arr)-first)/binCnt,len=arr.length,bins=[],i=0;i<binCnt;i++)bins[i]=0;for(var i=0;i<len;i++)bins[Math.min(Math.floor((arr[i]-first)/binWidth),binCnt-1)]+=1;return bins},jStat.covariance=function(arr1,arr2){for(var i,u=jStat.mean(arr1),v=jStat.mean(arr2),arr1Len=arr1.length,sq_dev=new Array(arr1Len),i=0;i<arr1Len;i++)sq_dev[i]=(arr1[i]-u)*(arr2[i]-v);return jStat.sum(sq_dev)/(arr1Len-1)},jStat.corrcoeff=function(arr1,arr2){return jStat.covariance(arr1,arr2)/jStat.stdev(arr1,1)/jStat.stdev(arr2,1)},jStat.spearmancoeff=function(arr1,arr2){arr1=jStat.rank(arr1),arr2=jStat.rank(arr2);var arr1dev=jStat.deviation(arr1),arr2dev=jStat.deviation(arr2);return jStat.sum(arr1dev.map(function(x,i){return x*arr2dev[i]}))/Math.sqrt(jStat.sum(arr1dev.map(function(x){return Math.pow(x,2)}))*jStat.sum(arr2dev.map(function(x){return Math.pow(x,2)})))},jStat.stanMoment=function(arr,n){for(var mu=jStat.mean(arr),sigma=jStat.stdev(arr),len=arr.length,skewSum=0,i=0;i<len;i++)skewSum+=Math.pow((arr[i]-mu)/sigma,n);return skewSum/arr.length},jStat.skewness=function(arr){return jStat.stanMoment(arr,3)},jStat.kurtosis=function(arr){return jStat.stanMoment(arr,4)-3};var jProto=jStat.prototype;!function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jProto[passfunc]=function(fullbool,func){var arr=[],i=0,tmpthis=this;if(isFunction(fullbool)&&(func=fullbool,fullbool=!1),func)return setTimeout(function(){func.call(tmpthis,jProto[passfunc].call(tmpthis,fullbool))}),this;if(this.length>1){for(tmpthis=fullbool===!0?this:this.transpose();i<tmpthis.length;i++)arr[i]=jStat[passfunc](tmpthis[i]);return arr}return jStat[passfunc](this[0],fullbool)}}(funcs[i])}("cumsum cumprod".split(" ")),function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jProto[passfunc]=function(fullbool,func){var arr=[],i=0,tmpthis=this;if(isFunction(fullbool)&&(func=fullbool,fullbool=!1),func)return setTimeout(function(){func.call(tmpthis,jProto[passfunc].call(tmpthis,fullbool))}),this;if(this.length>1){for("sumrow"!==passfunc&&(tmpthis=fullbool===!0?this:this.transpose());i<tmpthis.length;i++)arr[i]=jStat[passfunc](tmpthis[i]);return fullbool===!0?jStat[passfunc](jStat.utils.toVector(arr)):arr}return jStat[passfunc](this[0],fullbool)}}(funcs[i])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jProto[passfunc]=function(){var arr=[],i=0,tmpthis=this,args=Array.prototype.slice.call(arguments);if(isFunction(args[args.length-1])){var callbackFunction=args[args.length-1],argsToPass=args.slice(0,args.length-1);return setTimeout(function(){callbackFunction.call(tmpthis,jProto[passfunc].apply(tmpthis,argsToPass))}),this}var callbackFunction=void 0,curriedFunction=function(vector){return jStat[passfunc].apply(tmpthis,[vector].concat(args))};if(this.length>1){for(tmpthis=tmpthis.transpose();i<tmpthis.length;i++)arr[i]=curriedFunction(tmpthis[i]);return arr}return curriedFunction(this[0])}}(funcs[i])}("quantiles percentileOfScore".split(" "))}(this.jStat,Math),function(jStat,Math){jStat.gammaln=function(x){var xx,y,tmp,j=0,cof=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],ser=1.000000000190015;for(tmp=(y=xx=x)+5.5,tmp-=(xx+.5)*Math.log(tmp);j<6;j++)ser+=cof[j]/++y;return Math.log(2.5066282746310007*ser/xx)-tmp},jStat.gammafn=function(x){var i,z,yi,res,p=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],q=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],fact=!1,n=0,xden=0,xnum=0,y=x;if(y<=0){if(res=y%1+3.6e-16,!res)return 1/0;fact=(1&y?-1:1)*Math.PI/Math.sin(Math.PI*res),y=1-y}yi=y,z=y<1?y++:(y-=n=(0|y)-1)-1;for(var i=0;i<8;++i)xnum=(xnum+p[i])*z,xden=xden*z+q[i];if(res=xnum/xden+1,yi<y)res/=yi;else if(yi>y)for(var i=0;i<n;++i)res*=y,y++;return fact&&(res=fact/res),res},jStat.gammap=function(a,x){return jStat.lowRegGamma(a,x)*jStat.gammafn(a)},jStat.lowRegGamma=function(a,x){var an,aln=jStat.gammaln(a),ap=a,sum=1/a,del=sum,b=x+1-a,c=1/1e-30,d=1/b,h=d,i=1,ITMAX=-~(8.5*Math.log(a>=1?a:1/a)+.4*a+17);if(x<0||a<=0)return NaN;if(x<a+1){for(;i<=ITMAX;i++)sum+=del*=x/++ap;return sum*Math.exp(-x+a*Math.log(x)-aln)}for(;i<=ITMAX;i++)an=-i*(i-a),b+=2,d=an*d+b,c=b+an/c,d=1/d,h*=d*c;return 1-h*Math.exp(-x+a*Math.log(x)-aln)},jStat.factorialln=function(n){return n<0?NaN:jStat.gammaln(n+1)},jStat.factorial=function(n){return n<0?NaN:jStat.gammafn(n+1)},jStat.combination=function(n,m){return n>170||m>170?Math.exp(jStat.combinationln(n,m)):jStat.factorial(n)/jStat.factorial(m)/jStat.factorial(n-m)},jStat.combinationln=function(n,m){return jStat.factorialln(n)-jStat.factorialln(m)-jStat.factorialln(n-m)},jStat.permutation=function(n,m){return jStat.factorial(n)/jStat.factorial(n-m)},jStat.betafn=function(x,y){if(!(x<=0||y<=0))return x+y>170?Math.exp(jStat.betaln(x,y)):jStat.gammafn(x)*jStat.gammafn(y)/jStat.gammafn(x+y)},jStat.betaln=function(x,y){return jStat.gammaln(x)+jStat.gammaln(y)-jStat.gammaln(x+y)},jStat.betacf=function(x,a,b){var m2,aa,del,h,fpmin=1e-30,m=1,qab=a+b,qap=a+1,qam=a-1,c=1,d=1-qab*x/qap;for(Math.abs(d)<fpmin&&(d=fpmin),d=1/d,h=d;m<=100&&(m2=2*m,aa=m*(b-m)*x/((qam+m2)*(a+m2)),d=1+aa*d,Math.abs(d)<fpmin&&(d=fpmin),c=1+aa/c,Math.abs(c)<fpmin&&(c=fpmin),d=1/d,h*=d*c,aa=-(a+m)*(qab+m)*x/((a+m2)*(qap+m2)),d=1+aa*d,Math.abs(d)<fpmin&&(d=fpmin),c=1+aa/c,Math.abs(c)<fpmin&&(c=fpmin),d=1/d,del=d*c,h*=del,!(Math.abs(del-1)<3e-7));m++);return h},jStat.gammapinv=function(p,a){var x,err,t,u,pp,lna1,afac,j=0,a1=a-1,EPS=1e-8,gln=jStat.gammaln(a);if(p>=1)return Math.max(100,a+100*Math.sqrt(a));if(p<=0)return 0;for(a>1?(lna1=Math.log(a1),afac=Math.exp(a1*(lna1-1)-gln),pp=p<.5?p:1-p,t=Math.sqrt(-2*Math.log(pp)),x=(2.30753+.27061*t)/(1+t*(.99229+.04481*t))-t,p<.5&&(x=-x),x=Math.max(.001,a*Math.pow(1-1/(9*a)-x/(3*Math.sqrt(a)),3))):(t=1-a*(.253+.12*a),x=p<t?Math.pow(p/t,1/a):1-Math.log(1-(p-t)/(1-t)));j<12;j++){if(x<=0)return 0;if(err=jStat.lowRegGamma(a,x)-p,t=a>1?afac*Math.exp(-(x-a1)+a1*(Math.log(x)-lna1)):Math.exp(-x+a1*Math.log(x)-gln),u=err/t,x-=t=u/(1-.5*Math.min(1,u*((a-1)/x-1))),x<=0&&(x=.5*(x+t)),Math.abs(t)<EPS*x)break}return x},jStat.erf=function(x){var t,ty,tmp,res,cof=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,9.6467911e-11,2.394038e-12,-6.886027e-12,8.94487e-13,3.13092e-13,-1.12708e-13,3.81e-16,7.106e-15,-1.523e-15,-9.4e-17,1.21e-16,-2.8e-17],j=cof.length-1,isneg=!1,d=0,dd=0;for(x<0&&(x=-x,isneg=!0),t=2/(2+x),ty=4*t-2;j>0;j--)tmp=d,d=ty*d-dd+cof[j],dd=tmp;return res=t*Math.exp(-x*x+.5*(cof[0]+ty*d)-dd),isneg?res-1:1-res},jStat.erfc=function(x){return 1-jStat.erf(x)},jStat.erfcinv=function(p){var x,err,t,pp,j=0;if(p>=2)return-100;if(p<=0)return 100;for(pp=p<1?p:2-p,t=Math.sqrt(-2*Math.log(pp/2)),x=-.70711*((2.30753+.27061*t)/(1+t*(.99229+.04481*t))-t);j<2;j++)err=jStat.erfc(x)-pp,x+=err/(1.1283791670955126*Math.exp(-x*x)-x*err);return p<1?x:-x},jStat.ibetainv=function(p,a,b){var lna,lnb,pp,t,u,err,x,al,h,w,afac,EPS=1e-8,a1=a-1,b1=b-1,j=0;if(p<=0)return 0;if(p>=1)return 1;for(a>=1&&b>=1?(pp=p<.5?p:1-p,t=Math.sqrt(-2*Math.log(pp)),x=(2.30753+.27061*t)/(1+t*(.99229+.04481*t))-t,p<.5&&(x=-x),al=(x*x-3)/6,h=2/(1/(2*a-1)+1/(2*b-1)),w=x*Math.sqrt(al+h)/h-(1/(2*b-1)-1/(2*a-1))*(al+5/6-2/(3*h)),x=a/(a+b*Math.exp(2*w))):(lna=Math.log(a/(a+b)),lnb=Math.log(b/(a+b)),t=Math.exp(a*lna)/a,u=Math.exp(b*lnb)/b,w=t+u,x=p<t/w?Math.pow(a*w*p,1/a):1-Math.pow(b*w*(1-p),1/b)),afac=-jStat.gammaln(a)-jStat.gammaln(b)+jStat.gammaln(a+b);j<10;j++){if(0===x||1===x)return x;if(err=jStat.ibeta(x,a,b)-p,t=Math.exp(a1*Math.log(x)+b1*Math.log(1-x)+afac),u=err/t,x-=t=u/(1-.5*Math.min(1,u*(a1/x-b1/(1-x)))),x<=0&&(x=.5*(x+t)),x>=1&&(x=.5*(x+t+1)),Math.abs(t)<EPS*x&&j>0)break}return x},jStat.ibeta=function(x,a,b){var bt=0===x||1===x?0:Math.exp(jStat.gammaln(a+b)-jStat.gammaln(a)-jStat.gammaln(b)+a*Math.log(x)+b*Math.log(1-x));return!(x<0||x>1)&&(x<(a+1)/(a+b+2)?bt*jStat.betacf(x,a,b)/a:1-bt*jStat.betacf(1-x,b,a)/b)},jStat.randn=function(n,m){var u,v,x,y,q;if(m||(m=n),n)return jStat.create(n,m,function(){return jStat.randn()});do u=Math.random(),v=1.7156*(Math.random()-.5),x=u-.449871,y=Math.abs(v)+.386595,q=x*x+y*(.196*y-.25472*x);while(q>.27597&&(q>.27846||v*v>-4*Math.log(u)*u*u));return v/u},jStat.randg=function(shape,n,m){var a1,a2,u,v,x,mat,oalph=shape;if(m||(m=n),shape||(shape=1),n)return mat=jStat.zeros(n,m),mat.alter(function(){return jStat.randg(shape)}),mat;shape<1&&(shape+=1),a1=shape-1/3,a2=1/Math.sqrt(9*a1);do{do x=jStat.randn(),v=1+a2*x;while(v<=0);v=v*v*v,u=Math.random()}while(u>1-.331*Math.pow(x,4)&&Math.log(u)>.5*x*x+a1*(1-v+Math.log(v)));if(shape==oalph)return a1*v;do u=Math.random();while(0===u);return Math.pow(u,1/oalph)*a1*v},function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jStat.fn[passfunc]=function(){return jStat(jStat.map(this,function(value){return jStat[passfunc](value)}))}}(funcs[i])}("gammaln gammafn factorial factorialln".split(" ")),function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jStat.fn[passfunc]=function(){return jStat(jStat[passfunc].apply(null,arguments))}}(funcs[i])}("randn".split(" "))}(this.jStat,Math),function(jStat,Math){function laplaceSign(x){return x/Math.abs(x)}!function(list){for(var i=0;i<list.length;i++)!function(func){jStat[func]=function(a,b,c){return this instanceof arguments.callee?(this._a=a,this._b=b,this._c=c,this):new arguments.callee(a,b,c)},jStat.fn[func]=function(a,b,c){var newthis=jStat[func](a,b,c);return newthis.data=this,newthis},jStat[func].prototype.sample=function(arr){var a=this._a,b=this._b,c=this._c;return arr?jStat.alter(arr,function(){return jStat[func].sample(a,b,c)}):jStat[func].sample(a,b,c)},function(vals){for(var i=0;i<vals.length;i++)!function(fnfunc){jStat[func].prototype[fnfunc]=function(x){var a=this._a,b=this._b,c=this._c;return x||0===x||(x=this.data),"number"!=typeof x?jStat.fn.map.call(x,function(x){
return jStat[func][fnfunc](x,a,b,c)}):jStat[func][fnfunc](x,a,b,c)}}(vals[i])}("pdf cdf inv".split(" ")),function(vals){for(var i=0;i<vals.length;i++)!function(fnfunc){jStat[func].prototype[fnfunc]=function(){return jStat[func][fnfunc](this._a,this._b,this._c)}}(vals[i])}("mean median mode variance".split(" "))}(list[i])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular".split(" ")),jStat.extend(jStat.beta,{pdf:function(x,alpha,beta){return x>1||x<0?0:1==alpha&&1==beta?1:alpha<512&&beta<512?Math.pow(x,alpha-1)*Math.pow(1-x,beta-1)/jStat.betafn(alpha,beta):Math.exp((alpha-1)*Math.log(x)+(beta-1)*Math.log(1-x)-jStat.betaln(alpha,beta))},cdf:function(x,alpha,beta){return x>1||x<0?1*(x>1):jStat.ibeta(x,alpha,beta)},inv:function(x,alpha,beta){return jStat.ibetainv(x,alpha,beta)},mean:function(alpha,beta){return alpha/(alpha+beta)},median:function(alpha,beta){return jStat.ibetainv(.5,alpha,beta)},mode:function(alpha,beta){return(alpha-1)/(alpha+beta-2)},sample:function(alpha,beta){var u=jStat.randg(alpha);return u/(u+jStat.randg(beta))},variance:function(alpha,beta){return alpha*beta/(Math.pow(alpha+beta,2)*(alpha+beta+1))}}),jStat.extend(jStat.centralF,{pdf:function(x,df1,df2){var p,q,f;return x<0?0:df1<=2?0===x&&df1<2?1/0:0===x&&2===df1?1:Math.sqrt(Math.pow(df1*x,df1)*Math.pow(df2,df2)/Math.pow(df1*x+df2,df1+df2))/(x*jStat.betafn(df1/2,df2/2)):(p=df1*x/(df2+x*df1),q=df2/(df2+x*df1),f=df1*q/2,f*jStat.binomial.pdf((df1-2)/2,(df1+df2-2)/2,p))},cdf:function(x,df1,df2){return x<0?0:jStat.ibeta(df1*x/(df1*x+df2),df1/2,df2/2)},inv:function(x,df1,df2){return df2/(df1*(1/jStat.ibetainv(x,df1/2,df2/2)-1))},mean:function(df1,df2){return df2>2?df2/(df2-2):void 0},mode:function(df1,df2){return df1>2?df2*(df1-2)/(df1*(df2+2)):void 0},sample:function(df1,df2){var x1=2*jStat.randg(df1/2),x2=2*jStat.randg(df2/2);return x1/df1/(x2/df2)},variance:function(df1,df2){if(!(df2<=4))return 2*df2*df2*(df1+df2-2)/(df1*(df2-2)*(df2-2)*(df2-4))}}),jStat.extend(jStat.cauchy,{pdf:function(x,local,scale){return scale<0?0:scale/(Math.pow(x-local,2)+Math.pow(scale,2))/Math.PI},cdf:function(x,local,scale){return Math.atan((x-local)/scale)/Math.PI+.5},inv:function(p,local,scale){return local+scale*Math.tan(Math.PI*(p-.5))},median:function(local,scale){return local},mode:function(local,scale){return local},sample:function(local,scale){return jStat.randn()*Math.sqrt(1/(2*jStat.randg(.5)))*scale+local}}),jStat.extend(jStat.chisquare,{pdf:function(x,dof){return x<0?0:0===x&&2===dof?.5:Math.exp((dof/2-1)*Math.log(x)-x/2-dof/2*Math.log(2)-jStat.gammaln(dof/2))},cdf:function(x,dof){return x<0?0:jStat.lowRegGamma(dof/2,x/2)},inv:function(p,dof){return 2*jStat.gammapinv(p,.5*dof)},mean:function(dof){return dof},median:function(dof){return dof*Math.pow(1-2/(9*dof),3)},mode:function(dof){return dof-2>0?dof-2:0},sample:function(dof){return 2*jStat.randg(dof/2)},variance:function(dof){return 2*dof}}),jStat.extend(jStat.exponential,{pdf:function(x,rate){return x<0?0:rate*Math.exp(-rate*x)},cdf:function(x,rate){return x<0?0:1-Math.exp(-rate*x)},inv:function(p,rate){return-Math.log(1-p)/rate},mean:function(rate){return 1/rate},median:function(rate){return 1/rate*Math.log(2)},mode:function(rate){return 0},sample:function(rate){return-1/rate*Math.log(Math.random())},variance:function(rate){return Math.pow(rate,-2)}}),jStat.extend(jStat.gamma,{pdf:function(x,shape,scale){return x<0?0:0===x&&1===shape?1/scale:Math.exp((shape-1)*Math.log(x)-x/scale-jStat.gammaln(shape)-shape*Math.log(scale))},cdf:function(x,shape,scale){return x<0?0:jStat.lowRegGamma(shape,x/scale)},inv:function(p,shape,scale){return jStat.gammapinv(p,shape)*scale},mean:function(shape,scale){return shape*scale},mode:function(shape,scale){if(shape>1)return(shape-1)*scale},sample:function(shape,scale){return jStat.randg(shape)*scale},variance:function(shape,scale){return shape*scale*scale}}),jStat.extend(jStat.invgamma,{pdf:function(x,shape,scale){return x<=0?0:Math.exp(-(shape+1)*Math.log(x)-scale/x-jStat.gammaln(shape)+shape*Math.log(scale))},cdf:function(x,shape,scale){return x<=0?0:1-jStat.lowRegGamma(shape,scale/x)},inv:function(p,shape,scale){return scale/jStat.gammapinv(1-p,shape)},mean:function(shape,scale){return shape>1?scale/(shape-1):void 0},mode:function(shape,scale){return scale/(shape+1)},sample:function(shape,scale){return scale/jStat.randg(shape)},variance:function(shape,scale){if(!(shape<=2))return scale*scale/((shape-1)*(shape-1)*(shape-2))}}),jStat.extend(jStat.kumaraswamy,{pdf:function(x,alpha,beta){return 0===x&&1===alpha?beta:1===x&&1===beta?alpha:Math.exp(Math.log(alpha)+Math.log(beta)+(alpha-1)*Math.log(x)+(beta-1)*Math.log(1-Math.pow(x,alpha)))},cdf:function(x,alpha,beta){return x<0?0:x>1?1:1-Math.pow(1-Math.pow(x,alpha),beta)},inv:function(p,alpha,beta){return Math.pow(1-Math.pow(1-p,1/beta),1/alpha)},mean:function(alpha,beta){return beta*jStat.gammafn(1+1/alpha)*jStat.gammafn(beta)/jStat.gammafn(1+1/alpha+beta)},median:function(alpha,beta){return Math.pow(1-Math.pow(2,-1/beta),1/alpha)},mode:function(alpha,beta){if(alpha>=1&&beta>=1&&1!==alpha&&1!==beta)return Math.pow((alpha-1)/(alpha*beta-1),1/alpha)},variance:function(alpha,beta){throw new Error("variance not yet implemented")}}),jStat.extend(jStat.lognormal,{pdf:function(x,mu,sigma){return x<=0?0:Math.exp(-Math.log(x)-.5*Math.log(2*Math.PI)-Math.log(sigma)-Math.pow(Math.log(x)-mu,2)/(2*sigma*sigma))},cdf:function(x,mu,sigma){return x<0?0:.5+.5*jStat.erf((Math.log(x)-mu)/Math.sqrt(2*sigma*sigma))},inv:function(p,mu,sigma){return Math.exp(-1.4142135623730951*sigma*jStat.erfcinv(2*p)+mu)},mean:function(mu,sigma){return Math.exp(mu+sigma*sigma/2)},median:function(mu,sigma){return Math.exp(mu)},mode:function(mu,sigma){return Math.exp(mu-sigma*sigma)},sample:function(mu,sigma){return Math.exp(jStat.randn()*sigma+mu)},variance:function(mu,sigma){return(Math.exp(sigma*sigma)-1)*Math.exp(2*mu+sigma*sigma)}}),jStat.extend(jStat.noncentralt,{pdf:function(x,dof,ncp){var tol=1e-14;return Math.abs(ncp)<tol?jStat.studentt.pdf(x,dof):Math.abs(x)<tol?Math.exp(jStat.gammaln((dof+1)/2)-ncp*ncp/2-.5*Math.log(Math.PI*dof)-jStat.gammaln(dof/2)):dof/x*(jStat.noncentralt.cdf(x*Math.sqrt(1+2/dof),dof+2,ncp)-jStat.noncentralt.cdf(x,dof,ncp))},cdf:function(x,dof,ncp){var tol=1e-14,min_iterations=200;if(Math.abs(ncp)<tol)return jStat.studentt.cdf(x,dof);var flip=!1;x<0&&(flip=!0,ncp=-ncp);for(var prob=jStat.normal.cdf(-ncp,0,1),value=tol+1,lastvalue=value,y=x*x/(x*x+dof),j=0,p=Math.exp(-ncp*ncp/2),q=Math.exp(-ncp*ncp/2-.5*Math.log(2)-jStat.gammaln(1.5))*ncp;j<min_iterations||lastvalue>tol||value>tol;)lastvalue=value,j>0&&(p*=ncp*ncp/(2*j),q*=ncp*ncp/(2*(j+.5))),value=p*jStat.beta.cdf(y,j+.5,dof/2)+q*jStat.beta.cdf(y,j+1,dof/2),prob+=.5*value,j++;return flip?1-prob:prob}}),jStat.extend(jStat.normal,{pdf:function(x,mean,std){return Math.exp(-.5*Math.log(2*Math.PI)-Math.log(std)-Math.pow(x-mean,2)/(2*std*std))},cdf:function(x,mean,std){return.5*(1+jStat.erf((x-mean)/Math.sqrt(2*std*std)))},inv:function(p,mean,std){return-1.4142135623730951*std*jStat.erfcinv(2*p)+mean},mean:function(_mean,std){return _mean},median:function(mean,std){return mean},mode:function(mean,std){return mean},sample:function(mean,std){return jStat.randn()*std+mean},variance:function(mean,std){return std*std}}),jStat.extend(jStat.pareto,{pdf:function(x,scale,shape){return x<scale?0:shape*Math.pow(scale,shape)/Math.pow(x,shape+1)},cdf:function(x,scale,shape){return x<scale?0:1-Math.pow(scale/x,shape)},inv:function(p,scale,shape){return scale/Math.pow(1-p,1/shape)},mean:function(scale,shape){if(!(shape<=1))return shape*Math.pow(scale,shape)/(shape-1)},median:function(scale,shape){return scale*(shape*Math.SQRT2)},mode:function(scale,shape){return scale},variance:function(scale,shape){if(!(shape<=2))return scale*scale*shape/(Math.pow(shape-1,2)*(shape-2))}}),jStat.extend(jStat.studentt,{pdf:function(x,dof){return dof=dof>1e100?1e100:dof,1/(Math.sqrt(dof)*jStat.betafn(.5,dof/2))*Math.pow(1+x*x/dof,-((dof+1)/2))},cdf:function(x,dof){var dof2=dof/2;return jStat.ibeta((x+Math.sqrt(x*x+dof))/(2*Math.sqrt(x*x+dof)),dof2,dof2)},inv:function(p,dof){var x=jStat.ibetainv(2*Math.min(p,1-p),.5*dof,.5);return x=Math.sqrt(dof*(1-x)/x),p>.5?x:-x},mean:function(dof){return dof>1?0:void 0},median:function(dof){return 0},mode:function(dof){return 0},sample:function(dof){return jStat.randn()*Math.sqrt(dof/(2*jStat.randg(dof/2)))},variance:function(dof){return dof>2?dof/(dof-2):dof>1?1/0:void 0}}),jStat.extend(jStat.weibull,{pdf:function(x,scale,shape){return x<0||scale<0||shape<0?0:shape/scale*Math.pow(x/scale,shape-1)*Math.exp(-Math.pow(x/scale,shape))},cdf:function(x,scale,shape){return x<0?0:1-Math.exp(-Math.pow(x/scale,shape))},inv:function(p,scale,shape){return scale*Math.pow(-Math.log(1-p),1/shape)},mean:function(scale,shape){return scale*jStat.gammafn(1+1/shape)},median:function(scale,shape){return scale*Math.pow(Math.log(2),1/shape)},mode:function(scale,shape){return shape<=1?0:scale*Math.pow((shape-1)/shape,1/shape)},sample:function(scale,shape){return scale*Math.pow(-Math.log(Math.random()),1/shape)},variance:function(scale,shape){return scale*scale*jStat.gammafn(1+2/shape)-Math.pow(jStat.weibull.mean(scale,shape),2)}}),jStat.extend(jStat.uniform,{pdf:function(x,a,b){return x<a||x>b?0:1/(b-a)},cdf:function(x,a,b){return x<a?0:x<b?(x-a)/(b-a):1},inv:function(p,a,b){return a+p*(b-a)},mean:function(a,b){return.5*(a+b)},median:function(a,b){return jStat.mean(a,b)},mode:function(a,b){throw new Error("mode is not yet implemented")},sample:function(a,b){return a/2+b/2+(b/2-a/2)*(2*Math.random()-1)},variance:function(a,b){return Math.pow(b-a,2)/12}}),jStat.extend(jStat.binomial,{pdf:function(k,n,p){return 0===p||1===p?n*p===k?1:0:jStat.combination(n,k)*Math.pow(p,k)*Math.pow(1-p,n-k)},cdf:function(x,n,p){var binomarr=[],k=0;if(x<0)return 0;if(x<n){for(;k<=x;k++)binomarr[k]=jStat.binomial.pdf(k,n,p);return jStat.sum(binomarr)}return 1}}),jStat.extend(jStat.negbin,{pdf:function(k,r,p){return k===k>>>0&&(k<0?0:jStat.combination(k+r-1,r-1)*Math.pow(1-p,k)*Math.pow(p,r))},cdf:function(x,r,p){var sum=0,k=0;if(x<0)return 0;for(;k<=x;k++)sum+=jStat.negbin.pdf(k,r,p);return sum}}),jStat.extend(jStat.hypgeom,{pdf:function(k,N,m,n){if(k!==k|0)return!1;if(k<0||k<m-(N-n))return 0;if(k>n||k>m)return 0;if(2*m>N)return 2*n>N?jStat.hypgeom.pdf(N-m-n+k,N,N-m,N-n):jStat.hypgeom.pdf(n-k,N,N-m,n);if(2*n>N)return jStat.hypgeom.pdf(m-k,N,m,N-n);if(m<n)return jStat.hypgeom.pdf(k,N,n,m);for(var scaledPDF=1,samplesDone=0,i=0;i<k;i++){for(;scaledPDF>1&&samplesDone<n;)scaledPDF*=1-m/(N-samplesDone),samplesDone++;scaledPDF*=(n-i)*(m-i)/((i+1)*(N-m-n+i+1))}for(;samplesDone<n;samplesDone++)scaledPDF*=1-m/(N-samplesDone);return Math.min(1,Math.max(0,scaledPDF))},cdf:function(x,N,m,n){if(x<0||x<m-(N-n))return 0;if(x>=n||x>=m)return 1;if(2*m>N)return 2*n>N?jStat.hypgeom.cdf(N-m-n+x,N,N-m,N-n):1-jStat.hypgeom.cdf(n-x-1,N,N-m,n);if(2*n>N)return 1-jStat.hypgeom.cdf(m-x-1,N,m,N-n);if(m<n)return jStat.hypgeom.cdf(x,N,n,m);for(var scaledCDF=1,scaledPDF=1,samplesDone=0,i=0;i<x;i++){for(;scaledCDF>1&&samplesDone<n;){var factor=1-m/(N-samplesDone);scaledPDF*=factor,scaledCDF*=factor,samplesDone++}scaledPDF*=(n-i)*(m-i)/((i+1)*(N-m-n+i+1)),scaledCDF+=scaledPDF}for(;samplesDone<n;samplesDone++)scaledCDF*=1-m/(N-samplesDone);return Math.min(1,Math.max(0,scaledCDF))}}),jStat.extend(jStat.poisson,{pdf:function(k,l){return l<0||k%1!==0||k<0?0:Math.pow(l,k)*Math.exp(-l)/jStat.factorial(k)},cdf:function(x,l){var sumarr=[],k=0;if(x<0)return 0;for(;k<=x;k++)sumarr.push(jStat.poisson.pdf(k,l));return jStat.sum(sumarr)},mean:function(l){return l},variance:function(l){return l},sample:function(l){var p=1,k=0,L=Math.exp(-l);do k++,p*=Math.random();while(p>L);return k-1}}),jStat.extend(jStat.triangular,{pdf:function(x,a,b,c){return b<=a||c<a||c>b?NaN:x<a||x>b?0:x<c?2*(x-a)/((b-a)*(c-a)):x===c?2/(b-a):2*(b-x)/((b-a)*(b-c))},cdf:function(x,a,b,c){return b<=a||c<a||c>b?NaN:x<=a?0:x>=b?1:x<=c?Math.pow(x-a,2)/((b-a)*(c-a)):1-Math.pow(b-x,2)/((b-a)*(b-c))},inv:function(p,a,b,c){return b<=a||c<a||c>b?NaN:p<=(c-a)/(b-a)?a+(b-a)*Math.sqrt(p*((c-a)/(b-a))):a+(b-a)*(1-Math.sqrt((1-p)*(1-(c-a)/(b-a))))},mean:function(a,b,c){return(a+b+c)/3},median:function(a,b,c){return c<=(a+b)/2?b-Math.sqrt((b-a)*(b-c))/Math.sqrt(2):c>(a+b)/2?a+Math.sqrt((b-a)*(c-a))/Math.sqrt(2):void 0},mode:function(a,b,c){return c},sample:function(a,b,c){var u=Math.random();return u<(c-a)/(b-a)?a+Math.sqrt(u*(b-a)*(c-a)):b-Math.sqrt((1-u)*(b-a)*(b-c))},variance:function(a,b,c){return(a*a+b*b+c*c-a*b-a*c-b*c)/18}}),jStat.extend(jStat.laplace,{pdf:function(x,mu,b){return b<=0?0:Math.exp(-Math.abs(x-mu)/b)/(2*b)},cdf:function(x,mu,b){return b<=0?0:x<mu?.5*Math.exp((x-mu)/b):1-.5*Math.exp(-(x-mu)/b)},mean:function(mu,b){return mu},median:function(mu,b){return mu},mode:function(mu,b){return mu},variance:function(mu,b){return 2*b*b},sample:function(mu,b){var u=Math.random()-.5;return mu-b*laplaceSign(u)*Math.log(1-2*Math.abs(u))}})}(this.jStat,Math),function(jStat,Math){function isUsable(arg){return isArray(arg)||arg instanceof jStat}var push=Array.prototype.push,isArray=jStat.utils.isArray;jStat.extend({add:function(arr,arg){return isUsable(arg)?(isUsable(arg[0])||(arg=[arg]),jStat.map(arr,function(value,row,col){return value+arg[row][col]})):jStat.map(arr,function(value){return value+arg})},subtract:function(arr,arg){return isUsable(arg)?(isUsable(arg[0])||(arg=[arg]),jStat.map(arr,function(value,row,col){return value-arg[row][col]||0})):jStat.map(arr,function(value){return value-arg})},divide:function(arr,arg){return isUsable(arg)?(isUsable(arg[0])||(arg=[arg]),jStat.multiply(arr,jStat.inv(arg))):jStat.map(arr,function(value){return value/arg})},multiply:function(arr,arg){var row,col,nrescols,sum,nrow,ncol,res,rescols;if(void 0===arr.length&&void 0===arg.length)return arr*arg;if(nrow=arr.length,ncol=arr[0].length,res=jStat.zeros(nrow,nrescols=isUsable(arg)?arg[0].length:ncol),rescols=0,isUsable(arg)){for(;rescols<nrescols;rescols++)for(row=0;row<nrow;row++){for(sum=0,col=0;col<ncol;col++)sum+=arr[row][col]*arg[col][rescols];res[row][rescols]=sum}return 1===nrow&&1===rescols?res[0][0]:res}return jStat.map(arr,function(value){return value*arg})},outer:function(A,B){return jStat.multiply(A.map(function(t){return[t]}),[B])},dot:function(arr,arg){isUsable(arr[0])||(arr=[arr]),isUsable(arg[0])||(arg=[arg]);for(var sum,col,left=1===arr[0].length&&1!==arr.length?jStat.transpose(arr):arr,right=1===arg[0].length&&1!==arg.length?jStat.transpose(arg):arg,res=[],row=0,nrow=left.length,ncol=left[0].length;row<nrow;row++){for(res[row]=[],sum=0,col=0;col<ncol;col++)sum+=left[row][col]*right[row][col];res[row]=sum}return 1===res.length?res[0]:res},pow:function(arr,arg){return jStat.map(arr,function(value){return Math.pow(value,arg)})},exp:function(arr){return jStat.map(arr,function(value){return Math.exp(value)})},log:function(arr){return jStat.map(arr,function(value){return Math.log(value)})},abs:function(arr){return jStat.map(arr,function(value){return Math.abs(value)})},norm:function(arr,p){var nnorm=0,i=0;for(isNaN(p)&&(p=2),isUsable(arr[0])&&(arr=arr[0]);i<arr.length;i++)nnorm+=Math.pow(Math.abs(arr[i]),p);return Math.pow(nnorm,1/p)},angle:function(arr,arg){return Math.acos(jStat.dot(arr,arg)/(jStat.norm(arr)*jStat.norm(arg)))},aug:function(a,b){for(var newarr=[],i=0;i<a.length;i++)newarr.push(a[i].slice());for(var i=0;i<newarr.length;i++)push.apply(newarr[i],b[i]);return newarr},inv:function(a){for(var j,rows=a.length,cols=a[0].length,b=jStat.identity(rows,cols),c=jStat.gauss_jordan(a,b),result=[],i=0;i<rows;i++)for(result[i]=[],j=cols;j<c[0].length;j++)result[i][j-cols]=c[i][j];return result},det:function(a){var j,alen=a.length,alend=2*alen,vals=new Array(alend),rowshift=alen-1,colshift=alend-1,mrow=rowshift-alen+1,mcol=colshift,i=0,result=0;if(2===alen)return a[0][0]*a[1][1]-a[0][1]*a[1][0];for(;i<alend;i++)vals[i]=1;for(var i=0;i<alen;i++){for(j=0;j<alen;j++)vals[mrow<0?mrow+alen:mrow]*=a[i][j],vals[mcol<alen?mcol+alen:mcol]*=a[i][j],mrow++,mcol--;mrow=--rowshift-alen+1,mcol=--colshift}for(var i=0;i<alen;i++)result+=vals[i];for(;i<alend;i++)result-=vals[i];return result},gauss_elimination:function(a,b){var maug,pivot,temp,k,i=0,j=0,n=a.length,m=a[0].length,factor=1,sum=0,x=[];a=jStat.aug(a,b),maug=a[0].length;for(var i=0;i<n;i++){for(pivot=a[i][i],j=i,k=i+1;k<m;k++)pivot<Math.abs(a[k][i])&&(pivot=a[k][i],j=k);if(j!=i)for(k=0;k<maug;k++)temp=a[i][k],a[i][k]=a[j][k],a[j][k]=temp;for(j=i+1;j<n;j++)for(factor=a[j][i]/a[i][i],k=i;k<maug;k++)a[j][k]=a[j][k]-factor*a[i][k]}for(var i=n-1;i>=0;i--){for(sum=0,j=i+1;j<=n-1;j++)sum+=x[j]*a[i][j];x[i]=(a[i][maug-1]-sum)/a[i][i]}return x},gauss_jordan:function(a,b){for(var m=jStat.aug(a,b),h=m.length,w=m[0].length,y=0;y<h;y++){for(var maxrow=y,y2=y+1;y2<h;y2++)Math.abs(m[y2][y])>Math.abs(m[maxrow][y])&&(maxrow=y2);var tmp=m[y];m[y]=m[maxrow],m[maxrow]=tmp;for(var y2=y+1;y2<h;y2++){c=m[y2][y]/m[y][y];for(var x=y;x<w;x++)m[y2][x]-=m[y][x]*c}}for(var y=h-1;y>=0;y--){c=m[y][y];for(var y2=0;y2<y;y2++)for(var x=w-1;x>y-1;x--)m[y2][x]-=m[y][x]*m[y2][y]/c;m[y][y]/=c;for(var x=h;x<w;x++)m[y][x]/=c}return m},triaUpSolve:function(A,b){var parts,size=A[0].length,x=jStat.zeros(1,size)[0],matrix_mode=!1;return void 0!=b[0].length&&(b=b.map(function(i){return i[0]}),matrix_mode=!0),jStat.arange(size-1,-1,-1).forEach(function(i){parts=jStat.arange(i+1,size).map(function(j){return x[j]*A[i][j]}),x[i]=(b[i]-jStat.sum(parts))/A[i][i]}),matrix_mode?x.map(function(i){return[i]}):x},triaLowSolve:function(A,b){var parts,size=A[0].length,x=jStat.zeros(1,size)[0],matrix_mode=!1;return void 0!=b[0].length&&(b=b.map(function(i){return i[0]}),matrix_mode=!0),jStat.arange(size).forEach(function(i){parts=jStat.arange(i).map(function(j){return A[i][j]*x[j]}),x[i]=(b[i]-jStat.sum(parts))/A[i][i]}),matrix_mode?x.map(function(i){return[i]}):x},lu:function(A){var parts,size=A.length,L=jStat.identity(size),R=jStat.zeros(A.length,A[0].length);return jStat.arange(size).forEach(function(t){R[0][t]=A[0][t]}),jStat.arange(1,size).forEach(function(l){jStat.arange(l).forEach(function(i){parts=jStat.arange(i).map(function(jj){return L[l][jj]*R[jj][i]}),L[l][i]=(A[l][i]-jStat.sum(parts))/R[i][i]}),jStat.arange(l,size).forEach(function(j){parts=jStat.arange(l).map(function(jj){return L[l][jj]*R[jj][j]}),R[l][j]=A[i][j]-jStat.sum(parts)})}),[L,R]},cholesky:function(A){var parts,size=A.length,T=jStat.zeros(A.length,A[0].length);return jStat.arange(size).forEach(function(i){parts=jStat.arange(i).map(function(t){return Math.pow(T[i][t],2)}),T[i][i]=Math.sqrt(A[i][i]-jStat.sum(parts)),jStat.arange(i+1,size).forEach(function(j){parts=jStat.arange(i).map(function(t){return T[i][t]*T[j][t]}),T[j][i]=(A[i][j]-jStat.sum(parts))/T[i][i]})}),T},gauss_jacobi:function(a,b,x,r){for(var xv,c,h,xk,i=0,j=0,n=a.length,l=[],u=[],d=[];i<n;i++)for(l[i]=[],u[i]=[],d[i]=[],j=0;j<n;j++)i>j?(l[i][j]=a[i][j],u[i][j]=d[i][j]=0):i<j?(u[i][j]=a[i][j],l[i][j]=d[i][j]=0):(d[i][j]=a[i][j],l[i][j]=u[i][j]=0);for(h=jStat.multiply(jStat.multiply(jStat.inv(d),jStat.add(l,u)),-1),c=jStat.multiply(jStat.inv(d),b),xv=x,xk=jStat.add(jStat.multiply(h,x),c),i=2;Math.abs(jStat.norm(jStat.subtract(xk,xv)))>r;)xv=xk,xk=jStat.add(jStat.multiply(h,xv),c),i++;return xk},gauss_seidel:function(a,b,x,r){for(var j,xv,c,h,xk,i=0,n=a.length,l=[],u=[],d=[];i<n;i++)for(l[i]=[],u[i]=[],d[i]=[],j=0;j<n;j++)i>j?(l[i][j]=a[i][j],u[i][j]=d[i][j]=0):i<j?(u[i][j]=a[i][j],l[i][j]=d[i][j]=0):(d[i][j]=a[i][j],l[i][j]=u[i][j]=0);for(h=jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d,l)),u),-1),c=jStat.multiply(jStat.inv(jStat.add(d,l)),b),xv=x,xk=jStat.add(jStat.multiply(h,x),c),i=2;Math.abs(jStat.norm(jStat.subtract(xk,xv)))>r;)xv=xk,xk=jStat.add(jStat.multiply(h,xv),c),i+=1;return xk},SOR:function(a,b,x,r,w){for(var j,xv,c,h,xk,i=0,n=a.length,l=[],u=[],d=[];i<n;i++)for(l[i]=[],u[i]=[],d[i]=[],j=0;j<n;j++)i>j?(l[i][j]=a[i][j],u[i][j]=d[i][j]=0):i<j?(u[i][j]=a[i][j],l[i][j]=d[i][j]=0):(d[i][j]=a[i][j],l[i][j]=u[i][j]=0);for(h=jStat.multiply(jStat.inv(jStat.add(d,jStat.multiply(l,w))),jStat.subtract(jStat.multiply(d,1-w),jStat.multiply(u,w))),c=jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d,jStat.multiply(l,w))),b),w),xv=x,xk=jStat.add(jStat.multiply(h,x),c),i=2;Math.abs(jStat.norm(jStat.subtract(xk,xv)))>r;)xv=xk,xk=jStat.add(jStat.multiply(h,xv),c),i++;return xk},householder:function(a){for(var alpha,r,k,j,factor,m=a.length,n=a[0].length,i=0,w=[],p=[];i<m-1;i++){for(alpha=0,j=i+1;j<n;j++)alpha+=a[j][i]*a[j][i];for(factor=a[i+1][i]>0?-1:1,alpha=factor*Math.sqrt(alpha),r=Math.sqrt((alpha*alpha-a[i+1][i]*alpha)/2),w=jStat.zeros(m,1),w[i+1][0]=(a[i+1][i]-alpha)/(2*r),k=i+2;k<m;k++)w[k][0]=a[k][i]/(2*r);p=jStat.subtract(jStat.identity(m,n),jStat.multiply(jStat.multiply(w,jStat.transpose(w)),2)),a=jStat.multiply(p,jStat.multiply(a,p))}return a},QR:function(){function get_Q1(x){var size=x.length,norm_x=jStat.norm(x,2),e1=jStat.zeros(1,size)[0];e1[0]=1;var u=jStat.add(jStat.multiply(jStat.multiply(e1,norm_x),-1),x),norm_u=jStat.norm(u,2),v=jStat.divide(u,norm_u),Q=jStat.subtract(jStat.identity(size),jStat.multiply(jStat.outer(v,v),2));return Q}function qr(A){var size=A[0].length,QList=[];jStat.arange(size).forEach(function(i){var x=jStat.slice(A,{row:{start:i},col:i}),Q=get_Q1(x),Qn=jStat.identity(A.length);Qn=jStat.sliceAssign(Qn,{row:{start:i},col:{start:i}},Q),A=jStat.multiply(Qn,A),QList.push(Qn)});var Q=QList.reduce(function(x,y){return jStat.multiply(x,y)}),R=A;return[Q,R]}return qr}(),lstsq:function(A,b){function R_I(A){A=jStat.copy(A);var size=A.length,I=jStat.identity(size);return jStat.arange(size-1,-1,-1).forEach(function(i){jStat.sliceAssign(I,{row:i},jStat.divide(jStat.slice(I,{row:i}),A[i][i])),jStat.sliceAssign(A,{row:i},jStat.divide(jStat.slice(A,{row:i}),A[i][i])),jStat.arange(i).forEach(function(j){var c=jStat.multiply(A[j][i],-1),Aj=jStat.slice(A,{row:j}),cAi=jStat.multiply(jStat.slice(A,{row:i}),c);jStat.sliceAssign(A,{row:j},jStat.add(Aj,cAi));var Ij=jStat.slice(I,{row:j}),cIi=jStat.multiply(jStat.slice(I,{row:i}),c);jStat.sliceAssign(I,{row:j},jStat.add(Ij,cIi))})}),I}function qr_solve(A,b){var array_mode=!1;void 0===b[0].length&&(b=b.map(function(x){return[x]}),array_mode=!0);var QR=jStat.QR(A),Q=QR[0],R=QR[1],attrs=A[0].length,Q1=jStat.slice(Q,{col:{end:attrs}}),R1=jStat.slice(R,{row:{end:attrs}}),RI=R_I(R1),x=jStat.multiply(jStat.multiply(RI,jStat.transpose(Q1)),b);return array_mode?x.map(function(i){return i[0]}):x}return qr_solve}(),jacobi:function(a){for(var b,i,j,p,q,maxim,theta,s,condition=1,count=0,n=a.length,e=jStat.identity(n,n),ev=[];1===condition;){count++,maxim=a[0][1],p=0,q=1;for(var i=0;i<n;i++)for(j=0;j<n;j++)i!=j&&maxim<Math.abs(a[i][j])&&(maxim=Math.abs(a[i][j]),p=i,q=j);theta=a[p][p]===a[q][q]?a[p][q]>0?Math.PI/4:-Math.PI/4:Math.atan(2*a[p][q]/(a[p][p]-a[q][q]))/2,s=jStat.identity(n,n),s[p][p]=Math.cos(theta),s[p][q]=-Math.sin(theta),s[q][p]=Math.sin(theta),s[q][q]=Math.cos(theta),e=jStat.multiply(e,s),b=jStat.multiply(jStat.multiply(jStat.inv(s),a),s),a=b,condition=0;for(var i=1;i<n;i++)for(j=1;j<n;j++)i!=j&&Math.abs(a[i][j])>.001&&(condition=1)}for(var i=0;i<n;i++)ev.push(a[i][i]);return[e,ev]},rungekutta:function(f,h,p,t_j,u_j,order){var k1,k2,u_j1,k3,k4;if(2===order)for(;t_j<=p;)k1=h*f(t_j,u_j),k2=h*f(t_j+h,u_j+k1),u_j1=u_j+(k1+k2)/2,u_j=u_j1,t_j+=h;if(4===order)for(;t_j<=p;)k1=h*f(t_j,u_j),k2=h*f(t_j+h/2,u_j+k1/2),k3=h*f(t_j+h/2,u_j+k2/2),k4=h*f(t_j+h,u_j+k3),u_j1=u_j+(k1+2*k2+2*k3+k4)/6,u_j=u_j1,t_j+=h;return u_j},romberg:function(f,a,b,order){for(var m,a1,j,k,I,i=0,h=(b-a)/2,x=[],h1=[],g=[];i<order/2;){for(I=f(a),j=a,k=0;j<=b;j+=h,k++)x[k]=j;for(m=x.length,j=1;j<m-1;j++)I+=(j%2!==0?4:2)*f(x[j]);I=h/3*(I+f(b)),g[i]=I,h/=2,i++}for(a1=g.length,m=1;1!==a1;){for(j=0;j<a1-1;j++)h1[j]=(Math.pow(4,m)*g[j+1]-g[j])/(Math.pow(4,m)-1);a1=h1.length,g=h1,h1=[],m++}return g},richardson:function(X,f,x,h){function pos(X,x){for(var p,i=0,n=X.length;i<n;i++)X[i]===x&&(p=i);return p}for(var y1,y2,m,a,j,h_min=(X.length,Math.abs(x-X[pos(X,x)+1])),i=0,g=[],h1=[];h>=h_min;)y1=pos(X,x+h),y2=pos(X,x),g[i]=(f[y1]-2*f[y2]+f[2*y2-y1])/(h*h),h/=2,i++;for(a=g.length,m=1;1!=a;){for(j=0;j<a-1;j++)h1[j]=(Math.pow(4,m)*g[j+1]-g[j])/(Math.pow(4,m)-1);a=h1.length,g=h1,h1=[],m++}return g},simpson:function(f,a,b,n){for(var m,h=(b-a)/n,I=f(a),x=[],j=a,k=0,i=1;j<=b;j+=h,k++)x[k]=j;for(m=x.length;i<m-1;i++)I+=(i%2!==0?4:2)*f(x[i]);return h/3*(I+f(b))},hermite:function(X,F,dF,value){for(var j,n=X.length,p=0,i=0,l=[],dl=[],A=[],B=[];i<n;i++){for(l[i]=1,j=0;j<n;j++)i!=j&&(l[i]*=(value-X[j])/(X[i]-X[j]));for(dl[i]=0,j=0;j<n;j++)i!=j&&(dl[i]+=1/(X[i]-X[j]));A[i]=(1-2*(value-X[i])*dl[i])*(l[i]*l[i]),B[i]=(value-X[i])*(l[i]*l[i]),p+=A[i]*F[i]+B[i]*dF[i]}return p},lagrange:function(X,F,value){for(var j,l,p=0,i=0,n=X.length;i<n;i++){for(l=F[i],j=0;j<n;j++)i!=j&&(l*=(value-X[j])/(X[i]-X[j]));p+=l}return p},cubic_spline:function(X,F,value){for(var j,n=X.length,i=0,A=[],B=[],alpha=[],c=[],h=[],b=[],d=[];i<n-1;i++)h[i]=X[i+1]-X[i];alpha[0]=0;for(var i=1;i<n-1;i++)alpha[i]=3/h[i]*(F[i+1]-F[i])-3/h[i-1]*(F[i]-F[i-1]);for(var i=1;i<n-1;i++)A[i]=[],B[i]=[],A[i][i-1]=h[i-1],A[i][i]=2*(h[i-1]+h[i]),A[i][i+1]=h[i],B[i][0]=alpha[i];for(c=jStat.multiply(jStat.inv(A),B),j=0;j<n-1;j++)b[j]=(F[j+1]-F[j])/h[j]-h[j]*(c[j+1][0]+2*c[j][0])/3,d[j]=(c[j+1][0]-c[j][0])/(3*h[j]);for(j=0;j<n&&!(X[j]>value);j++);return j-=1,F[j]+(value-X[j])*b[j]+jStat.sq(value-X[j])*c[j]+(value-X[j])*jStat.sq(value-X[j])*d[j]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(X){for(var j,temp1,m=X.length,n=X[0].length,i=0,u=[],D=[],result=[],temp2=[],Y=[],Bt=[],B=[],C=[],V=[],Vt=[],i=0;i<m;i++)u[i]=jStat.sum(X[i])/n;for(var i=0;i<n;i++)for(B[i]=[],j=0;j<m;j++)B[i][j]=X[j][i]-u[j];B=jStat.transpose(B);for(var i=0;i<m;i++)for(C[i]=[],j=0;j<m;j++)C[i][j]=jStat.dot([B[i]],[B[j]])/(n-1);result=jStat.jacobi(C),V=result[0],D=result[1],Vt=jStat.transpose(V);for(var i=0;i<D.length;i++)for(j=i;j<D.length;j++)D[i]<D[j]&&(temp1=D[i],D[i]=D[j],D[j]=temp1,temp2=Vt[i],Vt[i]=Vt[j],Vt[j]=temp2);Bt=jStat.transpose(B);for(var i=0;i<m;i++)for(Y[i]=[],j=0;j<Bt.length;j++)Y[i][j]=jStat.dot([Vt[i]],[Bt[j]]);return[X,D,Vt,Y]}}),function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jStat.fn[passfunc]=function(arg,func){var tmpthis=this;return func?(setTimeout(function(){func.call(tmpthis,jStat.fn[passfunc].call(tmpthis,arg))},15),this):"number"==typeof jStat[passfunc](this,arg)?jStat[passfunc](this,arg):jStat(jStat[passfunc](this,arg))}}(funcs[i])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(this.jStat,Math),function(jStat,Math){function differenceOfProportions(p1,n1,p2,n2){if(p1>1||p2>1||p1<=0||p2<=0)throw new Error("Proportions should be greater than 0 and less than 1");var pooled=(p1*n1+p2*n2)/(n1+n2),se=Math.sqrt(pooled*(1-pooled)*(1/n1+1/n2));return(p1-p2)/se}var slice=[].slice,isNumber=jStat.utils.isNumber,isArray=jStat.utils.isArray;jStat.extend({zscore:function(){var args=slice.call(arguments);return isNumber(args[1])?(args[0]-args[1])/args[2]:(args[0]-jStat.mean(args[1]))/jStat.stdev(args[1],args[2])},ztest:function(){var z,args=slice.call(arguments);return isArray(args[1])?(z=jStat.zscore(args[0],args[1],args[3]),1===args[2]?jStat.normal.cdf(-Math.abs(z),0,1):2*jStat.normal.cdf(-Math.abs(z),0,1)):args.length>2?(z=jStat.zscore(args[0],args[1],args[2]),1===args[3]?jStat.normal.cdf(-Math.abs(z),0,1):2*jStat.normal.cdf(-Math.abs(z),0,1)):(z=args[0],1===args[1]?jStat.normal.cdf(-Math.abs(z),0,1):2*jStat.normal.cdf(-Math.abs(z),0,1))}}),jStat.extend(jStat.fn,{zscore:function(value,flag){return(value-this.mean())/this.stdev(flag)},ztest:function(value,sides,flag){var zscore=Math.abs(this.zscore(value,flag));return 1===sides?jStat.normal.cdf(-zscore,0,1):2*jStat.normal.cdf(-zscore,0,1)}}),jStat.extend({tscore:function(){var args=slice.call(arguments);return 4===args.length?(args[0]-args[1])/(args[2]/Math.sqrt(args[3])):(args[0]-jStat.mean(args[1]))/(jStat.stdev(args[1],!0)/Math.sqrt(args[1].length))},ttest:function(){var tscore,args=slice.call(arguments);return 5===args.length?(tscore=Math.abs(jStat.tscore(args[0],args[1],args[2],args[3])),1===args[4]?jStat.studentt.cdf(-tscore,args[3]-1):2*jStat.studentt.cdf(-tscore,args[3]-1)):isNumber(args[1])?(tscore=Math.abs(args[0]),1==args[2]?jStat.studentt.cdf(-tscore,args[1]-1):2*jStat.studentt.cdf(-tscore,args[1]-1)):(tscore=Math.abs(jStat.tscore(args[0],args[1])),1==args[2]?jStat.studentt.cdf(-tscore,args[1].length-1):2*jStat.studentt.cdf(-tscore,args[1].length-1))}}),jStat.extend(jStat.fn,{tscore:function(value){return(value-this.mean())/(this.stdev(!0)/Math.sqrt(this.cols()))},ttest:function(value,sides){return 1===sides?1-jStat.studentt.cdf(Math.abs(this.tscore(value)),this.cols()-1):2*jStat.studentt.cdf(-Math.abs(this.tscore(value)),this.cols()-1)}}),jStat.extend({anovafscore:function(){var expVar,sample,sampMean,sampSampMean,tmpargs,unexpVar,i,j,args=slice.call(arguments);if(1===args.length){tmpargs=new Array(args[0].length);for(var i=0;i<args[0].length;i++)tmpargs[i]=args[0][i];args=tmpargs}if(2===args.length)return jStat.variance(args[0])/jStat.variance(args[1]);sample=new Array;for(var i=0;i<args.length;i++)sample=sample.concat(args[i]);sampMean=jStat.mean(sample),expVar=0;for(var i=0;i<args.length;i++)expVar+=args[i].length*Math.pow(jStat.mean(args[i])-sampMean,2);expVar/=args.length-1,unexpVar=0;for(var i=0;i<args.length;i++)for(sampSampMean=jStat.mean(args[i]),j=0;j<args[i].length;j++)unexpVar+=Math.pow(args[i][j]-sampSampMean,2);return unexpVar/=sample.length-args.length,expVar/unexpVar},anovaftest:function(){var df1,df2,n,i,args=slice.call(arguments);if(isNumber(args[0]))return 1-jStat.centralF.cdf(args[0],args[1],args[2]);anovafscore=jStat.anovafscore(args),df1=args.length-1,n=0;for(var i=0;i<args.length;i++)n+=args[i].length;return df2=n-df1-1,1-jStat.centralF.cdf(anovafscore,df1,df2)},ftest:function(fscore,df1,df2){return 1-jStat.centralF.cdf(fscore,df1,df2)}}),jStat.extend(jStat.fn,{anovafscore:function(){return jStat.anovafscore(this.toArray())},anovaftes:function(){for(var i,n=0,i=0;i<this.length;i++)n+=this[i].length;return jStat.ftest(this.anovafscore(),this.length-1,n-this.length)}}),jStat.extend({normalci:function(){var change,args=slice.call(arguments),ans=new Array(2);return change=4===args.length?Math.abs(jStat.normal.inv(args[1]/2,0,1)*args[2]/Math.sqrt(args[3])):Math.abs(jStat.normal.inv(args[1]/2,0,1)*jStat.stdev(args[2])/Math.sqrt(args[2].length)),ans[0]=args[0]-change,ans[1]=args[0]+change,ans},tci:function(){var change,args=slice.call(arguments),ans=new Array(2);return change=4===args.length?Math.abs(jStat.studentt.inv(args[1]/2,args[3]-1)*args[2]/Math.sqrt(args[3])):Math.abs(jStat.studentt.inv(args[1]/2,args[2].length-1)*jStat.stdev(args[2],!0)/Math.sqrt(args[2].length)),ans[0]=args[0]-change,ans[1]=args[0]+change,ans},significant:function(pvalue,alpha){return pvalue<alpha}}),jStat.extend(jStat.fn,{normalci:function(value,alpha){return jStat.normalci(value,alpha,this.toArray())},tci:function(value,alpha){return jStat.tci(value,alpha,this.toArray())}}),jStat.extend(jStat.fn,{oneSidedDifferenceOfProportions:function(p1,n1,p2,n2){var z=differenceOfProportions(p1,n1,p2,n2);return jStat.ztest(z,1)},twoSidedDifferenceOfProportions:function(p1,n1,p2,n2){var z=differenceOfProportions(p1,n1,p2,n2);return jStat.ztest(z,2)}})}(this.jStat,Math),this.jStat.models=function(){function sub_regress(endog,exog){return ols(endog,exog)}function sub_regress(exog){var var_count=exog[0].length,modelList=jStat.arange(var_count).map(function(endog_index){var exog_index=jStat.arange(var_count).filter(function(i){return i!==endog_index});return ols(jStat.col(exog,endog_index).map(function(x){return x[0]}),jStat.col(exog,exog_index))});return modelList;
}function ols(endog,exog){var nobs=endog.length,df_model=exog[0].length-1,df_resid=nobs-df_model-1,coef=jStat.lstsq(exog,endog),predict=jStat.multiply(exog,coef.map(function(x){return[x]})).map(function(p){return p[0]}),resid=jStat.subtract(endog,predict),ybar=jStat.mean(endog),SSE=jStat.sum(predict.map(function(f){return Math.pow(f-ybar,2)})),SSR=jStat.sum(endog.map(function(y,i){return Math.pow(y-predict[i],2)})),SST=SSE+SSR,R2=SSE/SST;return{exog:exog,endog:endog,nobs:nobs,df_model:df_model,df_resid:df_resid,coef:coef,predict:predict,resid:resid,ybar:ybar,SST:SST,SSE:SSE,SSR:SSR,R2:R2}}function t_test(model){var subModelList=sub_regress(model.exog),sigmaHat=Math.sqrt(model.SSR/model.df_resid),seBetaHat=subModelList.map(function(mod){var SST=mod.SST,R2=mod.R2;return sigmaHat/Math.sqrt(SST*(1-R2))}),tStatistic=model.coef.map(function(coef,i){return(coef-0)/seBetaHat[i]}),pValue=tStatistic.map(function(t){var leftppf=jStat.studentt.cdf(t,model.df_resid);return 2*(leftppf>.5?1-leftppf:leftppf)}),c=jStat.studentt.inv(.975,model.df_resid),interval95=model.coef.map(function(coef,i){var d=c*seBetaHat[i];return[coef-d,coef+d]});return{se:seBetaHat,t:tStatistic,p:pValue,sigmaHat:sigmaHat,interval95:interval95}}function F_test(model){var F_statistic=model.R2/model.df_model/((1-model.R2)/model.df_resid),fcdf=function(x,n1,n2){return jStat.beta.cdf(x/(n2/n1+x),n1/2,n2/2)},pvalue=1-fcdf(F_statistic,model.df_model,model.df_resid);return{F_statistic:F_statistic,pvalue:pvalue}}function ols_wrap(endog,exog){var model=ols(endog,exog),ttest=t_test(model),ftest=F_test(model),adjust_R2=1-(1-model.rsquared)*((model.nobs-1)/model.df_resid);return model.t=ttest,model.f=ftest,model.adjust_R2=adjust_R2,model}return{ols:ols_wrap}}()},function(module,exports,__webpack_require__){(function(process){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(){function Numbro(number){this._value=number}function zeroes(count){var i,ret="";for(i=0;i<count;i++)ret+="0";return ret}function toFixedLargeSmall(value,precision){var mantissa,beforeDec,afterDec,exponent,prefix,endStr,zerosStr,str;return str=value.toString(),mantissa=str.split("e")[0],exponent=str.split("e")[1],beforeDec=mantissa.split(".")[0],afterDec=mantissa.split(".")[1]||"",+exponent>0?str=beforeDec+afterDec+zeroes(exponent-afterDec.length):(prefix=+beforeDec<0?"-0":"0",precision>0&&(prefix+="."),zerosStr=zeroes(-1*exponent-1),endStr=(zerosStr+Math.abs(beforeDec)+afterDec).substr(0,precision),str=prefix+endStr),+exponent>0&&precision>0&&(str+="."+zeroes(precision)),str}function toFixed(value,precision,roundingFunction,optionals){var optionalsRegExp,output,power=Math.pow(10,precision);return value.toString().indexOf("e")>-1?(output=toFixedLargeSmall(value,precision),"-"===output.charAt(0)&&+output>=0&&(output=output.substr(1))):output=(roundingFunction(value+"e+"+precision)/power).toFixed(precision),optionals&&(optionalsRegExp=new RegExp("0{1,"+optionals+"}$"),output=output.replace(optionalsRegExp,"")),output}function formatNumbro(n,format,roundingFunction){var output,escapedFormat=format.replace(/\{[^\{\}]*\}/g,"");return output=escapedFormat.indexOf("$")>-1?_formatCurrency(n,cultures[currentCulture].currency.symbol,format,roundingFunction):escapedFormat.indexOf("%")>-1?formatPercentage(n,format,roundingFunction):escapedFormat.indexOf(":")>-1?formatTime(n,format):formatNumber(n._value,format,roundingFunction)}function unformatNumbro(n,string){var thousandRegExp,millionRegExp,billionRegExp,trillionRegExp,power,stringOriginal=string,bytesMultiplier=!1;if(string.indexOf(":")>-1)n._value=unformatTime(string);else if(string===zeroFormat)n._value=0;else{for("."!==cultures[currentCulture].delimiters.decimal&&(string=string.replace(/\./g,"").replace(cultures[currentCulture].delimiters.decimal,".")),thousandRegExp=new RegExp("[^a-zA-Z]"+cultures[currentCulture].abbreviations.thousand+"(?:\\)|(\\"+cultures[currentCulture].currency.symbol+")?(?:\\))?)?$"),millionRegExp=new RegExp("[^a-zA-Z]"+cultures[currentCulture].abbreviations.million+"(?:\\)|(\\"+cultures[currentCulture].currency.symbol+")?(?:\\))?)?$"),billionRegExp=new RegExp("[^a-zA-Z]"+cultures[currentCulture].abbreviations.billion+"(?:\\)|(\\"+cultures[currentCulture].currency.symbol+")?(?:\\))?)?$"),trillionRegExp=new RegExp("[^a-zA-Z]"+cultures[currentCulture].abbreviations.trillion+"(?:\\)|(\\"+cultures[currentCulture].currency.symbol+")?(?:\\))?)?$"),power=1;power<binarySuffixes.length&&!bytesMultiplier;++power)string.indexOf(binarySuffixes[power])>-1?bytesMultiplier=Math.pow(1024,power):string.indexOf(decimalSuffixes[power])>-1&&(bytesMultiplier=Math.pow(1e3,power));var str=string.replace(/[^0-9\.]+/g,"");""===str?n._value=NaN:(n._value=(bytesMultiplier?bytesMultiplier:1)*(stringOriginal.match(thousandRegExp)?Math.pow(10,3):1)*(stringOriginal.match(millionRegExp)?Math.pow(10,6):1)*(stringOriginal.match(billionRegExp)?Math.pow(10,9):1)*(stringOriginal.match(trillionRegExp)?Math.pow(10,12):1)*(string.indexOf("%")>-1?.01:1)*((string.split("-").length+Math.min(string.split("(").length-1,string.split(")").length-1))%2?1:-1)*Number(str),n._value=bytesMultiplier?Math.ceil(n._value):n._value)}return n._value}function _formatCurrency(n,currencySymbol,originalFormat,roundingFunction){var spliceIndex,output,format=originalFormat,symbolIndex=format.indexOf("$"),openParenIndex=format.indexOf("("),plusSignIndex=format.indexOf("+"),minusSignIndex=format.indexOf("-"),space="",decimalSeparator="";if(format.indexOf("$")===-1?"infix"===cultures[currentCulture].currency.position?(decimalSeparator=currencySymbol,cultures[currentCulture].currency.spaceSeparated&&(decimalSeparator=" "+decimalSeparator+" ")):cultures[currentCulture].currency.spaceSeparated&&(space=" "):format.indexOf(" $")>-1?(space=" ",format=format.replace(" $","")):format.indexOf("$ ")>-1?(space=" ",format=format.replace("$ ","")):format=format.replace("$",""),output=formatNumber(n._value,format,roundingFunction,decimalSeparator),originalFormat.indexOf("$")===-1)switch(cultures[currentCulture].currency.position){case"postfix":output.indexOf(")")>-1?(output=output.split(""),output.splice(-1,0,space+currencySymbol),output=output.join("")):output=output+space+currencySymbol;break;case"infix":break;case"prefix":output.indexOf("(")>-1||output.indexOf("-")>-1?(output=output.split(""),spliceIndex=Math.max(openParenIndex,minusSignIndex)+1,output.splice(spliceIndex,0,currencySymbol+space),output=output.join("")):output=currencySymbol+space+output;break;default:throw Error('Currency position should be among ["prefix", "infix", "postfix"]')}else symbolIndex<=1?output.indexOf("(")>-1||output.indexOf("+")>-1||output.indexOf("-")>-1?(output=output.split(""),spliceIndex=1,(symbolIndex<openParenIndex||symbolIndex<plusSignIndex||symbolIndex<minusSignIndex)&&(spliceIndex=0),output.splice(spliceIndex,0,currencySymbol+space),output=output.join("")):output=currencySymbol+space+output:output.indexOf(")")>-1?(output=output.split(""),output.splice(-1,0,space+currencySymbol),output=output.join("")):output=output+space+currencySymbol;return output}function _formatForeignCurrency(n,foreignCurrencySymbol,originalFormat,roundingFunction){return _formatCurrency(n,foreignCurrencySymbol,originalFormat,roundingFunction)}function formatPercentage(n,format,roundingFunction){var output,space="",value=100*n._value;return format.indexOf(" %")>-1?(space=" ",format=format.replace(" %","")):format=format.replace("%",""),output=formatNumber(value,format,roundingFunction),output.indexOf(")")>-1?(output=output.split(""),output.splice(-1,0,space+"%"),output=output.join("")):output=output+space+"%",output}function formatTime(n){var hours=Math.floor(n._value/60/60),minutes=Math.floor((n._value-60*hours*60)/60),seconds=Math.round(n._value-60*hours*60-60*minutes);return hours+":"+(minutes<10?"0"+minutes:minutes)+":"+(seconds<10?"0"+seconds:seconds)}function unformatTime(string){var timeArray=string.split(":"),seconds=0;return 3===timeArray.length?(seconds+=60*Number(timeArray[0])*60,seconds+=60*Number(timeArray[1]),seconds+=Number(timeArray[2])):2===timeArray.length&&(seconds+=60*Number(timeArray[0]),seconds+=Number(timeArray[1])),Number(seconds)}function formatByteUnits(value,suffixes,scale){var power,min,max,suffix=suffixes[0],abs=Math.abs(value);if(abs>=scale){for(power=1;power<suffixes.length;++power)if(min=Math.pow(scale,power),max=Math.pow(scale,power+1),abs>=min&&abs<max){suffix=suffixes[power],value/=min;break}suffix===suffixes[0]&&(value/=Math.pow(scale,suffixes.length-1),suffix=suffixes[suffixes.length-1])}return{value:value,suffix:suffix}}function formatNumber(value,format,roundingFunction,sep){var byteFormat,units,totalLength,length,minimumPrecision,pow,w,intPrecision,precision,prefix,postfix,thousands,indexOpenP,size,indexMinus,minlen,i,negP=!1,signed=!1,optDec=!1,abbr="",abbrK=!1,abbrM=!1,abbrB=!1,abbrT=!1,abbrForce=!1,bytes="",ord="",abs=Math.abs(value),d="",forcedNeg=!1,neg=!1,paren="";if(0===value&&null!==zeroFormat)return zeroFormat;if(!isFinite(value))return""+value;if(0===format.indexOf("{")){var end=format.indexOf("}");if(end===-1)throw Error('Format should also contain a "}"');prefix=format.slice(1,end),format=format.slice(end+1)}else prefix="";if(format.indexOf("}")===format.length-1){var start=format.indexOf("{");if(start===-1)throw Error('Format should also contain a "{"');postfix=format.slice(start+1,-1),format=format.slice(0,start+1)}else postfix="";var info;for(info=format.indexOf(".")===-1?format.match(/([0-9]+).*/):format.match(/([0-9]+)\..*/),minlen=null===info?-1:info[1].length,format.indexOf("-")!==-1&&(forcedNeg=!0),format.indexOf("(")>-1?(negP=!0,format=format.slice(1,-1)):format.indexOf("+")>-1&&(signed=!0,format=format.replace(/\+/g,"")),format.indexOf("a")>-1&&(intPrecision=format.split(".")[0].match(/[0-9]+/g)||["0"],intPrecision=parseInt(intPrecision[0],10),abbrK=format.indexOf("aK")>=0,abbrM=format.indexOf("aM")>=0,abbrB=format.indexOf("aB")>=0,abbrT=format.indexOf("aT")>=0,abbrForce=abbrK||abbrM||abbrB||abbrT,format.indexOf(" a")>-1?(abbr=" ",format=format.replace(" a","")):format=format.replace("a",""),totalLength=Math.floor(Math.log(abs)/Math.LN10)+1,minimumPrecision=totalLength%3,minimumPrecision=0===minimumPrecision?3:minimumPrecision,intPrecision&&0!==abs&&(length=Math.floor(Math.log(abs)/Math.LN10)+1-intPrecision,pow=3*~~((Math.min(intPrecision,totalLength)-minimumPrecision)/3),abs/=Math.pow(10,pow),format.indexOf(".")===-1&&intPrecision>3&&(format+="[.]",size=0===length?0:3*~~(length/3)-length,size=size<0?size+3:size,format+=zeroes(size))),Math.floor(Math.log(Math.abs(value))/Math.LN10)+1!==intPrecision&&(abs>=Math.pow(10,12)&&!abbrForce||abbrT?(abbr+=cultures[currentCulture].abbreviations.trillion,value/=Math.pow(10,12)):abs<Math.pow(10,12)&&abs>=Math.pow(10,9)&&!abbrForce||abbrB?(abbr+=cultures[currentCulture].abbreviations.billion,value/=Math.pow(10,9)):abs<Math.pow(10,9)&&abs>=Math.pow(10,6)&&!abbrForce||abbrM?(abbr+=cultures[currentCulture].abbreviations.million,value/=Math.pow(10,6)):(abs<Math.pow(10,6)&&abs>=Math.pow(10,3)&&!abbrForce||abbrK)&&(abbr+=cultures[currentCulture].abbreviations.thousand,value/=Math.pow(10,3)))),i=0;i<byteFormatOrder.length;++i)if(byteFormat=byteFormatOrder[i],format.indexOf(byteFormat.marker)>-1){format.indexOf(" "+byteFormat.marker)>-1&&(bytes=" "),format=format.replace(bytes+byteFormat.marker,""),units=formatByteUnits(value,byteFormat.suffixes,byteFormat.scale),value=units.value,bytes+=units.suffix;break}if(format.indexOf("o")>-1&&(format.indexOf(" o")>-1?(ord=" ",format=format.replace(" o","")):format=format.replace("o",""),cultures[currentCulture].ordinal&&(ord+=cultures[currentCulture].ordinal(value))),format.indexOf("[.]")>-1&&(optDec=!0,format=format.replace("[.]",".")),w=value.toString().split(".")[0],precision=format.split(".")[1],thousands=format.indexOf(","),precision){if(precision.indexOf("*")!==-1?d=toFixed(value,value.toString().split(".")[1].length,roundingFunction):precision.indexOf("[")>-1?(precision=precision.replace("]",""),precision=precision.split("["),d=toFixed(value,precision[0].length+precision[1].length,roundingFunction,precision[1].length)):d=toFixed(value,precision.length,roundingFunction),w=d.split(".")[0],d.split(".")[1].length){var p=sep?abbr+sep:cultures[currentCulture].delimiters.decimal;d=p+d.split(".")[1]}else d="";optDec&&0===Number(d.slice(1))&&(d="")}else w=toFixed(value,0,roundingFunction);return w.indexOf("-")>-1&&(w=w.slice(1),neg=!0),w.length<minlen&&(w=zeroes(minlen-w.length)+w),thousands>-1&&(w=w.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+cultures[currentCulture].delimiters.thousands)),0===format.indexOf(".")&&(w=""),indexOpenP=format.indexOf("("),indexMinus=format.indexOf("-"),paren=indexOpenP<indexMinus?(negP&&neg?"(":"")+(forcedNeg&&neg||!negP&&neg?"-":""):(forcedNeg&&neg||!negP&&neg?"-":"")+(negP&&neg?"(":""),prefix+paren+(!neg&&signed&&0!==value?"+":"")+w+d+(ord?ord:"")+(abbr&&!sep?abbr:"")+(bytes?bytes:"")+(negP&&neg?")":"")+postfix}function setCulture(code,values){cultures[code]=values}function chooseCulture(code){currentCulture=code;var defaults=cultures[code].defaults;defaults&&defaults.format&&_numbro.defaultFormat(defaults.format),defaults&&defaults.currencyFormat&&_numbro.defaultCurrencyFormat(defaults.currencyFormat)}function inNodejsRuntime(){return"undefined"!=typeof process&&void 0===process.browser&&process.title&&(0===process.title.indexOf("node")||process.title.indexOf("meteor-tool")>0||"grunt"===process.title||"gulp"===process.title)&&!0}function multiplier(x){var parts=x.toString().split(".");return parts.length<2?1:Math.pow(10,parts[1].length)}function correctionFactor(){var args=Array.prototype.slice.call(arguments);return args.reduce(function(prev,next){var mp=multiplier(prev),mn=multiplier(next);return mp>mn?mp:mn},-(1/0))}var _numbro,VERSION="1.9.3",binarySuffixes=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],bytes={general:{scale:1024,suffixes:decimalSuffixes,marker:"bd"},binary:{scale:1024,suffixes:binarySuffixes,marker:"b"},decimal:{scale:1e3,suffixes:decimalSuffixes,marker:"d"}},byteFormatOrder=[bytes.general,bytes.binary,bytes.decimal],cultures={},languages=cultures,currentCulture="en-US",zeroFormat=null,defaultFormat="0,0",defaultCurrencyFormat="0$",hasModule="undefined"!=typeof module&&module.exports,enUS={delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1===~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",0000 a"},formats:{fourDigits:"0000 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00"}};_numbro=function(input){return _numbro.isNumbro(input)?input=input.value():0===input||"undefined"==typeof input?input=0:Number(input)||(input=_numbro.fn.unformat(input)),new Numbro(Number(input))},_numbro.version=VERSION,_numbro.isNumbro=function(obj){return obj instanceof Numbro},_numbro.setLanguage=function(newLanguage,fallbackLanguage){console.warn("`setLanguage` is deprecated since version 1.6.0. Use `setCulture` instead");var key=newLanguage,prefix=newLanguage.split("-")[0],matchingLanguage=null;languages[key]||(Object.keys(languages).forEach(function(language){matchingLanguage||language.split("-")[0]!==prefix||(matchingLanguage=language)}),key=matchingLanguage||fallbackLanguage||"en-US"),chooseCulture(key)},_numbro.setCulture=function(newCulture,fallbackCulture){var key=newCulture,suffix=newCulture.split("-")[1],matchingCulture=null;cultures[key]||(suffix&&Object.keys(cultures).forEach(function(language){matchingCulture||language.split("-")[1]!==suffix||(matchingCulture=language)}),key=matchingCulture||fallbackCulture||"en-US"),chooseCulture(key)},_numbro.language=function(key,values){if(console.warn("`language` is deprecated since version 1.6.0. Use `culture` instead"),!key)return currentCulture;if(key&&!values){if(!languages[key])throw new Error("Unknown language : "+key);chooseCulture(key)}return!values&&languages[key]||setCulture(key,values),_numbro},_numbro.culture=function(code,values){if(!code)return currentCulture;if(code&&!values){if(!cultures[code])throw new Error("Unknown culture : "+code);chooseCulture(code)}return!values&&cultures[code]||setCulture(code,values),_numbro},_numbro.languageData=function(key){if(console.warn("`languageData` is deprecated since version 1.6.0. Use `cultureData` instead"),!key)return languages[currentCulture];if(!languages[key])throw new Error("Unknown language : "+key);return languages[key]},_numbro.cultureData=function(code){if(!code)return cultures[currentCulture];if(!cultures[code])throw new Error("Unknown culture : "+code);return cultures[code]},_numbro.culture("en-US",enUS),_numbro.languages=function(){return console.warn("`languages` is deprecated since version 1.6.0. Use `cultures` instead"),languages},_numbro.cultures=function(){return cultures},_numbro.zeroFormat=function(format){zeroFormat="string"==typeof format?format:null},_numbro.defaultFormat=function(format){defaultFormat="string"==typeof format?format:"0.0"},_numbro.defaultCurrencyFormat=function(format){defaultCurrencyFormat="string"==typeof format?format:"0$"},_numbro.validate=function(val,culture){var _decimalSep,_thousandSep,_currSymbol,_valArray,_abbrObj,_thousandRegEx,cultureData,temp;if("string"!=typeof val&&(val+="",console.warn&&console.warn("Numbro.js: Value is not string. It has been co-erced to: ",val)),val=val.trim(),val=val.replace(/^[+-]?/,""),val.match(/^\d+$/))return!0;if(""===val)return!1;try{cultureData=_numbro.cultureData(culture)}catch(e){cultureData=_numbro.cultureData(_numbro.culture())}return _currSymbol=cultureData.currency.symbol,_abbrObj=cultureData.abbreviations,_decimalSep=cultureData.delimiters.decimal,_thousandSep="."===cultureData.delimiters.thousands?"\\.":cultureData.delimiters.thousands,temp=val.match(/^[^\d\.\,]+/),(null===temp||(val=val.substr(1),temp[0]===_currSymbol))&&(temp=val.match(/[^\d]+$/),(null===temp||(val=val.slice(0,-1),temp[0]===_abbrObj.thousand||temp[0]===_abbrObj.million||temp[0]===_abbrObj.billion||temp[0]===_abbrObj.trillion))&&(_thousandRegEx=new RegExp(_thousandSep+"{2}"),!val.match(/[^\d.,]/g)&&(_valArray=val.split(_decimalSep),!(_valArray.length>2)&&(_valArray.length<2?!!_valArray[0].match(/^\d+.*\d$/)&&!_valArray[0].match(_thousandRegEx):""===_valArray[0]?!_valArray[0].match(_thousandRegEx)&&!!_valArray[1].match(/^\d+$/):1===_valArray[0].length?!!_valArray[0].match(/^\d+$/)&&!_valArray[0].match(_thousandRegEx)&&!!_valArray[1].match(/^\d+$/):!!_valArray[0].match(/^\d+.*\d$/)&&!_valArray[0].match(_thousandRegEx)&&!!_valArray[1].match(/^\d+$/)))))},_numbro.loadLanguagesInNode=function(){console.warn("`loadLanguagesInNode` is deprecated since version 1.6.0. Use `loadCulturesInNode` instead"),_numbro.loadCulturesInNode()},_numbro.loadCulturesInNode=function(){var cultures=__webpack_require__(58);for(var langLocaleCode in cultures)langLocaleCode&&_numbro.culture(langLocaleCode,cultures[langLocaleCode])},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(callback,optInitialValue){if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof callback)throw new TypeError(callback+" is not a function");var index,value,length=this.length>>>0,isValueSet=!1;for(1<arguments.length&&(value=optInitialValue,isValueSet=!0),index=0;length>index;++index)this.hasOwnProperty(index)&&(isValueSet?value=callback(value,this[index],index,this):(value=this[index],isValueSet=!0));if(!isValueSet)throw new TypeError("Reduce of empty array with no initial value");return value}),_numbro.fn=Numbro.prototype={clone:function(){return _numbro(this)},format:function(inputString,roundingFunction){return formatNumbro(this,inputString?inputString:defaultFormat,void 0!==roundingFunction?roundingFunction:Math.round)},formatCurrency:function(inputString,roundingFunction){return _formatCurrency(this,cultures[currentCulture].currency.symbol,inputString?inputString:defaultCurrencyFormat,void 0!==roundingFunction?roundingFunction:Math.round)},formatForeignCurrency:function(currencySymbol,inputString,roundingFunction){return _formatForeignCurrency(this,currencySymbol,inputString?inputString:defaultCurrencyFormat,void 0!==roundingFunction?roundingFunction:Math.round)},unformat:function(inputString){if("number"==typeof inputString)return inputString;if("string"==typeof inputString){var result=unformatNumbro(this,inputString);return isNaN(result)?void 0:result}},binaryByteUnits:function(){return formatByteUnits(this._value,bytes.binary.suffixes,bytes.binary.scale).suffix},byteUnits:function(){return formatByteUnits(this._value,bytes.general.suffixes,bytes.general.scale).suffix},decimalByteUnits:function(){return formatByteUnits(this._value,bytes.decimal.suffixes,bytes.decimal.scale).suffix},value:function(){return this._value},valueOf:function(){return this._value},set:function(value){return this._value=Number(value),this},add:function(value){function cback(accum,curr){return accum+corrFactor*curr}var corrFactor=correctionFactor.call(null,this._value,value);return this._value=[this._value,value].reduce(cback,0)/corrFactor,this},subtract:function(value){function cback(accum,curr){return accum-corrFactor*curr}var corrFactor=correctionFactor.call(null,this._value,value);return this._value=[value].reduce(cback,this._value*corrFactor)/corrFactor,this},multiply:function(value){function cback(accum,curr){var corrFactor=correctionFactor(accum,curr),result=accum*corrFactor;return result*=curr*corrFactor,result/=corrFactor*corrFactor}return this._value=[this._value,value].reduce(cback,1),this},divide:function(value){function cback(accum,curr){var corrFactor=correctionFactor(accum,curr);return accum*corrFactor/(curr*corrFactor)}return this._value=[this._value,value].reduce(cback),this},difference:function(value){return Math.abs(_numbro(this._value).subtract(value).value())}},inNodejsRuntime()&&_numbro.loadCulturesInNode(),hasModule?module.exports=_numbro:("undefined"==typeof ender&&(this.numbro=_numbro),__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return _numbro}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}).call("undefined"==typeof window?this:window)}).call(exports,__webpack_require__(15))},function(module,exports){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":_typeof(call))&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _tinyEmitter=__webpack_require__(78),_tinyEmitter2=_interopRequireDefault(_tinyEmitter),_evaluateByOperator=__webpack_require__(17),_evaluateByOperator2=_interopRequireDefault(_evaluateByOperator),_grammarParser=__webpack_require__(80),_string=__webpack_require__(31),_number=__webpack_require__(3),_error=__webpack_require__(1),_error2=_interopRequireDefault(_error),_cell=__webpack_require__(9),Parser=function(_Emitter){function Parser(){_classCallCheck(this,Parser);var _this=_possibleConstructorReturn(this,_Emitter.call(this));return _this.parser=new _grammarParser.Parser,_this.parser.yy={toNumber:_number.toNumber,trimEdges:_string.trimEdges,invertNumber:_number.invertNumber,throwError:function(errorName){return _this._throwError(errorName)},callVariable:function(variable){return _this._callVariable(variable)},evaluateByOperator:_evaluateByOperator2["default"],callFunction:_evaluateByOperator2["default"],cellValue:function(value){return _this._callCellValue(value)},rangeValue:function(start,end){return _this._callRangeValue(start,end)}},_this.variables=Object.create(null),_this.setVariable("TRUE",!0).setVariable("FALSE",!1).setVariable("NULL",null),_this}return _inherits(Parser,_Emitter),Parser.prototype.parse=function(expression){var result=null,error=null;try{result=""===expression?"":this.parser.parse(expression)}catch(ex){var message=(0,_error2["default"])(ex.message);error=message?message:(0,_error2["default"])(_error.ERROR)}return result instanceof Error&&(error=(0,_error2["default"])(result.message)||(0,_error2["default"])(_error.ERROR),result=null),{error:error,result:result}},Parser.prototype.setVariable=function(name,value){return this.variables[name]=value,this},Parser.prototype.getVariable=function(name){return this.variables[name]},Parser.prototype._callVariable=function(name){var value=this.getVariable(name);if(this.emit("callVariable",name,function(newValue){void 0!==newValue&&(value=newValue)}),void 0===value)throw Error(_error.ERROR_NAME);return value},Parser.prototype._callCellValue=function(label){label=label.toUpperCase();var _extractLabel=(0,_cell.extractLabel)(label),row=_extractLabel[0],column=_extractLabel[1],value=void 0;return this.emit("callCellValue",{label:label,row:row,column:column},function(_value){value=_value}),value},Parser.prototype._callRangeValue=function(startLabel,endLabel){startLabel=startLabel.toUpperCase(),endLabel=endLabel.toUpperCase();var _extractLabel2=(0,_cell.extractLabel)(startLabel),startRow=_extractLabel2[0],startColumn=_extractLabel2[1],_extractLabel3=(0,_cell.extractLabel)(endLabel),endRow=_extractLabel3[0],endColumn=_extractLabel3[1],startCell={},endCell={};startRow.index<=endRow.index?(startCell.row=startRow,endCell.row=endRow):(startCell.row=endRow,endCell.row=startRow),startColumn.index<=endColumn.index?(startCell.column=startColumn,endCell.column=endColumn):(startCell.column=endColumn,endCell.column=startColumn),startCell.label=(0,_cell.toLabel)(startCell.row,startCell.column),endCell.label=(0,_cell.toLabel)(endCell.row,endCell.column);var value=[];return this.emit("callRangeValue",startCell,endCell,function(){var _value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];value=_value}),value},Parser.prototype._throwError=function(errorName){if((0,_error.isValidStrict)(errorName))throw Error(errorName);throw Error(_error.ERROR)},Parser}(_tinyEmitter2["default"]);exports["default"]=Parser},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function evaluateByOperator(operator){var params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(operator=operator.toUpperCase(),!availableOperators[operator])throw Error(_error.ERROR_NAME);return availableOperators[operator].apply(availableOperators,params)}function registerOperation(symbol,func){Array.isArray(symbol)||(symbol=[symbol.toUpperCase()]),symbol.forEach(function(s){func.isFactory?availableOperators[s]=func(s):availableOperators[s]=func})}exports.__esModule=!0,exports["default"]=evaluateByOperator,exports.registerOperation=registerOperation;var _add=__webpack_require__(18),_add2=_interopRequireDefault(_add),_ampersand=__webpack_require__(19),_ampersand2=_interopRequireDefault(_ampersand),_divide=__webpack_require__(20),_divide2=_interopRequireDefault(_divide),_equal=__webpack_require__(21),_equal2=_interopRequireDefault(_equal),_formulaFunction=__webpack_require__(22),_formulaFunction2=_interopRequireDefault(_formulaFunction),_greaterThan=__webpack_require__(24),_greaterThan2=_interopRequireDefault(_greaterThan),_greaterThanOrEqual=__webpack_require__(23),_greaterThanOrEqual2=_interopRequireDefault(_greaterThanOrEqual),_lessThan=__webpack_require__(26),_lessThan2=_interopRequireDefault(_lessThan),_lessThanOrEqual=__webpack_require__(25),_lessThanOrEqual2=_interopRequireDefault(_lessThanOrEqual),_minus=__webpack_require__(27),_minus2=_interopRequireDefault(_minus),_multiply=__webpack_require__(28),_multiply2=_interopRequireDefault(_multiply),_notEqual=__webpack_require__(29),_notEqual2=_interopRequireDefault(_notEqual),_power=__webpack_require__(30),_power2=_interopRequireDefault(_power),_error=__webpack_require__(1),availableOperators=Object.create(null);registerOperation(_add2["default"].SYMBOL,_add2["default"]),registerOperation(_ampersand2["default"].SYMBOL,_ampersand2["default"]),registerOperation(_divide2["default"].SYMBOL,_divide2["default"]),registerOperation(_equal2["default"].SYMBOL,_equal2["default"]),registerOperation(_power2["default"].SYMBOL,_power2["default"]),registerOperation(_formulaFunction2["default"].SYMBOL,_formulaFunction2["default"]),registerOperation(_greaterThan2["default"].SYMBOL,_greaterThan2["default"]),registerOperation(_greaterThanOrEqual2["default"].SYMBOL,_greaterThanOrEqual2["default"]),
registerOperation(_lessThan2["default"].SYMBOL,_lessThan2["default"]),registerOperation(_lessThanOrEqual2["default"].SYMBOL,_lessThanOrEqual2["default"]),registerOperation(_multiply2["default"].SYMBOL,_multiply2["default"]),registerOperation(_notEqual2["default"].SYMBOL,_notEqual2["default"]),registerOperation(_minus2["default"].SYMBOL,_minus2["default"])},function(module,exports,__webpack_require__){function func(first){for(var _len=arguments.length,rest=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)rest[_key-1]=arguments[_key];var result=rest.reduce(function(acc,value){return acc+(0,_number.toNumber)(value)},(0,_number.toNumber)(first));if(isNaN(result))throw Error(_error.ERROR_VALUE);return result}exports.__esModule=!0,exports.SYMBOL=void 0,exports["default"]=func;var _number=__webpack_require__(3),_error=__webpack_require__(1),SYMBOL=exports.SYMBOL="+";func.SYMBOL=SYMBOL},function(module,exports,__webpack_require__){function func(){for(var _len=arguments.length,params=Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];return params.reduce(function(acc,value){return acc+value.toString()},"")}exports.__esModule=!0,exports["default"]=func;var SYMBOL=exports.SYMBOL="&";func.SYMBOL=SYMBOL},function(module,exports,__webpack_require__){function func(first){for(var _len=arguments.length,rest=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)rest[_key-1]=arguments[_key];var result=rest.reduce(function(acc,value){return acc/(0,_number.toNumber)(value)},(0,_number.toNumber)(first));if(result===1/0)throw Error(_error.ERROR_DIV_ZERO);if(isNaN(result))throw Error(_error.ERROR_VALUE);return result}exports.__esModule=!0,exports.SYMBOL=void 0,exports["default"]=func;var _number=__webpack_require__(3),_error=__webpack_require__(1),SYMBOL=exports.SYMBOL="/";func.SYMBOL=SYMBOL},function(module,exports,__webpack_require__){function func(exp1,exp2){return exp1===exp2}exports.__esModule=!0,exports["default"]=func;var SYMBOL=exports.SYMBOL="=";func.SYMBOL=SYMBOL},function(module,exports,__webpack_require__){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function func(symbol){return function(){symbol=symbol.toUpperCase();var symbolParts=symbol.split("."),foundFormula=!1,result=void 0;if(1===symbolParts.length)formulajs[symbolParts[0]]&&(foundFormula=!0,result=formulajs[symbolParts[0]].apply(formulajs,arguments));else{for(var length=symbolParts.length,index=0,nestedFormula=formulajs;index<length;)if(nestedFormula=nestedFormula[symbolParts[index]],index++,!nestedFormula){nestedFormula=null;break}nestedFormula&&(foundFormula=!0,result=nestedFormula.apply(void 0,arguments))}if(!foundFormula)throw Error(_error.ERROR_NAME);return result}}exports.__esModule=!0,exports.SYMBOL=void 0,exports["default"]=func;var _supportedFormulas=__webpack_require__(10),_supportedFormulas2=_interopRequireDefault(_supportedFormulas),_error=__webpack_require__(1),_formulajs=__webpack_require__(33),formulajs=_interopRequireWildcard(_formulajs),SYMBOL=exports.SYMBOL=_supportedFormulas2["default"];func.isFactory=!0,func.SYMBOL=SYMBOL},function(module,exports,__webpack_require__){function func(exp1,exp2){return exp1>=exp2}exports.__esModule=!0,exports["default"]=func;var SYMBOL=exports.SYMBOL=">=";func.SYMBOL=SYMBOL},function(module,exports,__webpack_require__){function func(exp1,exp2){return exp1>exp2}exports.__esModule=!0,exports["default"]=func;var SYMBOL=exports.SYMBOL=">";func.SYMBOL=SYMBOL},function(module,exports,__webpack_require__){function func(exp1,exp2){return exp1<=exp2}exports.__esModule=!0,exports["default"]=func;var SYMBOL=exports.SYMBOL="<=";func.SYMBOL=SYMBOL},function(module,exports,__webpack_require__){function func(exp1,exp2){return exp1<exp2}exports.__esModule=!0,exports["default"]=func;var SYMBOL=exports.SYMBOL="<";func.SYMBOL=SYMBOL},function(module,exports,__webpack_require__){function func(first){for(var _len=arguments.length,rest=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)rest[_key-1]=arguments[_key];var result=rest.reduce(function(acc,value){return acc-(0,_number.toNumber)(value)},(0,_number.toNumber)(first));if(isNaN(result))throw Error(_error.ERROR_VALUE);return result}exports.__esModule=!0,exports.SYMBOL=void 0,exports["default"]=func;var _number=__webpack_require__(3),_error=__webpack_require__(1),SYMBOL=exports.SYMBOL="-";func.SYMBOL=SYMBOL},function(module,exports,__webpack_require__){function func(first){for(var _len=arguments.length,rest=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)rest[_key-1]=arguments[_key];var result=rest.reduce(function(acc,value){return acc*(0,_number.toNumber)(value)},(0,_number.toNumber)(first));if(isNaN(result))throw Error(_error.ERROR_VALUE);return result}exports.__esModule=!0,exports.SYMBOL=void 0,exports["default"]=func;var _number=__webpack_require__(3),_error=__webpack_require__(1),SYMBOL=exports.SYMBOL="*";func.SYMBOL=SYMBOL},function(module,exports,__webpack_require__){function func(exp1,exp2){return exp1!==exp2}exports.__esModule=!0,exports["default"]=func;var SYMBOL=exports.SYMBOL="<>";func.SYMBOL=SYMBOL},function(module,exports,__webpack_require__){function func(exp1,exp2){var result=Math.pow((0,_number.toNumber)(exp1),(0,_number.toNumber)(exp2));if(isNaN(result))throw Error(_error.ERROR_VALUE);return result}exports.__esModule=!0,exports.SYMBOL=void 0,exports["default"]=func;var _number=__webpack_require__(3),_error=__webpack_require__(1),SYMBOL=exports.SYMBOL="^";func.SYMBOL=SYMBOL},function(module,exports,__webpack_require__){function trimEdges(string){var margin=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return string=string.substring(margin,string.length-margin)}exports.__esModule=!0,exports.trimEdges=trimEdges},function(module,exports,__webpack_require__){function _horner(arr,v){return arr.reduce(function(z,w){return v*z+w},0)}function _bessel_iter(x,n,f0,f1,sign){sign||(sign=-1);var f2,tdx=2/x;if(0===n)return f0;if(1===n)return f1;for(var o=1;o!=n;++o)f2=f1*o*tdx+sign*f0,f0=f1,f1=f2;return f1}function _bessel_wrap(bessel0,bessel1,name,nonzero,sign){return function(x,n){if(0===n)return bessel0(x);if(1===n)return bessel1(x);if(n<0)throw name+": Order ("+n+") must be nonnegative";if(1==nonzero&&0===x)throw name+": Undefined when x == 0";if(2==nonzero&&x<=0)throw name+": Undefined when x <= 0";var b0=bessel0(x),b1=bessel1(x);return _bessel_iter(x,n,b0,b1,sign)}}var M=Math,besselj=function(){function bessel0(x){var a,a1,a2,y=x*x,xx=M.abs(x)-.785398164;return M.abs(x)<8?(a1=_horner(b0_a1a,y),a2=_horner(b0_a2a,y),a=a1/a2):(y=64/y,a1=_horner(b0_a1b,y),a2=_horner(b0_a2b,y),a=M.sqrt(W/M.abs(x))*(M.cos(xx)*a1-M.sin(xx)*a2*8/M.abs(x))),a}function bessel1(x){var a,a1,a2,y=x*x,xx=M.abs(x)-2.356194491;return Math.abs(x)<8?(a1=x*_horner(b1_a1a,y),a2=_horner(b1_a2a,y),a=a1/a2):(y=64/y,a1=_horner(b1_a1b,y),a2=_horner(b1_a2b,y),a=M.sqrt(W/M.abs(x))*(M.cos(xx)*a1-M.sin(xx)*a2*8/M.abs(x)),x<0&&(a=-a)),a}var b0_a1a=[57568490574,-13362590354,651619640.7,-11214424.18,77392.33017,-184.9052456].reverse(),b0_a2a=[57568490411,1029532985,9494680.718,59272.64853,267.8532712,1].reverse(),b0_a1b=[1,-.001098628627,2734510407e-14,-2073370639e-15,2.093887211e-7].reverse(),b0_a2b=[-.01562499995,.0001430488765,-6911147651e-15,7.621095161e-7,-9.34935152e-8].reverse(),W=.636619772,b1_a1a=[72362614232,-7895059235,242396853.1,-2972611.439,15704.4826,-30.16036606].reverse(),b1_a2a=[144725228442,2300535178,18583304.74,99447.43394,376.9991397,1].reverse(),b1_a1b=[1,.00183105,-3516396496e-14,2457520174e-15,-2.40337019e-7].reverse(),b1_a2b=[.04687499995,-.0002002690873,8449199096e-15,-8.8228987e-7,1.05787412e-7].reverse();return function(x,n){if(n=Math.round(n),0===n)return bessel0(M.abs(x));if(1===n)return bessel1(M.abs(x));if(n<0)throw"BESSELJ: Order ("+n+") must be nonnegative";if(0===M.abs(x))return 0;var ret,j,m,jsum,sum,bjp,bj,bjm,tox=2/M.abs(x);if(M.abs(x)>n)ret=_bessel_iter(x,n,bessel0(M.abs(x)),bessel1(M.abs(x)),-1);else{for(m=2*M.floor((n+M.floor(M.sqrt(40*n)))/2),jsum=0,bjp=ret=sum=0,bj=1,j=m;j>0;j--)bjm=j*tox*bj-bjp,bjp=bj,bj=bjm,M.abs(bj)>1e10&&(bj*=1e-10,bjp*=1e-10,ret*=1e-10,sum*=1e-10),jsum&&(sum+=bj),jsum=!jsum,j==n&&(ret=bjp);sum=2*sum-bj,ret/=sum}return x<0&&n%2?-ret:ret}}(),bessely=function(){function bessel0(x){var a,a1,a2,y=x*x,xx=x-.785398164;return x<8?(a1=_horner(b0_a1a,y),a2=_horner(b0_a2a,y),a=a1/a2+W*besselj(x,0)*M.log(x)):(y=64/y,a1=_horner(b0_a1b,y),a2=_horner(b0_a2b,y),a=M.sqrt(W/x)*(M.sin(xx)*a1+M.cos(xx)*a2*8/x)),a}function bessel1(x){var a,a1,a2,y=x*x,xx=x-2.356194491;return x<8?(a1=x*_horner(b1_a1a,y),a2=_horner(b1_a2a,y),a=a1/a2+W*(besselj(x,1)*M.log(x)-1/x)):(y=64/y,a1=_horner(b1_a1b,y),a2=_horner(b1_a2b,y),a=M.sqrt(W/x)*(M.sin(xx)*a1+M.cos(xx)*a2*8/x)),a}var b0_a1a=[-2957821389,7062834065,-512359803.6,10879881.29,-86327.92757,228.4622733].reverse(),b0_a2a=[40076544269,745249964.8,7189466.438,47447.2647,226.1030244,1].reverse(),b0_a1b=[1,-.001098628627,2734510407e-14,-2073370639e-15,2.093887211e-7].reverse(),b0_a2b=[-.01562499995,.0001430488765,-6911147651e-15,7.621095161e-7,-9.34945152e-8].reverse(),W=.636619772,b1_a1a=[-4900604943e3,127527439e4,-51534381390,734926455.1,-4237922.726,8511.937935].reverse(),b1_a2a=[249958057e5,424441966400,3733650367,22459040.02,102042.605,354.9632885,1].reverse(),b1_a1b=[1,.00183105,-3516396496e-14,2457520174e-15,-2.40337019e-7].reverse(),b1_a2b=[.04687499995,-.0002002690873,8449199096e-15,-8.8228987e-7,1.05787412e-7].reverse();return _bessel_wrap(bessel0,bessel1,"BESSELY",1,-1)}(),besseli=function(){function bessel0(x){return x<=3.75?_horner(b0_a,x*x/14.0625):M.exp(M.abs(x))/M.sqrt(M.abs(x))*_horner(b0_b,3.75/M.abs(x))}function bessel1(x){return x<3.75?x*_horner(b1_a,x*x/14.0625):(x<0?-1:1)*M.exp(M.abs(x))/M.sqrt(M.abs(x))*_horner(b1_b,3.75/M.abs(x))}var b0_a=[1,3.5156229,3.0899424,1.2067492,.2659732,.0360768,.0045813].reverse(),b0_b=[.39894228,.01328592,.00225319,-.00157565,.00916281,-.02057706,.02635537,-.01647633,.00392377].reverse(),b1_a=[.5,.87890594,.51498869,.15084934,.02658733,.00301532,32411e-8].reverse(),b1_b=[.39894228,-.03988024,-.00362018,.00163801,-.01031555,.02282967,-.02895312,.01787654,-.00420059].reverse();return function besseli(x,n){if(n=Math.round(n),0===n)return bessel0(x);if(1==n)return bessel1(x);if(n<0)throw"BESSELI Order ("+n+") must be nonnegative";if(0===M.abs(x))return 0;var ret,j,m,bip,bi,bim,tox=2/M.abs(x);for(m=2*M.round((n+M.round(M.sqrt(40*n)))/2),bip=ret=0,bi=1,j=m;j>0;j--)bim=j*tox*bi+bip,bip=bi,bi=bim,M.abs(bi)>1e10&&(bi*=1e-10,bip*=1e-10,ret*=1e-10),j==n&&(ret=bip);return ret*=besseli(x,0)/bi,x<0&&n%2?-ret:ret}}(),besselk=function(){function bessel0(x){return x<=2?-M.log(x/2)*besseli(x,0)+_horner(b0_a,x*x/4):M.exp(-x)/M.sqrt(x)*_horner(b0_b,2/x)}function bessel1(x){return x<=2?M.log(x/2)*besseli(x,1)+1/x*_horner(b1_a,x*x/4):M.exp(-x)/M.sqrt(x)*_horner(b1_b,2/x)}var b0_a=[-.57721566,.4227842,.23069756,.0348859,.00262698,1075e-7,74e-7].reverse(),b0_b=[1.25331414,-.07832358,.02189568,-.01062446,.00587872,-.0025154,53208e-8].reverse(),b1_a=[1,.15443144,-.67278579,-.18156897,-.01919402,-.00110404,-4686e-8].reverse(),b1_b=[1.25331414,.23498619,-.0365562,.01504268,-.00780353,.00325614,-68245e-8].reverse();return _bessel_wrap(bessel0,bessel1,"BESSELK",2,1)}();exports.besselj=besselj,exports.bessely=bessely,exports.besseli=besseli,exports.besselk=besselk},function(module,exports,__webpack_require__){var categories=[__webpack_require__(34),__webpack_require__(35),__webpack_require__(11),__webpack_require__(37),__webpack_require__(4),__webpack_require__(8),__webpack_require__(6),__webpack_require__(36),__webpack_require__(7),__webpack_require__(38),__webpack_require__(5),__webpack_require__(12)];for(var c in categories){var category=categories[c];for(var f in category)exports[f]=exports[f]||category[f]}},function(module,exports,__webpack_require__){function set(fn,root){if(root)for(var i in root)fn[i]=root[i];return fn}var mathTrig=__webpack_require__(4),statistical=__webpack_require__(5),engineering=__webpack_require__(11),dateTime=__webpack_require__(6);exports.BETADIST=statistical.BETA.DIST,exports.BETAINV=statistical.BETA.INV,exports.BINOMDIST=statistical.BINOM.DIST,exports.CEILING=exports.ISOCEILING=set(mathTrig.CEILING.MATH,mathTrig.CEILING),exports.CEILINGMATH=mathTrig.CEILING.MATH,exports.CEILINGPRECISE=mathTrig.CEILING.PRECISE,exports.CHIDIST=statistical.CHISQ.DIST,exports.CHIDISTRT=statistical.CHISQ.DIST.RT,exports.CHIINV=statistical.CHISQ.INV,exports.CHIINVRT=statistical.CHISQ.INV.RT,exports.CHITEST=statistical.CHISQ.TEST,exports.CONFIDENCE=set(statistical.CONFIDENCE.NORM,statistical.CONFIDENCE),exports.COVAR=statistical.COVARIANCE.P,exports.COVARIANCEP=statistical.COVARIANCE.P,exports.COVARIANCES=statistical.COVARIANCE.S,exports.CRITBINOM=statistical.BINOM.INV,exports.EXPONDIST=statistical.EXPON.DIST,exports.ERFCPRECISE=engineering.ERFC.PRECISE,exports.ERFPRECISE=engineering.ERF.PRECISE,exports.FDIST=statistical.F.DIST,exports.FDISTRT=statistical.F.DIST.RT,exports.FINVRT=statistical.F.INV.RT,exports.FINV=statistical.F.INV,exports.FLOOR=set(mathTrig.FLOOR.MATH,mathTrig.FLOOR),exports.FLOORMATH=mathTrig.FLOOR.MATH,exports.FLOORPRECISE=mathTrig.FLOOR.PRECISE,exports.FTEST=statistical.F.TEST,exports.GAMMADIST=statistical.GAMMA.DIST,exports.GAMMAINV=statistical.GAMMA.INV,exports.GAMMALNPRECISE=statistical.GAMMALN.PRECISE,exports.HYPGEOMDIST=statistical.HYPGEOM.DIST,exports.LOGINV=statistical.LOGNORM.INV,exports.LOGNORMINV=statistical.LOGNORM.INV,exports.LOGNORMDIST=statistical.LOGNORM.DIST,exports.MODE=set(statistical.MODE.SNGL,statistical.MODE),exports.MODEMULT=statistical.MODE.MULT,exports.MODESNGL=statistical.MODE.SNGL,exports.NEGBINOMDIST=statistical.NEGBINOM.DIST,exports.NETWORKDAYSINTL=dateTime.NETWORKDAYS.INTL,exports.NORMDIST=statistical.NORM.DIST,exports.NORMINV=statistical.NORM.INV,exports.NORMSDIST=statistical.NORM.S.DIST,exports.NORMSINV=statistical.NORM.S.INV,exports.PERCENTILE=set(statistical.PERCENTILE.EXC,statistical.PERCENTILE),exports.PERCENTILEEXC=statistical.PERCENTILE.EXC,exports.PERCENTILEINC=statistical.PERCENTILE.INC,exports.PERCENTRANK=set(statistical.PERCENTRANK.INC,statistical.PERCENTRANK),exports.PERCENTRANKEXC=statistical.PERCENTRANK.EXC,exports.PERCENTRANKINC=statistical.PERCENTRANK.INC,exports.POISSON=set(statistical.POISSON.DIST,statistical.POISSON),exports.POISSONDIST=statistical.POISSON.DIST,exports.QUARTILE=set(statistical.QUARTILE.INC,statistical.QUARTILE),exports.QUARTILEEXC=statistical.QUARTILE.EXC,exports.QUARTILEINC=statistical.QUARTILE.INC,exports.RANK=set(statistical.RANK.EQ,statistical.RANK),exports.RANKAVG=statistical.RANK.AVG,exports.RANKEQ=statistical.RANK.EQ,exports.SKEWP=statistical.SKEW.P,exports.STDEV=set(statistical.STDEV.S,statistical.STDEV),exports.STDEVP=statistical.STDEV.P,exports.STDEVS=statistical.STDEV.S,exports.TDIST=statistical.T.DIST,exports.TDISTRT=statistical.T.DIST.RT,exports.TINV=statistical.T.INV,exports.TTEST=statistical.T.TEST,exports.VAR=set(statistical.VAR.S,statistical.VAR),exports.VARP=statistical.VAR.P,exports.VARS=statistical.VAR.S,exports.WEIBULL=set(statistical.WEIBULL.DIST,statistical.WEIBULL),exports.WEIBULLDIST=statistical.WEIBULL.DIST,exports.WORKDAYINTL=dateTime.WORKDAY.INTL,exports.ZTEST=statistical.Z.TEST},function(module,exports,__webpack_require__){function compact(array){var result=[];return utils.arrayEach(array,function(value){value&&result.push(value)}),result}function findResultIndex(database,criterias){for(var matches={},i=1;i<database[0].length;++i)matches[i]=!0;var maxCriteriaLength=criterias[0].length;for(i=1;i<criterias.length;++i)criterias[i].length>maxCriteriaLength&&(maxCriteriaLength=criterias[i].length);for(var k=1;k<database.length;++k)for(var l=1;l<database[k].length;++l){for(var currentCriteriaResult=!1,hasMatchingCriteria=!1,j=0;j<criterias.length;++j){var criteria=criterias[j];if(!(criteria.length<maxCriteriaLength)){var criteriaField=criteria[0];if(database[k][0]===criteriaField){hasMatchingCriteria=!0;for(var p=1;p<criteria.length;++p)currentCriteriaResult=currentCriteriaResult||eval(database[k][l]+criteria[p])}}}hasMatchingCriteria&&(matches[l]=matches[l]&&currentCriteriaResult)}for(var result=[],n=0;n<database[0].length;++n)matches[n]&&result.push(n-1);return result}var error=__webpack_require__(0),stats=__webpack_require__(5),maths=__webpack_require__(4),utils=__webpack_require__(2);exports.FINDFIELD=function(database,title){var index=null;return utils.arrayEach(database,function(value,i){if(value[0]===title)return index=i,!1}),null==index?error.value:index},exports.DAVERAGE=function(database,field,criteria){if(isNaN(field)&&"string"!=typeof field)return error.value;var resultIndexes=findResultIndex(database,criteria),targetFields=[];if("string"==typeof field){var index=exports.FINDFIELD(database,field);targetFields=utils.rest(database[index])}else targetFields=utils.rest(database[field]);var sum=0;return utils.arrayEach(resultIndexes,function(value){sum+=targetFields[value]}),0===resultIndexes.length?error.div0:sum/resultIndexes.length},exports.DCOUNT=function(database,field,criteria){if(isNaN(field)&&"string"!=typeof field)return error.value;var resultIndexes=findResultIndex(database,criteria),targetFields=[];if("string"==typeof field){var index=exports.FINDFIELD(database,field);targetFields=utils.rest(database[index])}else targetFields=utils.rest(database[field]);var targetValues=[];return utils.arrayEach(resultIndexes,function(value){targetValues.push(targetFields[value])}),stats.COUNT(targetValues)},exports.DCOUNTA=function(database,field,criteria){if(isNaN(field)&&"string"!=typeof field)return error.value;var resultIndexes=findResultIndex(database,criteria),targetFields=[];if("string"==typeof field){var index=exports.FINDFIELD(database,field);targetFields=utils.rest(database[index])}else targetFields=utils.rest(database[field]);var targetValues=[];return utils.arrayEach(resultIndexes,function(value){targetValues.push(targetFields[value])}),stats.COUNTA(targetValues)},exports.DGET=function(database,field,criteria){if(isNaN(field)&&"string"!=typeof field)return error.value;var resultIndexes=findResultIndex(database,criteria),targetFields=[];if("string"==typeof field){var index=exports.FINDFIELD(database,field);targetFields=utils.rest(database[index])}else targetFields=utils.rest(database[field]);return 0===resultIndexes.length?error.value:resultIndexes.length>1?error.num:targetFields[resultIndexes[0]]},exports.DMAX=function(database,field,criteria){if(isNaN(field)&&"string"!=typeof field)return error.value;var resultIndexes=findResultIndex(database,criteria),targetFields=[];if("string"==typeof field){var index=exports.FINDFIELD(database,field);targetFields=utils.rest(database[index])}else targetFields=utils.rest(database[field]);var maxValue=targetFields[resultIndexes[0]];return utils.arrayEach(resultIndexes,function(value){maxValue<targetFields[value]&&(maxValue=targetFields[value])}),maxValue},exports.DMIN=function(database,field,criteria){if(isNaN(field)&&"string"!=typeof field)return error.value;var resultIndexes=findResultIndex(database,criteria),targetFields=[];if("string"==typeof field){var index=exports.FINDFIELD(database,field);targetFields=utils.rest(database[index])}else targetFields=utils.rest(database[field]);var minValue=targetFields[resultIndexes[0]];return utils.arrayEach(resultIndexes,function(value){minValue>targetFields[value]&&(minValue=targetFields[value])}),minValue},exports.DPRODUCT=function(database,field,criteria){if(isNaN(field)&&"string"!=typeof field)return error.value;var resultIndexes=findResultIndex(database,criteria),targetFields=[];if("string"==typeof field){var index=exports.FINDFIELD(database,field);targetFields=utils.rest(database[index])}else targetFields=utils.rest(database[field]);var targetValues=[];utils.arrayEach(resultIndexes,function(value){targetValues.push(targetFields[value])}),targetValues=compact(targetValues);var result=1;return utils.arrayEach(targetValues,function(value){result*=value}),result},exports.DSTDEV=function(database,field,criteria){if(isNaN(field)&&"string"!=typeof field)return error.value;var resultIndexes=findResultIndex(database,criteria),targetFields=[];if("string"==typeof field){var index=exports.FINDFIELD(database,field);targetFields=utils.rest(database[index])}else targetFields=utils.rest(database[field]);var targetValues=[];return utils.arrayEach(resultIndexes,function(value){targetValues.push(targetFields[value])}),targetValues=compact(targetValues),stats.STDEV.S(targetValues)},exports.DSTDEVP=function(database,field,criteria){if(isNaN(field)&&"string"!=typeof field)return error.value;var resultIndexes=findResultIndex(database,criteria),targetFields=[];if("string"==typeof field){var index=exports.FINDFIELD(database,field);targetFields=utils.rest(database[index])}else targetFields=utils.rest(database[field]);var targetValues=[];return utils.arrayEach(resultIndexes,function(value){targetValues.push(targetFields[value])}),targetValues=compact(targetValues),stats.STDEV.P(targetValues)},exports.DSUM=function(database,field,criteria){if(isNaN(field)&&"string"!=typeof field)return error.value;var resultIndexes=findResultIndex(database,criteria),targetFields=[];if("string"==typeof field){var index=exports.FINDFIELD(database,field);targetFields=utils.rest(database[index])}else targetFields=utils.rest(database[field]);var targetValues=[];return utils.arrayEach(resultIndexes,function(value){targetValues.push(targetFields[value])}),maths.SUM(targetValues)},exports.DVAR=function(database,field,criteria){if(isNaN(field)&&"string"!=typeof field)return error.value;var resultIndexes=findResultIndex(database,criteria),targetFields=[];if("string"==typeof field){var index=exports.FINDFIELD(database,field);targetFields=utils.rest(database[index])}else targetFields=utils.rest(database[field]);var targetValues=[];return utils.arrayEach(resultIndexes,function(value){targetValues.push(targetFields[value])}),stats.VAR.S(targetValues)},exports.DVARP=function(database,field,criteria){if(isNaN(field)&&"string"!=typeof field)return error.value;var resultIndexes=findResultIndex(database,criteria),targetFields=[];if("string"==typeof field){var index=exports.FINDFIELD(database,field);targetFields=utils.rest(database[index])}else targetFields=utils.rest(database[field]);var targetValues=[];return utils.arrayEach(resultIndexes,function(value){targetValues.push(targetFields[value])}),stats.VAR.P(targetValues)}},function(module,exports,__webpack_require__){function validDate(d){return d&&d.getTime&&!isNaN(d.getTime())}function ensureDate(d){return d instanceof Date?d:new Date(d)}var error=__webpack_require__(0),dateTime=__webpack_require__(6),utils=__webpack_require__(2);exports.ACCRINT=function(issue,first,settlement,rate,par,frequency,basis){return issue=ensureDate(issue),first=ensureDate(first),settlement=ensureDate(settlement),validDate(issue)&&validDate(first)&&validDate(settlement)?rate<=0||par<=0?error.num:[1,2,4].indexOf(frequency)===-1?error.num:[0,1,2,3,4].indexOf(basis)===-1?error.num:settlement<=issue?error.num:(par=par||0,basis=basis||0,par*rate*dateTime.YEARFRAC(issue,settlement,basis)):error.value},exports.ACCRINTM=function(){throw new Error("ACCRINTM is not implemented")},exports.AMORDEGRC=function(){throw new Error("AMORDEGRC is not implemented")},exports.AMORLINC=function(){throw new Error("AMORLINC is not implemented")},exports.COUPDAYBS=function(){throw new Error("COUPDAYBS is not implemented")},exports.COUPDAYS=function(){throw new Error("COUPDAYS is not implemented")},exports.COUPDAYSNC=function(){throw new Error("COUPDAYSNC is not implemented")},exports.COUPNCD=function(){throw new Error("COUPNCD is not implemented")},exports.COUPNUM=function(){throw new Error("COUPNUM is not implemented")},exports.COUPPCD=function(){throw new Error("COUPPCD is not implemented")},exports.CUMIPMT=function(rate,periods,value,start,end,type){if(rate=utils.parseNumber(rate),periods=utils.parseNumber(periods),value=utils.parseNumber(value),utils.anyIsError(rate,periods,value))return error.value;if(rate<=0||periods<=0||value<=0)return error.num;if(start<1||end<1||start>end)return error.num;if(0!==type&&1!==type)return error.num;var payment=exports.PMT(rate,periods,value,0,type),interest=0;1===start&&0===type&&(interest=-value,start++);for(var i=start;i<=end;i++)interest+=1===type?exports.FV(rate,i-2,payment,value,1)-payment:exports.FV(rate,i-1,payment,value,0);return interest*=rate},exports.CUMPRINC=function(rate,periods,value,start,end,type){if(rate=utils.parseNumber(rate),periods=utils.parseNumber(periods),value=utils.parseNumber(value),utils.anyIsError(rate,periods,value))return error.value;if(rate<=0||periods<=0||value<=0)return error.num;if(start<1||end<1||start>end)return error.num;if(0!==type&&1!==type)return error.num;var payment=exports.PMT(rate,periods,value,0,type),principal=0;1===start&&(principal=0===type?payment+value*rate:payment,start++);for(var i=start;i<=end;i++)principal+=type>0?payment-(exports.FV(rate,i-2,payment,value,1)-payment)*rate:payment-exports.FV(rate,i-1,payment,value,0)*rate;return principal},exports.DB=function(cost,salvage,life,period,month){if(month=void 0===month?12:month,cost=utils.parseNumber(cost),salvage=utils.parseNumber(salvage),life=utils.parseNumber(life),period=utils.parseNumber(period),month=utils.parseNumber(month),utils.anyIsError(cost,salvage,life,period,month))return error.value;if(cost<0||salvage<0||life<0||period<0)return error.num;if([1,2,3,4,5,6,7,8,9,10,11,12].indexOf(month)===-1)return error.num;if(period>life)return error.num;if(salvage>=cost)return 0;for(var rate=(1-Math.pow(salvage/cost,1/life)).toFixed(3),initial=cost*rate*month/12,total=initial,current=0,ceiling=period===life?life-1:period,i=2;i<=ceiling;i++)current=(cost-total)*rate,total+=current;return 1===period?initial:period===life?(cost-total)*rate:current},exports.DDB=function(cost,salvage,life,period,factor){if(factor=void 0===factor?2:factor,cost=utils.parseNumber(cost),salvage=utils.parseNumber(salvage),life=utils.parseNumber(life),period=utils.parseNumber(period),factor=utils.parseNumber(factor),utils.anyIsError(cost,salvage,life,period,factor))return error.value;if(cost<0||salvage<0||life<0||period<0||factor<=0)return error.num;if(period>life)return error.num;if(salvage>=cost)return 0;for(var total=0,current=0,i=1;i<=period;i++)current=Math.min((cost-total)*(factor/life),cost-salvage-total),total+=current;return current},exports.DISC=function(){throw new Error("DISC is not implemented")},exports.DOLLARDE=function(dollar,fraction){if(dollar=utils.parseNumber(dollar),fraction=utils.parseNumber(fraction),utils.anyIsError(dollar,fraction))return error.value;if(fraction<0)return error.num;if(fraction>=0&&fraction<1)return error.div0;fraction=parseInt(fraction,10);var result=parseInt(dollar,10);result+=dollar%1*Math.pow(10,Math.ceil(Math.log(fraction)/Math.LN10))/fraction;var power=Math.pow(10,Math.ceil(Math.log(fraction)/Math.LN2)+1);return result=Math.round(result*power)/power},exports.DOLLARFR=function(dollar,fraction){if(dollar=utils.parseNumber(dollar),fraction=utils.parseNumber(fraction),utils.anyIsError(dollar,fraction))return error.value;if(fraction<0)return error.num;if(fraction>=0&&fraction<1)return error.div0;fraction=parseInt(fraction,10);var result=parseInt(dollar,10);return result+=dollar%1*Math.pow(10,-Math.ceil(Math.log(fraction)/Math.LN10))*fraction},exports.DURATION=function(){throw new Error("DURATION is not implemented")},exports.EFFECT=function(rate,periods){return rate=utils.parseNumber(rate),periods=utils.parseNumber(periods),utils.anyIsError(rate,periods)?error.value:rate<=0||periods<1?error.num:(periods=parseInt(periods,10),Math.pow(1+rate/periods,periods)-1)},exports.FV=function(rate,periods,payment,value,type){if(value=value||0,type=type||0,rate=utils.parseNumber(rate),periods=utils.parseNumber(periods),payment=utils.parseNumber(payment),value=utils.parseNumber(value),type=utils.parseNumber(type),utils.anyIsError(rate,periods,payment,value,type))return error.value;var result;if(0===rate)result=value+payment*periods;else{var term=Math.pow(1+rate,periods);result=1===type?value*term+payment*(1+rate)*(term-1)/rate:value*term+payment*(term-1)/rate}return-result},exports.FVSCHEDULE=function(principal,schedule){if(principal=utils.parseNumber(principal),schedule=utils.parseNumberArray(utils.flatten(schedule)),utils.anyIsError(principal,schedule))return error.value;for(var n=schedule.length,future=principal,i=0;i<n;i++)future*=1+schedule[i];return future},exports.INTRATE=function(){throw new Error("INTRATE is not implemented")},exports.IPMT=function(rate,period,periods,present,future,type){if(future=future||0,type=type||0,rate=utils.parseNumber(rate),period=utils.parseNumber(period),periods=utils.parseNumber(periods),present=utils.parseNumber(present),future=utils.parseNumber(future),type=utils.parseNumber(type),utils.anyIsError(rate,period,periods,present,future,type))return error.value;var interest,payment=exports.PMT(rate,periods,present,future,type);return interest=1===period?1===type?0:-present:1===type?exports.FV(rate,period-2,payment,present,1)-payment:exports.FV(rate,period-1,payment,present,0),interest*rate},exports.IRR=function(values,guess){if(guess=guess||0,values=utils.parseNumberArray(utils.flatten(values)),guess=utils.parseNumber(guess),utils.anyIsError(values,guess))return error.value;for(var irrResult=function(values,dates,rate){for(var r=rate+1,result=values[0],i=1;i<values.length;i++)result+=values[i]/Math.pow(r,(dates[i]-dates[0])/365);return result},irrResultDeriv=function(values,dates,rate){for(var r=rate+1,result=0,i=1;i<values.length;i++){var frac=(dates[i]-dates[0])/365;result-=frac*values[i]/Math.pow(r,frac+1)}return result},dates=[],positive=!1,negative=!1,i=0;i<values.length;i++)dates[i]=0===i?0:dates[i-1]+365,values[i]>0&&(positive=!0),values[i]<0&&(negative=!0);if(!positive||!negative)return error.num;guess=void 0===guess?.1:guess;var newRate,epsRate,resultValue,resultRate=guess,epsMax=1e-10,contLoop=!0;do resultValue=irrResult(values,dates,resultRate),newRate=resultRate-resultValue/irrResultDeriv(values,dates,resultRate),epsRate=Math.abs(newRate-resultRate),resultRate=newRate,contLoop=epsRate>epsMax&&Math.abs(resultValue)>epsMax;while(contLoop);return resultRate},exports.ISPMT=function(rate,period,periods,value){return rate=utils.parseNumber(rate),period=utils.parseNumber(period),periods=utils.parseNumber(periods),value=utils.parseNumber(value),utils.anyIsError(rate,period,periods,value)?error.value:value*rate*(period/periods-1)},exports.MDURATION=function(){throw new Error("MDURATION is not implemented")},exports.MIRR=function(values,finance_rate,reinvest_rate){if(values=utils.parseNumberArray(utils.flatten(values)),finance_rate=utils.parseNumber(finance_rate),reinvest_rate=utils.parseNumber(reinvest_rate),utils.anyIsError(values,finance_rate,reinvest_rate))return error.value;for(var n=values.length,payments=[],incomes=[],i=0;i<n;i++)values[i]<0?payments.push(values[i]):incomes.push(values[i]);var num=-exports.NPV(reinvest_rate,incomes)*Math.pow(1+reinvest_rate,n-1),den=exports.NPV(finance_rate,payments)*(1+finance_rate);return Math.pow(num/den,1/(n-1))-1},exports.NOMINAL=function(rate,periods){return rate=utils.parseNumber(rate),periods=utils.parseNumber(periods),utils.anyIsError(rate,periods)?error.value:rate<=0||periods<1?error.num:(periods=parseInt(periods,10),(Math.pow(rate+1,1/periods)-1)*periods)},exports.NPER=function(rate,payment,present,future,type){if(type=void 0===type?0:type,future=void 0===future?0:future,rate=utils.parseNumber(rate),payment=utils.parseNumber(payment),present=utils.parseNumber(present),future=utils.parseNumber(future),type=utils.parseNumber(type),utils.anyIsError(rate,payment,present,future,type))return error.value;
var num=payment*(1+rate*type)-future*rate,den=present*rate+payment*(1+rate*type);return Math.log(num/den)/Math.log(1+rate)},exports.NPV=function(){var args=utils.parseNumberArray(utils.flatten(arguments));if(args instanceof Error)return args;for(var rate=args[0],value=0,j=1;j<args.length;j++)value+=args[j]/Math.pow(1+rate,j);return value},exports.ODDFPRICE=function(){throw new Error("ODDFPRICE is not implemented")},exports.ODDFYIELD=function(){throw new Error("ODDFYIELD is not implemented")},exports.ODDLPRICE=function(){throw new Error("ODDLPRICE is not implemented")},exports.ODDLYIELD=function(){throw new Error("ODDLYIELD is not implemented")},exports.PDURATION=function(rate,present,future){return rate=utils.parseNumber(rate),present=utils.parseNumber(present),future=utils.parseNumber(future),utils.anyIsError(rate,present,future)?error.value:rate<=0?error.num:(Math.log(future)-Math.log(present))/Math.log(1+rate)},exports.PMT=function(rate,periods,present,future,type){if(future=future||0,type=type||0,rate=utils.parseNumber(rate),periods=utils.parseNumber(periods),present=utils.parseNumber(present),future=utils.parseNumber(future),type=utils.parseNumber(type),utils.anyIsError(rate,periods,present,future,type))return error.value;var result;if(0===rate)result=(present+future)/periods;else{var term=Math.pow(1+rate,periods);result=1===type?(future*rate/(term-1)+present*rate/(1-1/term))/(1+rate):future*rate/(term-1)+present*rate/(1-1/term)}return-result},exports.PPMT=function(rate,period,periods,present,future,type){return future=future||0,type=type||0,rate=utils.parseNumber(rate),periods=utils.parseNumber(periods),present=utils.parseNumber(present),future=utils.parseNumber(future),type=utils.parseNumber(type),utils.anyIsError(rate,periods,present,future,type)?error.value:exports.PMT(rate,periods,present,future,type)-exports.IPMT(rate,period,periods,present,future,type)},exports.PRICE=function(){throw new Error("PRICE is not implemented")},exports.PRICEDISC=function(){throw new Error("PRICEDISC is not implemented")},exports.PRICEMAT=function(){throw new Error("PRICEMAT is not implemented")},exports.PV=function(rate,periods,payment,future,type){return future=future||0,type=type||0,rate=utils.parseNumber(rate),periods=utils.parseNumber(periods),payment=utils.parseNumber(payment),future=utils.parseNumber(future),type=utils.parseNumber(type),utils.anyIsError(rate,periods,payment,future,type)?error.value:0===rate?-payment*periods-future:((1-Math.pow(1+rate,periods))/rate*payment*(1+rate*type)-future)/Math.pow(1+rate,periods)},exports.RATE=function(periods,payment,present,future,type,guess){if(guess=void 0===guess?.01:guess,future=void 0===future?0:future,type=void 0===type?0:type,periods=utils.parseNumber(periods),payment=utils.parseNumber(payment),present=utils.parseNumber(present),future=utils.parseNumber(future),type=utils.parseNumber(type),guess=utils.parseNumber(guess),utils.anyIsError(periods,payment,present,future,type,guess))return error.value;var y,y0,y1,x0,epsMax=1e-10,iterMax=50,x1=0,f=0,i=0,rate=guess;for(Math.abs(rate)<epsMax?y=present*(1+periods*rate)+payment*(1+rate*type)*periods+future:(f=Math.exp(periods*Math.log(1+rate)),y=present*f+payment*(1/rate+type)*(f-1)+future),y0=present+payment*periods+future,y1=present*f+payment*(1/rate+type)*(f-1)+future,i=x0=0,x1=rate;Math.abs(y0-y1)>epsMax&&i<iterMax;)rate=(y1*x0-y0*x1)/(y1-y0),x0=x1,x1=rate,Math.abs(rate)<epsMax?y=present*(1+periods*rate)+payment*(1+rate*type)*periods+future:(f=Math.exp(periods*Math.log(1+rate)),y=present*f+payment*(1/rate+type)*(f-1)+future),y0=y1,y1=y,++i;return rate},exports.RECEIVED=function(){throw new Error("RECEIVED is not implemented")},exports.RRI=function(periods,present,future){return periods=utils.parseNumber(periods),present=utils.parseNumber(present),future=utils.parseNumber(future),utils.anyIsError(periods,present,future)?error.value:0===periods||0===present?error.num:Math.pow(future/present,1/periods)-1},exports.SLN=function(cost,salvage,life){return cost=utils.parseNumber(cost),salvage=utils.parseNumber(salvage),life=utils.parseNumber(life),utils.anyIsError(cost,salvage,life)?error.value:0===life?error.num:(cost-salvage)/life},exports.SYD=function(cost,salvage,life,period){return cost=utils.parseNumber(cost),salvage=utils.parseNumber(salvage),life=utils.parseNumber(life),period=utils.parseNumber(period),utils.anyIsError(cost,salvage,life,period)?error.value:0===life?error.num:period<1||period>life?error.num:(period=parseInt(period,10),(cost-salvage)*(life-period+1)*2/(life*(life+1)))},exports.TBILLEQ=function(settlement,maturity,discount){return settlement=utils.parseDate(settlement),maturity=utils.parseDate(maturity),discount=utils.parseNumber(discount),utils.anyIsError(settlement,maturity,discount)?error.value:discount<=0?error.num:settlement>maturity?error.num:maturity-settlement>31536e6?error.num:365*discount/(360-discount*dateTime.DAYS360(settlement,maturity,!1))},exports.TBILLPRICE=function(settlement,maturity,discount){return settlement=utils.parseDate(settlement),maturity=utils.parseDate(maturity),discount=utils.parseNumber(discount),utils.anyIsError(settlement,maturity,discount)?error.value:discount<=0?error.num:settlement>maturity?error.num:maturity-settlement>31536e6?error.num:100*(1-discount*dateTime.DAYS360(settlement,maturity,!1)/360)},exports.TBILLYIELD=function(settlement,maturity,price){return settlement=utils.parseDate(settlement),maturity=utils.parseDate(maturity),price=utils.parseNumber(price),utils.anyIsError(settlement,maturity,price)?error.value:price<=0?error.num:settlement>maturity?error.num:maturity-settlement>31536e6?error.num:360*(100-price)/(price*dateTime.DAYS360(settlement,maturity,!1))},exports.VDB=function(){throw new Error("VDB is not implemented")},exports.XNPV=function(rate,values,dates){if(rate=utils.parseNumber(rate),values=utils.parseNumberArray(utils.flatten(values)),dates=utils.parseDateArray(utils.flatten(dates)),utils.anyIsError(rate,values,dates))return error.value;for(var result=0,i=0;i<values.length;i++)result+=values[i]/Math.pow(1+rate,dateTime.DAYS(dates[i],dates[0])/365);return result},exports.YIELD=function(){throw new Error("YIELD is not implemented")},exports.YIELDDISC=function(){throw new Error("YIELDDISC is not implemented")},exports.YIELDMAT=function(){throw new Error("YIELDMAT is not implemented")}},function(module,exports,__webpack_require__){var error=__webpack_require__(0),utils=__webpack_require__(2),information=__webpack_require__(7);exports.AND=function(){for(var args=utils.flatten(arguments),result=!0,i=0;i<args.length;i++)args[i]||(result=!1);return result},exports.CHOOSE=function(){if(arguments.length<2)return error.na;var index=arguments[0];return index<1||index>254?error.value:arguments.length<index+1?error.value:arguments[index]},exports.FALSE=function(){return!1},exports.IF=function(test,then_value,otherwise_value){return test?then_value:otherwise_value},exports.IFERROR=function(value,valueIfError){return information.ISERROR(value)?valueIfError:value},exports.IFNA=function(value,value_if_na){return value===error.na?value_if_na:value},exports.NOT=function(logical){return!logical},exports.OR=function(){for(var args=utils.flatten(arguments),result=!1,i=0;i<args.length;i++)args[i]&&(result=!0);return result},exports.TRUE=function(){return!0},exports.XOR=function(){for(var args=utils.flatten(arguments),result=0,i=0;i<args.length;i++)args[i]&&result++;return!!(1&Math.floor(Math.abs(result)))},exports.SWITCH=function(){var result;if(arguments.length>0){var targetValue=arguments[0],argc=arguments.length-1,switchCount=Math.floor(argc/2),switchSatisfied=!1,hasDefaultClause=argc%2!==0,defaultClause=argc%2===0?null:arguments[arguments.length-1];if(switchCount)for(var index=0;index<switchCount;index++)if(targetValue===arguments[2*index+1]){result=arguments[2*index+2],switchSatisfied=!0;break}switchSatisfied||(result=hasDefaultClause?defaultClause:error.na)}else result=error.value;return result}},function(module,exports,__webpack_require__){var error=__webpack_require__(0);exports.MATCH=function(lookupValue,lookupArray,matchType){if(!lookupValue&&!lookupArray)return error.na;if(2===arguments.length&&(matchType=1),!(lookupArray instanceof Array))return error.na;if(matchType!==-1&&0!==matchType&&1!==matchType)return error.na;for(var index,indexValue,idx=0;idx<lookupArray.length;idx++)if(1===matchType){if(lookupArray[idx]===lookupValue)return idx+1;lookupArray[idx]<lookupValue&&(indexValue?lookupArray[idx]>indexValue&&(index=idx+1,indexValue=lookupArray[idx]):(index=idx+1,indexValue=lookupArray[idx]))}else if(0===matchType){if("string"==typeof lookupValue){if(lookupValue=lookupValue.replace(/\?/g,"."),lookupArray[idx].toLowerCase().match(lookupValue.toLowerCase()))return idx+1}else if(lookupArray[idx]===lookupValue)return idx+1}else if(matchType===-1){if(lookupArray[idx]===lookupValue)return idx+1;lookupArray[idx]>lookupValue&&(indexValue?lookupArray[idx]<indexValue&&(index=idx+1,indexValue=lookupArray[idx]):(index=idx+1,indexValue=lookupArray[idx]))}return index?index:error.na}},function(module,exports){(function(){var language={langLocaleCode:"cs-CZ",cultureCode:"cs-CZ",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"K",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"da-DK",cultureCode:"da-DK",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mio",billion:"mia",trillion:"b"},ordinal:function(){return"."},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"de-CH",cultureCode:"de-CH",delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"CHF",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"de-DE",cultureCode:"de-DE",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"",position:"postfix",spaceSeparated:!0},defaults:{currencyFormat:",4"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"en-AU",cultureCode:"en-AU",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1===~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"en-GB",cultureCode:"en-GB",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1===~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"en-NZ",cultureCode:"en-NZ",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1===~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"en-ZA",cultureCode:"en-ZA",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1===~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"R",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"es-AR",cultureCode:"es-AR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1===b||3===b?"er":2===b?"do":7===b||0===b?"mo":8===b?"vo":9===b?"no":"to"},currency:{symbol:"$",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"es-ES",cultureCode:"es-ES",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1===b||3===b?"er":2===b?"do":7===b||0===b?"mo":8===b?"vo":9===b?"no":"to"},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"et-EE",cultureCode:"et-EE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tuh",million:" mln",billion:" mld",trillion:" trl"},ordinal:function(){return"."},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"fa-IR",cultureCode:"fa-IR",delimiters:{thousands:"",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},ordinal:function(){return""},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"fi-FI",cultureCode:"fi-FI",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(){return"."},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"fil-PH",cultureCode:"fil-PH",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1===~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"fr-CA",cultureCode:"fr-CA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(number){return 1===number?"er":"me"},currency:{symbol:"$",position:"postfix",spaceSeparated:!0},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"fr-CH",cultureCode:"fr-CH",delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){return 1===number?"er":"me"},currency:{symbol:"CHF",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"fr-FR",cultureCode:"fr-FR",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){return 1===number?"er":"me"},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"he-IL",cultureCode:"he-IL",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},currency:{symbol:"",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:" ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:" ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"hu-HU",cultureCode:"hu-HU",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"E",million:"M",billion:"Mrd",trillion:"T"},ordinal:function(){return"."},currency:{symbol:" Ft",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports,__webpack_require__){exports["cs-CZ"]=__webpack_require__(39),exports["da-DK"]=__webpack_require__(40),exports["de-CH"]=__webpack_require__(41),exports["de-DE"]=__webpack_require__(42),exports["en-AU"]=__webpack_require__(43),exports["en-GB"]=__webpack_require__(44),exports["en-NZ"]=__webpack_require__(45),exports["en-ZA"]=__webpack_require__(46),exports["es-AR"]=__webpack_require__(47),exports["es-ES"]=__webpack_require__(48),exports["et-EE"]=__webpack_require__(49),exports["fa-IR"]=__webpack_require__(50),exports["fi-FI"]=__webpack_require__(51),exports["fil-PH"]=__webpack_require__(52),exports["fr-CA"]=__webpack_require__(53),exports["fr-CH"]=__webpack_require__(54),exports["fr-FR"]=__webpack_require__(55),exports["he-IL"]=__webpack_require__(56),exports["hu-HU"]=__webpack_require__(57),exports["it-IT"]=__webpack_require__(59),exports["ja-JP"]=__webpack_require__(60),exports["ko-KR"]=__webpack_require__(61),exports["lv-LV"]=__webpack_require__(62),exports["nb-NO"]=__webpack_require__(63),exports["nl-BE"]=__webpack_require__(64),exports["nl-NL"]=__webpack_require__(65),exports["pl-PL"]=__webpack_require__(66),exports["pt-BR"]=__webpack_require__(67),exports["pt-PT"]=__webpack_require__(68),exports["ru-RU"]=__webpack_require__(69),exports["ru-UA"]=__webpack_require__(70),exports["sk-SK"]=__webpack_require__(71),exports["sv-SE"]=__webpack_require__(72),exports["th-TH"]=__webpack_require__(73),exports["tr-TR"]=__webpack_require__(74),exports["uk-UA"]=__webpack_require__(75),exports["zh-CN"]=__webpack_require__(76),exports["zh-TW"]=__webpack_require__(77)},function(module,exports){(function(){var language={langLocaleCode:"it-IT",cultureCode:"it-IT",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mila",million:"mil",billion:"b",trillion:"t"},ordinal:function(){return""},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"ja-JP",cultureCode:"ja-JP",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},ordinal:function(){return"."},currency:{symbol:"",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"ko-KR",cultureCode:"ko-KR",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},ordinal:function(){return"."},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"lv-LV",cultureCode:"lv-LV",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tkst.",million:" milj.",billion:" mljrd.",trillion:" trilj."},ordinal:function(){return"."},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"nb-NO",cultureCode:"nb-NO",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"M",billion:"md",trillion:"t"},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"nl-BE",cultureCode:"nl-BE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(number){var remainder=number%100;return 0!==number&&remainder<=1||8===remainder||remainder>=20?"ste":"de"},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"nl-NL",cultureCode:"nl-NL",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mrd",trillion:"bln"},ordinal:function(number){var remainder=number%100;return 0!==number&&remainder<=1||8===remainder||remainder>=20?"ste":"de"},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"pl-PL",cultureCode:"pl-PL",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tys.",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(){return"."},currency:{symbol:" z",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"pt-BR",cultureCode:"pt-BR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mil",million:"milhes",billion:"b",trillion:"t"},ordinal:function(){return""},currency:{symbol:"R$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"pt-PT",cultureCode:"pt-PT",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return""},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"ru-RU",cultureCode:"ru-RU",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:".",million:"",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:".",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"ru-UA",cultureCode:"ru-UA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:".",million:"",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"sk-SK",cultureCode:"sk-SK",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{
fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"sv-SE",cultureCode:"sv-SE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"M",billion:"md",trillion:"tmd"},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"th-TH",cultureCode:"th-TH",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},ordinal:function(){return"."},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var suffixes={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},language={langLocaleCode:"tr-TR",cultureCode:"tr-TR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"bin",million:"milyon",billion:"milyar",trillion:"trilyon"},ordinal:function(number){if(0===number)return"'nc";var a=number%10,b=number%100-a,c=number>=100?100:null;return suffixes[a]||suffixes[b]||suffixes[c]},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"uk-UA",cultureCode:"uk-UA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:".",million:"",billion:"",trillion:""},ordinal:function(){return""},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"zh-CN",cultureCode:"zh-CN",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},ordinal:function(){return"."},currency:{symbol:"",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){(function(){var language={langLocaleCode:"zh-TW",cultureCode:"zh-TW",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},ordinal:function(){return""},currency:{symbol:"NT$"}};"undefined"!=typeof module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},function(module,exports){function E(){}E.prototype={on:function(name,callback,ctx){var e=this.e||(this.e={});return(e[name]||(e[name]=[])).push({fn:callback,ctx:ctx}),this},once:function(name,callback,ctx){function listener(){self.off(name,listener),callback.apply(ctx,arguments)}var self=this;return listener._=callback,this.on(name,listener,ctx)},emit:function(name){var data=[].slice.call(arguments,1),evtArr=((this.e||(this.e={}))[name]||[]).slice(),i=0,len=evtArr.length;for(i;i<len;i++)evtArr[i].fn.apply(evtArr[i].ctx,data);return this},off:function(name,callback){var e=this.e||(this.e={}),evts=e[name],liveEvents=[];if(evts&&callback)for(var i=0,len=evts.length;i<len;i++)evts[i].fn!==callback&&evts[i].fn._!==callback&&liveEvents.push(evts[i]);return liveEvents.length?e[name]=liveEvents:delete e[name],this}},module.exports=E},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){(function(module,process){var grammarParser=function(){function Parser(){this.yy={}}var o=function(k,v,_o,l){for(_o=_o||{},l=k.length;l--;_o[k[l]]=v);return _o},$V0=[1,5],$V1=[1,8],$V2=[1,6],$V3=[1,7],$V4=[1,9],$V5=[1,14],$V6=[1,15],$V7=[1,16],$V8=[1,12],$V9=[1,13],$Va=[1,17],$Vb=[1,19],$Vc=[1,20],$Vd=[1,21],$Ve=[1,22],$Vf=[1,23],$Vg=[1,24],$Vh=[1,25],$Vi=[1,26],$Vj=[1,27],$Vk=[1,28],$Vl=[5,9,10,11,13,14,15,16,17,18,19,20,29,30],$Vm=[5,9,10,11,13,14,15,16,17,18,19,20,29,30,32],$Vn=[5,9,10,11,13,14,15,16,17,18,19,20,29,30,34],$Vo=[5,10,11,13,14,15,16,17,29,30],$Vp=[5,10,13,14,15,16,29,30],$Vq=[5,10,11,13,14,15,16,17,18,19,29,30],$Vr=[13,29,30],parser={trace:function(){},yy:{},symbols_:{error:2,expressions:3,expression:4,EOF:5,variableSequence:6,number:7,STRING:8,"&":9,"=":10,"+":11,"(":12,")":13,"<":14,">":15,NOT:16,"-":17,"*":18,"/":19,"^":20,FUNCTION:21,expseq:22,cell:23,ABSOLUTE_CELL:24,RELATIVE_CELL:25,MIXED_CELL:26,":":27,ARRAY:28,";":29,",":30,VARIABLE:31,DECIMAL:32,NUMBER:33,"%":34,ERROR:35,$accept:0,$end:1},terminals_:{5:"EOF",8:"STRING",9:"&",10:"=",11:"+",12:"(",13:")",14:"<",15:">",16:"NOT",17:"-",18:"*",19:"/",20:"^",21:"FUNCTION",24:"ABSOLUTE_CELL",25:"RELATIVE_CELL",26:"MIXED_CELL",27:":",28:"ARRAY",29:";",30:",",31:"VARIABLE",32:"DECIMAL",33:"NUMBER",34:"%",35:"ERROR"},productions_:[0,[3,2],[4,1],[4,1],[4,1],[4,3],[4,3],[4,3],[4,3],[4,4],[4,4],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,2],[4,3],[4,4],[4,1],[4,1],[4,2],[23,1],[23,1],[23,1],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[22,1],[22,1],[22,3],[22,3],[6,1],[6,3],[7,1],[7,3],[7,2],[2,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return $$[$0-1];case 2:this.$=yy.callVariable($$[$0][0]);break;case 3:this.$=yy.toNumber($$[$0]);break;case 4:this.$=yy.trimEdges($$[$0]);break;case 5:this.$=yy.evaluateByOperator("&",[$$[$0-2],$$[$0]]);break;case 6:this.$=yy.evaluateByOperator("=",[$$[$0-2],$$[$0]]);break;case 7:this.$=yy.evaluateByOperator("+",[$$[$0-2],$$[$0]]);break;case 8:this.$=$$[$0-1];break;case 9:this.$=yy.evaluateByOperator("<=",[$$[$0-3],$$[$0]]);break;case 10:this.$=yy.evaluateByOperator(">=",[$$[$0-3],$$[$0]]);break;case 11:this.$=yy.evaluateByOperator("<>",[$$[$0-3],$$[$0]]);break;case 12:this.$=yy.evaluateByOperator("NOT",[$$[$0-2],$$[$0]]);break;case 13:this.$=yy.evaluateByOperator(">",[$$[$0-2],$$[$0]]);break;case 14:this.$=yy.evaluateByOperator("<",[$$[$0-2],$$[$0]]);break;case 15:this.$=yy.evaluateByOperator("-",[$$[$0-2],$$[$0]]);break;case 16:this.$=yy.evaluateByOperator("*",[$$[$0-2],$$[$0]]);break;case 17:this.$=yy.evaluateByOperator("/",[$$[$0-2],$$[$0]]);break;case 18:this.$=yy.evaluateByOperator("^",[$$[$0-2],$$[$0]]);break;case 19:var n1=yy.invertNumber($$[$0]);this.$=n1,isNaN(this.$)&&(this.$=0);break;case 20:var n1=yy.toNumber($$[$0]);this.$=n1,isNaN(this.$)&&(this.$=0);break;case 21:this.$=yy.callFunction($$[$0-2]);break;case 22:this.$=yy.callFunction($$[$0-3],$$[$0-1]);break;case 26:case 27:case 28:this.$=yy.cellValue($$[$0]);break;case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:this.$=yy.rangeValue($$[$0-2],$$[$0]);break;case 38:case 42:this.$=[$$[$0]];break;case 39:var result=[],arr=eval("["+yytext+"]");arr.forEach(function(item){result.push(item)}),this.$=result;break;case 40:case 41:$$[$0-2].push($$[$0]),this.$=$$[$0-2];break;case 43:this.$=Array.isArray($$[$0-2])?$$[$0-2]:[$$[$0-2]],this.$.push($$[$0]);break;case 44:this.$=$$[$0];break;case 45:this.$=1*($$[$0-2]+"."+$$[$0]);break;case 46:this.$=.01*$$[$0-1];break;case 47:this.$=yy.throwError($$[$0])}},table:[{2:11,3:1,4:2,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{1:[3]},{5:[1,18],9:$Vb,10:$Vc,11:$Vd,14:$Ve,15:$Vf,16:$Vg,17:$Vh,18:$Vi,19:$Vj,20:$Vk},o($Vl,[2,2],{32:[1,29]}),o($Vl,[2,3],{34:[1,30]}),o($Vl,[2,4]),{2:11,4:31,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:32,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:33,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{12:[1,34]},o($Vl,[2,23]),o($Vl,[2,24],{2:35,35:$Va}),o($Vm,[2,42]),o($Vn,[2,44],{32:[1,36]}),o($Vl,[2,26],{27:[1,37]}),o($Vl,[2,27],{27:[1,38]}),o($Vl,[2,28],{27:[1,39]}),o([5,9,10,11,13,14,15,16,17,18,19,20,29,30,35],[2,47]),{1:[2,1]},{2:11,4:40,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:41,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:42,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:45,6:3,7:4,8:$V0,10:[1,43],11:$V1,12:$V2,15:[1,44],17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:47,6:3,7:4,8:$V0,10:[1,46],11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:48,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:49,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:50,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:51,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:52,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{31:[1,53]},o($Vn,[2,46]),{9:$Vb,10:$Vc,11:$Vd,13:[1,54],14:$Ve,15:$Vf,16:$Vg,17:$Vh,18:$Vi,19:$Vj,20:$Vk},o($Vo,[2,19],{9:$Vb,18:$Vi,19:$Vj,20:$Vk}),o($Vo,[2,20],{9:$Vb,18:$Vi,19:$Vj,20:$Vk}),{2:11,4:57,6:3,7:4,8:$V0,11:$V1,12:$V2,13:[1,55],17:$V3,21:$V4,22:56,23:10,24:$V5,25:$V6,26:$V7,28:[1,58],31:$V8,33:$V9,35:$Va},o($Vl,[2,25]),{33:[1,59]},{24:[1,60],25:[1,61],26:[1,62]},{24:[1,63],25:[1,64],26:[1,65]},{24:[1,66],25:[1,67],26:[1,68]},o($Vl,[2,5]),o([5,10,13,29,30],[2,6],{9:$Vb,11:$Vd,14:$Ve,15:$Vf,16:$Vg,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),o($Vo,[2,7],{9:$Vb,18:$Vi,19:$Vj,20:$Vk}),{2:11,4:69,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:70,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},o($Vp,[2,14],{9:$Vb,11:$Vd,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),{2:11,4:71,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},o($Vp,[2,13],{9:$Vb,11:$Vd,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),o([5,10,13,16,29,30],[2,12],{9:$Vb,11:$Vd,14:$Ve,15:$Vf,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),o($Vo,[2,15],{9:$Vb,18:$Vi,19:$Vj,20:$Vk}),o($Vq,[2,16],{9:$Vb,20:$Vk}),o($Vq,[2,17],{9:$Vb,20:$Vk}),o([5,10,11,13,14,15,16,17,18,19,20,29,30],[2,18],{9:$Vb}),o($Vm,[2,43]),o($Vl,[2,8]),o($Vl,[2,21]),{13:[1,72],29:[1,73],30:[1,74]},o($Vr,[2,38],{9:$Vb,10:$Vc,11:$Vd,14:$Ve,15:$Vf,16:$Vg,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),o($Vr,[2,39]),o($Vn,[2,45]),o($Vl,[2,29]),o($Vl,[2,30]),o($Vl,[2,31]),o($Vl,[2,32]),o($Vl,[2,33]),o($Vl,[2,34]),o($Vl,[2,35]),o($Vl,[2,36]),o($Vl,[2,37]),o($Vp,[2,9],{9:$Vb,11:$Vd,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),o($Vp,[2,11],{9:$Vb,11:$Vd,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),o($Vp,[2,10],{9:$Vb,11:$Vd,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),o($Vl,[2,22]),{2:11,4:75,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},{2:11,4:76,6:3,7:4,8:$V0,11:$V1,12:$V2,17:$V3,21:$V4,23:10,24:$V5,25:$V6,26:$V7,31:$V8,33:$V9,35:$Va},o($Vr,[2,40],{9:$Vb,10:$Vc,11:$Vd,14:$Ve,15:$Vf,16:$Vg,17:$Vh,18:$Vi,19:$Vj,20:$Vk}),o($Vr,[2,41],{9:$Vb,10:$Vc,11:$Vd,14:$Ve,15:$Vf,16:$Vg,17:$Vh,18:$Vi,19:$Vj,20:$Vk})],defaultActions:{18:[2,1]},parseError:function(str,hash){if(!hash.recoverable){var _parseError=function(msg,hash){this.message=msg,this.hash=hash};throw _parseError.prototype=Error,new _parseError(str,hash)}this.trace(str)},parse:function(input){function popStack(n){stack.length=stack.length-2*n,vstack.length=vstack.length-n,lstack.length=lstack.length-n}var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,"undefined"==typeof lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,lex=function(){var token;return token=lexer.lex()||EOF,"number"!=typeof token&&(token=self.symbols_[token]||token),token},yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null!==symbol&&"undefined"!=typeof symbol||(symbol=lex()),action=table[state]&&table[state][symbol]),"undefined"==typeof action||!action.length||!action[0]){var error_rule_depth,locateNearestErrorRecoveryRule=function(state){for(var stack_probe=stack.length-1,depth=0;;){if(TERROR.toString()in table[state])return depth;if(0===state||stack_probe<2)return!1;stack_probe-=2,state=stack[stack_probe],++depth}},errStr="";if(recovering)preErrorSymbol!==EOF&&(error_rule_depth=locateNearestErrorRecoveryRule(state));else{error_rule_depth=locateNearestErrorRecoveryRule(state),expected=[];for(p in table[state])this.terminals_[p]&&p>TERROR&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(symbol==EOF?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected:expected,recoverable:error_rule_depth!==!1})}if(3==recovering){if(symbol===EOF||preErrorSymbol===EOF)throw new Error(errStr||"Parsing halted while starting to recover from another error.");yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,symbol=lex()}if(error_rule_depth===!1)throw new Error(errStr||"Parsing halted. No suitable error recovery rule available.");popStack(error_rule_depth),preErrorSymbol=symbol==TERROR?null:symbol,symbol=TERROR,state=stack[stack.length-1],action=table[state]&&table[state][TERROR],recovering=3}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args)),"undefined"!=typeof r)return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer=function(){var lexer={EOF:1,parseError:function(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);return lines?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),lines=match[0].match(/(?:\r\n?|\n).*/g),lines&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var token,match,tempMatch,index;this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if(tempMatch=this._input.match(this.rules[rules[i]]),tempMatch&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(token=this.test_match(tempMatch,rules[i]),token!==!1)return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?(token=this.test_match(match,rules[index]),token!==!1&&token):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var r=this.next();return r?r:this.lex()},begin:function(condition){this.conditionStack.push(condition)},popState:function(){var n=this.conditionStack.length-1;return n>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(n){return n=this.conditionStack.length-1-Math.abs(n||0),n>=0?this.conditionStack[n]:"INITIAL"},pushState:function(condition){this.begin(condition)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:break;case 1:return 8;case 2:return 8;case 3:return 21;case 4:return 35;case 5:return 24;case 6:return 26;case 7:return 26;case 8:return 25;case 9:return 21;case 10:return 31;case 11:return 31;case 12:return 33;case 13:return 28;case 14:return 9;case 15:return" ";case 16:return 32;case 17:return 27;case 18:return 29;case 19:return 30;case 20:return 18;case 21:return 19;case 22:return 17;case 23:return 11;case 24:return 20;case 25:return 12;case 26:return 13;case 27:return 15;case 28:return 14;case 29:return 16;case 30:return'"';case 31:return"'";case 32:return"!";case 33:return 10;case 34:return 34;case 35:return"#";case 36:return 5}},rules:[/^(?:\s+)/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:[A-Za-z]{1,}[A-Za-z_0-9\.]+(?=[(]))/,/^(?:#[A-Z0-9\/]+(!|\?)?)/,/^(?:\$[A-Za-z]+\$[0-9]+)/,/^(?:\$[A-Za-z]+[0-9]+)/,/^(?:[A-Za-z]+\$[0-9]+)/,/^(?:[A-Za-z]+[0-9]+)/,/^(?:[A-Za-z\.]+(?=[(]))/,/^(?:[A-Za-z]{1,}[A-Za-z_0-9]+)/,/^(?:[A-Za-z_]+)/,/^(?:[0-9]+)/,/^(?:\[(.*)?\])/,/^(?:&)/,/^(?: )/,/^(?:[.])/,/^(?::)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\/)/,/^(?:-)/,/^(?:\+)/,/^(?:\^)/,/^(?:\()/,/^(?:\))/,/^(?:>)/,/^(?:<)/,/^(?:NOT\b)/,/^(?:")/,/^(?:')/,/^(?:!)/,/^(?:=)/,/^(?:%)/,/^(?:[#])/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],inclusive:!0}}};return lexer}();return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();exports.parser=grammarParser,exports.Parser=grammarParser.Parser,exports.parse=function(){return grammarParser.parse.apply(grammarParser,arguments)},"undefined"!=typeof module&&__webpack_require__.c[__webpack_require__.s]===module&&exports.main(process.argv.slice(1))}).call(exports,__webpack_require__(79)(module),__webpack_require__(15))},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0,exports.rowLabelToIndex=exports.rowIndexToLabel=exports.columnLabelToIndex=exports.columnIndexToLabel=exports.toLabel=exports.extractLabel=exports.error=exports.Parser=exports.ERROR_VALUE=exports.ERROR_REF=exports.ERROR_NUM=exports.ERROR_NULL=exports.ERROR_NOT_AVAILABLE=exports.ERROR_NAME=exports.ERROR_DIV_ZERO=exports.ERROR=exports.SUPPORTED_FORMULAS=void 0;var _parser=__webpack_require__(16),_parser2=_interopRequireDefault(_parser),_supportedFormulas=__webpack_require__(10),_supportedFormulas2=_interopRequireDefault(_supportedFormulas),_error=__webpack_require__(1),_error2=_interopRequireDefault(_error),_cell=__webpack_require__(9);exports.SUPPORTED_FORMULAS=_supportedFormulas2["default"],exports.ERROR=_error.ERROR,exports.ERROR_DIV_ZERO=_error.ERROR_DIV_ZERO,exports.ERROR_NAME=_error.ERROR_NAME,exports.ERROR_NOT_AVAILABLE=_error.ERROR_NOT_AVAILABLE,exports.ERROR_NULL=_error.ERROR_NULL,exports.ERROR_NUM=_error.ERROR_NUM,exports.ERROR_REF=_error.ERROR_REF,exports.ERROR_VALUE=_error.ERROR_VALUE,exports.Parser=_parser2["default"],exports.error=_error2["default"],exports.extractLabel=_cell.extractLabel,exports.toLabel=_cell.toLabel,exports.columnIndexToLabel=_cell.columnIndexToLabel,exports.columnLabelToIndex=_cell.columnLabelToIndex,exports.rowIndexToLabel=_cell.rowIndexToLabel,exports.rowLabelToIndex=_cell.rowLabelToIndex}])})},{}],jsonpatch:[function(_dereq_,module,exports){var jsonpatch,__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OriginalError=Error;!function(jsonpatch){function _equals(a,b){switch("undefined"==typeof a?"undefined":_typeof(a)){case"undefined":case"boolean":case"string":case"number":return a===b;case"object":if(null===a)return null===b;if(_isArray(a)){if(!_isArray(b)||a.length!==b.length)return!1;for(var i=0,l=a.length;i<l;i++)if(!_equals(a[i],b[i]))return!1;return!0}var bKeys=_objectKeys(b),bLength=bKeys.length;if(_objectKeys(a).length!==bLength)return!1;for(var i=0;i<bLength;i++)if(!_equals(a[i],b[i]))return!1;return!0;default:return!1}}function escapePathComponent(str){return str.indexOf("/")===-1&&str.indexOf("~")===-1?str:str.replace(/~/g,"~0").replace(/\//g,"~1")}function getMirror(obj){for(var i=0,ilen=beforeDict.length;i<ilen;i++)if(beforeDict[i].obj===obj)return beforeDict[i]}function getObserverFromMirror(mirror,callback){for(var j=0,jlen=mirror.observers.length;j<jlen;j++)if(mirror.observers[j].callback===callback)return mirror.observers[j].observer}function removeObserverFromMirror(mirror,observer){for(var j=0,jlen=mirror.observers.length;j<jlen;j++)if(mirror.observers[j].observer===observer)return void mirror.observers.splice(j,1)}function unobserve(root,observer){observer.unobserve()}function deepClone(obj){return"object"===("undefined"==typeof obj?"undefined":_typeof(obj))?JSON.parse(JSON.stringify(obj)):obj}function observe(obj,callback){var observer,patches=[],mirror=getMirror(obj);if(mirror?observer=getObserverFromMirror(mirror,callback):(mirror=new Mirror(obj),beforeDict.push(mirror)),observer)return observer;if(observer={},mirror.value=deepClone(obj),callback){observer.callback=callback,observer.next=null;var intervals=this.intervals||[100,1e3,1e4,6e4];if(void 0===intervals.push)throw new OriginalError("jsonpatch.intervals must be an array");var currentInterval=0,dirtyCheck=function(){generate(observer)},fastCheck=function(){clearTimeout(observer.next),observer.next=setTimeout(function(){dirtyCheck(),currentInterval=0,observer.next=setTimeout(slowCheck,intervals[currentInterval++])},0)},slowCheck=function slowCheck(){dirtyCheck(),currentInterval==intervals.length&&(currentInterval=intervals.length-1),observer.next=setTimeout(slowCheck,intervals[currentInterval++])};"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("mousedown",fastCheck),window.addEventListener("mouseup",fastCheck),window.addEventListener("keydown",fastCheck)):(document.documentElement.attachEvent("onmousedown",fastCheck),document.documentElement.attachEvent("onmouseup",fastCheck),document.documentElement.attachEvent("onkeydown",fastCheck))),observer.next=setTimeout(slowCheck,intervals[currentInterval++])}return observer.patches=patches,observer.object=obj,observer.unobserve=function(){generate(observer),clearTimeout(observer.next),removeObserverFromMirror(mirror,observer),"undefined"!=typeof window&&(window.removeEventListener?(window.removeEventListener("mousedown",fastCheck),window.removeEventListener("mouseup",fastCheck),window.removeEventListener("keydown",fastCheck)):(document.documentElement.detachEvent("onmousedown",fastCheck),document.documentElement.detachEvent("onmouseup",fastCheck),document.documentElement.detachEvent("onkeydown",fastCheck)))},mirror.observers.push(new ObserverInfo(callback,observer)),observer}function generate(observer){for(var mirror,i=0,ilen=beforeDict.length;i<ilen;i++)if(beforeDict[i].obj===observer.object){mirror=beforeDict[i];break}_generate(mirror.value,observer.object,observer.patches,""),observer.patches.length&&apply(mirror.value,observer.patches);var temp=observer.patches;return temp.length>0&&(observer.patches=[],observer.callback&&observer.callback(temp)),temp}function _generate(mirror,obj,patches,path){for(var newKeys=_objectKeys(obj),oldKeys=_objectKeys(mirror),changed=!1,deleted=!1,t=oldKeys.length-1;t>=0;t--){var key=oldKeys[t],oldVal=mirror[key];if(obj.hasOwnProperty(key)){var newVal=obj[key];"object"==("undefined"==typeof oldVal?"undefined":_typeof(oldVal))&&null!=oldVal&&"object"==("undefined"==typeof newVal?"undefined":_typeof(newVal))&&null!=newVal?_generate(oldVal,newVal,patches,path+"/"+escapePathComponent(key)):oldVal!=newVal&&(changed=!0,patches.push({op:"replace",path:path+"/"+escapePathComponent(key),value:deepClone(newVal)}))}else patches.push({op:"remove",path:path+"/"+escapePathComponent(key)}),deleted=!0}if(deleted||newKeys.length!=oldKeys.length)for(var t=0;t<newKeys.length;t++){var key=newKeys[t];mirror.hasOwnProperty(key)||patches.push({op:"add",path:path+"/"+escapePathComponent(key),value:deepClone(obj[key])})}}function isInteger(str){for(var charCode,i=0,len=str.length;i<len;){charCode=str.charCodeAt(i);{if(!(charCode>=48&&charCode<=57))return!1;i++}}return!0}function apply(tree,patches,validate){for(var patch,key,result=!1,p=0,plen=patches.length;p<plen;){patch=patches[p],p++;for(var path=patch.path||"",keys=path.split("/"),obj=tree,t=1,len=keys.length,existingPathFragment=void 0;;){if(key=keys[t],validate&&void 0===existingPathFragment&&(void 0===obj[key]?existingPathFragment=keys.slice(0,t).join("/"):t==len-1&&(existingPathFragment=patch.path),void 0!==existingPathFragment&&this.validator(patch,p-1,tree,existingPathFragment)),t++,void 0===key&&t>=len){result=rootOps[patch.op].call(patch,obj,key,tree);break}if(_isArray(obj)){if("-"===key)key=obj.length;else{if(validate&&!isInteger(key))throw new JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",p-1,patch.path,patch);
key=parseInt(key,10)}if(t>=len){if(validate&&"add"===patch.op&&key>obj.length)throw new JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",p-1,patch.path,patch);result=arrOps[patch.op].call(patch,obj,key,tree);break}}else if(key&&key.indexOf("~")!=-1&&(key=key.replace(/~1/g,"/").replace(/~0/g,"~")),t>=len){result=objOps[patch.op].call(patch,obj,key,tree);break}obj=obj[key]}}return result}function compare(tree1,tree2){var patches=[];return _generate(tree1,tree2,patches,""),patches}function hasUndefined(obj){if(void 0===obj)return!0;if("array"==typeof obj||"object"==("undefined"==typeof obj?"undefined":_typeof(obj)))for(var i in obj)if(hasUndefined(obj[i]))return!0;return!1}function validator(operation,index,tree,existingPathFragment){if("object"!==("undefined"==typeof operation?"undefined":_typeof(operation))||null===operation||_isArray(operation))throw new JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",index,operation,tree);if(!objOps[operation.op])throw new JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",index,operation,tree);if("string"!=typeof operation.path)throw new JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",index,operation,tree);if(("move"===operation.op||"copy"===operation.op)&&"string"!=typeof operation.from)throw new JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",index,operation,tree);if(("add"===operation.op||"replace"===operation.op||"test"===operation.op)&&void 0===operation.value)throw new JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",index,operation,tree);if(("add"===operation.op||"replace"===operation.op||"test"===operation.op)&&hasUndefined(operation.value))throw new JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",index,operation,tree);if(tree)if("add"==operation.op){var pathLen=operation.path.split("/").length,existingPathLen=existingPathFragment.split("/").length;if(pathLen!==existingPathLen+1&&pathLen!==existingPathLen)throw new JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",index,operation,tree)}else if("replace"===operation.op||"remove"===operation.op||"_get"===operation.op){if(operation.path!==existingPathFragment)throw new JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",index,operation,tree)}else if("move"===operation.op||"copy"===operation.op){var existingValue={op:"_get",path:operation.from,value:void 0},error=jsonpatch.validate([existingValue],tree);if(error&&"OPERATION_PATH_UNRESOLVABLE"===error.name)throw new JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",index,operation,tree)}}function validate(sequence,tree){try{if(!_isArray(sequence))throw new JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(tree)tree=JSON.parse(JSON.stringify(tree)),apply.call(this,tree,sequence,!0);else for(var i=0;i<sequence.length;i++)this.validator(sequence[i],i)}catch(e){if(e instanceof JsonPatchError)return e;throw e}}var _objectKeys=function(obj){if(_isArray(obj)){for(var keys=new Array(obj.length),k=0;k<keys.length;k++)keys[k]=""+k;return keys}if(Object.keys)return Object.keys(obj);var keys=[];for(var i in obj)obj.hasOwnProperty(i)&&keys.push(i);return keys},objOps={add:function(obj,key){return obj[key]=this.value,!0},remove:function(obj,key){return delete obj[key],!0},replace:function(obj,key){return obj[key]=this.value,!0},move:function(obj,key,tree){var temp={op:"_get",path:this.from};return apply(tree,[temp]),apply(tree,[{op:"remove",path:this.from}]),apply(tree,[{op:"add",path:this.path,value:temp.value}]),!0},copy:function(obj,key,tree){var temp={op:"_get",path:this.from};return apply(tree,[temp]),apply(tree,[{op:"add",path:this.path,value:temp.value}]),!0},test:function(obj,key){return _equals(obj[key],this.value)},_get:function(obj,key){this.value=obj[key]}},arrOps={add:function(arr,i){return arr.splice(i,0,this.value),!0},remove:function(arr,i){return arr.splice(i,1),!0},replace:function(arr,i){return arr[i]=this.value,!0},move:objOps.move,copy:objOps.copy,test:objOps.test,_get:objOps._get},rootOps={add:function(obj){rootOps.remove.call(this,obj);for(var key in this.value)this.value.hasOwnProperty(key)&&(obj[key]=this.value[key]);return!0},remove:function(obj){for(var key in obj)obj.hasOwnProperty(key)&&objOps.remove.call(this,obj,key);return!0},replace:function(obj){return apply(obj,[{op:"remove",path:this.path}]),apply(obj,[{op:"add",path:this.path,value:this.value}]),!0},move:objOps.move,copy:objOps.copy,test:function(obj){return JSON.stringify(obj)===JSON.stringify(this.value)},_get:function(obj){this.value=obj}},beforeDict=[],Mirror=function(){function Mirror(obj){this.observers=[],this.obj=obj}return Mirror}(),ObserverInfo=function(){function ObserverInfo(callback,observer){this.callback=callback,this.observer=observer}return ObserverInfo}();jsonpatch.unobserve=unobserve,jsonpatch.observe=observe,jsonpatch.generate=generate;var _isArray;_isArray=Array.isArray?Array.isArray:function(obj){return obj.push&&"number"==typeof obj.length},jsonpatch.apply=apply,jsonpatch.compare=compare;var JsonPatchError=function(_super){function JsonPatchError(message,name,index,operation,tree){_super.call(this,message),this.message=message,this.name=name,this.index=index,this.operation=operation,this.tree=tree}return __extends(JsonPatchError,_super),JsonPatchError}(OriginalError);jsonpatch.JsonPatchError=JsonPatchError,jsonpatch.Error=JsonPatchError,jsonpatch.validator=validator,jsonpatch.validate=validate}(jsonpatch||(jsonpatch={})),"undefined"!=typeof exports&&(exports.apply=jsonpatch.apply,exports.observe=jsonpatch.observe,exports.unobserve=jsonpatch.unobserve,exports.generate=jsonpatch.generate,exports.compare=jsonpatch.compare,exports.validate=jsonpatch.validate,exports.validator=jsonpatch.validator,exports.JsonPatchError=jsonpatch.JsonPatchError,exports.Error=jsonpatch.Error)},{}],moment:[function(_dereq_,module,exports){!function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.moment=factory()}(this,function(){function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return input instanceof Array||"[object Array]"===Object.prototype.toString.call(input)}function isObject(input){return null!=input&&"[object Object]"===Object.prototype.toString.call(input)}function isObjectEmpty(obj){var k;for(k in obj)return!1;return!0}function isNumber(input){return"number"==typeof input||"[object Number]"===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function getParsingFlags(m){return null==m._pf&&(m._pf=defaultParsingFlags()),m._pf}function isValid(m){if(null==m._isValid){var flags=getParsingFlags(m),parsedParts=some$1.call(flags.parsedDateParts,function(i){return null!=i}),isNowValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||flags.meridiem&&parsedParts);if(m._strict&&(isNowValid=isNowValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour),null!=Object.isFrozen&&Object.isFrozen(m))return isNowValid;m._isValid=isNowValid}return m._isValid}function createInvalid(flags){var m=createUTC(NaN);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}function isUndefined(input){return void 0===input}function copyConfig(to,from){var i,prop,val;if(isUndefined(from._isAMomentObject)||(to._isAMomentObject=from._isAMomentObject),isUndefined(from._i)||(to._i=from._i),isUndefined(from._f)||(to._f=from._f),isUndefined(from._l)||(to._l=from._l),isUndefined(from._strict)||(to._strict=from._strict),isUndefined(from._tzm)||(to._tzm=from._tzm),isUndefined(from._isUTC)||(to._isUTC=from._isUTC),isUndefined(from._offset)||(to._offset=from._offset),isUndefined(from._pf)||(to._pf=getParsingFlags(from)),isUndefined(from._locale)||(to._locale=from._locale),momentProperties.length>0)for(i in momentProperties)prop=momentProperties[i],val=from[prop],isUndefined(val)||(to[prop]=val);return to}function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return number<0?Math.ceil(number)||0:Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;i<len;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function warn(msg){hooks.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,msg),firstTime){for(var arg,args=[],i=0;i<arguments.length;i++){if(arg="","object"===_typeof(arguments[i])){arg+="\n["+i+"] ";for(var key in arguments[0])arg+=key+": "+arguments[0][key]+", ";arg=arg.slice(0,-2)}else arg=arguments[i];args.push(arg)}warn(msg+"\nArguments: "+Array.prototype.slice.call(args).join("")+"\n"+(new Error).stack),firstTime=!1}return fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){null!=hooks.deprecationHandler&&hooks.deprecationHandler(name,msg),deprecations[name]||(warn(msg),deprecations[name]=!0)}function isFunction(input){return input instanceof Function||"[object Function]"===Object.prototype.toString.call(input)}function set(config){var prop,i;for(i in config)prop=config[i],isFunction(prop)?this[i]=prop:this["_"+i]=prop;this._config=config,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function mergeConfigs(parentConfig,childConfig){var prop,res=extend({},parentConfig);for(prop in childConfig)hasOwnProp(childConfig,prop)&&(isObject(parentConfig[prop])&&isObject(childConfig[prop])?(res[prop]={},extend(res[prop],parentConfig[prop]),extend(res[prop],childConfig[prop])):null!=childConfig[prop]?res[prop]=childConfig[prop]:delete res[prop]);for(prop in parentConfig)hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])&&(res[prop]=extend({},res[prop]));return res}function Locale(config){null!=config&&this.set(config)}function calendar(key,mom,now){var output=this._calendar[key]||this._calendar.sameElse;return isFunction(output)?output.call(mom,now):output}function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])}function invalidDate(){return this._invalidDate}function ordinal(number){return this._ordinal.replace("%d",number)}function relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)}function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function addUnitPriority(unit,priority){priorities[unit]=priority}function getPrioritizedUnits(unitsObj){var units=[];for(var u in unitsObj)units.push({unit:u,priority:priorities[u]});return units.sort(function(a,b){return a.priority-b.priority}),units}function makeGetSet(unit,keepTime){return function(value){return null!=value?(set$1(this,unit,value),hooks.updateOffset(this,keepTime),this):get(this,unit)}}function get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function set$1(mom,unit,value){mom.isValid()&&mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function stringGet(units){return units=normalizeUnits(units),isFunction(this[units])?this[units]():this}function stringSet(units,value){if("object"===("undefined"==typeof units?"undefined":_typeof(units))){units=normalizeObjectUnits(units);for(var prioritized=getPrioritizedUnits(units),i=0;i<prioritized.length;i++)this[prioritized[i].unit](units[prioritized[i].unit])}else if(units=normalizeUnits(units),isFunction(this[units]))return this[units](value);return this}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;i<length;i++)formatTokenFunctions[array[i]]?array[i]=formatTokenFunctions[array[i]]:array[i]=removeFormattingTokens(array[i]);return function(mom){var i,output="";for(i=0;i<length;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(unescapeFormat(token))}function unescapeFormat(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),isNumber(callback)&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function localeMonths(m,format){return m?isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?"format":"standalone"][m.month()]:this._months}function localeMonthsShort(m,format){return m?isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]:this._monthsShort}function handleStrictParse(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)mom=createUTC([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(mom,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(mom,"").toLocaleLowerCase();return strict?"MMM"===format?(ii=indexOf$1.call(this._shortMonthsParse,llc),ii!==-1?ii:null):(ii=indexOf$1.call(this._longMonthsParse,llc),ii!==-1?ii:null):"MMM"===format?(ii=indexOf$1.call(this._shortMonthsParse,llc),ii!==-1?ii:(ii=indexOf$1.call(this._longMonthsParse,llc),ii!==-1?ii:null)):(ii=indexOf$1.call(this._longMonthsParse,llc),ii!==-1?ii:(ii=indexOf$1.call(this._shortMonthsParse,llc),ii!==-1?ii:null))}function localeMonthsParse(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact)return handleStrictParse.call(this,monthName,format,strict);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(mom=createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}}function setMonth(mom,value){var dayOfMonth;if(!mom.isValid())return mom;if("string"==typeof value)if(/^\d+$/.test(value))value=toInt(value);else if(value=mom.localeData().monthsParse(value),!isNumber(value))return mom;return dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom}function getSetMonth(value){return null!=value?(setMonth(this,value),hooks.updateOffset(this,!0),this):get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<12;i++)mom=createUTC([2e3,i]),shortPieces.push(this.monthsShort(mom,"")),longPieces.push(this.months(mom,"")),mixedPieces.push(this.months(mom,"")),mixedPieces.push(this.monthsShort(mom,""));for(shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<12;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]);for(i=0;i<24;i++)mixedPieces[i]=regexEscape(mixedPieces[i]);this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i")}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function getIsLeapYear(){return isLeapYear(this.year())}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return y<100&&y>=0&&isFinite(date.getFullYear())&&date.setFullYear(y),date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return y<100&&y>=0&&isFinite(date.getUTCFullYear())&&date.setUTCFullYear(y),date}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy,fwdlw=(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7;return-fwdlw+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var resYear,resDayOfYear,localWeekday=(7+weekday-dow)%7,weekOffset=firstWeekOffset(year,dow,doy),dayOfYear=1+7*(week-1)+localWeekday+weekOffset;return dayOfYear<=0?(resYear=year-1,resDayOfYear=daysInYear(resYear)+dayOfYear):dayOfYear>daysInYear(year)?(resYear=year+1,resDayOfYear=dayOfYear-daysInYear(year)):(resYear=year,resDayOfYear=dayOfYear),{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var resWeek,resYear,weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1;return week<1?(resYear=mom.year()-1,resWeek=week+weeksInYear(resYear,dow,doy)):week>weeksInYear(mom.year(),dow,doy)?(resWeek=week-weeksInYear(mom.year(),dow,doy),resYear=mom.year()+1):(resYear=mom.year(),resWeek=week),{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")}function parseWeekday(input,locale){return"string"!=typeof input?input:isNaN(input)?(input=locale.weekdaysParse(input),"number"==typeof input?input:null):parseInt(input,10)}function parseIsoWeekday(input,locale){return"string"==typeof input?locale.weekdaysParse(input)%7||7:isNaN(input)?null:input}function localeWeekdays(m,format){return m?isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?"format":"standalone"][m.day()]:this._weekdays}function localeWeekdaysShort(m){return m?this._weekdaysShort[m.day()]:this._weekdaysShort}function localeWeekdaysMin(m){return m?this._weekdaysMin[m.day()]:this._weekdaysMin}function handleStrictParse$1(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)mom=createUTC([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(mom,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(mom,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(mom,"").toLocaleLowerCase();return strict?"dddd"===format?(ii=indexOf$1.call(this._weekdaysParse,llc),ii!==-1?ii:null):"ddd"===format?(ii=indexOf$1.call(this._shortWeekdaysParse,llc),ii!==-1?ii:null):(ii=indexOf$1.call(this._minWeekdaysParse,llc),ii!==-1?ii:null):"dddd"===format?(ii=indexOf$1.call(this._weekdaysParse,llc),ii!==-1?ii:(ii=indexOf$1.call(this._shortWeekdaysParse,llc),ii!==-1?ii:(ii=indexOf$1.call(this._minWeekdaysParse,llc),ii!==-1?ii:null))):"ddd"===format?(ii=indexOf$1.call(this._shortWeekdaysParse,llc),ii!==-1?ii:(ii=indexOf$1.call(this._weekdaysParse,llc),ii!==-1?ii:(ii=indexOf$1.call(this._minWeekdaysParse,llc),ii!==-1?ii:null))):(ii=indexOf$1.call(this._minWeekdaysParse,llc),ii!==-1?ii:(ii=indexOf$1.call(this._weekdaysParse,llc),ii!==-1?ii:(ii=indexOf$1.call(this._shortWeekdaysParse,llc),ii!==-1?ii:null)))}function localeWeekdaysParse(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,weekdayName,format,strict);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(mom=createUTC([2e3,1]).day(i),strict&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"dddd"===format&&this._fullWeekdaysParse[i].test(weekdayName))return i;if(strict&&"ddd"===format&&this._shortWeekdaysParse[i].test(weekdayName))return i;if(strict&&"dd"===format&&this._minWeekdaysParse[i].test(weekdayName))return i;if(!strict&&this._weekdaysParse[i].test(weekdayName))return i}}function getSetDayOfWeek(input){if(!this.isValid())return null!=input?this:NaN;var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day}function getSetLocaleDayOfWeek(input){if(!this.isValid())return null!=input?this:NaN;var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){if(!this.isValid())return null!=input?this:NaN;if(null!=input){var weekday=parseIsoWeekday(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7)}return this.day()||7}function weekdaysRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,minp,shortp,longp,minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<7;i++)mom=createUTC([2e3,1]).day(i),minp=this.weekdaysMin(mom,""),shortp=this.weekdaysShort(mom,""),longp=this.weekdays(mom,""),minPieces.push(minp),shortPieces.push(shortp),longPieces.push(longp),mixedPieces.push(minp),mixedPieces.push(shortp),mixedPieces.push(longp);for(minPieces.sort(cmpLenRev),shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<7;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]),mixedPieces[i]=regexEscape(mixedPieces[i]);this._weekdaysRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+minPieces.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function localeIsPM(input){return"p"===(input+"").toLowerCase().charAt(0)}function localeMeridiem(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&"undefined"!=typeof module&&module&&module.exports)try{oldLocale=globalLocale._abbr,_dereq_("./locale/"+name),getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function getSetGlobalLocale(key,values){var data;return key&&(data=isUndefined(values)?getLocale(key):defineLocale(key,values),data&&(globalLocale=data)),globalLocale._abbr}function defineLocale(name,config){if(null!==config){var parentConfig=baseConfig;if(config.abbr=name,null!=locales[name])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),parentConfig=locales[name]._config;else if(null!=config.parentLocale){if(null==locales[config.parentLocale])return localeFamilies[config.parentLocale]||(localeFamilies[config.parentLocale]=[]),localeFamilies[config.parentLocale].push({name:name,config:config}),null;parentConfig=locales[config.parentLocale]._config}return locales[name]=new Locale(mergeConfigs(parentConfig,config)),localeFamilies[name]&&localeFamilies[name].forEach(function(x){defineLocale(x.name,x.config)}),getSetGlobalLocale(name),locales[name]}return delete locales[name],null}function updateLocale(name,config){if(null!=config){var locale,parentConfig=baseConfig;null!=locales[name]&&(parentConfig=locales[name]._config),
config=mergeConfigs(parentConfig,config),locale=new Locale(config),locale.parentLocale=locales[name],locales[name]=locale,getSetGlobalLocale(name)}else null!=locales[name]&&(null!=locales[name].parentLocale?locales[name]=locales[name].parentLocale:null!=locales[name]&&delete locales[name]);return locales[name]}function getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)}function listLocales(){return keys$1(locales)}function checkOverflow(m){var overflow,a=m._a;return a&&getParsingFlags(m).overflow===-2&&(overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)&&(overflow=DATE),getParsingFlags(m)._overflowWeeks&&overflow===-1&&(overflow=WEEK),getParsingFlags(m)._overflowWeekday&&overflow===-1&&(overflow=WEEKDAY),getParsingFlags(m).overflow=overflow),m}function configFromISO(config){var i,l,allowTime,dateFormat,timeFormat,tzFormat,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;i<l;i++)if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0],allowTime=isoDates[i][2]!==!1;break}if(null==dateFormat)return void(config._isValid=!1);if(match[3]){for(i=0,l=isoTimes.length;i<l;i++)if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}if(null==timeFormat)return void(config._isValid=!1)}if(!allowTime&&null!=timeFormat)return void(config._isValid=!1);if(match[4]){if(!tzRegex.exec(match[4]))return void(config._isValid=!1);tzFormat="Z"}config._f=dateFormat+(timeFormat||"")+(tzFormat||""),configFromStringAndFormat(config)}else config._isValid=!1}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);return null!==matched?void(config._d=new Date((+matched[1]))):(configFromISO(config),void(config._isValid===!1&&(delete config._isValid,hooks.createFromInputFallback(config))))}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function currentDateArray(config){var nowValue=new Date(hooks.now());return config._useUTC?[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]:[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}function configFromArray(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;i<3&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;i<7;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:createDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;if(w=config._w,null!=w.GG||null!=w.W||null!=w.E)dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(createLocal(),1,4).year),week=defaults(w.W,1),weekday=defaults(w.E,1),(weekday<1||weekday>7)&&(weekdayOverflow=!0);else{dow=config._locale._week.dow,doy=config._locale._week.doy;var curWeek=weekOfYear(createLocal(),dow,doy);weekYear=defaults(w.gg,config._a[YEAR],curWeek.year),week=defaults(w.w,curWeek.week),null!=w.d?(weekday=w.d,(weekday<0||weekday>6)&&(weekdayOverflow=!0)):null!=w.e?(weekday=w.e+dow,(w.e<0||w.e>6)&&(weekdayOverflow=!0)):weekday=dow}week<1||week>weeksInYear(weekYear,dow,doy)?getParsingFlags(config)._overflowWeeks=!0:null!=weekdayOverflow?getParsingFlags(config)._overflowWeekday=!0:(temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear)}function configFromStringAndFormat(config){if(config._f===hooks.ISO_8601)return void configFromISO(config);config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&getParsingFlags(config).unusedInput.push(string),config._a[HOUR]<=12&&getParsingFlags(config).bigHour===!0&&config._a[HOUR]>0&&(getParsingFlags(config).bigHour=void 0),getParsingFlags(config).parsedDateParts=config._a.slice(0),getParsingFlags(config).meridiem=config._meridiem,config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):null!=locale.isPM?(isPm=locale.isPM(meridiem),isPm&&hour<12&&(hour+=12),isPm||12!==hour||(hour=0),hour):hour}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(NaN));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||currentScore<scoreToBeat)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function configFromObject(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)}),configFromArray(config)}}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||getLocale(config._l),null===input||void 0===format&&""===input?createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isDate(input)?config._d=input:isArray(format)?configFromStringAndArray(config):format?configFromStringAndFormat(config):configFromInput(config),isValid(config)||(config._d=null),config))}function configFromInput(config){var input=config._i;void 0===input?config._d=new Date(hooks.now()):isDate(input)?config._d=new Date(input.valueOf()):"string"==typeof input?configFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):"object"===("undefined"==typeof input?"undefined":_typeof(input))?configFromObject(config):isNumber(input)?config._d=new Date(input):hooks.createFromInputFallback(config)}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return locale!==!0&&locale!==!1||(strict=locale,locale=void 0),(isObject(input)&&isObjectEmpty(input)||isArray(input)&&0===input.length)&&(input=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,createFromConfig(c)}function createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return createLocal();for(res=moments[0],i=1;i<moments.length;++i)moments[i].isValid()&&!moments[i][fn](res)||(res=moments[i]);return res}function min(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)}function max(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+1e3*hours*60*60,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function absRound(number){return number<0?Math.round(-1*number)*-1:Math.round(number)}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return offset<0&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}function offsetFromString(matcher,string){var matches=(string||"").match(matcher);if(null===matches)return null;var chunk=matches[matches.length-1]||[],parts=(chunk+"").match(chunkOffset)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return 0===minutes?0:"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?input.valueOf():createLocal(input).valueOf())-res.valueOf(),res._d.setTime(res._d.valueOf()+diff),hooks.updateOffset(res,!1),res):createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function getSetOffset(input,keepLocalTime){var localAdjust,offset=this._offset||0;if(!this.isValid())return null!=input?this:NaN;if(null!=input){if("string"==typeof input){if(input=offsetFromString(matchShortOffset,input),null===input)return this}else Math.abs(input)<16&&(input=60*input);return!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?addSubtract(this,createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?offset:getDateOffset(this)}function getSetZone(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var tZone=offsetFromString(matchOffset,this._i);null!=tZone?this.utcOffset(tZone):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(input){return!!this.isValid()&&(input=input?createLocal(input).utcOffset():0,(this.utcOffset()-input)%60===0)}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var c={};if(copyConfig(c,this),c=prepareConfig(c),c._a){var other=c._isUTC?createUTC(c._a):createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return!!this.isValid()&&!this._isUTC}function isUtcOffset(){return!!this.isValid()&&this._isUTC}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:isNumber(input)?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(absRound(1e3*match[MILLISECOND]))*sign}):(match=isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}):null==duration?duration={}:"object"===("undefined"==typeof duration?"undefined":_typeof(duration))&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(createLocal(duration.from),createLocal(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return base.isValid()&&other.isValid()?(other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res):{milliseconds:0,months:0}}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=createDuration(val,period),addSubtract(this,dur,direction),this}}function addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);mom.isValid()&&(updateOffset=null==updateOffset||updateOffset,milliseconds&&mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding),days&&set$1(mom,"Date",get(mom,"Date")+days*isAdding),months&&setMonth(mom,get(mom,"Month")+months*isAdding),updateOffset&&hooks.updateOffset(mom,days||months))}function getCalendarFormat(myMoment,now){var diff=myMoment.diff(now,"days",!0);return diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse"}function calendar$1(time,formats){var now=time||createLocal(),sod=cloneWithOffset(now,this).startOf("day"),format=hooks.calendarFormat(this,sod)||"sameElse",output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&(units=normalizeUnits(isUndefined(units)?"millisecond":units),"millisecond"===units?this.valueOf()>localInput.valueOf():localInput.valueOf()<this.clone().startOf(units).valueOf())}function isBefore(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&(units=normalizeUnits(isUndefined(units)?"millisecond":units),"millisecond"===units?this.valueOf()<localInput.valueOf():this.clone().endOf(units).valueOf()<localInput.valueOf())}function isBetween(from,to,units,inclusivity){return inclusivity=inclusivity||"()",("("===inclusivity[0]?this.isAfter(from,units):!this.isBefore(from,units))&&(")"===inclusivity[1]?this.isBefore(to,units):!this.isAfter(to,units))}function isSame(input,units){var inputMs,localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&(units=normalizeUnits(units||"millisecond"),"millisecond"===units?this.valueOf()===localInput.valueOf():(inputMs=localInput.valueOf(),this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf()))}function isSameOrAfter(input,units){return this.isSame(input,units)||this.isAfter(input,units)}function isSameOrBefore(input,units){return this.isSame(input,units)||this.isBefore(input,units)}function diff(input,units,asFloat){var that,zoneDelta,delta,output;return this.isValid()?(that=cloneWithOffset(input,this),that.isValid()?(zoneDelta=6e4*(that.utcOffset()-this.utcOffset()),units=normalizeUnits(units),"year"===units||"month"===units||"quarter"===units?(output=monthDiff(this,that),"quarter"===units?output/=3:"year"===units&&(output/=12)):(delta=this-that,output="second"===units?delta/1e3:"minute"===units?delta/6e4:"hour"===units?delta/36e5:"day"===units?(delta-zoneDelta)/864e5:"week"===units?(delta-zoneDelta)/6048e5:delta),asFloat?output:absFloor(output)):NaN):NaN}function monthDiff(a,b){var anchor2,adjust,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return b-anchor<0?(anchor2=a.clone().add(wholeMonthDiff-1,"months"),adjust=(b-anchor)/(anchor-anchor2)):(anchor2=a.clone().add(wholeMonthDiff+1,"months"),adjust=(b-anchor)/(anchor2-anchor)),-(wholeMonthDiff+adjust)||0}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(){var m=this.clone().utc();return 0<m.year()&&m.year()<=9999?isFunction(Date.prototype.toISOString)?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var func="moment",zone="";this.isLocal()||(func=0===this.utcOffset()?"moment.utc":"moment.parseZone",zone="Z");var prefix="["+func+'("]',year=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",datetime="-MM-DD[T]HH:mm:ss.SSS",suffix=zone+'[")]';return this.format(prefix+year+datetime+suffix)}function format(inputString){inputString||(inputString=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var output=formatMoment(this,inputString);return this.localeData().postformat(output)}function from(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function fromNow(withoutSuffix){return this.from(createLocal(),withoutSuffix)}function to(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function toNow(withoutSuffix){return this.to(createLocal(),withoutSuffix)}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(newLocaleData=getLocale(key),null!=newLocaleData&&(this._locale=newLocaleData),this)}function localeData(){return this._locale}function startOf(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this}function endOf(units){return units=normalizeUnits(units),void 0===units||"millisecond"===units?this:("date"===units&&(units="day"),this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms"))}function valueOf(){return this._d.valueOf()-6e4*(this._offset||0)}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$1(){return isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function getSetWeekYear(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;return null==input?weekOfYear(this,dow,doy).year:(weeksTarget=weeksInYear(input,dow,doy),week>weeksTarget&&(week=weeksTarget),setWeekAll.call(this,input,week,weekday,dow,doy))}function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);return this.year(date.getUTCFullYear()),this.month(date.getUTCMonth()),this.date(date.getUTCDate()),this}function getSetQuarter(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)}function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")}function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function createUnix(input){return createLocal(1e3*input)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(string){return string}function get$1(format,index,field,setter){var locale=getLocale(),utc=createUTC().set(setter,index);return locale[field](utc,format)}function listMonthsImpl(format,index,field){if(isNumber(format)&&(index=format,format=void 0),format=format||"",null!=index)return get$1(format,index,field,"month");var i,out=[];for(i=0;i<12;i++)out[i]=get$1(format,i,field,"month");return out}function listWeekdaysImpl(localeSorted,format,index,field){"boolean"==typeof localeSorted?(isNumber(format)&&(index=format,format=void 0),format=format||""):(format=localeSorted,index=format,localeSorted=!1,isNumber(format)&&(index=format,format=void 0),format=format||"");var locale=getLocale(),shift=localeSorted?locale._week.dow:0;if(null!=index)return get$1(format,(index+shift)%7,field,"day");var i,out=[];for(i=0;i<7;i++)out[i]=get$1(format,(i+shift)%7,field,"day");return out}function listMonths(format,index){return listMonthsImpl(format,index,"months")}function listMonthsShort(format,index){return listMonthsImpl(format,index,"monthsShort")}function listWeekdays(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")}function listWeekdaysShort(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")}function listWeekdaysMin(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")}function abs(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this}function addSubtract$1(duration,input,value,direction){var other=createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function add$1(input,value){return addSubtract$1(this,input,value,1)}function subtract$1(input,value){return addSubtract$1(this,input,value,-1)}function absCeil(number){return number<0?Math.floor(number):Math.ceil(number)}function bubble(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return milliseconds>=0&&days>=0&&months>=0||milliseconds<=0&&days<=0&&months<=0||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function as(units){var days,months,milliseconds=this._milliseconds;if(units=normalizeUnits(units),"month"===units||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}}function valueOf$1(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)}function makeAs(alias){return function(){return this.as(alias)}}function get$2(units){return units=normalizeUnits(units),this[units+"s"]()}function makeGetter(name){return function(){return this._data[name]}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime$1(posNegDuration,withoutSuffix,locale){var duration=createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<thresholds.s&&["s",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days]||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=+posNegDuration>0,a[4]=locale,substituteTimeAgo.apply(null,a)}function getSetRelativeTimeRounding(roundingFunction){return void 0===roundingFunction?round:"function"==typeof roundingFunction&&(round=roundingFunction,!0)}function getSetRelativeTimeThreshold(threshold,limit){return void 0!==thresholds[threshold]&&(void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,!0))}function humanize(withSuffix){var locale=this.localeData(),output=relativeTime$1(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)}function toISOString$1(){var minutes,hours,years,seconds=abs$1(this._milliseconds)/1e3,days=abs$1(this._days),months=abs$1(this._months);minutes=absFloor(seconds/60),hours=absFloor(minutes/60),seconds%=60,minutes%=60,years=absFloor(months/12),months%=12;var Y=years,M=months,D=days,h=hours,m=minutes,s=seconds,total=this.asSeconds();return total?(total<0?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":""):"P0D"}var hookCallback,some;some=Array.prototype.some?Array.prototype.some:function(fun){for(var t=Object(this),len=t.length>>>0,i=0;i<len;i++)if(i in t&&fun.call(this,t[i],i,t))return!0;return!1};var some$1=some,momentProperties=hooks.momentProperties=[],updateInProgress=!1,deprecations={};hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null;var keys;keys=Object.keys?Object.keys:function(obj){var i,res=[];for(i in obj)hasOwnProp(obj,i)&&res.push(i);return res};var indexOf,keys$1=keys,defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},defaultInvalidDate="Invalid date",defaultOrdinal="%d",defaultOrdinalParse=/\d{1,2}/,defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},aliases={},priorities={},formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={},tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;indexOf=Array.prototype.indexOf?Array.prototype.indexOf:function(o){var i;for(i=0;i<this.length;++i)if(this[i]===o)return i;return-1};var indexOf$1=indexOf;addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict);
}),addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)}),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;addFormatToken("Y",0,0,function(){var y=this.year();return y<=9999?""+y:"+"+y}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=hooks.parseTwoDigitYear(input)}),addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)}),hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});var defaultLocaleWeek={dow:0,doy:6};addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",function(isStrict,locale){return locale.weekdaysMinRegex(isStrict)}),addRegexToken("ddd",function(isStrict,locale){return locale.weekdaysShortRegex(isStrict)}),addRegexToken("dddd",function(isStrict,locale){return locale.weekdaysRegex(isStrict)}),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addRegexToken("hmm",match3to4),addRegexToken("hmmss",match5to6),addRegexToken("Hmm",match3to4),addRegexToken("Hmmss",match5to6),addParseToken(["H","HH"],HOUR),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0}),addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos)),getParsingFlags(config).bigHour=!0}),addParseToken("hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2)),getParsingFlags(config).bigHour=!0}),addParseToken("Hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos))}),addParseToken("Hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2))});var globalLocale,defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0),baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,ordinalParse:defaultOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;hooks.createFromInputFallback=deprecate("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),hooks.ISO_8601=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other<this?this:other:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other>this?this:other:createInvalid()}),now=function(){return Date.now?Date.now():+new Date};offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;hooks.updateOffset=function(){};var aspNetRegex=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,isoRegex=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;createDuration.fn=Duration.prototype;var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var proto=Moment.prototype;proto.add=add,proto.calendar=calendar$1,proto.clone=clone,proto.diff=diff,proto.endOf=endOf,proto.format=format,proto.from=from,proto.fromNow=fromNow,proto.to=to,proto.toNow=toNow,proto.get=stringGet,proto.invalidAt=invalidAt,proto.isAfter=isAfter,proto.isBefore=isBefore,proto.isBetween=isBetween,proto.isSame=isSame,proto.isSameOrAfter=isSameOrAfter,proto.isSameOrBefore=isSameOrBefore,proto.isValid=isValid$1,proto.lang=lang,proto.locale=locale,proto.localeData=localeData,proto.max=prototypeMax,proto.min=prototypeMin,proto.parsingFlags=parsingFlags,proto.set=stringSet,proto.startOf=startOf,proto.subtract=subtract,proto.toArray=toArray,proto.toObject=toObject,proto.toDate=toDate,proto.toISOString=toISOString,proto.inspect=inspect,proto.toJSON=toJSON,proto.toString=toString,proto.unix=unix,proto.valueOf=valueOf,proto.creationData=creationData,proto.year=getSetYear,proto.isLeapYear=getIsLeapYear,proto.weekYear=getSetWeekYear,proto.isoWeekYear=getSetISOWeekYear,proto.quarter=proto.quarters=getSetQuarter,proto.month=getSetMonth,proto.daysInMonth=getDaysInMonth,proto.week=proto.weeks=getSetWeek,proto.isoWeek=proto.isoWeeks=getSetISOWeek,proto.weeksInYear=getWeeksInYear,proto.isoWeeksInYear=getISOWeeksInYear,proto.date=getSetDayOfMonth,proto.day=proto.days=getSetDayOfWeek,proto.weekday=getSetLocaleDayOfWeek,proto.isoWeekday=getSetISODayOfWeek,proto.dayOfYear=getSetDayOfYear,proto.hour=proto.hours=getSetHour,proto.minute=proto.minutes=getSetMinute,proto.second=proto.seconds=getSetSecond,proto.millisecond=proto.milliseconds=getSetMillisecond,proto.utcOffset=getSetOffset,proto.utc=setOffsetToUTC,proto.local=setOffsetToLocal,proto.parseZone=setOffsetToParsedOffset,proto.hasAlignedHourOffset=hasAlignedHourOffset,proto.isDST=isDaylightSavingTime,proto.isLocal=isLocal,proto.isUtcOffset=isUtcOffset,proto.isUtc=isUtc,proto.isUTC=isUtc,proto.zoneAbbr=getZoneAbbr,proto.zoneName=getZoneName,proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone),proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);var proto$1=Locale.prototype;proto$1.calendar=calendar,proto$1.longDateFormat=longDateFormat,proto$1.invalidDate=invalidDate,proto$1.ordinal=ordinal,proto$1.preparse=preParsePostFormat,proto$1.postformat=preParsePostFormat,proto$1.relativeTime=relativeTime,proto$1.pastFuture=pastFuture,proto$1.set=set,proto$1.months=localeMonths,proto$1.monthsShort=localeMonthsShort,proto$1.monthsParse=localeMonthsParse,proto$1.monthsRegex=monthsRegex,proto$1.monthsShortRegex=monthsShortRegex,proto$1.week=localeWeek,proto$1.firstDayOfYear=localeFirstDayOfYear,proto$1.firstDayOfWeek=localeFirstDayOfWeek,proto$1.weekdays=localeWeekdays,proto$1.weekdaysMin=localeWeekdaysMin,proto$1.weekdaysShort=localeWeekdaysShort,proto$1.weekdaysParse=localeWeekdaysParse,proto$1.weekdaysRegex=weekdaysRegex,proto$1.weekdaysShortRegex=weekdaysShortRegex,proto$1.weekdaysMinRegex=weekdaysMinRegex,proto$1.isPM=localeIsPM,proto$1.meridiem=localeMeridiem,getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs,asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y"),milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years"),round=Math.round,thresholds={s:45,m:45,h:22,d:26,M:11},abs$1=Math.abs,proto$2=Duration.prototype;return proto$2.abs=abs,proto$2.add=add$1,proto$2.subtract=subtract$1,proto$2.as=as,proto$2.asMilliseconds=asMilliseconds,proto$2.asSeconds=asSeconds,proto$2.asMinutes=asMinutes,proto$2.asHours=asHours,proto$2.asDays=asDays,proto$2.asWeeks=asWeeks,proto$2.asMonths=asMonths,proto$2.asYears=asYears,proto$2.valueOf=valueOf$1,proto$2._bubble=bubble,proto$2.get=get$2,proto$2.milliseconds=milliseconds,proto$2.seconds=seconds,proto$2.minutes=minutes,proto$2.hours=hours,proto$2.days=days,proto$2.weeks=weeks,proto$2.months=months,proto$2.years=years,proto$2.humanize=humanize,proto$2.toISOString=toISOString$1,proto$2.toString=toISOString$1,proto$2.toJSON=toISOString$1,proto$2.locale=locale,proto$2.localeData=localeData,proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),proto$2.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),hooks.version="2.17.1",setHookCallback(createLocal),hooks.fn=proto,hooks.min=min,hooks.max=max,hooks.now=now,hooks.utc=createUTC,hooks.unix=createUnix,hooks.months=listMonths,hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=listWeekdays,hooks.parseZone=createInZone,hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=listMonthsShort,hooks.weekdaysMin=listWeekdaysMin,hooks.defineLocale=defineLocale,hooks.updateLocale=updateLocale,hooks.locales=listLocales,hooks.weekdaysShort=listWeekdaysShort,hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=getSetRelativeTimeRounding,hooks.relativeTimeThreshold=getSetRelativeTimeThreshold,hooks.calendarFormat=getCalendarFormat,hooks.prototype=proto,hooks})},{}],numbro:[function(_dereq_,module,exports){(function(){function Numbro(number){this._value=number}function zeroes(count){var i,ret="";for(i=0;i<count;i++)ret+="0";return ret}function toFixedLargeSmall(value,precision){var mantissa,beforeDec,afterDec,exponent,prefix,endStr,zerosStr,str;return str=value.toString(),mantissa=str.split("e")[0],exponent=str.split("e")[1],beforeDec=mantissa.split(".")[0],afterDec=mantissa.split(".")[1]||"",+exponent>0?str=beforeDec+afterDec+zeroes(exponent-afterDec.length):(prefix=+beforeDec<0?"-0":"0",precision>0&&(prefix+="."),zerosStr=zeroes(-1*exponent-1),endStr=(zerosStr+Math.abs(beforeDec)+afterDec).substr(0,precision),str=prefix+endStr),+exponent>0&&precision>0&&(str+="."+zeroes(precision)),str}function toFixed(value,precision,roundingFunction,optionals){var optionalsRegExp,output,power=Math.pow(10,precision);return value.toString().indexOf("e")>-1?(output=toFixedLargeSmall(value,precision),"-"===output.charAt(0)&&+output>=0&&(output=output.substr(1))):output=(roundingFunction(value+"e+"+precision)/power).toFixed(precision),optionals&&(optionalsRegExp=new RegExp("0{1,"+optionals+"}$"),output=output.replace(optionalsRegExp,"")),output}function formatNumbro(n,format,roundingFunction){var output,escapedFormat=format.replace(/\{[^\{\}]*\}/g,"");return output=escapedFormat.indexOf("$")>-1?_formatCurrency2(n,cultures[currentCulture].currency.symbol,format,roundingFunction):escapedFormat.indexOf("%")>-1?formatPercentage(n,format,roundingFunction):escapedFormat.indexOf(":")>-1?formatTime(n,format):formatNumber(n._value,format,roundingFunction)}function unformatNumbro(n,string){var thousandRegExp,millionRegExp,billionRegExp,trillionRegExp,power,stringOriginal=string,bytesMultiplier=!1;if(string.indexOf(":")>-1)n._value=unformatTime(string);else if(string===zeroFormat)n._value=0;else{for("."!==cultures[currentCulture].delimiters.decimal&&(string=string.replace(/\./g,"").replace(cultures[currentCulture].delimiters.decimal,".")),thousandRegExp=new RegExp("[^a-zA-Z]"+cultures[currentCulture].abbreviations.thousand+"(?:\\)|(\\"+cultures[currentCulture].currency.symbol+")?(?:\\))?)?$"),millionRegExp=new RegExp("[^a-zA-Z]"+cultures[currentCulture].abbreviations.million+"(?:\\)|(\\"+cultures[currentCulture].currency.symbol+")?(?:\\))?)?$"),billionRegExp=new RegExp("[^a-zA-Z]"+cultures[currentCulture].abbreviations.billion+"(?:\\)|(\\"+cultures[currentCulture].currency.symbol+")?(?:\\))?)?$"),trillionRegExp=new RegExp("[^a-zA-Z]"+cultures[currentCulture].abbreviations.trillion+"(?:\\)|(\\"+cultures[currentCulture].currency.symbol+")?(?:\\))?)?$"),power=1;power<binarySuffixes.length&&!bytesMultiplier;++power)string.indexOf(binarySuffixes[power])>-1?bytesMultiplier=Math.pow(1024,power):string.indexOf(decimalSuffixes[power])>-1&&(bytesMultiplier=Math.pow(1e3,power));var str=string.replace(/[^0-9\.]+/g,"");""===str?n._value=NaN:(n._value=(bytesMultiplier?bytesMultiplier:1)*(stringOriginal.match(thousandRegExp)?Math.pow(10,3):1)*(stringOriginal.match(millionRegExp)?Math.pow(10,6):1)*(stringOriginal.match(billionRegExp)?Math.pow(10,9):1)*(stringOriginal.match(trillionRegExp)?Math.pow(10,12):1)*(string.indexOf("%")>-1?.01:1)*((string.split("-").length+Math.min(string.split("(").length-1,string.split(")").length-1))%2?1:-1)*Number(str),n._value=bytesMultiplier?Math.ceil(n._value):n._value)}return n._value}function _formatCurrency2(n,currencySymbol,originalFormat,roundingFunction){var spliceIndex,output,format=originalFormat,symbolIndex=format.indexOf("$"),openParenIndex=format.indexOf("("),plusSignIndex=format.indexOf("+"),minusSignIndex=format.indexOf("-"),space="",decimalSeparator="";if(format.indexOf("$")===-1?"infix"===cultures[currentCulture].currency.position?(decimalSeparator=currencySymbol,cultures[currentCulture].currency.spaceSeparated&&(decimalSeparator=" "+decimalSeparator+" ")):cultures[currentCulture].currency.spaceSeparated&&(space=" "):format.indexOf(" $")>-1?(space=" ",format=format.replace(" $","")):format.indexOf("$ ")>-1?(space=" ",format=format.replace("$ ","")):format=format.replace("$",""),output=formatNumber(n._value,format,roundingFunction,decimalSeparator),originalFormat.indexOf("$")===-1)switch(cultures[currentCulture].currency.position){case"postfix":output.indexOf(")")>-1?(output=output.split(""),output.splice(-1,0,space+currencySymbol),output=output.join("")):output=output+space+currencySymbol;break;case"infix":break;case"prefix":output.indexOf("(")>-1||output.indexOf("-")>-1?(output=output.split(""),spliceIndex=Math.max(openParenIndex,minusSignIndex)+1,output.splice(spliceIndex,0,currencySymbol+space),output=output.join("")):output=currencySymbol+space+output;break;default:throw Error('Currency position should be among ["prefix", "infix", "postfix"]')}else symbolIndex<=1?output.indexOf("(")>-1||output.indexOf("+")>-1||output.indexOf("-")>-1?(output=output.split(""),spliceIndex=1,(symbolIndex<openParenIndex||symbolIndex<plusSignIndex||symbolIndex<minusSignIndex)&&(spliceIndex=0),output.splice(spliceIndex,0,currencySymbol+space),output=output.join("")):output=currencySymbol+space+output:output.indexOf(")")>-1?(output=output.split(""),output.splice(-1,0,space+currencySymbol),output=output.join("")):output=output+space+currencySymbol;return output}function _formatForeignCurrency2(n,foreignCurrencySymbol,originalFormat,roundingFunction){return _formatCurrency2(n,foreignCurrencySymbol,originalFormat,roundingFunction)}function formatPercentage(n,format,roundingFunction){var output,space="",value=100*n._value;return format.indexOf(" %")>-1?(space=" ",format=format.replace(" %","")):format=format.replace("%",""),output=formatNumber(value,format,roundingFunction),output.indexOf(")")>-1?(output=output.split(""),output.splice(-1,0,space+"%"),output=output.join("")):output=output+space+"%",output}function formatTime(n){var hours=Math.floor(n._value/60/60),minutes=Math.floor((n._value-60*hours*60)/60),seconds=Math.round(n._value-60*hours*60-60*minutes);return hours+":"+(minutes<10?"0"+minutes:minutes)+":"+(seconds<10?"0"+seconds:seconds)}function unformatTime(string){var timeArray=string.split(":"),seconds=0;return 3===timeArray.length?(seconds+=60*Number(timeArray[0])*60,seconds+=60*Number(timeArray[1]),seconds+=Number(timeArray[2])):2===timeArray.length&&(seconds+=60*Number(timeArray[0]),seconds+=Number(timeArray[1])),Number(seconds)}function formatByteUnits(value,suffixes,scale){var power,min,max,suffix=suffixes[0],abs=Math.abs(value);if(abs>=scale){for(power=1;power<suffixes.length;++power)if(min=Math.pow(scale,power),max=Math.pow(scale,power+1),abs>=min&&abs<max){suffix=suffixes[power],value/=min;break}suffix===suffixes[0]&&(value/=Math.pow(scale,suffixes.length-1),suffix=suffixes[suffixes.length-1])}return{value:value,suffix:suffix}}function formatNumber(value,format,roundingFunction,sep){var byteFormat,units,totalLength,length,minimumPrecision,pow,w,intPrecision,precision,prefix,postfix,thousands,indexOpenP,size,indexMinus,minlen,i,negP=!1,signed=!1,optDec=!1,abbr="",abbrK=!1,abbrM=!1,abbrB=!1,abbrT=!1,abbrForce=!1,bytes="",ord="",abs=Math.abs(value),d="",forcedNeg=!1,neg=!1,paren="";if(0===value&&null!==zeroFormat)return zeroFormat;if(!isFinite(value))return""+value;if(0===format.indexOf("{")){var end=format.indexOf("}");if(end===-1)throw Error('Format should also contain a "}"');prefix=format.slice(1,end),format=format.slice(end+1)}else prefix="";if(format.indexOf("}")===format.length-1){var start=format.indexOf("{");if(start===-1)throw Error('Format should also contain a "{"');postfix=format.slice(start+1,-1),format=format.slice(0,start+1)}else postfix="";var info;for(info=format.indexOf(".")===-1?format.match(/([0-9]+).*/):format.match(/([0-9]+)\..*/),minlen=null===info?-1:info[1].length,format.indexOf("-")!==-1&&(forcedNeg=!0),format.indexOf("(")>-1?(negP=!0,format=format.slice(1,-1)):format.indexOf("+")>-1&&(signed=!0,format=format.replace(/\+/g,"")),format.indexOf("a")>-1&&(intPrecision=format.split(".")[0].match(/[0-9]+/g)||["0"],intPrecision=parseInt(intPrecision[0],10),abbrK=format.indexOf("aK")>=0,abbrM=format.indexOf("aM")>=0,abbrB=format.indexOf("aB")>=0,abbrT=format.indexOf("aT")>=0,abbrForce=abbrK||abbrM||abbrB||abbrT,format.indexOf(" a")>-1?(abbr=" ",format=format.replace(" a","")):format=format.replace("a",""),totalLength=Math.floor(Math.log(abs)/Math.LN10)+1,minimumPrecision=totalLength%3,minimumPrecision=0===minimumPrecision?3:minimumPrecision,intPrecision&&0!==abs&&(length=Math.floor(Math.log(abs)/Math.LN10)+1-intPrecision,pow=3*~~((Math.min(intPrecision,totalLength)-minimumPrecision)/3),abs/=Math.pow(10,pow),format.indexOf(".")===-1&&intPrecision>3&&(format+="[.]",size=0===length?0:3*~~(length/3)-length,size=size<0?size+3:size,format+=zeroes(size))),Math.floor(Math.log(Math.abs(value))/Math.LN10)+1!==intPrecision&&(abs>=Math.pow(10,12)&&!abbrForce||abbrT?(abbr+=cultures[currentCulture].abbreviations.trillion,value/=Math.pow(10,12)):abs<Math.pow(10,12)&&abs>=Math.pow(10,9)&&!abbrForce||abbrB?(abbr+=cultures[currentCulture].abbreviations.billion,value/=Math.pow(10,9)):abs<Math.pow(10,9)&&abs>=Math.pow(10,6)&&!abbrForce||abbrM?(abbr+=cultures[currentCulture].abbreviations.million,value/=Math.pow(10,6)):(abs<Math.pow(10,6)&&abs>=Math.pow(10,3)&&!abbrForce||abbrK)&&(abbr+=cultures[currentCulture].abbreviations.thousand,value/=Math.pow(10,3)))),i=0;i<byteFormatOrder.length;++i)if(byteFormat=byteFormatOrder[i],format.indexOf(byteFormat.marker)>-1){format.indexOf(" "+byteFormat.marker)>-1&&(bytes=" "),format=format.replace(bytes+byteFormat.marker,""),units=formatByteUnits(value,byteFormat.suffixes,byteFormat.scale),value=units.value,bytes+=units.suffix;break}if(format.indexOf("o")>-1&&(format.indexOf(" o")>-1?(ord=" ",format=format.replace(" o","")):format=format.replace("o",""),cultures[currentCulture].ordinal&&(ord+=cultures[currentCulture].ordinal(value))),format.indexOf("[.]")>-1&&(optDec=!0,format=format.replace("[.]",".")),w=value.toString().split(".")[0],precision=format.split(".")[1],thousands=format.indexOf(","),precision){if(precision.indexOf("*")!==-1?d=toFixed(value,value.toString().split(".")[1].length,roundingFunction):precision.indexOf("[")>-1?(precision=precision.replace("]",""),precision=precision.split("["),d=toFixed(value,precision[0].length+precision[1].length,roundingFunction,precision[1].length)):d=toFixed(value,precision.length,roundingFunction),w=d.split(".")[0],d.split(".")[1].length){var p=sep?abbr+sep:cultures[currentCulture].delimiters.decimal;d=p+d.split(".")[1]}else d="";optDec&&0===Number(d.slice(1))&&(d="")}else w=toFixed(value,0,roundingFunction);return w.indexOf("-")>-1&&(w=w.slice(1),neg=!0),w.length<minlen&&(w=zeroes(minlen-w.length)+w),thousands>-1&&(w=w.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+cultures[currentCulture].delimiters.thousands)),0===format.indexOf(".")&&(w=""),indexOpenP=format.indexOf("("),indexMinus=format.indexOf("-"),paren=indexOpenP<indexMinus?(negP&&neg?"(":"")+(forcedNeg&&neg||!negP&&neg?"-":""):(forcedNeg&&neg||!negP&&neg?"-":"")+(negP&&neg?"(":""),prefix+paren+(!neg&&signed&&0!==value?"+":"")+w+d+(ord?ord:"")+(abbr&&!sep?abbr:"")+(bytes?bytes:"")+(negP&&neg?")":"")+postfix}function setCulture(code,values){cultures[code]=values}function chooseCulture(code){currentCulture=code;var defaults=cultures[code].defaults;defaults&&defaults.format&&_numbro2.defaultFormat(defaults.format),defaults&&defaults.currencyFormat&&_numbro2.defaultCurrencyFormat(defaults.currencyFormat)}function inNodejsRuntime(){return"undefined"!=typeof process&&void 0===process.browser&&process.title&&(0===process.title.indexOf("node")||process.title.indexOf("meteor-tool")>0||"grunt"===process.title||"gulp"===process.title)&&"undefined"!=typeof _dereq_}function multiplier(x){var parts=x.toString().split(".");return parts.length<2?1:Math.pow(10,parts[1].length)}function correctionFactor(){var args=Array.prototype.slice.call(arguments);return args.reduce(function(prev,next){var mp=multiplier(prev),mn=multiplier(next);return mp>mn?mp:mn},-(1/0))}var _numbro2,VERSION="1.9.3",binarySuffixes=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],bytes={general:{scale:1024,suffixes:decimalSuffixes,marker:"bd"},binary:{scale:1024,suffixes:binarySuffixes,marker:"b"},decimal:{scale:1e3,suffixes:decimalSuffixes,marker:"d"}},byteFormatOrder=[bytes.general,bytes.binary,bytes.decimal],cultures={},languages=cultures,currentCulture="en-US",zeroFormat=null,defaultFormat="0,0",defaultCurrencyFormat="0$",hasModule="undefined"!=typeof module&&module.exports,enUS={delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1===~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",0000 a"},formats:{fourDigits:"0000 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00"}};_numbro2=function(input){
return _numbro2.isNumbro(input)?input=input.value():0===input||"undefined"==typeof input?input=0:Number(input)||(input=_numbro2.fn.unformat(input)),new Numbro(Number(input))},_numbro2.version=VERSION,_numbro2.isNumbro=function(obj){return obj instanceof Numbro},_numbro2.setLanguage=function(newLanguage,fallbackLanguage){console.warn("`setLanguage` is deprecated since version 1.6.0. Use `setCulture` instead");var key=newLanguage,prefix=newLanguage.split("-")[0],matchingLanguage=null;languages[key]||(Object.keys(languages).forEach(function(language){matchingLanguage||language.split("-")[0]!==prefix||(matchingLanguage=language)}),key=matchingLanguage||fallbackLanguage||"en-US"),chooseCulture(key)},_numbro2.setCulture=function(newCulture,fallbackCulture){var key=newCulture,suffix=newCulture.split("-")[1],matchingCulture=null;cultures[key]||(suffix&&Object.keys(cultures).forEach(function(language){matchingCulture||language.split("-")[1]!==suffix||(matchingCulture=language)}),key=matchingCulture||fallbackCulture||"en-US"),chooseCulture(key)},_numbro2.language=function(key,values){if(console.warn("`language` is deprecated since version 1.6.0. Use `culture` instead"),!key)return currentCulture;if(key&&!values){if(!languages[key])throw new Error("Unknown language : "+key);chooseCulture(key)}return!values&&languages[key]||setCulture(key,values),_numbro2},_numbro2.culture=function(code,values){if(!code)return currentCulture;if(code&&!values){if(!cultures[code])throw new Error("Unknown culture : "+code);chooseCulture(code)}return!values&&cultures[code]||setCulture(code,values),_numbro2},_numbro2.languageData=function(key){if(console.warn("`languageData` is deprecated since version 1.6.0. Use `cultureData` instead"),!key)return languages[currentCulture];if(!languages[key])throw new Error("Unknown language : "+key);return languages[key]},_numbro2.cultureData=function(code){if(!code)return cultures[currentCulture];if(!cultures[code])throw new Error("Unknown culture : "+code);return cultures[code]},_numbro2.culture("en-US",enUS),_numbro2.languages=function(){return console.warn("`languages` is deprecated since version 1.6.0. Use `cultures` instead"),languages},_numbro2.cultures=function(){return cultures},_numbro2.zeroFormat=function(format){zeroFormat="string"==typeof format?format:null},_numbro2.defaultFormat=function(format){defaultFormat="string"==typeof format?format:"0.0"},_numbro2.defaultCurrencyFormat=function(format){defaultCurrencyFormat="string"==typeof format?format:"0$"},_numbro2.validate=function(val,culture){var _decimalSep,_thousandSep,_currSymbol,_valArray,_abbrObj,_thousandRegEx,cultureData,temp;if("string"!=typeof val&&(val+="",console.warn&&console.warn("Numbro.js: Value is not string. It has been co-erced to: ",val)),val=val.trim(),val=val.replace(/^[+-]?/,""),val.match(/^\d+$/))return!0;if(""===val)return!1;try{cultureData=_numbro2.cultureData(culture)}catch(e){cultureData=_numbro2.cultureData(_numbro2.culture())}return _currSymbol=cultureData.currency.symbol,_abbrObj=cultureData.abbreviations,_decimalSep=cultureData.delimiters.decimal,_thousandSep="."===cultureData.delimiters.thousands?"\\.":cultureData.delimiters.thousands,temp=val.match(/^[^\d\.\,]+/),(null===temp||(val=val.substr(1),temp[0]===_currSymbol))&&(temp=val.match(/[^\d]+$/),(null===temp||(val=val.slice(0,-1),temp[0]===_abbrObj.thousand||temp[0]===_abbrObj.million||temp[0]===_abbrObj.billion||temp[0]===_abbrObj.trillion))&&(_thousandRegEx=new RegExp(_thousandSep+"{2}"),!val.match(/[^\d.,]/g)&&(_valArray=val.split(_decimalSep),!(_valArray.length>2)&&(_valArray.length<2?!!_valArray[0].match(/^\d+.*\d$/)&&!_valArray[0].match(_thousandRegEx):""===_valArray[0]?!_valArray[0].match(_thousandRegEx)&&!!_valArray[1].match(/^\d+$/):1===_valArray[0].length?!!_valArray[0].match(/^\d+$/)&&!_valArray[0].match(_thousandRegEx)&&!!_valArray[1].match(/^\d+$/):!!_valArray[0].match(/^\d+.*\d$/)&&!_valArray[0].match(_thousandRegEx)&&!!_valArray[1].match(/^\d+$/)))))},_numbro2.loadLanguagesInNode=function(){console.warn("`loadLanguagesInNode` is deprecated since version 1.6.0. Use `loadCulturesInNode` instead"),_numbro2.loadCulturesInNode()},_numbro2.loadCulturesInNode=function(){var cultures=_dereq_("./languages");for(var langLocaleCode in cultures)langLocaleCode&&_numbro2.culture(langLocaleCode,cultures[langLocaleCode])},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(callback,optInitialValue){if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof callback)throw new TypeError(callback+" is not a function");var index,value,length=this.length>>>0,isValueSet=!1;for(1<arguments.length&&(value=optInitialValue,isValueSet=!0),index=0;length>index;++index)this.hasOwnProperty(index)&&(isValueSet?value=callback(value,this[index],index,this):(value=this[index],isValueSet=!0));if(!isValueSet)throw new TypeError("Reduce of empty array with no initial value");return value}),_numbro2.fn=Numbro.prototype={clone:function(){return _numbro2(this)},format:function(inputString,roundingFunction){return formatNumbro(this,inputString?inputString:defaultFormat,void 0!==roundingFunction?roundingFunction:Math.round)},formatCurrency:function(inputString,roundingFunction){return _formatCurrency2(this,cultures[currentCulture].currency.symbol,inputString?inputString:defaultCurrencyFormat,void 0!==roundingFunction?roundingFunction:Math.round)},formatForeignCurrency:function(currencySymbol,inputString,roundingFunction){return _formatForeignCurrency2(this,currencySymbol,inputString?inputString:defaultCurrencyFormat,void 0!==roundingFunction?roundingFunction:Math.round)},unformat:function(inputString){if("number"==typeof inputString)return inputString;if("string"==typeof inputString){var result=unformatNumbro(this,inputString);return isNaN(result)?void 0:result}},binaryByteUnits:function(){return formatByteUnits(this._value,bytes.binary.suffixes,bytes.binary.scale).suffix},byteUnits:function(){return formatByteUnits(this._value,bytes.general.suffixes,bytes.general.scale).suffix},decimalByteUnits:function(){return formatByteUnits(this._value,bytes.decimal.suffixes,bytes.decimal.scale).suffix},value:function(){return this._value},valueOf:function(){return this._value},set:function(value){return this._value=Number(value),this},add:function(value){function cback(accum,curr){return accum+corrFactor*curr}var corrFactor=correctionFactor.call(null,this._value,value);return this._value=[this._value,value].reduce(cback,0)/corrFactor,this},subtract:function(value){function cback(accum,curr){return accum-corrFactor*curr}var corrFactor=correctionFactor.call(null,this._value,value);return this._value=[value].reduce(cback,this._value*corrFactor)/corrFactor,this},multiply:function(value){function cback(accum,curr){var corrFactor=correctionFactor(accum,curr),result=accum*corrFactor;return result*=curr*corrFactor,result/=corrFactor*corrFactor}return this._value=[this._value,value].reduce(cback,1),this},divide:function(value){function cback(accum,curr){var corrFactor=correctionFactor(accum,curr);return accum*corrFactor/(curr*corrFactor)}return this._value=[this._value,value].reduce(cback),this},difference:function(value){return Math.abs(_numbro2(this._value).subtract(value).value())}},inNodejsRuntime()&&_numbro2.loadCulturesInNode(),hasModule?module.exports=_numbro2:("undefined"==typeof ender&&(this.numbro=_numbro2),"function"==typeof define&&define.amd&&define([],function(){return _numbro2}))}).call("undefined"==typeof window?this:window)},{languages:1}],pikaday:[function(_dereq_,module,exports){!function(root,factory){var moment;if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))){try{moment=_dereq_("moment")}catch(e){}module.exports=factory(moment)}else"function"==typeof define&&define.amd?define(function(req){var id="moment";try{moment=req(id)}catch(e){}return factory(moment)}):root.Pikaday=factory(root.moment)}(this,function(moment){var hasMoment="function"==typeof moment,hasEventListeners=!!window.addEventListener,document=window.document,sto=window.setTimeout,addEvent=function(el,e,callback,capture){hasEventListeners?el.addEventListener(e,callback,!!capture):el.attachEvent("on"+e,callback)},removeEvent=function(el,e,callback,capture){hasEventListeners?el.removeEventListener(e,callback,!!capture):el.detachEvent("on"+e,callback)},fireEvent=function(el,eventName,data){var ev;document.createEvent?(ev=document.createEvent("HTMLEvents"),ev.initEvent(eventName,!0,!1),ev=extend(ev,data),el.dispatchEvent(ev)):document.createEventObject&&(ev=document.createEventObject(),ev=extend(ev,data),el.fireEvent("on"+eventName,ev))},trim=function(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")},hasClass=function(el,cn){return(" "+el.className+" ").indexOf(" "+cn+" ")!==-1},addClass=function(el,cn){hasClass(el,cn)||(el.className=""===el.className?cn:el.className+" "+cn)},removeClass=function(el,cn){el.className=trim((" "+el.className+" ").replace(" "+cn+" "," "))},isArray=function(obj){return/Array/.test(Object.prototype.toString.call(obj))},isDate=function(obj){return/Date/.test(Object.prototype.toString.call(obj))&&!isNaN(obj.getTime())},isWeekend=function(date){var day=date.getDay();return 0===day||6===day},isLeapYear=function(year){return year%4===0&&year%100!==0||year%400===0},getDaysInMonth=function(year,month){return[31,isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]},setToStartOfDay=function(date){isDate(date)&&date.setHours(0,0,0,0)},compareDates=function(a,b){return a.getTime()===b.getTime()},extend=function extend(to,from,overwrite){var prop,hasProp;for(prop in from)hasProp=void 0!==to[prop],hasProp&&"object"===_typeof(from[prop])&&null!==from[prop]&&void 0===from[prop].nodeName?isDate(from[prop])?overwrite&&(to[prop]=new Date(from[prop].getTime())):isArray(from[prop])?overwrite&&(to[prop]=from[prop].slice(0)):to[prop]=extend({},from[prop],overwrite):!overwrite&&hasProp||(to[prop]=from[prop]);return to},adjustCalendar=function(calendar){return calendar.month<0&&(calendar.year-=Math.ceil(Math.abs(calendar.month)/12),calendar.month+=12),calendar.month>11&&(calendar.year+=Math.floor(Math.abs(calendar.month)/12),calendar.month-=12),calendar},defaults={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},renderDayName=function(opts,day,abbr){for(day+=opts.firstDay;day>=7;)day-=7;return abbr?opts.i18n.weekdaysShort[day]:opts.i18n.weekdays[day]},renderDay=function(opts){var arr=[],ariaSelected="false";if(opts.isEmpty){if(!opts.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';arr.push("is-outside-current-month")}return opts.isDisabled&&arr.push("is-disabled"),opts.isToday&&arr.push("is-today"),opts.isSelected&&(arr.push("is-selected"),ariaSelected="true"),opts.isInRange&&arr.push("is-inrange"),opts.isStartRange&&arr.push("is-startrange"),opts.isEndRange&&arr.push("is-endrange"),'<td data-day="'+opts.day+'" class="'+arr.join(" ")+'" aria-selected="'+ariaSelected+'"><button class="pika-button pika-day" type="button" data-pika-year="'+opts.year+'" data-pika-month="'+opts.month+'" data-pika-day="'+opts.day+'">'+opts.day+"</button></td>"},renderWeek=function(d,m,y){var onejan=new Date(y,0,1),weekNum=Math.ceil(((new Date(y,m,d)-onejan)/864e5+onejan.getDay()+1)/7);return'<td class="pika-week">'+weekNum+"</td>"},renderRow=function(days,isRTL){return"<tr>"+(isRTL?days.reverse():days).join("")+"</tr>"},renderBody=function(rows){return"<tbody>"+rows.join("")+"</tbody>"},renderHead=function(opts){var i,arr=[];for(opts.showWeekNumber&&arr.push("<th></th>"),i=0;i<7;i++)arr.push('<th scope="col"><abbr title="'+renderDayName(opts,i)+'">'+renderDayName(opts,i,!0)+"</abbr></th>");return"<thead><tr>"+(opts.isRTL?arr.reverse():arr).join("")+"</tr></thead>"},renderTitle=function(instance,c,year,month,refYear,randId){var i,j,arr,monthHtml,yearHtml,opts=instance._o,isMinYear=year===opts.minYear,isMaxYear=year===opts.maxYear,html='<div id="'+randId+'" class="pika-title" role="heading" aria-live="assertive">',prev=!0,next=!0;for(arr=[],i=0;i<12;i++)arr.push('<option value="'+(year===refYear?i-c:12+i-c)+'"'+(i===month?' selected="selected"':"")+(isMinYear&&i<opts.minMonth||isMaxYear&&i>opts.maxMonth?'disabled="disabled"':"")+">"+opts.i18n.months[i]+"</option>");for(monthHtml='<div class="pika-label">'+opts.i18n.months[month]+'<select class="pika-select pika-select-month" tabindex="-1">'+arr.join("")+"</select></div>",isArray(opts.yearRange)?(i=opts.yearRange[0],j=opts.yearRange[1]+1):(i=year-opts.yearRange,j=1+year+opts.yearRange),arr=[];i<j&&i<=opts.maxYear;i++)i>=opts.minYear&&arr.push('<option value="'+i+'"'+(i===year?' selected="selected"':"")+">"+i+"</option>");return yearHtml='<div class="pika-label">'+year+opts.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+arr.join("")+"</select></div>",html+=opts.showMonthAfterYear?yearHtml+monthHtml:monthHtml+yearHtml,isMinYear&&(0===month||opts.minMonth>=month)&&(prev=!1),isMaxYear&&(11===month||opts.maxMonth<=month)&&(next=!1),0===c&&(html+='<button class="pika-prev'+(prev?"":" is-disabled")+'" type="button">'+opts.i18n.previousMonth+"</button>"),c===instance._o.numberOfMonths-1&&(html+='<button class="pika-next'+(next?"":" is-disabled")+'" type="button">'+opts.i18n.nextMonth+"</button>"),html+="</div>"},renderTable=function(opts,data,randId){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+randId+'">'+renderHead(opts)+renderBody(data)+"</table>"},Pikaday=function(options){var self=this,opts=self.config(options);self._onMouseDown=function(e){if(self._v){e=e||window.event;var target=e.target||e.srcElement;if(target)if(hasClass(target,"is-disabled")||(!hasClass(target,"pika-button")||hasClass(target,"is-empty")||hasClass(target.parentNode,"is-disabled")?hasClass(target,"pika-prev")?self.prevMonth():hasClass(target,"pika-next")&&self.nextMonth():(self.setDate(new Date(target.getAttribute("data-pika-year"),target.getAttribute("data-pika-month"),target.getAttribute("data-pika-day"))),opts.bound&&sto(function(){self.hide(),opts.field&&opts.field.blur()},100))),hasClass(target,"pika-select"))self._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},self._onChange=function(e){e=e||window.event;var target=e.target||e.srcElement;target&&(hasClass(target,"pika-select-month")?self.gotoMonth(target.value):hasClass(target,"pika-select-year")&&self.gotoYear(target.value))},self._onKeyChange=function(e){if(e=e||window.event,self.isVisible())switch(e.keyCode){case 13:case 27:opts.field.blur();break;case 37:e.preventDefault(),self.adjustDate("subtract",1);break;case 38:self.adjustDate("subtract",7);break;case 39:self.adjustDate("add",1);break;case 40:self.adjustDate("add",7)}},self._onInputChange=function(e){var date;e.firedBy!==self&&(hasMoment?(date=moment(opts.field.value,opts.format,opts.formatStrict),date=date&&date.isValid()?date.toDate():null):date=new Date(Date.parse(opts.field.value)),isDate(date)&&self.setDate(date),self._v||self.show())},self._onInputFocus=function(){self.show()},self._onInputClick=function(){self.show()},self._onInputBlur=function(){var pEl=document.activeElement;do if(hasClass(pEl,"pika-single"))return;while(pEl=pEl.parentNode);self._c||(self._b=sto(function(){self.hide()},50)),self._c=!1},self._onClick=function(e){e=e||window.event;var target=e.target||e.srcElement,pEl=target;if(target){!hasEventListeners&&hasClass(target,"pika-select")&&(target.onchange||(target.setAttribute("onchange","return;"),addEvent(target,"change",self._onChange)));do if(hasClass(pEl,"pika-single")||pEl===opts.trigger)return;while(pEl=pEl.parentNode);self._v&&target!==opts.trigger&&pEl!==opts.trigger&&self.hide()}},self.el=document.createElement("div"),self.el.className="pika-single"+(opts.isRTL?" is-rtl":"")+(opts.theme?" "+opts.theme:""),addEvent(self.el,"mousedown",self._onMouseDown,!0),addEvent(self.el,"touchend",self._onMouseDown,!0),addEvent(self.el,"change",self._onChange),addEvent(document,"keydown",self._onKeyChange),opts.field&&(opts.container?opts.container.appendChild(self.el):opts.bound?document.body.appendChild(self.el):opts.field.parentNode.insertBefore(self.el,opts.field.nextSibling),addEvent(opts.field,"change",self._onInputChange),opts.defaultDate||(hasMoment&&opts.field.value?opts.defaultDate=moment(opts.field.value,opts.format).toDate():opts.defaultDate=new Date(Date.parse(opts.field.value)),opts.setDefaultDate=!0));var defDate=opts.defaultDate;isDate(defDate)?opts.setDefaultDate?self.setDate(defDate,!0):self.gotoDate(defDate):self.gotoDate(new Date),opts.bound?(this.hide(),self.el.className+=" is-bound",addEvent(opts.trigger,"click",self._onInputClick),addEvent(opts.trigger,"focus",self._onInputFocus),addEvent(opts.trigger,"blur",self._onInputBlur)):this.show()};return Pikaday.prototype={config:function(options){this._o||(this._o=extend({},defaults,!0));var opts=extend(this._o,options,!0);opts.isRTL=!!opts.isRTL,opts.field=opts.field&&opts.field.nodeName?opts.field:null,opts.theme="string"==typeof opts.theme&&opts.theme?opts.theme:null,opts.bound=!!(void 0!==opts.bound?opts.field&&opts.bound:opts.field),opts.trigger=opts.trigger&&opts.trigger.nodeName?opts.trigger:opts.field,opts.disableWeekends=!!opts.disableWeekends,opts.disableDayFn="function"==typeof opts.disableDayFn?opts.disableDayFn:null;var nom=parseInt(opts.numberOfMonths,10)||1;if(opts.numberOfMonths=nom>4?4:nom,isDate(opts.minDate)||(opts.minDate=!1),isDate(opts.maxDate)||(opts.maxDate=!1),opts.minDate&&opts.maxDate&&opts.maxDate<opts.minDate&&(opts.maxDate=opts.minDate=!1),opts.minDate&&this.setMinDate(opts.minDate),opts.maxDate&&this.setMaxDate(opts.maxDate),isArray(opts.yearRange)){var fallback=(new Date).getFullYear()-10;opts.yearRange[0]=parseInt(opts.yearRange[0],10)||fallback,opts.yearRange[1]=parseInt(opts.yearRange[1],10)||fallback}else opts.yearRange=Math.abs(parseInt(opts.yearRange,10))||defaults.yearRange,opts.yearRange>100&&(opts.yearRange=100);return opts},toString:function(format){return isDate(this._d)?hasMoment?moment(this._d).format(format||this._o.format):this._d.toDateString():""},getMoment:function(){return hasMoment?moment(this._d):null},setMoment:function(date,preventOnSelect){hasMoment&&moment.isMoment(date)&&this.setDate(date.toDate(),preventOnSelect)},getDate:function(){return isDate(this._d)?new Date(this._d.getTime()):new Date},setDate:function(date,preventOnSelect){if(!date)return this._d=null,this._o.field&&(this._o.field.value="",fireEvent(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof date&&(date=new Date(Date.parse(date))),isDate(date)){var min=this._o.minDate,max=this._o.maxDate;isDate(min)&&date<min?date=min:isDate(max)&&date>max&&(date=max),this._d=new Date(date.getTime()),setToStartOfDay(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),fireEvent(this._o.field,"change",{firedBy:this})),preventOnSelect||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(date){var newCalendar=!0;if(isDate(date)){if(this.calendars){var firstVisibleDate=new Date(this.calendars[0].year,this.calendars[0].month,1),lastVisibleDate=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),visibleDate=date.getTime();lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1),lastVisibleDate.setDate(lastVisibleDate.getDate()-1),newCalendar=visibleDate<firstVisibleDate.getTime()||lastVisibleDate.getTime()<visibleDate}newCalendar&&(this.calendars=[{month:date.getMonth(),year:date.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(sign,days){var newDay,day=this.getDate(),difference=24*parseInt(days)*60*60*1e3;"add"===sign?newDay=new Date(day.valueOf()+difference):"subtract"===sign&&(newDay=new Date(day.valueOf()-difference)),hasMoment&&("add"===sign?newDay=moment(day).add(days,"days").toDate():"subtract"===sign&&(newDay=moment(day).subtract(days,"days").toDate())),this.setDate(newDay)},adjustCalendars:function(){this.calendars[0]=adjustCalendar(this.calendars[0]);for(var c=1;c<this._o.numberOfMonths;c++)this.calendars[c]=adjustCalendar({month:this.calendars[0].month+c,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(month){isNaN(month)||(this.calendars[0].month=parseInt(month,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(year){isNaN(year)||(this.calendars[0].year=parseInt(year,10),this.adjustCalendars())},setMinDate:function(value){value instanceof Date?(setToStartOfDay(value),this._o.minDate=value,this._o.minYear=value.getFullYear(),this._o.minMonth=value.getMonth()):(this._o.minDate=defaults.minDate,this._o.minYear=defaults.minYear,this._o.minMonth=defaults.minMonth,this._o.startRange=defaults.startRange),this.draw()},setMaxDate:function(value){value instanceof Date?(setToStartOfDay(value),this._o.maxDate=value,this._o.maxYear=value.getFullYear(),this._o.maxMonth=value.getMonth()):(this._o.maxDate=defaults.maxDate,this._o.maxYear=defaults.maxYear,this._o.maxMonth=defaults.maxMonth,this._o.endRange=defaults.endRange),this.draw()},setStartRange:function(value){this._o.startRange=value},setEndRange:function(value){this._o.endRange=value},draw:function(force){if(this._v||force){var randId,opts=this._o,minYear=opts.minYear,maxYear=opts.maxYear,minMonth=opts.minMonth,maxMonth=opts.maxMonth,html="";this._y<=minYear&&(this._y=minYear,!isNaN(minMonth)&&this._m<minMonth&&(this._m=minMonth)),this._y>=maxYear&&(this._y=maxYear,!isNaN(maxMonth)&&this._m>maxMonth&&(this._m=maxMonth)),randId="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var c=0;c<opts.numberOfMonths;c++)html+='<div class="pika-lendar">'+renderTitle(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,randId)+this.render(this.calendars[c].year,this.calendars[c].month,randId)+"</div>";this.el.innerHTML=html,opts.bound&&"hidden"!==opts.field.type&&sto(function(){opts.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),opts.bound&&opts.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function(){var field,pEl,width,height,viewportWidth,viewportHeight,scrollTop,left,top,clientRect;if(!this._o.container){if(this.el.style.position="absolute",field=this._o.trigger,pEl=field,width=this.el.offsetWidth,height=this.el.offsetHeight,viewportWidth=window.innerWidth||document.documentElement.clientWidth,viewportHeight=window.innerHeight||document.documentElement.clientHeight,scrollTop=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,"function"==typeof field.getBoundingClientRect)clientRect=field.getBoundingClientRect(),left=clientRect.left+window.pageXOffset,top=clientRect.bottom+window.pageYOffset;else for(left=pEl.offsetLeft,top=pEl.offsetTop+pEl.offsetHeight;pEl=pEl.offsetParent;)left+=pEl.offsetLeft,top+=pEl.offsetTop;(this._o.reposition&&left+width>viewportWidth||this._o.position.indexOf("right")>-1&&left-width+field.offsetWidth>0)&&(left=left-width+field.offsetWidth),(this._o.reposition&&top+height>viewportHeight+scrollTop||this._o.position.indexOf("top")>-1&&top-height-field.offsetHeight>0)&&(top=top-height-field.offsetHeight),this.el.style.left=left+"px",this.el.style.top=top+"px"}},render:function(year,month,randId){var opts=this._o,now=new Date,days=getDaysInMonth(year,month),before=new Date(year,month,1).getDay(),data=[],row=[];setToStartOfDay(now),opts.firstDay>0&&(before-=opts.firstDay,before<0&&(before+=7));for(var previousMonth=0===month?11:month-1,nextMonth=11===month?0:month+1,yearOfPreviousMonth=0===month?year-1:year,yearOfNextMonth=11===month?year+1:year,daysInPreviousMonth=getDaysInMonth(yearOfPreviousMonth,previousMonth),cells=days+before,after=cells;after>7;)after-=7;cells+=7-after;for(var i=0,r=0;i<cells;i++){var day=new Date(year,month,1+(i-before)),isSelected=!!isDate(this._d)&&compareDates(day,this._d),isToday=compareDates(day,now),isEmpty=i<before||i>=days+before,dayNumber=1+(i-before),monthNumber=month,yearNumber=year,isStartRange=opts.startRange&&compareDates(opts.startRange,day),isEndRange=opts.endRange&&compareDates(opts.endRange,day),isInRange=opts.startRange&&opts.endRange&&opts.startRange<day&&day<opts.endRange,isDisabled=opts.minDate&&day<opts.minDate||opts.maxDate&&day>opts.maxDate||opts.disableWeekends&&isWeekend(day)||opts.disableDayFn&&opts.disableDayFn(day);isEmpty&&(i<before?(dayNumber=daysInPreviousMonth+dayNumber,monthNumber=previousMonth,yearNumber=yearOfPreviousMonth):(dayNumber-=days,monthNumber=nextMonth,yearNumber=yearOfNextMonth));var dayConfig={day:dayNumber,month:monthNumber,year:yearNumber,isSelected:isSelected,isToday:isToday,isDisabled:isDisabled,isEmpty:isEmpty,isStartRange:isStartRange,isEndRange:isEndRange,isInRange:isInRange,showDaysInNextAndPreviousMonths:opts.showDaysInNextAndPreviousMonths};row.push(renderDay(dayConfig)),7===++r&&(opts.showWeekNumber&&row.unshift(renderWeek(i-before,month,year)),data.push(renderRow(row,opts.isRTL)),row=[],r=0)}return renderTable(opts,data,randId)},isVisible:function(){return this._v},show:function(){this.isVisible()||(removeClass(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(addEvent(document,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var v=this._v;v!==!1&&(this._o.bound&&removeEvent(document,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",addClass(this.el,"is-hidden"),this._v=!1,void 0!==v&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),removeEvent(this.el,"mousedown",this._onMouseDown,!0),removeEvent(this.el,"touchend",this._onMouseDown,!0),removeEvent(this.el,"change",this._onChange),this._o.field&&(removeEvent(this._o.field,"change",this._onInputChange),this._o.bound&&(removeEvent(this._o.trigger,"click",this._onInputClick),removeEvent(this._o.trigger,"focus",this._onInputFocus),removeEvent(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},Pikaday})},{moment:"moment"}],zeroclipboard:[function(_dereq_,module,exports){!function(window,undefined){var _zcSwfVersion,_currentElement,_copyTarget,_window=window,_document=_window.document,_navigator=_window.navigator,_setTimeout=_window.setTimeout,_clearTimeout=_window.clearTimeout,_setInterval=_window.setInterval,_clearInterval=_window.clearInterval,_getComputedStyle=_window.getComputedStyle,_encodeURIComponent=_window.encodeURIComponent,_ActiveXObject=_window.ActiveXObject,_Error=_window.Error,_parseInt=_window.Number.parseInt||_window.parseInt,_parseFloat=_window.Number.parseFloat||_window.parseFloat,_isNaN=_window.Number.isNaN||_window.isNaN,_now=_window.Date.now,_keys=_window.Object.keys,_hasOwn=_window.Object.prototype.hasOwnProperty,_slice=_window.Array.prototype.slice,_unwrap=function(){var unwrapper=function(el){return el};if("function"==typeof _window.wrap&&"function"==typeof _window.unwrap)try{var div=_document.createElement("div"),unwrappedDiv=_window.unwrap(div);1===div.nodeType&&unwrappedDiv&&1===unwrappedDiv.nodeType&&(unwrapper=_window.unwrap)}catch(e){}return unwrapper}(),_args=function(argumentsObj){return _slice.call(argumentsObj,0)},_extend=function(){var i,len,arg,prop,src,copy,args=_args(arguments),target=args[0]||{};for(i=1,len=args.length;i<len;i++)if(null!=(arg=args[i]))for(prop in arg)_hasOwn.call(arg,prop)&&(src=target[prop],copy=arg[prop],target!==copy&&copy!==undefined&&(target[prop]=copy));return target},_deepCopy=function _deepCopy(source){var copy,i,len,prop;if("object"!==("undefined"==typeof source?"undefined":_typeof(source))||null==source||"number"==typeof source.nodeType)copy=source;else if("number"==typeof source.length)for(copy=[],i=0,len=source.length;i<len;i++)_hasOwn.call(source,i)&&(copy[i]=_deepCopy(source[i]));else{copy={};for(prop in source)_hasOwn.call(source,prop)&&(copy[prop]=_deepCopy(source[prop]))}return copy},_pick=function(obj,keys){for(var newObj={},i=0,len=keys.length;i<len;i++)keys[i]in obj&&(newObj[keys[i]]=obj[keys[i]]);return newObj},_omit=function(obj,keys){var newObj={};for(var prop in obj)keys.indexOf(prop)===-1&&(newObj[prop]=obj[prop]);return newObj},_deleteOwnProperties=function(obj){if(obj)for(var prop in obj)_hasOwn.call(obj,prop)&&delete obj[prop];return obj},_containedBy=function(el,ancestorEl){if(el&&1===el.nodeType&&el.ownerDocument&&ancestorEl&&(1===ancestorEl.nodeType&&ancestorEl.ownerDocument&&ancestorEl.ownerDocument===el.ownerDocument||9===ancestorEl.nodeType&&!ancestorEl.ownerDocument&&ancestorEl===el.ownerDocument))do{if(el===ancestorEl)return!0;el=el.parentNode}while(el);return!1},_getDirPathOfUrl=function(url){var dir;return"string"==typeof url&&url&&(dir=url.split("#")[0].split("?")[0],dir=url.slice(0,url.lastIndexOf("/")+1)),dir},_getCurrentScriptUrlFromErrorStack=function(stack){var url,matches;return"string"==typeof stack&&stack&&(matches=stack.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),matches&&matches[1]?url=matches[1]:(matches=stack.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),matches&&matches[1]&&(url=matches[1]))),url},_getCurrentScriptUrlFromError=function(){var url,err;try{throw new _Error}catch(e){err=e}return err&&(url=err.sourceURL||err.fileName||_getCurrentScriptUrlFromErrorStack(err.stack)),url},_getCurrentScriptUrl=function(){var jsPath,scripts,i;if(_document.currentScript&&(jsPath=_document.currentScript.src))return jsPath;if(scripts=_document.getElementsByTagName("script"),1===scripts.length)return scripts[0].src||undefined;if("readyState"in(scripts[0]||document.createElement("script")))for(i=scripts.length;i--;)if("interactive"===scripts[i].readyState&&(jsPath=scripts[i].src))return jsPath;return"loading"===_document.readyState&&(jsPath=scripts[scripts.length-1].src)?jsPath:(jsPath=_getCurrentScriptUrlFromError())?jsPath:undefined},_getUnanimousScriptParentDir=function(){var i,jsDir,jsPath,scripts=_document.getElementsByTagName("script");for(i=scripts.length;i--;){if(!(jsPath=scripts[i].src)){jsDir=null;break}if(jsPath=_getDirPathOfUrl(jsPath),null==jsDir)jsDir=jsPath;else if(jsDir!==jsPath){jsDir=null;break}}return jsDir||undefined},_getDefaultSwfPath=function(){var jsDir=_getDirPathOfUrl(_getCurrentScriptUrl())||_getUnanimousScriptParentDir()||"";return jsDir+"ZeroClipboard.swf"},_isWindows=function(){var isWindowsRegex=/win(dows|[\s]?(nt|me|ce|xp|vista|[\d]+))/i;return!!_navigator&&(isWindowsRegex.test(_navigator.appVersion||"")||isWindowsRegex.test(_navigator.platform||"")||(_navigator.userAgent||"").indexOf("Windows")!==-1)},_pageIsFramed=function(){return null==_window.opener&&(!!_window.top&&_window!=_window.top||!!_window.parent&&_window!=_window.parent)}(),_pageIsXhtml="html"===_document.documentElement.nodeName,_flashState={
bridge:null,version:"0.0.0",pluginType:"unknown",sandboxed:null,disabled:null,outdated:null,insecure:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},_minimumFlashVersion="11.0.0",_handlers={},_clipData={},_clipDataFormatMap=null,_flashCheckTimeout=0,_swfFallbackCheckInterval=0,_eventMessages={ready:"Flash communication is established",error:{"flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-insecure":"Flash will be unable to communicate due to a protocol mismatch between your `swfPath` configuration and the page","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity","browser-unsupported":"The browser does not support the required HTML DOM and JavaScript features"}},_errorsThatOnlyOccurAfterFlashLoads=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],_flashStateErrorNames=["flash-sandboxed","flash-disabled","flash-outdated","flash-insecure","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],_flashStateErrorNameMatchingRegex=new RegExp("^flash-("+_flashStateErrorNames.map(function(errorName){return errorName.replace(/^flash-/,"")}).join("|")+")$"),_flashStateEnabledErrorNameMatchingRegex=new RegExp("^flash-("+_flashStateErrorNames.filter(function(errorName){return"flash-disabled"!==errorName}).map(function(errorName){return errorName.replace(/^flash-/,"")}).join("|")+")$"),_globalConfig={swfPath:_getDefaultSwfPath(),trustedDomains:_window.location.host?[_window.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,fixLineEndings:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},_config=function(options){"object"!==("undefined"==typeof options?"undefined":_typeof(options))||!options||"length"in options||_keys(options).forEach(function(prop){if(/^(?:forceHandCursor|title|zIndex|bubbleEvents|fixLineEndings)$/.test(prop))_globalConfig[prop]=options[prop];else if(null==_flashState.bridge)if("containerId"===prop||"swfObjectId"===prop){if(!_isValidHtml4Id(options[prop]))throw new Error("The specified `"+prop+"` value is not valid as an HTML4 Element ID");_globalConfig[prop]=options[prop]}else _globalConfig[prop]=options[prop]});{if("string"!=typeof options||!options)return _deepCopy(_globalConfig);if(_hasOwn.call(_globalConfig,options))return _globalConfig[options]}},_state=function(){return _detectSandbox(),{browser:_extend(_pick(_navigator,["userAgent","platform","appName","appVersion"]),{isSupported:_isBrowserSupported()}),flash:_omit(_flashState,["bridge"]),zeroclipboard:{version:ZeroClipboard.version,config:ZeroClipboard.config()}}},_isBrowserSupported=function(){return!!(_document.addEventListener&&_window.Object.keys&&_window.Array.prototype.map)},_isFlashUnusable=function(){return!!(_flashState.sandboxed||_flashState.disabled||_flashState.outdated||_flashState.unavailable||_flashState.degraded||_flashState.deactivated)},_on=function(eventType,listener){var i,len,events,added={};if("string"==typeof eventType&&eventType?events=eventType.toLowerCase().split(/\s+/):"object"!==("undefined"==typeof eventType?"undefined":_typeof(eventType))||!eventType||"length"in eventType||"undefined"!=typeof listener||_keys(eventType).forEach(function(key){var listener=eventType[key];"function"==typeof listener&&ZeroClipboard.on(key,listener)}),events&&events.length&&listener){for(i=0,len=events.length;i<len;i++)eventType=events[i].replace(/^on/,""),added[eventType]=!0,_handlers[eventType]||(_handlers[eventType]=[]),_handlers[eventType].push(listener);if(added.ready&&_flashState.ready&&ZeroClipboard.emit({type:"ready"}),added.error){for(_isBrowserSupported()||ZeroClipboard.emit({type:"error",name:"browser-unsupported"}),i=0,len=_flashStateErrorNames.length;i<len;i++)if(_flashState[_flashStateErrorNames[i].replace(/^flash-/,"")]===!0){ZeroClipboard.emit({type:"error",name:_flashStateErrorNames[i]});break}_zcSwfVersion!==undefined&&ZeroClipboard.version!==_zcSwfVersion&&ZeroClipboard.emit({type:"error",name:"version-mismatch",jsVersion:ZeroClipboard.version,swfVersion:_zcSwfVersion})}}return ZeroClipboard},_off=function(eventType,listener){var i,len,foundIndex,events,perEventHandlers;if(0===arguments.length?events=_keys(_handlers):"string"==typeof eventType&&eventType?events=eventType.toLowerCase().split(/\s+/):"object"!==("undefined"==typeof eventType?"undefined":_typeof(eventType))||!eventType||"length"in eventType||"undefined"!=typeof listener||_keys(eventType).forEach(function(key){var listener=eventType[key];"function"==typeof listener&&ZeroClipboard.off(key,listener)}),events&&events.length)for(i=0,len=events.length;i<len;i++)if(eventType=events[i].replace(/^on/,""),perEventHandlers=_handlers[eventType],perEventHandlers&&perEventHandlers.length)if(listener)for(foundIndex=perEventHandlers.indexOf(listener);foundIndex!==-1;)perEventHandlers.splice(foundIndex,1),foundIndex=perEventHandlers.indexOf(listener,foundIndex);else perEventHandlers.length=0;return ZeroClipboard},_listeners=function(eventType){var copy;return copy="string"==typeof eventType&&eventType?_deepCopy(_handlers[eventType])||null:_deepCopy(_handlers)},_emit=function(event){var eventCopy,returnVal,tmp;if(event=_createEvent(event),event&&!_preprocessEvent(event))return"ready"===event.type&&_flashState.overdue===!0?ZeroClipboard.emit({type:"error",name:"flash-overdue"}):(eventCopy=_extend({},event),_dispatchCallbacks.call(this,eventCopy),"copy"===event.type&&(tmp=_mapClipDataToFlash(_clipData),returnVal=tmp.data,_clipDataFormatMap=tmp.formatMap),returnVal)},_getSwfPathProtocol=function(){var swfPath=_globalConfig.swfPath||"",swfPathFirstTwoChars=swfPath.slice(0,2),swfProtocol=swfPath.slice(0,swfPath.indexOf("://")+1);return"\\\\"===swfPathFirstTwoChars?"file:":"//"===swfPathFirstTwoChars||""===swfProtocol?_window.location.protocol:swfProtocol},_create=function(){var maxWait,swfProtocol,previousState=_flashState.sandboxed;return _isBrowserSupported()?(_detectSandbox(),"boolean"!=typeof _flashState.ready&&(_flashState.ready=!1),void(_flashState.sandboxed!==previousState&&_flashState.sandboxed===!0?(_flashState.ready=!1,ZeroClipboard.emit({type:"error",name:"flash-sandboxed"})):ZeroClipboard.isFlashUnusable()||null!==_flashState.bridge||(swfProtocol=_getSwfPathProtocol(),swfProtocol&&swfProtocol!==_window.location.protocol?ZeroClipboard.emit({type:"error",name:"flash-insecure"}):(maxWait=_globalConfig.flashLoadTimeout,"number"==typeof maxWait&&maxWait>=0&&(_flashCheckTimeout=_setTimeout(function(){"boolean"!=typeof _flashState.deactivated&&(_flashState.deactivated=!0),_flashState.deactivated===!0&&ZeroClipboard.emit({type:"error",name:"flash-deactivated"})},maxWait)),_flashState.overdue=!1,_embedSwf())))):(_flashState.ready=!1,void ZeroClipboard.emit({type:"error",name:"browser-unsupported"}))},_destroy=function(){ZeroClipboard.clearData(),ZeroClipboard.blur(),ZeroClipboard.emit("destroy"),_unembedSwf(),ZeroClipboard.off()},_setData=function(format,data){var dataObj;if("object"===("undefined"==typeof format?"undefined":_typeof(format))&&format&&"undefined"==typeof data)dataObj=format,ZeroClipboard.clearData();else{if("string"!=typeof format||!format)return;dataObj={},dataObj[format]=data}for(var dataFormat in dataObj)"string"==typeof dataFormat&&dataFormat&&_hasOwn.call(dataObj,dataFormat)&&"string"==typeof dataObj[dataFormat]&&dataObj[dataFormat]&&(_clipData[dataFormat]=_fixLineEndings(dataObj[dataFormat]))},_clearData=function(format){"undefined"==typeof format?(_deleteOwnProperties(_clipData),_clipDataFormatMap=null):"string"==typeof format&&_hasOwn.call(_clipData,format)&&delete _clipData[format]},_getData=function(format){return"undefined"==typeof format?_deepCopy(_clipData):"string"==typeof format&&_hasOwn.call(_clipData,format)?_clipData[format]:void 0},_focus=function(element){if(element&&1===element.nodeType){_currentElement&&(_removeClass(_currentElement,_globalConfig.activeClass),_currentElement!==element&&_removeClass(_currentElement,_globalConfig.hoverClass)),_currentElement=element,_addClass(element,_globalConfig.hoverClass);var newTitle=element.getAttribute("title")||_globalConfig.title;if("string"==typeof newTitle&&newTitle){var htmlBridge=_getHtmlBridge(_flashState.bridge);htmlBridge&&htmlBridge.setAttribute("title",newTitle)}var useHandCursor=_globalConfig.forceHandCursor===!0||"pointer"===_getStyle(element,"cursor");_setHandCursor(useHandCursor),_reposition()}},_blur=function(){var htmlBridge=_getHtmlBridge(_flashState.bridge);htmlBridge&&(htmlBridge.removeAttribute("title"),htmlBridge.style.left="0px",htmlBridge.style.top="-9999px",htmlBridge.style.width="1px",htmlBridge.style.height="1px"),_currentElement&&(_removeClass(_currentElement,_globalConfig.hoverClass),_removeClass(_currentElement,_globalConfig.activeClass),_currentElement=null)},_activeElement=function(){return _currentElement||null},_isValidHtml4Id=function(id){return"string"==typeof id&&id&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(id)},_createEvent=function(event){var eventType;if("string"==typeof event&&event?(eventType=event,event={}):"object"===("undefined"==typeof event?"undefined":_typeof(event))&&event&&"string"==typeof event.type&&event.type&&(eventType=event.type),eventType){eventType=eventType.toLowerCase(),!event.target&&(/^(copy|aftercopy|_click)$/.test(eventType)||"error"===eventType&&"clipboard-error"===event.name)&&(event.target=_copyTarget),_extend(event,{type:eventType,target:event.target||_currentElement||null,relatedTarget:event.relatedTarget||null,currentTarget:_flashState&&_flashState.bridge||null,timeStamp:event.timeStamp||_now()||null});var msg=_eventMessages[event.type];return"error"===event.type&&event.name&&msg&&(msg=msg[event.name]),msg&&(event.message=msg),"ready"===event.type&&_extend(event,{target:null,version:_flashState.version}),"error"===event.type&&(_flashStateErrorNameMatchingRegex.test(event.name)&&_extend(event,{target:null,minimumVersion:_minimumFlashVersion}),_flashStateEnabledErrorNameMatchingRegex.test(event.name)&&_extend(event,{version:_flashState.version}),"flash-insecure"===event.name&&_extend(event,{pageProtocol:_window.location.protocol,swfProtocol:_getSwfPathProtocol()})),"copy"===event.type&&(event.clipboardData={setData:ZeroClipboard.setData,clearData:ZeroClipboard.clearData}),"aftercopy"===event.type&&(event=_mapClipResultsFromFlash(event,_clipDataFormatMap)),event.target&&!event.relatedTarget&&(event.relatedTarget=_getRelatedTarget(event.target)),_addMouseData(event)}},_getRelatedTarget=function(targetEl){var relatedTargetId=targetEl&&targetEl.getAttribute&&targetEl.getAttribute("data-clipboard-target");return relatedTargetId?_document.getElementById(relatedTargetId):null},_addMouseData=function(event){if(event&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(event.type)){var srcElement=event.target,fromElement="_mouseover"===event.type&&event.relatedTarget?event.relatedTarget:undefined,toElement="_mouseout"===event.type&&event.relatedTarget?event.relatedTarget:undefined,pos=_getElementPosition(srcElement),screenLeft=_window.screenLeft||_window.screenX||0,screenTop=_window.screenTop||_window.screenY||0,scrollLeft=_document.body.scrollLeft+_document.documentElement.scrollLeft,scrollTop=_document.body.scrollTop+_document.documentElement.scrollTop,pageX=pos.left+("number"==typeof event._stageX?event._stageX:0),pageY=pos.top+("number"==typeof event._stageY?event._stageY:0),clientX=pageX-scrollLeft,clientY=pageY-scrollTop,screenX=screenLeft+clientX,screenY=screenTop+clientY,moveX="number"==typeof event.movementX?event.movementX:0,moveY="number"==typeof event.movementY?event.movementY:0;delete event._stageX,delete event._stageY,_extend(event,{srcElement:srcElement,fromElement:fromElement,toElement:toElement,screenX:screenX,screenY:screenY,pageX:pageX,pageY:pageY,clientX:clientX,clientY:clientY,x:clientX,y:clientY,movementX:moveX,movementY:moveY,offsetX:0,offsetY:0,layerX:0,layerY:0})}return event},_shouldPerformAsync=function(event){var eventType=event&&"string"==typeof event.type&&event.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(eventType)},_dispatchCallback=function(func,context,args,async){async?_setTimeout(function(){func.apply(context,args)},0):func.apply(context,args)},_dispatchCallbacks=function(event){if("object"===("undefined"==typeof event?"undefined":_typeof(event))&&event&&event.type){var async=_shouldPerformAsync(event),wildcardTypeHandlers=_handlers["*"]||[],specificTypeHandlers=_handlers[event.type]||[],handlers=wildcardTypeHandlers.concat(specificTypeHandlers);if(handlers&&handlers.length){var i,len,func,context,eventCopy,originalContext=this;for(i=0,len=handlers.length;i<len;i++)func=handlers[i],context=originalContext,"string"==typeof func&&"function"==typeof _window[func]&&(func=_window[func]),"object"===("undefined"==typeof func?"undefined":_typeof(func))&&func&&"function"==typeof func.handleEvent&&(context=func,func=func.handleEvent),"function"==typeof func&&(eventCopy=_extend({},event),_dispatchCallback(func,context,[eventCopy],async))}return this}},_getSandboxStatusFromErrorEvent=function(event){var isSandboxed=null;return(_pageIsFramed===!1||event&&"error"===event.type&&event.name&&_errorsThatOnlyOccurAfterFlashLoads.indexOf(event.name)!==-1)&&(isSandboxed=!1),isSandboxed},_preprocessEvent=function(event){var element=event.target||_currentElement||null,sourceIsSwf="swf"===event._source;switch(delete event._source,event.type){case"error":var isSandboxed="flash-sandboxed"===event.name||_getSandboxStatusFromErrorEvent(event);"boolean"==typeof isSandboxed&&(_flashState.sandboxed=isSandboxed),"browser-unsupported"===event.name?_extend(_flashState,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1}):_flashStateErrorNames.indexOf(event.name)!==-1?_extend(_flashState,{disabled:"flash-disabled"===event.name,outdated:"flash-outdated"===event.name,insecure:"flash-insecure"===event.name,unavailable:"flash-unavailable"===event.name,degraded:"flash-degraded"===event.name,deactivated:"flash-deactivated"===event.name,overdue:"flash-overdue"===event.name,ready:!1}):"version-mismatch"===event.name&&(_zcSwfVersion=event.swfVersion,_extend(_flashState,{disabled:!1,outdated:!1,insecure:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),_clearTimeoutsAndPolling();break;case"ready":_zcSwfVersion=event.swfVersion;var wasDeactivated=_flashState.deactivated===!0;_extend(_flashState,{sandboxed:!1,disabled:!1,outdated:!1,insecure:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:wasDeactivated,ready:!wasDeactivated}),_clearTimeoutsAndPolling();break;case"beforecopy":_copyTarget=element;break;case"copy":var textContent,htmlContent,targetEl=event.relatedTarget;!_clipData["text/html"]&&!_clipData["text/plain"]&&targetEl&&(htmlContent=targetEl.value||targetEl.outerHTML||targetEl.innerHTML)&&(textContent=targetEl.value||targetEl.textContent||targetEl.innerText)?(event.clipboardData.clearData(),event.clipboardData.setData("text/plain",textContent),htmlContent!==textContent&&event.clipboardData.setData("text/html",htmlContent)):!_clipData["text/plain"]&&event.target&&(textContent=event.target.getAttribute("data-clipboard-text"))&&(event.clipboardData.clearData(),event.clipboardData.setData("text/plain",textContent));break;case"aftercopy":_queueEmitClipboardErrors(event),ZeroClipboard.clearData(),element&&element!==_safeActiveElement()&&element.focus&&element.focus();break;case"_mouseover":ZeroClipboard.focus(element),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&(element&&element!==event.relatedTarget&&!_containedBy(event.relatedTarget,element)&&_fireMouseEvent(_extend({},event,{type:"mouseenter",bubbles:!1,cancelable:!1})),_fireMouseEvent(_extend({},event,{type:"mouseover"})));break;case"_mouseout":ZeroClipboard.blur(),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&(element&&element!==event.relatedTarget&&!_containedBy(event.relatedTarget,element)&&_fireMouseEvent(_extend({},event,{type:"mouseleave",bubbles:!1,cancelable:!1})),_fireMouseEvent(_extend({},event,{type:"mouseout"})));break;case"_mousedown":_addClass(element,_globalConfig.activeClass),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_mouseup":_removeClass(element,_globalConfig.activeClass),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_click":_copyTarget=null,_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_mousemove":_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}))}if(/^_(?:click|mouse(?:over|out|down|up|move))$/.test(event.type))return!0},_queueEmitClipboardErrors=function(aftercopyEvent){if(aftercopyEvent.errors&&aftercopyEvent.errors.length>0){var errorEvent=_deepCopy(aftercopyEvent);_extend(errorEvent,{type:"error",name:"clipboard-error"}),delete errorEvent.success,_setTimeout(function(){ZeroClipboard.emit(errorEvent)},0)}},_fireMouseEvent=function(event){if(event&&"string"==typeof event.type&&event){var e,target=event.target||null,doc=target&&target.ownerDocument||_document,defaults={view:doc.defaultView||_window,canBubble:!0,cancelable:!0,detail:"click"===event.type?1:0,button:"number"==typeof event.which?event.which-1:"number"==typeof event.button?event.button:doc.createEvent?0:1},args=_extend(defaults,event);target&&doc.createEvent&&target.dispatchEvent&&(args=[args.type,args.canBubble,args.cancelable,args.view,args.detail,args.screenX,args.screenY,args.clientX,args.clientY,args.ctrlKey,args.altKey,args.shiftKey,args.metaKey,args.button,args.relatedTarget],e=doc.createEvent("MouseEvents"),e.initMouseEvent&&(e.initMouseEvent.apply(e,args),e._source="js",target.dispatchEvent(e)))}},_watchForSwfFallbackContent=function(){var maxWait=_globalConfig.flashLoadTimeout;if("number"==typeof maxWait&&maxWait>=0){var pollWait=Math.min(1e3,maxWait/10),fallbackContentId=_globalConfig.swfObjectId+"_fallbackContent";_swfFallbackCheckInterval=_setInterval(function(){var el=_document.getElementById(fallbackContentId);_isElementVisible(el)&&(_clearTimeoutsAndPolling(),_flashState.deactivated=null,ZeroClipboard.emit({type:"error",name:"swf-not-found"}))},pollWait)}},_createHtmlBridge=function(){var container=_document.createElement("div");return container.id=_globalConfig.containerId,container.className=_globalConfig.containerClass,container.style.position="absolute",container.style.left="0px",container.style.top="-9999px",container.style.width="1px",container.style.height="1px",container.style.zIndex=""+_getSafeZIndex(_globalConfig.zIndex),container},_getHtmlBridge=function(flashBridge){for(var htmlBridge=flashBridge&&flashBridge.parentNode;htmlBridge&&"OBJECT"===htmlBridge.nodeName&&htmlBridge.parentNode;)htmlBridge=htmlBridge.parentNode;return htmlBridge||null},_escapeXmlValue=function(val){return"string"==typeof val&&val?val.replace(/["&'<>]/g,function(chr){switch(chr){case'"':return"&quot;";case"&":return"&amp;";case"'":return"&apos;";case"<":return"&lt;";case">":return"&gt;";default:return chr}}):val},_embedSwf=function(){var len,flashBridge=_flashState.bridge,container=_getHtmlBridge(flashBridge);if(!flashBridge){var allowScriptAccess=_determineScriptAccess(_window.location.host,_globalConfig),allowNetworking="never"===allowScriptAccess?"none":"all",flashvars=_vars(_extend({jsVersion:ZeroClipboard.version},_globalConfig)),swfUrl=_globalConfig.swfPath+_cacheBust(_globalConfig.swfPath,_globalConfig);_pageIsXhtml&&(swfUrl=_escapeXmlValue(swfUrl)),container=_createHtmlBridge();var divToBeReplaced=_document.createElement("div");container.appendChild(divToBeReplaced),_document.body.appendChild(container);var tmpDiv=_document.createElement("div"),usingActiveX="activex"===_flashState.pluginType;tmpDiv.innerHTML='<object id="'+_globalConfig.swfObjectId+'" name="'+_globalConfig.swfObjectId+'" width="100%" height="100%" '+(usingActiveX?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+swfUrl+'"')+">"+(usingActiveX?'<param name="movie" value="'+swfUrl+'"/>':"")+'<param name="allowScriptAccess" value="'+allowScriptAccess+'"/><param name="allowNetworking" value="'+allowNetworking+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+flashvars+'"/><div id="'+_globalConfig.swfObjectId+'_fallbackContent">&nbsp;</div></object>',flashBridge=tmpDiv.firstChild,tmpDiv=null,_unwrap(flashBridge).ZeroClipboard=ZeroClipboard,container.replaceChild(flashBridge,divToBeReplaced),_watchForSwfFallbackContent()}return flashBridge||(flashBridge=_document[_globalConfig.swfObjectId],flashBridge&&(len=flashBridge.length)&&(flashBridge=flashBridge[len-1]),!flashBridge&&container&&(flashBridge=container.firstChild)),_flashState.bridge=flashBridge||null,flashBridge},_unembedSwf=function(){var flashBridge=_flashState.bridge;if(flashBridge){var htmlBridge=_getHtmlBridge(flashBridge);htmlBridge&&("activex"===_flashState.pluginType&&"readyState"in flashBridge?(flashBridge.style.display="none",function removeSwfFromIE(){if(4===flashBridge.readyState){for(var prop in flashBridge)"function"==typeof flashBridge[prop]&&(flashBridge[prop]=null);flashBridge.parentNode&&flashBridge.parentNode.removeChild(flashBridge),htmlBridge.parentNode&&htmlBridge.parentNode.removeChild(htmlBridge)}else _setTimeout(removeSwfFromIE,10)}()):(flashBridge.parentNode&&flashBridge.parentNode.removeChild(flashBridge),htmlBridge.parentNode&&htmlBridge.parentNode.removeChild(htmlBridge))),_clearTimeoutsAndPolling(),_flashState.ready=null,_flashState.bridge=null,_flashState.deactivated=null,_flashState.insecure=null,_zcSwfVersion=undefined}},_mapClipDataToFlash=function(clipData){var newClipData={},formatMap={};if("object"===("undefined"==typeof clipData?"undefined":_typeof(clipData))&&clipData){for(var dataFormat in clipData)if(dataFormat&&_hasOwn.call(clipData,dataFormat)&&"string"==typeof clipData[dataFormat]&&clipData[dataFormat])switch(dataFormat.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":newClipData.text=clipData[dataFormat],formatMap.text=dataFormat;break;case"text/html":case"html":case"air:html":case"flash:html":newClipData.html=clipData[dataFormat],formatMap.html=dataFormat;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":newClipData.rtf=clipData[dataFormat],formatMap.rtf=dataFormat}return{data:newClipData,formatMap:formatMap}}},_mapClipResultsFromFlash=function(clipResults,formatMap){if("object"!==("undefined"==typeof clipResults?"undefined":_typeof(clipResults))||!clipResults||"object"!==("undefined"==typeof formatMap?"undefined":_typeof(formatMap))||!formatMap)return clipResults;var newResults={};for(var prop in clipResults)if(_hasOwn.call(clipResults,prop))if("errors"===prop){newResults[prop]=clipResults[prop]?clipResults[prop].slice():[];for(var i=0,len=newResults[prop].length;i<len;i++)newResults[prop][i].format=formatMap[newResults[prop][i].format]}else if("success"!==prop&&"data"!==prop)newResults[prop]=clipResults[prop];else{newResults[prop]={};var tmpHash=clipResults[prop];for(var dataFormat in tmpHash)dataFormat&&_hasOwn.call(tmpHash,dataFormat)&&_hasOwn.call(formatMap,dataFormat)&&(newResults[prop][formatMap[dataFormat]]=tmpHash[dataFormat])}return newResults},_cacheBust=function(path,options){var cacheBust=null==options||options&&options.cacheBust===!0;return cacheBust?(path.indexOf("?")===-1?"?":"&")+"noCache="+_now():""},_vars=function(options){var i,len,domain,domains,str="",trustedOriginsExpanded=[];if(options.trustedDomains&&("string"==typeof options.trustedDomains?domains=[options.trustedDomains]:"object"===_typeof(options.trustedDomains)&&"length"in options.trustedDomains&&(domains=options.trustedDomains)),domains&&domains.length)for(i=0,len=domains.length;i<len;i++)if(_hasOwn.call(domains,i)&&domains[i]&&"string"==typeof domains[i]){if(domain=_extractDomain(domains[i]),!domain)continue;if("*"===domain){trustedOriginsExpanded.length=0,trustedOriginsExpanded.push(domain);break}trustedOriginsExpanded.push.apply(trustedOriginsExpanded,[domain,"//"+domain,_window.location.protocol+"//"+domain])}return trustedOriginsExpanded.length&&(str+="trustedOrigins="+_encodeURIComponent(trustedOriginsExpanded.join(","))),options.forceEnhancedClipboard===!0&&(str+=(str?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof options.swfObjectId&&options.swfObjectId&&(str+=(str?"&":"")+"swfObjectId="+_encodeURIComponent(options.swfObjectId)),"string"==typeof options.jsVersion&&options.jsVersion&&(str+=(str?"&":"")+"jsVersion="+_encodeURIComponent(options.jsVersion)),str},_extractDomain=function(originOrUrl){if(null==originOrUrl||""===originOrUrl)return null;if(originOrUrl=originOrUrl.replace(/^\s+|\s+$/g,""),""===originOrUrl)return null;var protocolIndex=originOrUrl.indexOf("//");originOrUrl=protocolIndex===-1?originOrUrl:originOrUrl.slice(protocolIndex+2);var pathIndex=originOrUrl.indexOf("/");return originOrUrl=pathIndex===-1?originOrUrl:protocolIndex===-1||0===pathIndex?null:originOrUrl.slice(0,pathIndex),originOrUrl&&".swf"===originOrUrl.slice(-4).toLowerCase()?null:originOrUrl||null},_determineScriptAccess=function(){var _extractAllDomains=function(origins){var i,len,tmp,resultsArray=[];if("string"==typeof origins&&(origins=[origins]),"object"!==("undefined"==typeof origins?"undefined":_typeof(origins))||!origins||"number"!=typeof origins.length)return resultsArray;for(i=0,len=origins.length;i<len;i++)if(_hasOwn.call(origins,i)&&(tmp=_extractDomain(origins[i]))){if("*"===tmp){resultsArray.length=0,resultsArray.push("*");break}resultsArray.indexOf(tmp)===-1&&resultsArray.push(tmp)}return resultsArray};return function(currentDomain,configOptions){var swfDomain=_extractDomain(configOptions.swfPath);null===swfDomain&&(swfDomain=currentDomain);var trustedDomains=_extractAllDomains(configOptions.trustedDomains),len=trustedDomains.length;if(len>0){if(1===len&&"*"===trustedDomains[0])return"always";if(trustedDomains.indexOf(currentDomain)!==-1)return 1===len&&currentDomain===swfDomain?"sameDomain":"always"}return"never"}}(),_safeActiveElement=function(){try{return _document.activeElement}catch(err){return null}},_addClass=function(element,value){var c,cl,className,classNames=[];if("string"==typeof value&&value&&(classNames=value.split(/\s+/)),element&&1===element.nodeType&&classNames.length>0){for(className=(" "+(element.className||"")+" ").replace(/[\t\r\n\f]/g," "),c=0,cl=classNames.length;c<cl;c++)className.indexOf(" "+classNames[c]+" ")===-1&&(className+=classNames[c]+" ");className=className.replace(/^\s+|\s+$/g,""),className!==element.className&&(element.className=className)}return element},_removeClass=function(element,value){var c,cl,className,classNames=[];if("string"==typeof value&&value&&(classNames=value.split(/\s+/)),element&&1===element.nodeType&&classNames.length>0&&element.className){for(className=(" "+element.className+" ").replace(/[\t\r\n\f]/g," "),c=0,cl=classNames.length;c<cl;c++)className=className.replace(" "+classNames[c]+" "," ");className=className.replace(/^\s+|\s+$/g,""),className!==element.className&&(element.className=className)}return element},_getStyle=function(el,prop){var value=_getComputedStyle(el,null).getPropertyValue(prop);return"cursor"!==prop||value&&"auto"!==value||"A"!==el.nodeName?value:"pointer"},_getElementPosition=function(el){var pos={left:0,top:0,width:0,height:0};if(el.getBoundingClientRect){var elRect=el.getBoundingClientRect(),pageXOffset=_window.pageXOffset,pageYOffset=_window.pageYOffset,leftBorderWidth=_document.documentElement.clientLeft||0,topBorderWidth=_document.documentElement.clientTop||0,leftBodyOffset=0,topBodyOffset=0;if("relative"===_getStyle(_document.body,"position")){var bodyRect=_document.body.getBoundingClientRect(),htmlRect=_document.documentElement.getBoundingClientRect();leftBodyOffset=bodyRect.left-htmlRect.left||0,topBodyOffset=bodyRect.top-htmlRect.top||0}pos.left=elRect.left+pageXOffset-leftBorderWidth-leftBodyOffset,pos.top=elRect.top+pageYOffset-topBorderWidth-topBodyOffset,pos.width="width"in elRect?elRect.width:elRect.right-elRect.left,pos.height="height"in elRect?elRect.height:elRect.bottom-elRect.top}return pos},_isElementVisible=function(el){if(!el)return!1;var styles=_getComputedStyle(el,null);if(!styles)return!1;var hasCssHeight=_parseFloat(styles.height)>0,hasCssWidth=_parseFloat(styles.width)>0,hasCssTop=_parseFloat(styles.top)>=0,hasCssLeft=_parseFloat(styles.left)>=0,cssKnows=hasCssHeight&&hasCssWidth&&hasCssTop&&hasCssLeft,rect=cssKnows?null:_getElementPosition(el),isVisible="none"!==styles.display&&"collapse"!==styles.visibility&&(cssKnows||!!rect&&(hasCssHeight||rect.height>0)&&(hasCssWidth||rect.width>0)&&(hasCssTop||rect.top>=0)&&(hasCssLeft||rect.left>=0));return isVisible},_clearTimeoutsAndPolling=function(){_clearTimeout(_flashCheckTimeout),_flashCheckTimeout=0,_clearInterval(_swfFallbackCheckInterval),_swfFallbackCheckInterval=0},_reposition=function(){var htmlBridge;if(_currentElement&&(htmlBridge=_getHtmlBridge(_flashState.bridge))){var pos=_getElementPosition(_currentElement);_extend(htmlBridge.style,{width:pos.width+"px",height:pos.height+"px",top:pos.top+"px",left:pos.left+"px",zIndex:""+_getSafeZIndex(_globalConfig.zIndex)})}},_setHandCursor=function(enabled){_flashState.ready===!0&&(_flashState.bridge&&"function"==typeof _flashState.bridge.setHandCursor?_flashState.bridge.setHandCursor(enabled):_flashState.ready=!1)},_getSafeZIndex=function _getSafeZIndex(val){if(/^(?:auto|inherit)$/.test(val))return val;var zIndex;return"number"!=typeof val||_isNaN(val)?"string"==typeof val&&(zIndex=_getSafeZIndex(_parseInt(val,10))):zIndex=val,"number"==typeof zIndex?zIndex:"auto"},_fixLineEndings=function(content){var replaceRegex=/(\r\n|\r|\n)/g;return"string"==typeof content&&_globalConfig.fixLineEndings===!0&&(_isWindows()?/((^|[^\r])\n|\r([^\n]|$))/.test(content)&&(content=content.replace(replaceRegex,"\r\n")):/\r/.test(content)&&(content=content.replace(replaceRegex,"\n"))),content},_detectSandbox=function(doNotReassessFlashSupport){var effectiveScriptOrigin,frame,frameError,previousState=_flashState.sandboxed,isSandboxed=null;if(doNotReassessFlashSupport=doNotReassessFlashSupport===!0,_pageIsFramed===!1)isSandboxed=!1;else{try{frame=window.frameElement||null}catch(e){frameError={name:e.name,message:e.message}}if(frame&&1===frame.nodeType&&"IFRAME"===frame.nodeName)try{
isSandboxed=frame.hasAttribute("sandbox")}catch(e){isSandboxed=null}else{try{effectiveScriptOrigin=document.domain||null}catch(e){effectiveScriptOrigin=null}(null===effectiveScriptOrigin||frameError&&"SecurityError"===frameError.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(frameError.message.toLowerCase()))&&(isSandboxed=!0)}}return _flashState.sandboxed=isSandboxed,previousState===isSandboxed||doNotReassessFlashSupport||_detectFlashSupport(_ActiveXObject),isSandboxed},_detectFlashSupport=function(ActiveXObject){function parseFlashVersion(desc){var matches=desc.match(/[\d]+/g);return matches.length=3,matches.join(".")}function isPepperFlash(flashPlayerFileName){return!!flashPlayerFileName&&(flashPlayerFileName=flashPlayerFileName.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(flashPlayerFileName)||"chrome.plugin"===flashPlayerFileName.slice(-13))}function inspectPlugin(plugin){plugin&&(hasFlash=!0,plugin.version&&(flashVersion=parseFlashVersion(plugin.version)),!flashVersion&&plugin.description&&(flashVersion=parseFlashVersion(plugin.description)),plugin.filename&&(isPPAPI=isPepperFlash(plugin.filename)))}var plugin,ax,mimeType,hasFlash=!1,isActiveX=!1,isPPAPI=!1,flashVersion="";if(_navigator.plugins&&_navigator.plugins.length)plugin=_navigator.plugins["Shockwave Flash"],inspectPlugin(plugin),_navigator.plugins["Shockwave Flash 2.0"]&&(hasFlash=!0,flashVersion="2.0.0.11");else if(_navigator.mimeTypes&&_navigator.mimeTypes.length)mimeType=_navigator.mimeTypes["application/x-shockwave-flash"],plugin=mimeType&&mimeType.enabledPlugin,inspectPlugin(plugin);else if("undefined"!=typeof ActiveXObject){isActiveX=!0;try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),hasFlash=!0,flashVersion=parseFlashVersion(ax.GetVariable("$version"))}catch(e1){try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),hasFlash=!0,flashVersion="6.0.21"}catch(e2){try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),hasFlash=!0,flashVersion=parseFlashVersion(ax.GetVariable("$version"))}catch(e3){isActiveX=!1}}}}_flashState.disabled=hasFlash!==!0,_flashState.outdated=flashVersion&&_parseFloat(flashVersion)<_parseFloat(_minimumFlashVersion),_flashState.version=flashVersion||"0.0.0",_flashState.pluginType=isPPAPI?"pepper":isActiveX?"activex":hasFlash?"netscape":"unknown"};_detectFlashSupport(_ActiveXObject),_detectSandbox(!0);var ZeroClipboard=function ZeroClipboard(){return this instanceof ZeroClipboard?void("function"==typeof ZeroClipboard._createClient&&ZeroClipboard._createClient.apply(this,_args(arguments))):new ZeroClipboard};ZeroClipboard.version="2.3.0",ZeroClipboard.config=function(){return _config.apply(this,_args(arguments))},ZeroClipboard.state=function(){return _state.apply(this,_args(arguments))},ZeroClipboard.isFlashUnusable=function(){return _isFlashUnusable.apply(this,_args(arguments))},ZeroClipboard.on=function(){return _on.apply(this,_args(arguments))},ZeroClipboard.off=function(){return _off.apply(this,_args(arguments))},ZeroClipboard.handlers=function(){return _listeners.apply(this,_args(arguments))},ZeroClipboard.emit=function(){return _emit.apply(this,_args(arguments))},ZeroClipboard.create=function(){return _create.apply(this,_args(arguments))},ZeroClipboard.destroy=function(){return _destroy.apply(this,_args(arguments))},ZeroClipboard.setData=function(){return _setData.apply(this,_args(arguments))},ZeroClipboard.clearData=function(){return _clearData.apply(this,_args(arguments))},ZeroClipboard.getData=function(){return _getData.apply(this,_args(arguments))},ZeroClipboard.focus=ZeroClipboard.activate=function(){return _focus.apply(this,_args(arguments))},ZeroClipboard.blur=ZeroClipboard.deactivate=function(){return _blur.apply(this,_args(arguments))},ZeroClipboard.activeElement=function(){return _activeElement.apply(this,_args(arguments))};var _clientIdCounter=0,_clientMeta={},_elementIdCounter=0,_elementMeta={},_mouseHandlers={};_extend(_globalConfig,{autoActivate:!0});var _clientConstructor=function(elements){var meta,client=this;client.id=""+_clientIdCounter++,meta={instance:client,elements:[],handlers:{},coreWildcardHandler:function(event){return client.emit(event)}},_clientMeta[client.id]=meta,elements&&client.clip(elements),ZeroClipboard.on("*",meta.coreWildcardHandler),ZeroClipboard.on("destroy",function(){client.destroy()}),ZeroClipboard.create()},_clientOn=function(eventType,listener){var i,len,events,added={},client=this,meta=_clientMeta[client.id],handlers=meta&&meta.handlers;if(!meta)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof eventType&&eventType?events=eventType.toLowerCase().split(/\s+/):"object"!==("undefined"==typeof eventType?"undefined":_typeof(eventType))||!eventType||"length"in eventType||"undefined"!=typeof listener||_keys(eventType).forEach(function(key){var listener=eventType[key];"function"==typeof listener&&client.on(key,listener)}),events&&events.length&&listener){for(i=0,len=events.length;i<len;i++)eventType=events[i].replace(/^on/,""),added[eventType]=!0,handlers[eventType]||(handlers[eventType]=[]),handlers[eventType].push(listener);if(added.ready&&_flashState.ready&&this.emit({type:"ready",client:this}),added.error){for(i=0,len=_flashStateErrorNames.length;i<len;i++)if(_flashState[_flashStateErrorNames[i].replace(/^flash-/,"")]){this.emit({type:"error",name:_flashStateErrorNames[i],client:this});break}_zcSwfVersion!==undefined&&ZeroClipboard.version!==_zcSwfVersion&&this.emit({type:"error",name:"version-mismatch",jsVersion:ZeroClipboard.version,swfVersion:_zcSwfVersion})}}return client},_clientOff=function(eventType,listener){var i,len,foundIndex,events,perEventHandlers,client=this,meta=_clientMeta[client.id],handlers=meta&&meta.handlers;if(!handlers)return client;if(0===arguments.length?events=_keys(handlers):"string"==typeof eventType&&eventType?events=eventType.split(/\s+/):"object"!==("undefined"==typeof eventType?"undefined":_typeof(eventType))||!eventType||"length"in eventType||"undefined"!=typeof listener||_keys(eventType).forEach(function(key){var listener=eventType[key];"function"==typeof listener&&client.off(key,listener)}),events&&events.length)for(i=0,len=events.length;i<len;i++)if(eventType=events[i].toLowerCase().replace(/^on/,""),perEventHandlers=handlers[eventType],perEventHandlers&&perEventHandlers.length)if(listener)for(foundIndex=perEventHandlers.indexOf(listener);foundIndex!==-1;)perEventHandlers.splice(foundIndex,1),foundIndex=perEventHandlers.indexOf(listener,foundIndex);else perEventHandlers.length=0;return client},_clientListeners=function(eventType){var copy=null,handlers=_clientMeta[this.id]&&_clientMeta[this.id].handlers;return handlers&&(copy="string"==typeof eventType&&eventType?handlers[eventType]?handlers[eventType].slice(0):[]:_deepCopy(handlers)),copy},_clientEmit=function(event){var eventCopy,client=this;return _clientShouldEmit.call(client,event)&&("object"===("undefined"==typeof event?"undefined":_typeof(event))&&event&&"string"==typeof event.type&&event.type&&(event=_extend({},event)),eventCopy=_extend({},_createEvent(event),{client:client}),_clientDispatchCallbacks.call(client,eventCopy)),client},_clientClip=function(elements){if(!_clientMeta[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");elements=_prepClip(elements);for(var i=0;i<elements.length;i++)if(_hasOwn.call(elements,i)&&elements[i]&&1===elements[i].nodeType){elements[i].zcClippingId?_elementMeta[elements[i].zcClippingId].indexOf(this.id)===-1&&_elementMeta[elements[i].zcClippingId].push(this.id):(elements[i].zcClippingId="zcClippingId_"+_elementIdCounter++,_elementMeta[elements[i].zcClippingId]=[this.id],_globalConfig.autoActivate===!0&&_addMouseHandlers(elements[i]));var clippedElements=_clientMeta[this.id]&&_clientMeta[this.id].elements;clippedElements.indexOf(elements[i])===-1&&clippedElements.push(elements[i])}return this},_clientUnclip=function(elements){var meta=_clientMeta[this.id];if(!meta)return this;var arrayIndex,clippedElements=meta.elements;elements="undefined"==typeof elements?clippedElements.slice(0):_prepClip(elements);for(var i=elements.length;i--;)if(_hasOwn.call(elements,i)&&elements[i]&&1===elements[i].nodeType){for(arrayIndex=0;(arrayIndex=clippedElements.indexOf(elements[i],arrayIndex))!==-1;)clippedElements.splice(arrayIndex,1);var clientIds=_elementMeta[elements[i].zcClippingId];if(clientIds){for(arrayIndex=0;(arrayIndex=clientIds.indexOf(this.id,arrayIndex))!==-1;)clientIds.splice(arrayIndex,1);0===clientIds.length&&(_globalConfig.autoActivate===!0&&_removeMouseHandlers(elements[i]),delete elements[i].zcClippingId)}}return this},_clientElements=function(){var meta=_clientMeta[this.id];return meta&&meta.elements?meta.elements.slice(0):[]},_clientDestroy=function(){var meta=_clientMeta[this.id];meta&&(this.unclip(),this.off(),ZeroClipboard.off("*",meta.coreWildcardHandler),delete _clientMeta[this.id])},_clientShouldEmit=function(event){if(!event||!event.type)return!1;if(event.client&&event.client!==this)return!1;var meta=_clientMeta[this.id],clippedEls=meta&&meta.elements,hasClippedEls=!!clippedEls&&clippedEls.length>0,goodTarget=!event.target||hasClippedEls&&clippedEls.indexOf(event.target)!==-1,goodRelTarget=event.relatedTarget&&hasClippedEls&&clippedEls.indexOf(event.relatedTarget)!==-1,goodClient=event.client&&event.client===this;return!(!meta||!(goodTarget||goodRelTarget||goodClient))},_clientDispatchCallbacks=function(event){var meta=_clientMeta[this.id];if("object"===("undefined"==typeof event?"undefined":_typeof(event))&&event&&event.type&&meta){var async=_shouldPerformAsync(event),wildcardTypeHandlers=meta&&meta.handlers["*"]||[],specificTypeHandlers=meta&&meta.handlers[event.type]||[],handlers=wildcardTypeHandlers.concat(specificTypeHandlers);if(handlers&&handlers.length){var i,len,func,context,eventCopy,originalContext=this;for(i=0,len=handlers.length;i<len;i++)func=handlers[i],context=originalContext,"string"==typeof func&&"function"==typeof _window[func]&&(func=_window[func]),"object"===("undefined"==typeof func?"undefined":_typeof(func))&&func&&"function"==typeof func.handleEvent&&(context=func,func=func.handleEvent),"function"==typeof func&&(eventCopy=_extend({},event),_dispatchCallback(func,context,[eventCopy],async))}}},_prepClip=function(elements){return"string"==typeof elements&&(elements=[]),"number"!=typeof elements.length?[elements]:elements},_addMouseHandlers=function(element){if(element&&1===element.nodeType){var _suppressMouseEvents=function(event){(event||(event=_window.event))&&("js"!==event._source&&(event.stopImmediatePropagation(),event.preventDefault()),delete event._source)},_elementMouseOver=function(event){(event||(event=_window.event))&&(_suppressMouseEvents(event),ZeroClipboard.focus(element))};element.addEventListener("mouseover",_elementMouseOver,!1),element.addEventListener("mouseout",_suppressMouseEvents,!1),element.addEventListener("mouseenter",_suppressMouseEvents,!1),element.addEventListener("mouseleave",_suppressMouseEvents,!1),element.addEventListener("mousemove",_suppressMouseEvents,!1),_mouseHandlers[element.zcClippingId]={mouseover:_elementMouseOver,mouseout:_suppressMouseEvents,mouseenter:_suppressMouseEvents,mouseleave:_suppressMouseEvents,mousemove:_suppressMouseEvents}}},_removeMouseHandlers=function(element){if(element&&1===element.nodeType){var mouseHandlers=_mouseHandlers[element.zcClippingId];if("object"===("undefined"==typeof mouseHandlers?"undefined":_typeof(mouseHandlers))&&mouseHandlers){for(var key,val,mouseEvents=["move","leave","enter","out","over"],i=0,len=mouseEvents.length;i<len;i++)key="mouse"+mouseEvents[i],val=mouseHandlers[key],"function"==typeof val&&element.removeEventListener(key,val,!1);delete _mouseHandlers[element.zcClippingId]}}};ZeroClipboard._createClient=function(){_clientConstructor.apply(this,_args(arguments))},ZeroClipboard.prototype.on=function(){return _clientOn.apply(this,_args(arguments))},ZeroClipboard.prototype.off=function(){return _clientOff.apply(this,_args(arguments))},ZeroClipboard.prototype.handlers=function(){return _clientListeners.apply(this,_args(arguments))},ZeroClipboard.prototype.emit=function(){return _clientEmit.apply(this,_args(arguments))},ZeroClipboard.prototype.clip=function(){return _clientClip.apply(this,_args(arguments))},ZeroClipboard.prototype.unclip=function(){return _clientUnclip.apply(this,_args(arguments))},ZeroClipboard.prototype.elements=function(){return _clientElements.apply(this,_args(arguments))},ZeroClipboard.prototype.destroy=function(){return _clientDestroy.apply(this,_args(arguments))},ZeroClipboard.prototype.setText=function(text){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData("text/plain",text),this},ZeroClipboard.prototype.setHtml=function(html){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData("text/html",html),this},ZeroClipboard.prototype.setRichText=function(richText){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData("application/rtf",richText),this},ZeroClipboard.prototype.setData=function(){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData.apply(this,_args(arguments)),this},ZeroClipboard.prototype.clearData=function(){if(!_clientMeta[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.clearData.apply(this,_args(arguments)),this},ZeroClipboard.prototype.getData=function(){if(!_clientMeta[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.getData.apply(this,_args(arguments))},"function"==typeof define&&define.amd?define(function(){return ZeroClipboard}):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module&&"object"===_typeof(module.exports)&&module.exports?module.exports=ZeroClipboard:window.ZeroClipboard=ZeroClipboard}(function(){return this||window}())},{}]},{},[141,64,66,67,65,68,111,112,113,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,100,101,102,103,104,106,107,108,109,110,114,115,116,117,135,136,137,138,120,121,122,123,124,125,32,36,33,34,41,35,37,38,39,40,142,143,144,145,146,217,218,211,212,213,147,148,149,150,151,152,154,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,187,188,189,190,191,192,193,194,195,196,198,199,200,201,202,203,204,205,206,207,208,209,210,214,215,216,219,220,222,223,224,225,226])(141)});